webpackJsonp([2],{

/***/ 0:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\n__webpack_require__(147);\n\nvar _routes = __webpack_require__(462);\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nvar _controllers = __webpack_require__(464);\n\nvar _controllers2 = _interopRequireDefault(_controllers);\n\nvar _App = __webpack_require__(530);\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _GlobalScript = __webpack_require__(532);\n\nvar _GlobalScript2 = _interopRequireDefault(_GlobalScript);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Extends jquery\n// Adds widow.atob() and window.btoa() IE9 support\n_jquery2.default.id = document.getElementById.bind(document);\n\nwindow.$ = _jquery2.default;\nwindow.jQuery = _jquery2.default;\nif (true) {\n    __webpack_require__(482).configure({\n        timeout: 30000,\n        fileTimeout: 30000\n    });\n    window._ = __webpack_require__(22);\n}\n\nvar Application = new _App2.default(_routes2.default, _controllers2.default);\n\nApplication.addPreBOOTScript(_GlobalScript2.default);\n\nApplication.start(function () {\n    removeLoadingBar();\n}, function (err) {\n    console.error(err);\n    var bar = (0, _jquery2.default)('.header-loader .bar')[0];\n    if (bar) {\n        bar.style.backgroundColor = \"#f00\";\n    }\n});\n\nfunction removeLoadingBar() {\n    var $bars = (0, _jquery2.default)('.header-loader .bar');\n    if (!_.isEmpty($bars)) {\n        (function () {\n            $bars.addClass('bar-end');\n\n            var timeoutID = null;\n            timeoutID = setTimeout(function () {\n                (0, _jquery2.default)('.header-loader')[0].style.display = 'none';\n                clearTimeout(timeoutID);\n            }, 5000);\n        })();\n    }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hcHAvbWFpbi5qcz8zYzU2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCAnQmFzZTY0JzsgLy8gQWRkcyB3aWRvdy5hdG9iKCkgYW5kIHdpbmRvdy5idG9hKCkgSUU5IHN1cHBvcnRcbmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXMuanMnO1xuaW1wb3J0IGNvbnRyb2xsZXJzIGZyb20gJy4vY29udHJvbGxlcnMuanMnO1xuaW1wb3J0IEFwcCBmcm9tICd0cmluaXR5L0FwcCc7XG5pbXBvcnQgZ2xvYmFsU2NyaXB0IGZyb20gJy4vTGlicmFyaWVzL0dsb2JhbFNjcmlwdCc7XG5cbi8vIEV4dGVuZHMganF1ZXJ5XG4kLmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQuYmluZChkb2N1bWVudCk7XG5cbndpbmRvdy4kID0gJDtcbndpbmRvdy5qUXVlcnkgPSAkO1xuaWYoREVWRUxPUE1FTlQpe1xuICAgIHJlcXVpcmUoJ3RyaW5pdHkvR2F0ZXdheScpLmNvbmZpZ3VyZSh7XG4gICAgICAgIHRpbWVvdXQ6IDMwMDAwLFxuICAgICAgICBmaWxlVGltZW91dDogMzAwMDBcbiAgICB9KTtcbiAgICB3aW5kb3cuXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xufVxuXG5sZXQgQXBwbGljYXRpb24gPSBuZXcgQXBwKHJvdXRlcywgY29udHJvbGxlcnMpO1xuXG5BcHBsaWNhdGlvbi5hZGRQcmVCT09UU2NyaXB0KGdsb2JhbFNjcmlwdCk7XG5cbkFwcGxpY2F0aW9uLnN0YXJ0KCgpID0+IHtcbiAgICByZW1vdmVMb2FkaW5nQmFyKCk7XG59LCAoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIGxldCBiYXIgPSAkKCcuaGVhZGVyLWxvYWRlciAuYmFyJylbMF07XG4gICAgaWYoYmFyKXtcbiAgICAgICAgYmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2YwMFwiO1xuICAgIH1cbn0pO1xuXG5cbmZ1bmN0aW9uIHJlbW92ZUxvYWRpbmdCYXIoKSB7XG4gICAgbGV0ICRiYXJzID0gJCgnLmhlYWRlci1sb2FkZXIgLmJhcicpO1xuICAgIGlmKCFfLmlzRW1wdHkoJGJhcnMpKXtcbiAgICAgICAgJGJhcnMuYWRkQ2xhc3MoJ2Jhci1lbmQnKTtcblxuICAgICAgICBsZXQgdGltZW91dElEID0gbnVsbDtcbiAgICAgICAgdGltZW91dElEID0gc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgJCgnLmhlYWRlci1sb2FkZXInKVswXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJRCk7XG4gICAgICAgIH0sIDUwMDApO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvbWFpbi5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBO0FBTkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBUUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 462:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _routes = __webpack_require__(463);\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _routes2.default.concat([\n    // Example\n    // {\n    //     path: '/admin/example/new(/)',\n    //     action: 'Example.new'\n    // },\n    // {\n    //     path: '/admin(/)',\n    //     action: 'Example.new'\n    // }\n]); /**\n     * Created by fisa on 7/23/15.\n     *///# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2FwcC9yb3V0ZXMuanM/NmRiOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgZmlzYSBvbiA3LzIzLzE1LlxuICovXG5pbXBvcnQgb2xkUm91dGVzIGZyb20gJ3ZlbmljZS1qcy9yb3V0ZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBvbGRSb3V0ZXMuY29uY2F0KFtcbiAgICAvLyBFeGFtcGxlXG4gICAgLy8ge1xuICAgIC8vICAgICBwYXRoOiAnL2FkbWluL2V4YW1wbGUvbmV3KC8pJyxcbiAgICAvLyAgICAgYWN0aW9uOiAnRXhhbXBsZS5uZXcnXG4gICAgLy8gfSxcbiAgICAvLyB7XG4gICAgLy8gICAgIHBhdGg6ICcvYWRtaW4oLyknLFxuICAgIC8vICAgICBhY3Rpb246ICdFeGFtcGxlLm5ldydcbiAgICAvLyB9XG5dKTtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9yb3V0ZXMuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUdBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTs7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 463:
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Created by fisa on 7/23/15.\n */\n\nexports.default = [{\n    path: '/admin/product(/)',\n    action: 'Product.index'\n}, {\n    path: '/admin/product/new(/)',\n    action: 'Product.new'\n}, {\n    path: '/admin/product/tabs/:id(/)',\n    action: 'Product.tabs'\n}, {\n    path: '/admin/product/content-product/tabs/:id',\n    action: 'Product.contentProductTabs'\n}, {\n    path: '/admin/blog',\n    action: 'Blog.tabs'\n}, {\n    path: '/admin/blog/article/tabs/:id(/)',\n    action: 'BlogArticle.tabs'\n}, {\n    path: '/admin/blog/article/new(/)',\n    action: 'BlogArticle.new'\n}, {\n    path: '/admin/blog/article(/)',\n    action: 'BlogArticle.index'\n}, {\n    path: '/admin/blog/category/tabs/:id(/)',\n    action: 'Category.tabs'\n}, {\n    path: '/admin/blog/category/new(/)',\n    action: 'Category.new'\n}, {\n    path: '/admin/blog/category(/)',\n    action: 'Category.index'\n}, {\n    path: '/admin/blog/tag/tabs/:id(/)',\n    action: 'Tag.tabs'\n}, {\n    path: '/admin/blog/tag/new(/)',\n    action: 'Tag.new'\n}, {\n    path: '/admin/blog/tag(/)',\n    action: 'Tag.index'\n}, {\n    path: '/admin/content/tabs/:id(/)',\n    action: 'Content.tabs'\n}, {\n    path: '/admin/content(/)',\n    action: 'Content.index'\n}, {\n    path: '/admin/content/content-product/tabs/:id(/)',\n    action: 'Content.contentProductTabs'\n}, {\n    path: '/admin/content/new(/)',\n    action: 'Content.new'\n}, {\n    path: '/admin/content/new/group(/)',\n    action: 'Content.newGroup'\n}, {\n    path: '/admin/content/:id/content-product/new(/)',\n    action: 'Content.newContentProduct'\n}, {\n    path: '/admin/product/:id/content-product/new(/)',\n    action: 'Product.newContentProduct'\n}, {\n    path: '/admin/user(/)',\n    action: 'User.index'\n}, {\n    path: '/admin/user/tabs/:id(/)',\n    action: 'User.tabs'\n}, {\n    path: '/admin/billing-plan/tabs/:id(/)',\n    action: 'BillingPlan.tabs'\n}, {\n    path: '/admin/billing-plan/new/:id(/)',\n    action: 'BillingPlan.new'\n}, {\n    path: '/admin/product-access/tabs/:id(/)',\n    action: 'ProductAccess.tabs'\n}, {\n    path: '/admin/logger(/)(:tab)',\n    action: 'Logger.tab'\n}];//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9yb3V0ZXMuanM/NzAzOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgZmlzYSBvbiA3LzIzLzE1LlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IFtcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vcHJvZHVjdCgvKScsXG4gICAgICAgIGFjdGlvbjogJ1Byb2R1Y3QuaW5kZXgnXG4gICAgfSwge1xuICAgICAgICBwYXRoOiAnL2FkbWluL3Byb2R1Y3QvbmV3KC8pJyxcbiAgICAgICAgYWN0aW9uOiAnUHJvZHVjdC5uZXcnXG4gICAgfSwge1xuICAgICAgICBwYXRoOiAnL2FkbWluL3Byb2R1Y3QvdGFicy86aWQoLyknLFxuICAgICAgICBhY3Rpb246ICdQcm9kdWN0LnRhYnMnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vcHJvZHVjdC9jb250ZW50LXByb2R1Y3QvdGFicy86aWQnLFxuICAgICAgICBhY3Rpb246ICdQcm9kdWN0LmNvbnRlbnRQcm9kdWN0VGFicydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9ibG9nJyxcbiAgICAgICAgYWN0aW9uOiAnQmxvZy50YWJzJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL2Jsb2cvYXJ0aWNsZS90YWJzLzppZCgvKScsXG4gICAgICAgIGFjdGlvbjogJ0Jsb2dBcnRpY2xlLnRhYnMnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vYmxvZy9hcnRpY2xlL25ldygvKScsXG4gICAgICAgIGFjdGlvbjogJ0Jsb2dBcnRpY2xlLm5ldydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9ibG9nL2FydGljbGUoLyknLFxuICAgICAgICBhY3Rpb246ICdCbG9nQXJ0aWNsZS5pbmRleCdcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9ibG9nL2NhdGVnb3J5L3RhYnMvOmlkKC8pJyxcbiAgICAgICAgYWN0aW9uOiAnQ2F0ZWdvcnkudGFicydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9ibG9nL2NhdGVnb3J5L25ldygvKScsXG4gICAgICAgIGFjdGlvbjogJ0NhdGVnb3J5Lm5ldydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9ibG9nL2NhdGVnb3J5KC8pJyxcbiAgICAgICAgYWN0aW9uOiAnQ2F0ZWdvcnkuaW5kZXgnXG4gICAgfSx7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vYmxvZy90YWcvdGFicy86aWQoLyknLFxuICAgICAgICBhY3Rpb246ICdUYWcudGFicydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9ibG9nL3RhZy9uZXcoLyknLFxuICAgICAgICBhY3Rpb246ICdUYWcubmV3J1xuICAgIH0sXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL2Jsb2cvdGFnKC8pJyxcbiAgICAgICAgYWN0aW9uOiAnVGFnLmluZGV4J1xuICAgIH0sXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL2NvbnRlbnQvdGFicy86aWQoLyknLFxuICAgICAgICBhY3Rpb246ICdDb250ZW50LnRhYnMnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vY29udGVudCgvKScsXG4gICAgICAgIGFjdGlvbjogJ0NvbnRlbnQuaW5kZXgnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vY29udGVudC9jb250ZW50LXByb2R1Y3QvdGFicy86aWQoLyknLFxuICAgICAgICBhY3Rpb246ICdDb250ZW50LmNvbnRlbnRQcm9kdWN0VGFicydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9jb250ZW50L25ldygvKScsXG4gICAgICAgIGFjdGlvbjogJ0NvbnRlbnQubmV3J1xuICAgIH0sXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL2NvbnRlbnQvbmV3L2dyb3VwKC8pJyxcbiAgICAgICAgYWN0aW9uOiAnQ29udGVudC5uZXdHcm91cCdcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9jb250ZW50LzppZC9jb250ZW50LXByb2R1Y3QvbmV3KC8pJyxcbiAgICAgICAgYWN0aW9uOiAnQ29udGVudC5uZXdDb250ZW50UHJvZHVjdCdcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9wcm9kdWN0LzppZC9jb250ZW50LXByb2R1Y3QvbmV3KC8pJyxcbiAgICAgICAgYWN0aW9uOiAnUHJvZHVjdC5uZXdDb250ZW50UHJvZHVjdCdcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi91c2VyKC8pJyxcbiAgICAgICAgYWN0aW9uOiAnVXNlci5pbmRleCdcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi91c2VyL3RhYnMvOmlkKC8pJyxcbiAgICAgICAgYWN0aW9uOiAnVXNlci50YWJzJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL2JpbGxpbmctcGxhbi90YWJzLzppZCgvKScsXG4gICAgICAgIGFjdGlvbjogJ0JpbGxpbmdQbGFuLnRhYnMnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vYmlsbGluZy1wbGFuL25ldy86aWQoLyknLFxuICAgICAgICBhY3Rpb246ICdCaWxsaW5nUGxhbi5uZXcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vcHJvZHVjdC1hY2Nlc3MvdGFicy86aWQoLyknLFxuICAgICAgICBhY3Rpb246ICdQcm9kdWN0QWNjZXNzLnRhYnMnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vbG9nZ2VyKC8pKDp0YWIpJyxcbiAgICAgICAgYWN0aW9uOiAnTG9nZ2VyLnRhYidcbiAgICB9XG5dO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL3JvdXRlcy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7OztBQUlBO0FBRUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 464:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _controllers = __webpack_require__(465);\n\nvar _controllers2 = _interopRequireDefault(_controllers);\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _ExampleController = __webpack_require__(529);\n\nvar _ExampleController2 = _interopRequireDefault(_ExampleController);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar controllers = {\n    'ExampleController': _ExampleController2.default\n};\n\nexports.default = _jquery2.default.extend({}, _controllers2.default, controllers);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2FwcC9jb250cm9sbGVycy5qcz9iNWYxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGluaGVyaXRlZCBmcm9tICd2ZW5pY2UtanMvY29udHJvbGxlcnMnO1xuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBFeGFtcGxlQ29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXJzL0V4YW1wbGVDb250cm9sbGVyJztcblxubGV0IGNvbnRyb2xsZXJzICA9IHtcbiAgICAnRXhhbXBsZUNvbnRyb2xsZXInOiBFeGFtcGxlQ29udHJvbGxlclxufTtcblxuZXhwb3J0IGRlZmF1bHQgJC5leHRlbmQoe30sIGluaGVyaXRlZCwgY29udHJvbGxlcnMpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvY29udHJvbGxlcnMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 465:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _BillingPlanController = __webpack_require__(466);\n\nvar _BillingPlanController2 = _interopRequireDefault(_BillingPlanController);\n\nvar _BlogArticleController = __webpack_require__(483);\n\nvar _BlogArticleController2 = _interopRequireDefault(_BlogArticleController);\n\nvar _ContentController = __webpack_require__(517);\n\nvar _ContentController2 = _interopRequireDefault(_ContentController);\n\nvar _ProductAccessController = __webpack_require__(521);\n\nvar _ProductAccessController2 = _interopRequireDefault(_ProductAccessController);\n\nvar _ProductController = __webpack_require__(522);\n\nvar _ProductController2 = _interopRequireDefault(_ProductController);\n\nvar _UserController = __webpack_require__(524);\n\nvar _UserController2 = _interopRequireDefault(_UserController);\n\nvar _LoggerController = __webpack_require__(525);\n\nvar _LoggerController2 = _interopRequireDefault(_LoggerController);\n\nvar _BlogController = __webpack_require__(526);\n\nvar _BlogController2 = _interopRequireDefault(_BlogController);\n\nvar _CategoryController = __webpack_require__(527);\n\nvar _CategoryController2 = _interopRequireDefault(_CategoryController);\n\nvar _TagController = __webpack_require__(528);\n\nvar _TagController2 = _interopRequireDefault(_TagController);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    'BillingPlanController': _BillingPlanController2.default,\n    'BlogArticleController': _BlogArticleController2.default,\n    'ContentController': _ContentController2.default,\n    'ProductAccessController': _ProductAccessController2.default,\n    'ProductController': _ProductController2.default,\n    'UserController': _UserController2.default,\n    'LoggerController': _LoggerController2.default,\n    'BlogController': _BlogController2.default,\n    'CategoryController': _CategoryController2.default,\n    'TagController': _TagController2.default\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9jb250cm9sbGVycy5qcz82OTYwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCBCaWxsaW5nUGxhbkNvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVycy9CaWxsaW5nUGxhbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IEJsb2dBcnRpY2xlQ29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXJzL0Jsb2dBcnRpY2xlQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgQ29udGVudENvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVycy9Db250ZW50Q29udHJvbGxlci5qcyc7XG5pbXBvcnQgUHJvZHVjdEFjY2Vzc0NvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVycy9Qcm9kdWN0QWNjZXNzQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgUHJvZHVjdENvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVycy9Qcm9kdWN0Q29udHJvbGxlci5qcyc7XG5pbXBvcnQgVXNlckNvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgTG9nZ2VyQ29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXJzL0xvZ2dlckNvbnRyb2xsZXInO1xuaW1wb3J0IEJsb2dDb250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlcnMvQmxvZ0NvbnRyb2xsZXInO1xuaW1wb3J0IENhdGVnb3J5Q29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXJzL0NhdGVnb3J5Q29udHJvbGxlcic7XG5pbXBvcnQgVGFnQ29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXJzL1RhZ0NvbnRyb2xsZXInO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgJ0JpbGxpbmdQbGFuQ29udHJvbGxlcic6IEJpbGxpbmdQbGFuQ29udHJvbGxlcixcbiAgICAnQmxvZ0FydGljbGVDb250cm9sbGVyJzogQmxvZ0FydGljbGVDb250cm9sbGVyLFxuICAgICdDb250ZW50Q29udHJvbGxlcic6IENvbnRlbnRDb250cm9sbGVyLFxuICAgICdQcm9kdWN0QWNjZXNzQ29udHJvbGxlcic6IFByb2R1Y3RBY2Nlc3NDb250cm9sbGVyLFxuICAgICdQcm9kdWN0Q29udHJvbGxlcic6IFByb2R1Y3RDb250cm9sbGVyLFxuICAgICdVc2VyQ29udHJvbGxlcic6IFVzZXJDb250cm9sbGVyLFxuICAgICdMb2dnZXJDb250cm9sbGVyJzogTG9nZ2VyQ29udHJvbGxlcixcbiAgICAnQmxvZ0NvbnRyb2xsZXInOiBCbG9nQ29udHJvbGxlcixcbiAgICAnQ2F0ZWdvcnlDb250cm9sbGVyJzogQ2F0ZWdvcnlDb250cm9sbGVyLFxuICAgICdUYWdDb250cm9sbGVyJzogVGFnQ29udHJvbGxlclxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL2NvbnRyb2xsZXJzLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 466:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by Jakub Fajkus on 10.12.15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Controller2 = __webpack_require__(467);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _VeniceForm = __webpack_require__(468);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _TrinityTab = __webpack_require__(481);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BillingPlanController = function (_Controller) {\n    _inherits(BillingPlanController, _Controller);\n\n    function BillingPlanController() {\n        _classCallCheck(this, BillingPlanController);\n\n        return _possibleConstructorReturn(this, (BillingPlanController.__proto__ || Object.getPrototypeOf(BillingPlanController)).apply(this, arguments));\n    }\n\n    _createClass(BillingPlanController, [{\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            $scope.trinityTab = new _TrinityTab2.default();\n\n            //On tabs load\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n            });\n        }\n    }]);\n\n    return BillingPlanController;\n}(_Controller3.default);\n\nexports.default = BillingPlanController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9CaWxsaW5nUGxhbkNvbnRyb2xsZXIuanM/YjQwNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgSmFrdWIgRmFqa3VzIG9uIDEwLjEyLjE1LlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICd0cmluaXR5L0NvbnRyb2xsZXInO1xuaW1wb3J0IFZlbmljZUZvcm0gZnJvbSAnLi4vTGlicmFyaWVzL1ZlbmljZUZvcm0nO1xuaW1wb3J0IFRyaW5pdHlUYWIgZnJvbSAndHJpbml0eS9jb21wb25lbnRzL1RyaW5pdHlUYWInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaWxsaW5nUGxhbkNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgICBcbiAgICB0YWJzQWN0aW9uKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudHJpbml0eVRhYiA9IG5ldyBUcmluaXR5VGFiKCk7XG5cbiAgICAgICAgLy9PbiB0YWJzIGxvYWRcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIuYWRkTGlzdGVuZXIoJ3RhYi1sb2FkJywgKGUpPT57XG4gICAgICAgICAgICBsZXQgZm9ybSA9ICQoJ2Zvcm0nLCBlLmVsZW1lbnQpWzBdO1xuICAgICAgICAgICAgaWYoZm9ybSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zID0gJHNjb3BlLnZlbmljZUZvcm1zIHx8IHt9O1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXSA9IG5ldyBWZW5pY2VGb3JtKGZvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9CaWxsaW5nUGxhbkNvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBOzs7QUFHQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7QUFDQTs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQWJBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 467:
/***/ function(module, exports) {

	eval("/**\n * Created by fisa on 11/2/15.\n */\n'use strict';\n\n/**\n * Abstract Controller class, provides connection between app and activeController itself\n * Should be inherited from in every controller\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controller = function () {\n    function Controller(name) {\n        _classCallCheck(this, Controller);\n\n        this.name = name;\n        this._app = null;\n        this._scope = null;\n        this._request = null;\n    }\n\n    /**\n     * Simple getter - has to be specified\n     * @returns {*}\n     */\n\n\n    _createClass(Controller, [{\n        key: 'getScope',\n        value: function getScope() {\n            return this._scope;\n        }\n    }, {\n        key: 'getApp',\n        value: function getApp() {\n            return this._app;\n        }\n\n        /**\n         * Hook to run before every action\n         */\n\n    }, {\n        key: 'beforeAction',\n        value: function beforeAction() /*$scope*/{}\n\n        /**\n         * Hook after every action run\n         */\n\n    }, {\n        key: 'afterAction',\n        value: function afterAction() /*$scope*/{}\n\n        /**\n         * Not implemented\n         * @param serviceName\n         */\n        /*getService(serviceName){\n            console.warn('Method not implemented');\n            //TODO: should pull from app requested service, if exists, if not return null\n        }*/\n\n    }, {\n        key: 'request',\n        get: function get() {\n            return this._request;\n        }\n\n        /**\n         * Setter for \"request\" property - make sure that request can be assigned only once\n         * @param value\n         * @returns {void}\n         */\n        ,\n        set: function set(value) {\n            if (this._request === null) {\n                this._request = value;\n            }\n        }\n    }]);\n\n    return Controller;\n}();\n\nexports.default = Controller;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L0NvbnRyb2xsZXIuanM/MWMyNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgZmlzYSBvbiAxMS8yLzE1LlxuICovXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQWJzdHJhY3QgQ29udHJvbGxlciBjbGFzcywgcHJvdmlkZXMgY29ubmVjdGlvbiBiZXR3ZWVuIGFwcCBhbmQgYWN0aXZlQ29udHJvbGxlciBpdHNlbGZcbiAqIFNob3VsZCBiZSBpbmhlcml0ZWQgZnJvbSBpbiBldmVyeSBjb250cm9sbGVyXG4gKi9cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKG5hbWUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRyb2xsZXIpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX2FwcCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2ltcGxlIGdldHRlciAtIGhhcyB0byBiZSBzcGVjaWZpZWRcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKENvbnRyb2xsZXIsIFt7XG4gICAgICAgIGtleTogJ2dldFNjb3BlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjb3BlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3BlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRBcHAnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXBwKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FwcDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb29rIHRvIHJ1biBiZWZvcmUgZXZlcnkgYWN0aW9uXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdiZWZvcmVBY3Rpb24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYmVmb3JlQWN0aW9uKCkgLyokc2NvcGUqL3t9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvb2sgYWZ0ZXIgZXZlcnkgYWN0aW9uIHJ1blxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWZ0ZXJBY3Rpb24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWZ0ZXJBY3Rpb24oKSAvKiRzY29wZSove31cblxuICAgICAgICAvKipcbiAgICAgICAgICogTm90IGltcGxlbWVudGVkXG4gICAgICAgICAqIEBwYXJhbSBzZXJ2aWNlTmFtZVxuICAgICAgICAgKi9cbiAgICAgICAgLypnZXRTZXJ2aWNlKHNlcnZpY2VOYW1lKXtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICAgICAgLy9UT0RPOiBzaG91bGQgcHVsbCBmcm9tIGFwcCByZXF1ZXN0ZWQgc2VydmljZSwgaWYgZXhpc3RzLCBpZiBub3QgcmV0dXJuIG51bGxcbiAgICAgICAgfSovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlcXVlc3QnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHRlciBmb3IgXCJyZXF1ZXN0XCIgcHJvcGVydHkgLSBtYWtlIHN1cmUgdGhhdCByZXF1ZXN0IGNhbiBiZSBhc3NpZ25lZCBvbmx5IG9uY2VcbiAgICAgICAgICogQHBhcmFtIHZhbHVlXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAgICAgKi9cbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3QgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29udHJvbGxlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ29udHJvbGxlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHJpbml0eS9Db250cm9sbGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA0Njdcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 468:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by bures on 06/26/16.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _TrinityForm2 = __webpack_require__(469);\n\nvar _TrinityForm3 = _interopRequireDefault(_TrinityForm2);\n\nvar _Services = __webpack_require__(480);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar defaultSettings = {\n    button: { // Defines which classes add to active button in which state\n        ready: 'trinity-form-ready',\n        success: 'trinity-form-success',\n        timeout: 'trinity-form-timeout trinity-form-error'\n    },\n    requestTimeout: 10000\n};\n\nif (true) {\n    defaultSettings.requestTimeout = 60000;\n}\n\nvar VeniceForm = function (_TrinityForm) {\n    _inherits(VeniceForm, _TrinityForm);\n\n    function VeniceForm(element, settings) {\n        _classCallCheck(this, VeniceForm);\n\n        var _this = _possibleConstructorReturn(this, (VeniceForm.__proto__ || Object.getPrototypeOf(VeniceForm)).call(this, element, _lodash2.default.defaultsDeep(settings || {}, defaultSettings)));\n\n        _this.success(_this.__onSuccess, _this);\n        _this.error(_this.__onError, _this);\n\n        if (true) {\n            _this.addListener('submit-data', function (data) {\n                console.log('JSON DATA:', data);\n            });\n        }\n        return _this;\n    }\n\n    /**\n     * Success Callback\n     * @param e {Object} Event\n     * @private\n     */\n\n\n    _createClass(VeniceForm, [{\n        key: '__onSuccess',\n        value: function __onSuccess(e) {\n            var response = e.data;\n            (0, _Services.messageService)(response.body['message'], 'success');\n            if (true) {\n                console.log('Success', response);\n            }\n        }\n\n        /**\n         * Error callback\n         * @param e {Object} Event\n         * @private\n         */\n\n    }, {\n        key: '__onError',\n        value: function __onError(e) {\n            var _this2 = this;\n\n            var error = e.data;\n            if (true) {\n                console.error('ERROR', error);\n                console.log(error.response);\n            }\n            if (error.timeout) {\n                (0, _Services.messageService)('Request Timed out.<br>Try Again i few seconds.', 'error');\n                return;\n            }\n\n            // Parse error object\n            var response = error.response,\n                error_info = ~response.type.indexOf('json') ? response.body.error : response.text;\n\n            // If it is just string, there is no need to continue\n            if (_lodash2.default.isString(error_info)) {\n                (0, _Services.messageService)(error_info, 'error');\n                return;\n            }\n\n            // More errors\n            var noErrors = true;\n            // DB errors\n            if (error_info.db) {\n                (function () {\n                    noErrors = false;\n                    // Special DB error ?\n                    _lodash2.default.each([].concat(error_info.db), function (err) {\n                        (0, _Services.messageService)(err, 'error');\n                    });\n\n                    var id = setTimeout(function () {\n                        _this2.state = 'ready';\n                        _this2.unlock();\n                        clearTimeout(id);\n                    }, 2000);\n                })();\n            }\n\n            // Global errors - CRFS token, etc.\n            if (!_lodash2.default.isEmpty(error_info.global)) {\n                noErrors = false;\n                __globalErrors([].concat(error_info.global));\n            }\n            // Fields error\n            if (!_lodash2.default.isEmpty(error_info.fields)) {\n                noErrors = false;\n                _lodash2.default.each(error_info.fields, function (message, key) {\n                    _this2.addError(_jquery2.default.id(key), {\n                        key: key,\n                        message: message\n                    });\n                });\n            } else {\n                this.unlock();\n            }\n\n            // Some error, but nothing related to Form\n            if (noErrors && (true)) {\n                (0, _Services.messageService)('DEBUG: Request failed but no FORM errors returned! check server response', 'warning');\n            }\n        }\n    }]);\n\n    return VeniceForm;\n}(_TrinityForm3.default);\n\n/**\n * Handles global errors\n * @param errors\n * @private\n */\n\n\nexports.default = VeniceForm;\nfunction __globalErrors(errors) {\n    _lodash2.default.each(errors, function (err) {\n        if (err.indexOf(\"The CSRF token is invalid\") > -1) {\n            (0, _Services.messageService)(\"Something get wrong, please refresh page.\", 'warning');\n        } else {\n            (0, _Services.messageService)(err, 'warning');\n        }\n    });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvVmVuaWNlRm9ybS5qcz9jZWQwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBidXJlcyBvbiAwNi8yNi8xNi5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBUcmluaXR5Rm9ybSBmcm9tICd0cmluaXR5L2NvbXBvbmVudHMvVHJpbml0eUZvcm0nO1xuaW1wb3J0IHttZXNzYWdlU2VydmljZX0gZnJvbSAndHJpbml0eS9TZXJ2aWNlcyc7XG5cbmNvbnN0IGRlZmF1bHRTZXR0aW5ncyA9IHtcbiAgICBidXR0b24gOiB7IC8vIERlZmluZXMgd2hpY2ggY2xhc3NlcyBhZGQgdG8gYWN0aXZlIGJ1dHRvbiBpbiB3aGljaCBzdGF0ZVxuICAgICAgICByZWFkeTogJ3RyaW5pdHktZm9ybS1yZWFkeScsXG4gICAgICAgIHN1Y2Nlc3M6ICd0cmluaXR5LWZvcm0tc3VjY2VzcycsXG4gICAgICAgIHRpbWVvdXQ6ICd0cmluaXR5LWZvcm0tdGltZW91dCB0cmluaXR5LWZvcm0tZXJyb3InXG4gICAgfSxcbiAgICByZXF1ZXN0VGltZW91dDogMTAwMDBcbn07XG5cbmlmKERFVkVMT1BNRU5UKXtcbiAgICBkZWZhdWx0U2V0dGluZ3MucmVxdWVzdFRpbWVvdXQgPSA2MDAwMDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVuaWNlRm9ybSBleHRlbmRzIFRyaW5pdHlGb3JtIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBzZXR0aW5ncyl7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIF8uZGVmYXVsdHNEZWVwKHNldHRpbmdzIHx8IHt9LCBkZWZhdWx0U2V0dGluZ3MpKTtcbiAgICAgICAgdGhpcy5zdWNjZXNzKHRoaXMuX19vblN1Y2Nlc3MsIHRoaXMpO1xuICAgICAgICB0aGlzLmVycm9yKHRoaXMuX19vbkVycm9yLCB0aGlzKTtcblxuICAgICAgICBpZihERVZFTE9QTUVOVCl7XG4gICAgICAgICAgICB0aGlzLmFkZExpc3RlbmVyKCdzdWJtaXQtZGF0YScsIChkYXRhKT0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKU09OIERBVEE6JywgZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN1Y2Nlc3MgQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gZSB7T2JqZWN0fSBFdmVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX19vblN1Y2Nlc3MoZSl7XG4gICAgICAgIGxldCByZXNwb25zZSA9IGUuZGF0YTtcbiAgICAgICAgbWVzc2FnZVNlcnZpY2UocmVzcG9uc2UuYm9keVsnbWVzc2FnZSddLCdzdWNjZXNzJyk7XG4gICAgICAgIGlmKERFVkVMT1BNRU5UKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzJywgcmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gZSB7T2JqZWN0fSBFdmVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX19vbkVycm9yKGUpe1xuICAgICAgICBsZXQgZXJyb3IgPSBlLmRhdGE7XG4gICAgICAgIGlmKERFVkVMT1BNRU5UKXtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VSUk9SJywgZXJyb3IpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmKGVycm9yLnRpbWVvdXQpe1xuICAgICAgICAgICAgbWVzc2FnZVNlcnZpY2UoJ1JlcXVlc3QgVGltZWQgb3V0Ljxicj5UcnkgQWdhaW4gaSBmZXcgc2Vjb25kcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBhcnNlIGVycm9yIG9iamVjdFxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZSxcbiAgICAgICAgICAgIGVycm9yX2luZm8gPSB+cmVzcG9uc2UudHlwZS5pbmRleE9mKCdqc29uJykgPyByZXNwb25zZS5ib2R5LmVycm9yIDogcmVzcG9uc2UudGV4dDtcblxuICAgICAgICAvLyBJZiBpdCBpcyBqdXN0IHN0cmluZywgdGhlcmUgaXMgbm8gbmVlZCB0byBjb250aW51ZVxuICAgICAgICBpZihfLmlzU3RyaW5nKGVycm9yX2luZm8pKXtcbiAgICAgICAgICAgIG1lc3NhZ2VTZXJ2aWNlKGVycm9yX2luZm8sICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW9yZSBlcnJvcnNcbiAgICAgICAgbGV0IG5vRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgLy8gREIgZXJyb3JzXG4gICAgICAgIGlmKGVycm9yX2luZm8uZGIpe1xuICAgICAgICAgICAgbm9FcnJvcnMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgREIgZXJyb3IgP1xuICAgICAgICAgICAgXy5lYWNoKFtdLmNvbmNhdChlcnJvcl9pbmZvLmRiKSwgKGVycik9PntcbiAgICAgICAgICAgICAgICBtZXNzYWdlU2VydmljZShlcnIsICdlcnJvcicpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBpZCA9IHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gJ3JlYWR5JztcbiAgICAgICAgICAgICAgICB0aGlzLnVubG9jaygpO1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdsb2JhbCBlcnJvcnMgLSBDUkZTIHRva2VuLCBldGMuXG4gICAgICAgIGlmKCFfLmlzRW1wdHkoZXJyb3JfaW5mby5nbG9iYWwpKXtcbiAgICAgICAgICAgIG5vRXJyb3JzID0gZmFsc2U7XG4gICAgICAgICAgICBfX2dsb2JhbEVycm9ycyhbXS5jb25jYXQoZXJyb3JfaW5mby5nbG9iYWwpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaWVsZHMgZXJyb3JcbiAgICAgICAgaWYoIV8uaXNFbXB0eShlcnJvcl9pbmZvLmZpZWxkcykpe1xuICAgICAgICAgICAgbm9FcnJvcnMgPSBmYWxzZTtcbiAgICAgICAgICAgIF8uZWFjaChlcnJvcl9pbmZvLmZpZWxkcywgKG1lc3NhZ2UsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3IoJC5pZChrZXkpLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVubG9jaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29tZSBlcnJvciwgYnV0IG5vdGhpbmcgcmVsYXRlZCB0byBGb3JtXG4gICAgICAgIGlmKG5vRXJyb3JzICYmIERFVkVMT1BNRU5UKXtcbiAgICAgICAgICAgIG1lc3NhZ2VTZXJ2aWNlKCdERUJVRzogUmVxdWVzdCBmYWlsZWQgYnV0IG5vIEZPUk0gZXJyb3JzIHJldHVybmVkISBjaGVjayBzZXJ2ZXIgcmVzcG9uc2UnLCAnd2FybmluZycpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEhhbmRsZXMgZ2xvYmFsIGVycm9yc1xuICogQHBhcmFtIGVycm9yc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19nbG9iYWxFcnJvcnMoZXJyb3JzKXtcbiAgICBfLmVhY2goZXJyb3JzLCAoZXJyKT0+e1xuICAgICAgICBpZihlcnIuaW5kZXhPZihcIlRoZSBDU1JGIHRva2VuIGlzIGludmFsaWRcIikgPiAtMSkge1xuICAgICAgICAgICAgbWVzc2FnZVNlcnZpY2UoXCJTb21ldGhpbmcgZ2V0IHdyb25nLCBwbGVhc2UgcmVmcmVzaCBwYWdlLlwiLCAnd2FybmluZycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZVNlcnZpY2UoZXJyLCAnd2FybmluZycpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9WZW5pY2VGb3JtLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0FBR0E7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFVQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTs7Ozs7OztBQTlGQTtBQW1HQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 469:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _superagent = __webpack_require__(470);\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nvar _fbemitter = __webpack_require__(173);\n\nvar _Events = __webpack_require__(475);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nvar _TrinityEvent = __webpack_require__(476);\n\nvar _TrinityEvent2 = _interopRequireDefault(_TrinityEvent);\n\nvar _FormInput = __webpack_require__(477);\n\nvar _FormInput2 = _interopRequireDefault(_FormInput);\n\nvar _Dom = __webpack_require__(478);\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Default FORM settings\n * @type {{\n *      button: {loading: string, success: string, error: string, ready: string},\n *      successTimeout: number\n *   }}\n */\nvar defaultSettings = {\n    button: { // Defines which classes add to active button in which state\n        loading: 'trinity-form-loading',\n        success: 'trinity-form-success',\n        timeout: 'trinity-form-timeout',\n        error: 'trinity-form-error',\n        ready: 'trinity-form-ready'\n    },\n    requestTimeout: 10000,\n    successTimeout: 3000,\n    timeoutTimeout: 2000,\n    errorTemplate: function errorTemplate(message) {\n        return '<div>' + message + '</div>';\n    },\n    messageTemplate: function messageTemplate(message) {\n        return '<div>' + message + '</div>';\n    }\n};\n\nvar IS_FORM_DATA = !!window.FormData;\nvar INPUT_TYPE_FILTER = ['radio', 'checkbox'];\n\n/**\n * Connects to formElement and change it to ajax form\n *\n * @param form {HTMLFormElement}\n * @param [type] {String} - type of form\n * @param [settings] {Object}\n * @constructor\n */\n\nvar TrinityForm = function (_EventEmitter) {\n    _inherits(TrinityForm, _EventEmitter);\n\n    function TrinityForm(formElement, settings) {\n        _classCallCheck(this, TrinityForm);\n\n        var _this = _possibleConstructorReturn(this, (TrinityForm.__proto__ || Object.getPrototypeOf(TrinityForm)).call(this));\n\n        if (!formElement) {\n            throw new Error('Missing \"formElement\" parameter!');\n        }\n        _this.form = formElement;\n        _this.buttons = formElement.querySelectorAll('input[type=\"submit\"], button[type=\"submit\"]');\n        _this.activeBtn = null;\n        _this.settings = _lodash2.default.defaultsDeep(settings || {}, defaultSettings);\n        _this.__state = 'ready';\n        _this.__inputs = {};\n\n        //Main initialize\n        // Create inputs\n        _lodash2.default.each(_this.form, function (el) {\n            if (el.name && !~INPUT_TYPE_FILTER.indexOf(el.type)) {\n                _this.__inputs[el.name] = new _FormInput2.default(el);\n            }\n        });\n\n        // Add ready class to all buttons\n        var btnReadyClass = _this.settings.button['ready'].split(' ');\n        _lodash2.default.each(_this.buttons, function (btn) {\n            return _Dom2.default.classlist.addAll(btn, btnReadyClass);\n        });\n\n        // Listeners at last\n        // Add listener to form element\n        _this.unlistenSubmit = _Events2.default.listen(formElement, 'submit', _this.submit.bind(_this));\n        // Add listener for input value change\n        _this.unlistenValueInput = _Events2.default.listen(formElement, 'input', _this.onInputChange.bind(_this));\n        _this.unlistenValueChange = _Events2.default.listen(formElement, 'change', _this.onInputChange.bind(_this));\n        return _this;\n    }\n\n    /**\n     * Sets new form state\n     *  - add state classes to button\n     *  - emit \"state-change\" event\n     * @param newState\n     */\n\n\n    _createClass(TrinityForm, [{\n        key: 'lock',\n\n\n        /**\n         * Disable all forms submit inputs\n         */\n        value: function lock() {\n            _lodash2.default.each(this.buttons, _Dom2.default.disable);\n        }\n\n        /**\n         * Enable all forms submit inputs\n         */\n\n    }, {\n        key: 'unlock',\n        value: function unlock() {\n            return this.state !== 'loading' && !!_lodash2.default.each(this.buttons, _Dom2.default.enable);\n        }\n\n        /**\n         * Main function which runs validation\n         * @param e {Event}\n         */\n\n    }, {\n        key: 'onInputChange',\n        value: function onInputChange(e) {\n            // Only elements with name can be tested\n\n            // Filter\n            var isSelectType = e.target.type ? !!~e.target.type.indexOf('select') : false,\n                //tesxtarea does not have type prop\n            isChangeEvent = e.type === 'change';\n\n            if (isSelectType ^ isChangeEvent || !e.target.name) {\n                return;\n            }\n            var inputObj = this.__inputs[e.target.name];\n            if (!inputObj) {\n                return;\n            }\n            inputObj.errors = _lodash2.default.filter(inputObj.errors, function (err) {\n                if (!_lodash2.default.isFunction(err.validate) || err.validate(inputObj.getValue(), inputObj.element)) {\n                    _Dom2.default.removeNode(err.element);\n                    return false;\n                }\n                return true;\n            });\n            this.validate();\n        }\n\n        /*eslint-disable*/\n        /**\n         * TODO: feature\n         * @notImplemented\n         * @param element {HTMLElement || string} - name of input or input itself\n         * @param validator\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'addRule',\n        value: function addRule(element, validator) {}\n        // return;\n        // let inputObj = this.__findInput(element);\n        // if (!inputObj) {\n        //     if (process.env.NODE_ENV !== 'production') {\n        //         throw new Error('Form does not have input ' + (_.isString(element) ? 'with name ' : '') + element + '.');\n        //     }\n        //     return false;\n        // }\n        // return !!inputObj.rules.push(validator);\n\n        /*eslint-enable*/\n\n        /**\n         * Adds new error to TrinityForm instance\n         * @param element {string || HTMLElement} - input name or instance itself\n         * @param error {string || object}\n         * @param [args] {Array}\n         * @public\n         */\n\n    }, {\n        key: 'addError',\n        value: function addError(element, error) {\n            var inputObj = this.__findInput(element);\n            if (!inputObj) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error('Form does not have input ' + (_lodash2.default.isString(element) ? 'with name ' : '') + element + '.');\n                }\n                return false;\n            }\n            this.state = 'error';\n\n            for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n                args[_key - 2] = arguments[_key];\n            }\n\n            var errObj = __createMessage(error, // error object or string\n            this.settings.errorTemplate, // template\n            inputObj.element.name + '_error_', // prefix if no id\n            args // rest of args\n            );\n            return inputObj.addError(errObj);\n        }\n\n        /**\n         * Check if input element has error with provided key\n         * or if key not provided, checks if input has any error\n         * @param element {HTMLElement || string} - name of input or input itself\n         * @param [errorId] {string}\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'hasError',\n        value: function hasError(element, errorId) {\n            var inputObj = this.__findInput(element);\n            if (!inputObj) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error('Form does not have input ' + (_lodash2.default.isString(element) ? 'with name ' : '') + element + '.');\n                }\n                return false;\n            }\n            return errorId ? _lodash2.default.some(inputObj.errors, function (err) {\n                return err.id === errorId;\n            }) : inputObj.errors.length > 0;\n        }\n\n        /**\n         * Remove error with errorKey provided, or remove all errors if errorKey is not provided\n         * @param element {HTMLElement || string} - name of input or input itself\n         * @param [errorId] {string}\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'removeError',\n        value: function removeError(element, errorId) {\n            var inputObj = this.__findInput(element);\n            if (!inputObj) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error('Form does not have input ' + (_lodash2.default.isString(element) ? 'with name ' : '') + element + '.');\n                }\n                return false;\n            }\n\n            if (errorId) {\n                _lodash2.default.remove(inputObj.errors, function (err) {\n                    return err.id === errorId && !!_Dom2.default.removeNode(err.element);\n                });\n            } else {\n                // Remove all if error key not provided\n                _lodash2.default.each(inputObj.errors, function (err) {\n                    return _Dom2.default.removeNode(err.element);\n                });\n                inputObj.errors = [];\n            }\n            this.validate();\n            return true;\n        }\n\n        /**\n         * Set message to requested element\n         * @param element {HTMLElement || string} - name of input or input itself\n         * @param message {object || string}\n         * @param [args]\n         * @returns {*} id or false if element was not found\n         */\n\n    }, {\n        key: 'setMessage',\n        value: function setMessage(element, message) {\n            var inputObj = this.__findInput(element);\n            if (!inputObj) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error('Form does not have input ' + (_lodash2.default.isString(element) ? 'with name ' : '') + element + '.');\n                }\n                return false;\n            }\n\n            for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n                args[_key2 - 2] = arguments[_key2];\n            }\n\n            var msg = __createMessage(message, // msg object or string\n            this.settings.messageTemplate, // template object\n            inputObj.element.name + '_msg_', // prefix\n            args // args\n            );\n            return inputObj.setMessage(msg);\n        }\n\n        /**\n         * Removes message from input\n         * @param element {HTMLElement || string} - name of input or input itself\n         * @returns {*}\n         */\n\n    }, {\n        key: 'removeMessage',\n        value: function removeMessage(element) {\n            var inputObj = this.__findInput(element);\n            if (!inputObj) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error('Form does not have input ' + (_lodash2.default.isString(element) ? 'with name ' : '') + element + '.');\n                }\n                return false;\n            }\n            return inputObj.clearMessage() || true;\n        }\n\n        /**\n         * Validates if all errors are removed from form\n         * @public\n         */\n\n    }, {\n        key: 'validate',\n        value: function validate() {\n            if (!_lodash2.default.some(this.__inputs, function (input) {\n                return !input.isValid();\n            })) {\n                this.unlock();\n                this.state = 'ready';\n                return true;\n            }\n            return false;\n        }\n\n        /**\n         * Submit event listener\n         * - can be also forced\n         * @Note - no event is triggered\n         * @param e\n         */\n\n    }, {\n        key: 'submit',\n        value: function submit(e) {\n            var _this2 = this;\n\n            /** catch button with focus first **/\n            this.activeBtn = document.activeElement.type === 'button' ? document.activeElement : this.buttons[0];\n            /** Continue **/\n            e && e.preventDefault();\n\n            /** Lock and Load **/\n            this.lock();\n            this.state = 'loading';\n\n            /** Parse and send Data **/\n            var data = IS_FORM_DATA ? serializeFrom(this.form, this.activeBtn) : __parseSymfonyForm(this.form, this.activeBtn),\n                url = this.form.action.trim(),\n                method = (data.hasOwnProperty('_method') ? data['_method'] : this.form.method).toUpperCase(),\n                submitEvent = new _TrinityEvent2.default({\n                url: url,\n                method: method,\n                data: data\n            });\n\n            this.emit('submit', submitEvent);\n\n            if (submitEvent.defaultPrevented) {\n                return;\n            }\n\n            var req = (0, _superagent2.default)(method, url).set({\n                'Accept': 'application/json',\n                'X-Requested-With': 'XMLHttpRequest'\n            }).timeout(this.settings.requestTimeout).send(data).on('progress', function (e) {\n                _this2.emit('progress', e);\n            });\n\n            this.emit('before-request', req);\n\n            req.end(function (err, response) {\n                // Redirect ?\n                if (response && response.status === 302) {\n                    var redirectTo = response.body.location;\n                    // Do callback and then redirect\n                    if (_this2.__successHandler(response) === false) {\n                        return false;\n                    }\n                    // Redirect\n                    if (!redirectTo && process.env.NODE_ENV !== 'production') {\n                        throw new Error('Missing \"location\" attribute!');\n                    }\n\n                    redirectTo && window.location.assign(redirectTo);\n                    return;\n                }\n                // Error ?\n                if (err) {\n                    return _this2.__errorHandler(err);\n                }\n\n                _this2.__successHandler(response);\n            });\n        }\n\n        /**\n         * Adds 'success' event Listener\n         * @param callback {function}\n         * @param [context] {Object} - this argument\n         * @returns {TrinityForm}\n         */\n\n    }, {\n        key: 'success',\n        value: function success(callback, context) {\n            this.addListener('success', callback, context);\n            return this; // for chaining\n        }\n\n        /**\n         * Adds 'error' event Listener\n         * @param callback {function}\n         * @param [context] {Object} - this argument\n         * @returns {TrinityForm}\n         */\n\n    }, {\n        key: 'error',\n        value: function error(callback, context) {\n            this.addListener('error', callback, context);\n            return this; // for chaining\n        }\n\n        /**\n         * Abbreviation for addListener\n         * @param eventName {string}\n         * @param callback {function}\n         * @param context {object}\n         * @returns {TrinityForm}\n         */\n        /*eslint-disable*/\n\n    }, {\n        key: 'on',\n        value: function on(eventName, callback, context) {\n            /*eslint-enable*/\n            this.addListener.apply(this, arguments);\n        }\n\n        /**\n         * Force set submit buttons\n         * @param buttons {Array<HTMLElement>}\n         */\n\n    }, {\n        key: 'setSubmitButtons',\n        value: function setSubmitButtons(buttons) {\n            /** Add ready class to all buttons **/\n            var btnReadyClass = this.settings.button['ready'].split(' ');\n            _lodash2.default.each(this.buttons, function (btn) {\n                _Dom2.default.classlist.removeAll(btn, btnReadyClass);\n            });\n            this.buttons = buttons;\n            _lodash2.default.each(this.buttons, function (btn) {\n                _Dom2.default.classlist.addAll(btn, btnReadyClass);\n            });\n        }\n    }, {\n        key: 'detach',\n        value: function detach() {\n            // Main listener\n            this.unlistenSubmit();\n            this.unlistenValueChange();\n            this.unlistenValueInput();\n            this.element = null;\n            this.__inputs = null;\n        }\n    }, {\n        key: '__findInput',\n        value: function __findInput(element) {\n            return this.__inputs[_lodash2.default.isString(element) ? element : element.name];\n        }\n\n        /**\n         * Form success handler\n         * @param response {Object}\n         * @private\n         */\n\n    }, {\n        key: '__successHandler',\n        value: function __successHandler(response) {\n            var _this3 = this;\n\n            var event = new _TrinityEvent2.default(response);\n\n            this.state = 'success';\n            this.emit('success', event);\n\n            this.unlock();\n            var id = setTimeout(function () {\n                _this3.state = 'ready';\n                clearTimeout(id);\n            }, this.settings.successTimeout);\n\n            return !event.defaultPrevented;\n        }\n\n        /**\n         * Form error handler\n         * @param error\n         * @private\n         * @returns {boolean}\n         */\n\n    }, {\n        key: '__errorHandler',\n        value: function __errorHandler(error) {\n            var _this4 = this;\n\n            if (error.timeout) {\n                (function () {\n                    _this4.state = 'timeout';\n                    var id = setTimeout(function () {\n                        _this4.unlock();\n                        _this4.state = 'ready';\n                        clearTimeout(id);\n                    }, _this4.settings.timeoutTimeout);\n                })();\n            } else {\n                this.state = 'error';\n            }\n\n            // Emit event\n            var event = new _TrinityEvent2.default(error);\n            this.emit('error', event);\n            return !event.defaultPrevented;\n        }\n    }, {\n        key: 'state',\n        set: function set(newState) {\n            var _this5 = this;\n\n            if (newState === this.__state) {\n                return;\n            }\n            var oldState = this.__state;\n            this.__state = newState;\n\n            if (newState === 'error' || newState === 'ready') {\n                // For all btns\n                _lodash2.default.each(this.buttons, function (btn) {\n                    _Dom2.default.classlist.removeAll(btn, _this5.settings.button[oldState].split(' '));\n                    _Dom2.default.classlist.addAll(btn, _this5.settings.button[newState].split(' '));\n                });\n            } else {\n                //Switch classes for active\n                _Dom2.default.classlist.removeAll(this.activeBtn, this.settings.button[oldState].split(' '));\n                _Dom2.default.classlist.addAll(this.activeBtn, this.settings.button[newState].split(' '));\n            }\n\n            if (newState === 'error') {\n                this.lock();\n            }\n\n            // Emit new state change\n            this.emit('state-change', {\n                oldValue: oldState,\n                value: newState\n            });\n        }\n\n        /**\n         * returns actual state of form\n         */\n        ,\n        get: function get() {\n            return this.__state;\n        }\n    }]);\n\n    return TrinityForm;\n}(_fbemitter.EventEmitter);\n\n/**\n * Create message and returns object with description and element object\n * @param msg {object || string}\n * @param template {function}\n * @param prefix {string}\n * @param args {Array}\n * @returns {{message: *}|*}\n * @private\n */\n\n\nexports.default = TrinityForm;\nfunction __createMessage(msg, template, prefix, args) {\n    msg = _lodash2.default.isString(msg) ? { message: msg } : msg;\n    msg.id = msg.id || prefix + ('' + Math.random() * 100).substr(3, 4);\n\n    // Create message\n    msg.element = _Dom2.default.htmlToDocumentFragment(msg.isHtml ? msg.message : template.apply(null, [msg.message].concat(args)));\n    msg.element.setAttribute('id', msg.id);\n    return msg;\n}\n\n/**** PRIVATE METHODS ****/\n/** FORM PARSER ************************************************************/\n\n/**\n * Used to parse input name -> object path\n * @type {RegExp}\n */\nvar nameRegExp = /\\w+/g;\n\nfunction serializeFrom(form, button) {\n    var formData = new FormData();\n    (0, _lodash2.default)(form).filter(function (el) {\n\n        if (!el.name) {\n            return false;\n        }\n\n        var isValid = false;\n\n        switch (el.type) {\n            case 'submit':\n                {\n                    isValid = el === button;\n                }break;\n            case 'radio':\n            case 'checkbox':\n                {\n                    isValid = el.checked;\n                }break;\n            default:\n                {\n                    isValid = el.value && el.value.length !== 0;\n                }break;\n        }\n\n        return isValid;\n    }).each(function (el) {\n        return formData.append(el.name, el.value);\n    });\n    return formData;\n}\n\n/**\n * Parse form inputs and create json object according symfony name specifications\n * Example: <input value=\"test\" name=\"necktie_product[name]\" />\n *  {\n *      necktie_product : {\n *          name: 'test'\n *      }\n *  }\n * @private\n * @param form {HTMLFormElement}\n * @param button {HTMLElement}\n * @returns {{object}}\n */\nfunction __parseSymfonyForm(form, button) {\n    var data = {},\n        formLength = form.length;\n    /** Go through all inputs in form */\n    for (var i = 0; i < formLength; i++) {\n        if (!form[i].name || form[i].name.length < 1) {\n            continue;\n        }\n        if ((!form[i].value || form[i].value.length < 1) && form[i].type !== 'submit') {\n            continue; // No need to do any work if there are no values\n        }\n\n        switch (form[i].type) {\n            case 'submit':\n                {\n                    if (form[i] === button) {\n                        break;\n                    }\n                    continue;\n                }\n            case 'radio':\n            case 'checkbox':\n                {\n                    if (!form[i].checked) {\n                        continue;\n                    }\n                    break;\n                }\n            default:\n                break;\n        }\n\n        // Init necessary variables\n        var isArray = ~form[i].name.indexOf('[]'),\n            parsed = form[i].name.match(nameRegExp),\n            reference = data,\n            last = parsed.length - 1;\n        /** Evaluate parsed reference object */\n        for (var j = 0; j <= last; j++) {\n            if (!reference[parsed[j]]) {\n                if (j === last) {\n                    if (isArray) {\n                        reference[parsed[j]] = [];\n                        reference[parsed[j]].push(form[i].value);\n                    } else {\n                        reference[parsed[j]] = form[i].value;\n                    }\n                } else {\n                    /** Not last -> create object */\n                    reference[parsed[j]] = {};\n                    reference = reference[parsed[j]];\n                }\n            } else {\n                if (j === last) {\n                    if (isArray) {\n                        reference[parsed[j]].push(form[i].value);\n                    } else {\n                        reference[parsed[j]] = form[i].value;\n                    }\n                } else {\n                    reference = reference[parsed[j]]; // create reference\n                }\n            }\n        }\n    }\n    return data;\n}\n\n//function __parseSymfonyForm2(form, button){\n//    let data = {};\n//\n//    /** Go through all inputs in form */\n//    _(form).filter((el)=>{\n//        return !el.name\n//            || (\n//                !el.value\n//                && el.type !== 'submit'\n//                && el !== button\n//            )\n//            || (\n//                !el.checked\n//                && (\n//                    el.type === 'radio'\n//                    || el.type === 'checkbox'\n//                )\n//            );\n//    }).each((el)=>{\n//        let isArray = el.name.indexOf('[]') !== -1,\n//            parsed = el.name.match(nameRegExp),\n//            ref = data,\n//            lastIndex = parsed.length -1;\n//\n//        _.each(parsed, ()=>{\n//            //TODO:\n//        })\n//    });\n//}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(32)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L2NvbXBvbmVudHMvVHJpbml0eUZvcm0uanM/MWU4NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9sb2Rhc2ggPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxudmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblxudmFyIF9zdXBlcmFnZW50ID0gcmVxdWlyZSgnc3VwZXJhZ2VudCcpO1xuXG52YXIgX3N1cGVyYWdlbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3VwZXJhZ2VudCk7XG5cbnZhciBfZmJlbWl0dGVyID0gcmVxdWlyZSgnZmJlbWl0dGVyJyk7XG5cbnZhciBfRXZlbnRzID0gcmVxdWlyZSgnLi4vdXRpbHMvRXZlbnRzJyk7XG5cbnZhciBfRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50cyk7XG5cbnZhciBfVHJpbml0eUV2ZW50ID0gcmVxdWlyZSgnLi4vdXRpbHMvVHJpbml0eUV2ZW50Jyk7XG5cbnZhciBfVHJpbml0eUV2ZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyaW5pdHlFdmVudCk7XG5cbnZhciBfRm9ybUlucHV0ID0gcmVxdWlyZSgnLi9Gb3JtSW5wdXQnKTtcblxudmFyIF9Gb3JtSW5wdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRm9ybUlucHV0KTtcblxudmFyIF9Eb20gPSByZXF1aXJlKCcuLi91dGlscy9Eb20nKTtcblxudmFyIF9Eb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRG9tKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIERlZmF1bHQgRk9STSBzZXR0aW5nc1xuICogQHR5cGUge3tcbiAqICAgICAgYnV0dG9uOiB7bG9hZGluZzogc3RyaW5nLCBzdWNjZXNzOiBzdHJpbmcsIGVycm9yOiBzdHJpbmcsIHJlYWR5OiBzdHJpbmd9LFxuICogICAgICBzdWNjZXNzVGltZW91dDogbnVtYmVyXG4gKiAgIH19XG4gKi9cbnZhciBkZWZhdWx0U2V0dGluZ3MgPSB7XG4gICAgYnV0dG9uOiB7IC8vIERlZmluZXMgd2hpY2ggY2xhc3NlcyBhZGQgdG8gYWN0aXZlIGJ1dHRvbiBpbiB3aGljaCBzdGF0ZVxuICAgICAgICBsb2FkaW5nOiAndHJpbml0eS1mb3JtLWxvYWRpbmcnLFxuICAgICAgICBzdWNjZXNzOiAndHJpbml0eS1mb3JtLXN1Y2Nlc3MnLFxuICAgICAgICB0aW1lb3V0OiAndHJpbml0eS1mb3JtLXRpbWVvdXQnLFxuICAgICAgICBlcnJvcjogJ3RyaW5pdHktZm9ybS1lcnJvcicsXG4gICAgICAgIHJlYWR5OiAndHJpbml0eS1mb3JtLXJlYWR5J1xuICAgIH0sXG4gICAgcmVxdWVzdFRpbWVvdXQ6IDEwMDAwLFxuICAgIHN1Y2Nlc3NUaW1lb3V0OiAzMDAwLFxuICAgIHRpbWVvdXRUaW1lb3V0OiAyMDAwLFxuICAgIGVycm9yVGVtcGxhdGU6IGZ1bmN0aW9uIGVycm9yVGVtcGxhdGUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gJzxkaXY+JyArIG1lc3NhZ2UgKyAnPC9kaXY+JztcbiAgICB9LFxuICAgIG1lc3NhZ2VUZW1wbGF0ZTogZnVuY3Rpb24gbWVzc2FnZVRlbXBsYXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuICc8ZGl2PicgKyBtZXNzYWdlICsgJzwvZGl2Pic7XG4gICAgfVxufTtcblxudmFyIElTX0ZPUk1fREFUQSA9ICEhd2luZG93LkZvcm1EYXRhO1xudmFyIElOUFVUX1RZUEVfRklMVEVSID0gWydyYWRpbycsICdjaGVja2JveCddO1xuXG4vKipcbiAqIENvbm5lY3RzIHRvIGZvcm1FbGVtZW50IGFuZCBjaGFuZ2UgaXQgdG8gYWpheCBmb3JtXG4gKlxuICogQHBhcmFtIGZvcm0ge0hUTUxGb3JtRWxlbWVudH1cbiAqIEBwYXJhbSBbdHlwZV0ge1N0cmluZ30gLSB0eXBlIG9mIGZvcm1cbiAqIEBwYXJhbSBbc2V0dGluZ3NdIHtPYmplY3R9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuXG52YXIgVHJpbml0eUZvcm0gPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICAgIF9pbmhlcml0cyhUcmluaXR5Rm9ybSwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICBmdW5jdGlvbiBUcmluaXR5Rm9ybShmb3JtRWxlbWVudCwgc2V0dGluZ3MpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyaW5pdHlGb3JtKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVHJpbml0eUZvcm0uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUcmluaXR5Rm9ybSkpLmNhbGwodGhpcykpO1xuXG4gICAgICAgIGlmICghZm9ybUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBcImZvcm1FbGVtZW50XCIgcGFyYW1ldGVyIScpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmZvcm0gPSBmb3JtRWxlbWVudDtcbiAgICAgICAgX3RoaXMuYnV0dG9ucyA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0sIGJ1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgICAgIF90aGlzLmFjdGl2ZUJ0biA9IG51bGw7XG4gICAgICAgIF90aGlzLnNldHRpbmdzID0gX2xvZGFzaDIuZGVmYXVsdC5kZWZhdWx0c0RlZXAoc2V0dGluZ3MgfHwge30sIGRlZmF1bHRTZXR0aW5ncyk7XG4gICAgICAgIF90aGlzLl9fc3RhdGUgPSAncmVhZHknO1xuICAgICAgICBfdGhpcy5fX2lucHV0cyA9IHt9O1xuXG4gICAgICAgIC8vTWFpbiBpbml0aWFsaXplXG4gICAgICAgIC8vIENyZWF0ZSBpbnB1dHNcbiAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKF90aGlzLmZvcm0sIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgaWYgKGVsLm5hbWUgJiYgIX5JTlBVVF9UWVBFX0ZJTFRFUi5pbmRleE9mKGVsLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX19pbnB1dHNbZWwubmFtZV0gPSBuZXcgX0Zvcm1JbnB1dDIuZGVmYXVsdChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCByZWFkeSBjbGFzcyB0byBhbGwgYnV0dG9uc1xuICAgICAgICB2YXIgYnRuUmVhZHlDbGFzcyA9IF90aGlzLnNldHRpbmdzLmJ1dHRvblsncmVhZHknXS5zcGxpdCgnICcpO1xuICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goX3RoaXMuYnV0dG9ucywgZnVuY3Rpb24gKGJ0bikge1xuICAgICAgICAgICAgcmV0dXJuIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LmFkZEFsbChidG4sIGJ0blJlYWR5Q2xhc3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMaXN0ZW5lcnMgYXQgbGFzdFxuICAgICAgICAvLyBBZGQgbGlzdGVuZXIgdG8gZm9ybSBlbGVtZW50XG4gICAgICAgIF90aGlzLnVubGlzdGVuU3VibWl0ID0gX0V2ZW50czIuZGVmYXVsdC5saXN0ZW4oZm9ybUVsZW1lbnQsICdzdWJtaXQnLCBfdGhpcy5zdWJtaXQuYmluZChfdGhpcykpO1xuICAgICAgICAvLyBBZGQgbGlzdGVuZXIgZm9yIGlucHV0IHZhbHVlIGNoYW5nZVxuICAgICAgICBfdGhpcy51bmxpc3RlblZhbHVlSW5wdXQgPSBfRXZlbnRzMi5kZWZhdWx0Lmxpc3Rlbihmb3JtRWxlbWVudCwgJ2lucHV0JywgX3RoaXMub25JbnB1dENoYW5nZS5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLnVubGlzdGVuVmFsdWVDaGFuZ2UgPSBfRXZlbnRzMi5kZWZhdWx0Lmxpc3Rlbihmb3JtRWxlbWVudCwgJ2NoYW5nZScsIF90aGlzLm9uSW5wdXRDaGFuZ2UuYmluZChfdGhpcykpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBuZXcgZm9ybSBzdGF0ZVxuICAgICAqICAtIGFkZCBzdGF0ZSBjbGFzc2VzIHRvIGJ1dHRvblxuICAgICAqICAtIGVtaXQgXCJzdGF0ZS1jaGFuZ2VcIiBldmVudFxuICAgICAqIEBwYXJhbSBuZXdTdGF0ZVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVHJpbml0eUZvcm0sIFt7XG4gICAgICAgIGtleTogJ2xvY2snLFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGUgYWxsIGZvcm1zIHN1Ym1pdCBpbnB1dHNcbiAgICAgICAgICovXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsb2NrKCkge1xuICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHRoaXMuYnV0dG9ucywgX0RvbTIuZGVmYXVsdC5kaXNhYmxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbmFibGUgYWxsIGZvcm1zIHN1Ym1pdCBpbnB1dHNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3VubG9jaycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1bmxvY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSAhPT0gJ2xvYWRpbmcnICYmICEhX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHRoaXMuYnV0dG9ucywgX0RvbTIuZGVmYXVsdC5lbmFibGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1haW4gZnVuY3Rpb24gd2hpY2ggcnVucyB2YWxpZGF0aW9uXG4gICAgICAgICAqIEBwYXJhbSBlIHtFdmVudH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ29uSW5wdXRDaGFuZ2UnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25JbnB1dENoYW5nZShlKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGVsZW1lbnRzIHdpdGggbmFtZSBjYW4gYmUgdGVzdGVkXG5cbiAgICAgICAgICAgIC8vIEZpbHRlclxuICAgICAgICAgICAgdmFyIGlzU2VsZWN0VHlwZSA9IGUudGFyZ2V0LnR5cGUgPyAhIX5lLnRhcmdldC50eXBlLmluZGV4T2YoJ3NlbGVjdCcpIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgLy90ZXN4dGFyZWEgZG9lcyBub3QgaGF2ZSB0eXBlIHByb3BcbiAgICAgICAgICAgIGlzQ2hhbmdlRXZlbnQgPSBlLnR5cGUgPT09ICdjaGFuZ2UnO1xuXG4gICAgICAgICAgICBpZiAoaXNTZWxlY3RUeXBlIF4gaXNDaGFuZ2VFdmVudCB8fCAhZS50YXJnZXQubmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbnB1dE9iaiA9IHRoaXMuX19pbnB1dHNbZS50YXJnZXQubmFtZV07XG4gICAgICAgICAgICBpZiAoIWlucHV0T2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXRPYmouZXJyb3JzID0gX2xvZGFzaDIuZGVmYXVsdC5maWx0ZXIoaW5wdXRPYmouZXJyb3JzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfbG9kYXNoMi5kZWZhdWx0LmlzRnVuY3Rpb24oZXJyLnZhbGlkYXRlKSB8fCBlcnIudmFsaWRhdGUoaW5wdXRPYmouZ2V0VmFsdWUoKSwgaW5wdXRPYmouZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgX0RvbTIuZGVmYXVsdC5yZW1vdmVOb2RlKGVyci5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyplc2xpbnQtZGlzYWJsZSovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUT0RPOiBmZWF0dXJlXG4gICAgICAgICAqIEBub3RJbXBsZW1lbnRlZFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCB7SFRNTEVsZW1lbnQgfHwgc3RyaW5nfSAtIG5hbWUgb2YgaW5wdXQgb3IgaW5wdXQgaXRzZWxmXG4gICAgICAgICAqIEBwYXJhbSB2YWxpZGF0b3JcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhZGRSdWxlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFJ1bGUoZWxlbWVudCwgdmFsaWRhdG9yKSB7fVxuICAgICAgICAvLyByZXR1cm47XG4gICAgICAgIC8vIGxldCBpbnB1dE9iaiA9IHRoaXMuX19maW5kSW5wdXQoZWxlbWVudCk7XG4gICAgICAgIC8vIGlmICghaW5wdXRPYmopIHtcbiAgICAgICAgLy8gICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIC8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3JtIGRvZXMgbm90IGhhdmUgaW5wdXQgJyArIChfLmlzU3RyaW5nKGVsZW1lbnQpID8gJ3dpdGggbmFtZSAnIDogJycpICsgZWxlbWVudCArICcuJyk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gcmV0dXJuICEhaW5wdXRPYmoucnVsZXMucHVzaCh2YWxpZGF0b3IpO1xuXG4gICAgICAgIC8qZXNsaW50LWVuYWJsZSovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZHMgbmV3IGVycm9yIHRvIFRyaW5pdHlGb3JtIGluc3RhbmNlXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IHtzdHJpbmcgfHwgSFRNTEVsZW1lbnR9IC0gaW5wdXQgbmFtZSBvciBpbnN0YW5jZSBpdHNlbGZcbiAgICAgICAgICogQHBhcmFtIGVycm9yIHtzdHJpbmcgfHwgb2JqZWN0fVxuICAgICAgICAgKiBAcGFyYW0gW2FyZ3NdIHtBcnJheX1cbiAgICAgICAgICogQHB1YmxpY1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWRkRXJyb3InLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXJyb3IoZWxlbWVudCwgZXJyb3IpIHtcbiAgICAgICAgICAgIHZhciBpbnB1dE9iaiA9IHRoaXMuX19maW5kSW5wdXQoZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoIWlucHV0T2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3JtIGRvZXMgbm90IGhhdmUgaW5wdXQgJyArIChfbG9kYXNoMi5kZWZhdWx0LmlzU3RyaW5nKGVsZW1lbnQpID8gJ3dpdGggbmFtZSAnIDogJycpICsgZWxlbWVudCArICcuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnZXJyb3InO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGVyck9iaiA9IF9fY3JlYXRlTWVzc2FnZShlcnJvciwgLy8gZXJyb3Igb2JqZWN0IG9yIHN0cmluZ1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5lcnJvclRlbXBsYXRlLCAvLyB0ZW1wbGF0ZVxuICAgICAgICAgICAgaW5wdXRPYmouZWxlbWVudC5uYW1lICsgJ19lcnJvcl8nLCAvLyBwcmVmaXggaWYgbm8gaWRcbiAgICAgICAgICAgIGFyZ3MgLy8gcmVzdCBvZiBhcmdzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0T2JqLmFkZEVycm9yKGVyck9iaik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgaWYgaW5wdXQgZWxlbWVudCBoYXMgZXJyb3Igd2l0aCBwcm92aWRlZCBrZXlcbiAgICAgICAgICogb3IgaWYga2V5IG5vdCBwcm92aWRlZCwgY2hlY2tzIGlmIGlucHV0IGhhcyBhbnkgZXJyb3JcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQge0hUTUxFbGVtZW50IHx8IHN0cmluZ30gLSBuYW1lIG9mIGlucHV0IG9yIGlucHV0IGl0c2VsZlxuICAgICAgICAgKiBAcGFyYW0gW2Vycm9ySWRdIHtzdHJpbmd9XG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFzRXJyb3InLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRXJyb3IoZWxlbWVudCwgZXJyb3JJZCkge1xuICAgICAgICAgICAgdmFyIGlucHV0T2JqID0gdGhpcy5fX2ZpbmRJbnB1dChlbGVtZW50KTtcbiAgICAgICAgICAgIGlmICghaW5wdXRPYmopIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm0gZG9lcyBub3QgaGF2ZSBpbnB1dCAnICsgKF9sb2Rhc2gyLmRlZmF1bHQuaXNTdHJpbmcoZWxlbWVudCkgPyAnd2l0aCBuYW1lICcgOiAnJykgKyBlbGVtZW50ICsgJy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVycm9ySWQgPyBfbG9kYXNoMi5kZWZhdWx0LnNvbWUoaW5wdXRPYmouZXJyb3JzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyci5pZCA9PT0gZXJyb3JJZDtcbiAgICAgICAgICAgIH0pIDogaW5wdXRPYmouZXJyb3JzLmxlbmd0aCA+IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIGVycm9yIHdpdGggZXJyb3JLZXkgcHJvdmlkZWQsIG9yIHJlbW92ZSBhbGwgZXJyb3JzIGlmIGVycm9yS2V5IGlzIG5vdCBwcm92aWRlZFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCB7SFRNTEVsZW1lbnQgfHwgc3RyaW5nfSAtIG5hbWUgb2YgaW5wdXQgb3IgaW5wdXQgaXRzZWxmXG4gICAgICAgICAqIEBwYXJhbSBbZXJyb3JJZF0ge3N0cmluZ31cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW1vdmVFcnJvcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFcnJvcihlbGVtZW50LCBlcnJvcklkKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRPYmogPSB0aGlzLl9fZmluZElucHV0KGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKCFpbnB1dE9iaikge1xuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRm9ybSBkb2VzIG5vdCBoYXZlIGlucHV0ICcgKyAoX2xvZGFzaDIuZGVmYXVsdC5pc1N0cmluZyhlbGVtZW50KSA/ICd3aXRoIG5hbWUgJyA6ICcnKSArIGVsZW1lbnQgKyAnLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnJvcklkKSB7XG4gICAgICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5yZW1vdmUoaW5wdXRPYmouZXJyb3JzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnIuaWQgPT09IGVycm9ySWQgJiYgISFfRG9tMi5kZWZhdWx0LnJlbW92ZU5vZGUoZXJyLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYWxsIGlmIGVycm9yIGtleSBub3QgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goaW5wdXRPYmouZXJyb3JzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfRG9tMi5kZWZhdWx0LnJlbW92ZU5vZGUoZXJyLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlucHV0T2JqLmVycm9ycyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IG1lc3NhZ2UgdG8gcmVxdWVzdGVkIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQge0hUTUxFbGVtZW50IHx8IHN0cmluZ30gLSBuYW1lIG9mIGlucHV0IG9yIGlucHV0IGl0c2VsZlxuICAgICAgICAgKiBAcGFyYW0gbWVzc2FnZSB7b2JqZWN0IHx8IHN0cmluZ31cbiAgICAgICAgICogQHBhcmFtIFthcmdzXVxuICAgICAgICAgKiBAcmV0dXJucyB7Kn0gaWQgb3IgZmFsc2UgaWYgZWxlbWVudCB3YXMgbm90IGZvdW5kXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzZXRNZXNzYWdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1lc3NhZ2UoZWxlbWVudCwgbWVzc2FnZSkge1xuICAgICAgICAgICAgdmFyIGlucHV0T2JqID0gdGhpcy5fX2ZpbmRJbnB1dChlbGVtZW50KTtcbiAgICAgICAgICAgIGlmICghaW5wdXRPYmopIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm0gZG9lcyBub3QgaGF2ZSBpbnB1dCAnICsgKF9sb2Rhc2gyLmRlZmF1bHQuaXNTdHJpbmcoZWxlbWVudCkgPyAnd2l0aCBuYW1lICcgOiAnJykgKyBlbGVtZW50ICsgJy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDIgPyBfbGVuMiAtIDIgOiAwKSwgX2tleTIgPSAyOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1zZyA9IF9fY3JlYXRlTWVzc2FnZShtZXNzYWdlLCAvLyBtc2cgb2JqZWN0IG9yIHN0cmluZ1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5tZXNzYWdlVGVtcGxhdGUsIC8vIHRlbXBsYXRlIG9iamVjdFxuICAgICAgICAgICAgaW5wdXRPYmouZWxlbWVudC5uYW1lICsgJ19tc2dfJywgLy8gcHJlZml4XG4gICAgICAgICAgICBhcmdzIC8vIGFyZ3NcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRPYmouc2V0TWVzc2FnZShtc2cpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgbWVzc2FnZSBmcm9tIGlucHV0XG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IHtIVE1MRWxlbWVudCB8fCBzdHJpbmd9IC0gbmFtZSBvZiBpbnB1dCBvciBpbnB1dCBpdHNlbGZcbiAgICAgICAgICogQHJldHVybnMgeyp9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW1vdmVNZXNzYWdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZU1lc3NhZ2UoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGlucHV0T2JqID0gdGhpcy5fX2ZpbmRJbnB1dChlbGVtZW50KTtcbiAgICAgICAgICAgIGlmICghaW5wdXRPYmopIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm0gZG9lcyBub3QgaGF2ZSBpbnB1dCAnICsgKF9sb2Rhc2gyLmRlZmF1bHQuaXNTdHJpbmcoZWxlbWVudCkgPyAnd2l0aCBuYW1lICcgOiAnJykgKyBlbGVtZW50ICsgJy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlucHV0T2JqLmNsZWFyTWVzc2FnZSgpIHx8IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVmFsaWRhdGVzIGlmIGFsbCBlcnJvcnMgYXJlIHJlbW92ZWQgZnJvbSBmb3JtXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3ZhbGlkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKCkge1xuICAgICAgICAgICAgaWYgKCFfbG9kYXNoMi5kZWZhdWx0LnNvbWUodGhpcy5fX2lucHV0cywgZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFpbnB1dC5pc1ZhbGlkKCk7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5sb2NrKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdyZWFkeSc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU3VibWl0IGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAqIC0gY2FuIGJlIGFsc28gZm9yY2VkXG4gICAgICAgICAqIEBOb3RlIC0gbm8gZXZlbnQgaXMgdHJpZ2dlcmVkXG4gICAgICAgICAqIEBwYXJhbSBlXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzdWJtaXQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3VibWl0KGUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAvKiogY2F0Y2ggYnV0dG9uIHdpdGggZm9jdXMgZmlyc3QgKiovXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUJ0biA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudHlwZSA9PT0gJ2J1dHRvbicgPyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IDogdGhpcy5idXR0b25zWzBdO1xuICAgICAgICAgICAgLyoqIENvbnRpbnVlICoqL1xuICAgICAgICAgICAgZSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIC8qKiBMb2NrIGFuZCBMb2FkICoqL1xuICAgICAgICAgICAgdGhpcy5sb2NrKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ2xvYWRpbmcnO1xuXG4gICAgICAgICAgICAvKiogUGFyc2UgYW5kIHNlbmQgRGF0YSAqKi9cbiAgICAgICAgICAgIHZhciBkYXRhID0gSVNfRk9STV9EQVRBID8gc2VyaWFsaXplRnJvbSh0aGlzLmZvcm0sIHRoaXMuYWN0aXZlQnRuKSA6IF9fcGFyc2VTeW1mb255Rm9ybSh0aGlzLmZvcm0sIHRoaXMuYWN0aXZlQnRuKSxcbiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLmZvcm0uYWN0aW9uLnRyaW0oKSxcbiAgICAgICAgICAgICAgICBtZXRob2QgPSAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnX21ldGhvZCcpID8gZGF0YVsnX21ldGhvZCddIDogdGhpcy5mb3JtLm1ldGhvZCkudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICAgICAgICBzdWJtaXRFdmVudCA9IG5ldyBfVHJpbml0eUV2ZW50Mi5kZWZhdWx0KHtcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdzdWJtaXQnLCBzdWJtaXRFdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChzdWJtaXRFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVxID0gKDAsIF9zdXBlcmFnZW50Mi5kZWZhdWx0KShtZXRob2QsIHVybCkuc2V0KHtcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0J1xuICAgICAgICAgICAgfSkudGltZW91dCh0aGlzLnNldHRpbmdzLnJlcXVlc3RUaW1lb3V0KS5zZW5kKGRhdGEpLm9uKCdwcm9ncmVzcycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLmVtaXQoJ3Byb2dyZXNzJywgZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdiZWZvcmUtcmVxdWVzdCcsIHJlcSk7XG5cbiAgICAgICAgICAgIHJlcS5lbmQoZnVuY3Rpb24gKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdCA/XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1cyA9PT0gMzAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWRpcmVjdFRvID0gcmVzcG9uc2UuYm9keS5sb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG8gY2FsbGJhY2sgYW5kIHRoZW4gcmVkaXJlY3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5fX3N1Y2Nlc3NIYW5kbGVyKHJlc3BvbnNlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZGlyZWN0VG8gJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFwibG9jYXRpb25cIiBhdHRyaWJ1dGUhJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFRvICYmIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24ocmVkaXJlY3RUbyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRXJyb3IgP1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5fX2Vycm9ySGFuZGxlcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF90aGlzMi5fX3N1Y2Nlc3NIYW5kbGVyKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZHMgJ3N1Y2Nlc3MnIGV2ZW50IExpc3RlbmVyXG4gICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gICAgICAgICAqIEBwYXJhbSBbY29udGV4dF0ge09iamVjdH0gLSB0aGlzIGFyZ3VtZW50XG4gICAgICAgICAqIEByZXR1cm5zIHtUcmluaXR5Rm9ybX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N1Y2Nlc3MnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3VjY2VzcyhjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcignc3VjY2VzcycsIGNhbGxiYWNrLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzOyAvLyBmb3IgY2hhaW5pbmdcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGRzICdlcnJvcicgZXZlbnQgTGlzdGVuZXJcbiAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHBhcmFtIFtjb250ZXh0XSB7T2JqZWN0fSAtIHRoaXMgYXJndW1lbnRcbiAgICAgICAgICogQHJldHVybnMge1RyaW5pdHlGb3JtfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZXJyb3InLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZXJyb3IoY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXIoJ2Vycm9yJywgY2FsbGJhY2ssIGNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7IC8vIGZvciBjaGFpbmluZ1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFiYnJldmlhdGlvbiBmb3IgYWRkTGlzdGVuZXJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50TmFtZSB7c3RyaW5nfVxuICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sge2Z1bmN0aW9ufVxuICAgICAgICAgKiBAcGFyYW0gY29udGV4dCB7b2JqZWN0fVxuICAgICAgICAgKiBAcmV0dXJucyB7VHJpbml0eUZvcm19XG4gICAgICAgICAqL1xuICAgICAgICAvKmVzbGludC1kaXNhYmxlKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnb24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb24oZXZlbnROYW1lLCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICAgICAgLyplc2xpbnQtZW5hYmxlKi9cbiAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3JjZSBzZXQgc3VibWl0IGJ1dHRvbnNcbiAgICAgICAgICogQHBhcmFtIGJ1dHRvbnMge0FycmF5PEhUTUxFbGVtZW50Pn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldFN1Ym1pdEJ1dHRvbnMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U3VibWl0QnV0dG9ucyhidXR0b25zKSB7XG4gICAgICAgICAgICAvKiogQWRkIHJlYWR5IGNsYXNzIHRvIGFsbCBidXR0b25zICoqL1xuICAgICAgICAgICAgdmFyIGJ0blJlYWR5Q2xhc3MgPSB0aGlzLnNldHRpbmdzLmJ1dHRvblsncmVhZHknXS5zcGxpdCgnICcpO1xuICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHRoaXMuYnV0dG9ucywgZnVuY3Rpb24gKGJ0bikge1xuICAgICAgICAgICAgICAgIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LnJlbW92ZUFsbChidG4sIGJ0blJlYWR5Q2xhc3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmJ1dHRvbnMgPSBidXR0b25zO1xuICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHRoaXMuYnV0dG9ucywgZnVuY3Rpb24gKGJ0bikge1xuICAgICAgICAgICAgICAgIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LmFkZEFsbChidG4sIGJ0blJlYWR5Q2xhc3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2RldGFjaCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgICAgICAgICAvLyBNYWluIGxpc3RlbmVyXG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuU3VibWl0KCk7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuVmFsdWVDaGFuZ2UoKTtcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW5WYWx1ZUlucHV0KCk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fX2lucHV0cyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ19fZmluZElucHV0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9fZmluZElucHV0KGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9faW5wdXRzW19sb2Rhc2gyLmRlZmF1bHQuaXNTdHJpbmcoZWxlbWVudCkgPyBlbGVtZW50IDogZWxlbWVudC5uYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3JtIHN1Y2Nlc3MgaGFuZGxlclxuICAgICAgICAgKiBAcGFyYW0gcmVzcG9uc2Uge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ19fc3VjY2Vzc0hhbmRsZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX19zdWNjZXNzSGFuZGxlcihyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBfVHJpbml0eUV2ZW50Mi5kZWZhdWx0KHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdzdWNjZXNzJztcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnc3VjY2VzcycsIGV2ZW50KTtcblxuICAgICAgICAgICAgdGhpcy51bmxvY2soKTtcbiAgICAgICAgICAgIHZhciBpZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzMy5zdGF0ZSA9ICdyZWFkeSc7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muc3VjY2Vzc1RpbWVvdXQpO1xuXG4gICAgICAgICAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRm9ybSBlcnJvciBoYW5kbGVyXG4gICAgICAgICAqIEBwYXJhbSBlcnJvclxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ19fZXJyb3JIYW5kbGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9fZXJyb3JIYW5kbGVyKGVycm9yKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKGVycm9yLnRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuc3RhdGUgPSAndGltZW91dCc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnVubG9jaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnN0YXRlID0gJ3JlYWR5JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIF90aGlzNC5zZXR0aW5ncy50aW1lb3V0VGltZW91dCk7XG4gICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdlcnJvcic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEVtaXQgZXZlbnRcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBfVHJpbml0eUV2ZW50Mi5kZWZhdWx0KGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBldmVudCk7XG4gICAgICAgICAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0YXRlJyxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3U3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRoaXMuX19zdGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvbGRTdGF0ZSA9IHRoaXMuX19zdGF0ZTtcbiAgICAgICAgICAgIHRoaXMuX19zdGF0ZSA9IG5ld1N0YXRlO1xuXG4gICAgICAgICAgICBpZiAobmV3U3RhdGUgPT09ICdlcnJvcicgfHwgbmV3U3RhdGUgPT09ICdyZWFkeScpIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgYWxsIGJ0bnNcbiAgICAgICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2godGhpcy5idXR0b25zLCBmdW5jdGlvbiAoYnRuKSB7XG4gICAgICAgICAgICAgICAgICAgIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LnJlbW92ZUFsbChidG4sIF90aGlzNS5zZXR0aW5ncy5idXR0b25bb2xkU3RhdGVdLnNwbGl0KCcgJykpO1xuICAgICAgICAgICAgICAgICAgICBfRG9tMi5kZWZhdWx0LmNsYXNzbGlzdC5hZGRBbGwoYnRuLCBfdGhpczUuc2V0dGluZ3MuYnV0dG9uW25ld1N0YXRlXS5zcGxpdCgnICcpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9Td2l0Y2ggY2xhc3NlcyBmb3IgYWN0aXZlXG4gICAgICAgICAgICAgICAgX0RvbTIuZGVmYXVsdC5jbGFzc2xpc3QucmVtb3ZlQWxsKHRoaXMuYWN0aXZlQnRuLCB0aGlzLnNldHRpbmdzLmJ1dHRvbltvbGRTdGF0ZV0uc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICAgICAgX0RvbTIuZGVmYXVsdC5jbGFzc2xpc3QuYWRkQWxsKHRoaXMuYWN0aXZlQnRuLCB0aGlzLnNldHRpbmdzLmJ1dHRvbltuZXdTdGF0ZV0uc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9jaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBFbWl0IG5ldyBzdGF0ZSBjaGFuZ2VcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnc3RhdGUtY2hhbmdlJywge1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvbGRTdGF0ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbmV3U3RhdGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgYWN0dWFsIHN0YXRlIG9mIGZvcm1cbiAgICAgICAgICovXG4gICAgICAgICxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fX3N0YXRlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRyaW5pdHlGb3JtO1xufShfZmJlbWl0dGVyLkV2ZW50RW1pdHRlcik7XG5cbi8qKlxuICogQ3JlYXRlIG1lc3NhZ2UgYW5kIHJldHVybnMgb2JqZWN0IHdpdGggZGVzY3JpcHRpb24gYW5kIGVsZW1lbnQgb2JqZWN0XG4gKiBAcGFyYW0gbXNnIHtvYmplY3QgfHwgc3RyaW5nfVxuICogQHBhcmFtIHRlbXBsYXRlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSBwcmVmaXgge3N0cmluZ31cbiAqIEBwYXJhbSBhcmdzIHtBcnJheX1cbiAqIEByZXR1cm5zIHt7bWVzc2FnZTogKn18Kn1cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmluaXR5Rm9ybTtcbmZ1bmN0aW9uIF9fY3JlYXRlTWVzc2FnZShtc2csIHRlbXBsYXRlLCBwcmVmaXgsIGFyZ3MpIHtcbiAgICBtc2cgPSBfbG9kYXNoMi5kZWZhdWx0LmlzU3RyaW5nKG1zZykgPyB7IG1lc3NhZ2U6IG1zZyB9IDogbXNnO1xuICAgIG1zZy5pZCA9IG1zZy5pZCB8fCBwcmVmaXggKyAoJycgKyBNYXRoLnJhbmRvbSgpICogMTAwKS5zdWJzdHIoMywgNCk7XG5cbiAgICAvLyBDcmVhdGUgbWVzc2FnZVxuICAgIG1zZy5lbGVtZW50ID0gX0RvbTIuZGVmYXVsdC5odG1sVG9Eb2N1bWVudEZyYWdtZW50KG1zZy5pc0h0bWwgPyBtc2cubWVzc2FnZSA6IHRlbXBsYXRlLmFwcGx5KG51bGwsIFttc2cubWVzc2FnZV0uY29uY2F0KGFyZ3MpKSk7XG4gICAgbXNnLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdpZCcsIG1zZy5pZCk7XG4gICAgcmV0dXJuIG1zZztcbn1cblxuLyoqKiogUFJJVkFURSBNRVRIT0RTICoqKiovXG4vKiogRk9STSBQQVJTRVIgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIFVzZWQgdG8gcGFyc2UgaW5wdXQgbmFtZSAtPiBvYmplY3QgcGF0aFxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xudmFyIG5hbWVSZWdFeHAgPSAvXFx3Ky9nO1xuXG5mdW5jdGlvbiBzZXJpYWxpemVGcm9tKGZvcm0sIGJ1dHRvbikge1xuICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICgwLCBfbG9kYXNoMi5kZWZhdWx0KShmb3JtKS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG5cbiAgICAgICAgaWYgKCFlbC5uYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNWYWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIHN3aXRjaCAoZWwudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc3VibWl0JzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBlbCA9PT0gYnV0dG9uO1xuICAgICAgICAgICAgICAgIH1icmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBlbC5jaGVja2VkO1xuICAgICAgICAgICAgICAgIH1icmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZWwudmFsdWUgJiYgZWwudmFsdWUubGVuZ3RoICE9PSAwO1xuICAgICAgICAgICAgICAgIH1icmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgIH0pLmVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiBmb3JtRGF0YS5hcHBlbmQoZWwubmFtZSwgZWwudmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3JtRGF0YTtcbn1cblxuLyoqXG4gKiBQYXJzZSBmb3JtIGlucHV0cyBhbmQgY3JlYXRlIGpzb24gb2JqZWN0IGFjY29yZGluZyBzeW1mb255IG5hbWUgc3BlY2lmaWNhdGlvbnNcbiAqIEV4YW1wbGU6IDxpbnB1dCB2YWx1ZT1cInRlc3RcIiBuYW1lPVwibmVja3RpZV9wcm9kdWN0W25hbWVdXCIgLz5cbiAqICB7XG4gKiAgICAgIG5lY2t0aWVfcHJvZHVjdCA6IHtcbiAqICAgICAgICAgIG5hbWU6ICd0ZXN0J1xuICogICAgICB9XG4gKiAgfVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBmb3JtIHtIVE1MRm9ybUVsZW1lbnR9XG4gKiBAcGFyYW0gYnV0dG9uIHtIVE1MRWxlbWVudH1cbiAqIEByZXR1cm5zIHt7b2JqZWN0fX1cbiAqL1xuZnVuY3Rpb24gX19wYXJzZVN5bWZvbnlGb3JtKGZvcm0sIGJ1dHRvbikge1xuICAgIHZhciBkYXRhID0ge30sXG4gICAgICAgIGZvcm1MZW5ndGggPSBmb3JtLmxlbmd0aDtcbiAgICAvKiogR28gdGhyb3VnaCBhbGwgaW5wdXRzIGluIGZvcm0gKi9cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1MZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWZvcm1baV0ubmFtZSB8fCBmb3JtW2ldLm5hbWUubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghZm9ybVtpXS52YWx1ZSB8fCBmb3JtW2ldLnZhbHVlLmxlbmd0aCA8IDEpICYmIGZvcm1baV0udHlwZSAhPT0gJ3N1Ym1pdCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBObyBuZWVkIHRvIGRvIGFueSB3b3JrIGlmIHRoZXJlIGFyZSBubyB2YWx1ZXNcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZm9ybVtpXS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdzdWJtaXQnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1baV0gPT09IGJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxuICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3JtW2ldLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbml0IG5lY2Vzc2FyeSB2YXJpYWJsZXNcbiAgICAgICAgdmFyIGlzQXJyYXkgPSB+Zm9ybVtpXS5uYW1lLmluZGV4T2YoJ1tdJyksXG4gICAgICAgICAgICBwYXJzZWQgPSBmb3JtW2ldLm5hbWUubWF0Y2gobmFtZVJlZ0V4cCksXG4gICAgICAgICAgICByZWZlcmVuY2UgPSBkYXRhLFxuICAgICAgICAgICAgbGFzdCA9IHBhcnNlZC5sZW5ndGggLSAxO1xuICAgICAgICAvKiogRXZhbHVhdGUgcGFyc2VkIHJlZmVyZW5jZSBvYmplY3QgKi9cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPD0gbGFzdDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoIXJlZmVyZW5jZVtwYXJzZWRbal1dKSB7XG4gICAgICAgICAgICAgICAgaWYgKGogPT09IGxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZVtwYXJzZWRbal1dID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VbcGFyc2VkW2pdXS5wdXNoKGZvcm1baV0udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlW3BhcnNlZFtqXV0gPSBmb3JtW2ldLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIE5vdCBsYXN0IC0+IGNyZWF0ZSBvYmplY3QgKi9cbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlW3BhcnNlZFtqXV0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlID0gcmVmZXJlbmNlW3BhcnNlZFtqXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gbGFzdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlW3BhcnNlZFtqXV0ucHVzaChmb3JtW2ldLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZVtwYXJzZWRbal1dID0gZm9ybVtpXS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZSA9IHJlZmVyZW5jZVtwYXJzZWRbal1dOyAvLyBjcmVhdGUgcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuXG4vL2Z1bmN0aW9uIF9fcGFyc2VTeW1mb255Rm9ybTIoZm9ybSwgYnV0dG9uKXtcbi8vICAgIGxldCBkYXRhID0ge307XG4vL1xuLy8gICAgLyoqIEdvIHRocm91Z2ggYWxsIGlucHV0cyBpbiBmb3JtICovXG4vLyAgICBfKGZvcm0pLmZpbHRlcigoZWwpPT57XG4vLyAgICAgICAgcmV0dXJuICFlbC5uYW1lXG4vLyAgICAgICAgICAgIHx8IChcbi8vICAgICAgICAgICAgICAgICFlbC52YWx1ZVxuLy8gICAgICAgICAgICAgICAgJiYgZWwudHlwZSAhPT0gJ3N1Ym1pdCdcbi8vICAgICAgICAgICAgICAgICYmIGVsICE9PSBidXR0b25cbi8vICAgICAgICAgICAgKVxuLy8gICAgICAgICAgICB8fCAoXG4vLyAgICAgICAgICAgICAgICAhZWwuY2hlY2tlZFxuLy8gICAgICAgICAgICAgICAgJiYgKFxuLy8gICAgICAgICAgICAgICAgICAgIGVsLnR5cGUgPT09ICdyYWRpbydcbi8vICAgICAgICAgICAgICAgICAgICB8fCBlbC50eXBlID09PSAnY2hlY2tib3gnXG4vLyAgICAgICAgICAgICAgICApXG4vLyAgICAgICAgICAgICk7XG4vLyAgICB9KS5lYWNoKChlbCk9Pntcbi8vICAgICAgICBsZXQgaXNBcnJheSA9IGVsLm5hbWUuaW5kZXhPZignW10nKSAhPT0gLTEsXG4vLyAgICAgICAgICAgIHBhcnNlZCA9IGVsLm5hbWUubWF0Y2gobmFtZVJlZ0V4cCksXG4vLyAgICAgICAgICAgIHJlZiA9IGRhdGEsXG4vLyAgICAgICAgICAgIGxhc3RJbmRleCA9IHBhcnNlZC5sZW5ndGggLTE7XG4vL1xuLy8gICAgICAgIF8uZWFjaChwYXJzZWQsICgpPT57XG4vLyAgICAgICAgICAgIC8vVE9ETzpcbi8vICAgICAgICB9KVxuLy8gICAgfSk7XG4vL31cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHJpbml0eS9jb21wb25lbnRzL1RyaW5pdHlGb3JtLmpzXG4vLyBtb2R1bGUgaWQgPSA0Njlcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 470:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Root reference for iframes.\n */\n\nvar root;\nif (typeof window !== 'undefined') { // Browser window\n  root = window;\n} else if (typeof self !== 'undefined') { // Web Worker\n  root = self;\n} else { // Other environments\n  console.warn(\"Using browser-only version of superagent in non-browser environment\");\n  root = this;\n}\n\nvar Emitter = __webpack_require__(471);\nvar requestBase = __webpack_require__(472);\nvar isObject = __webpack_require__(473);\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Expose `request`.\n */\n\nvar request = module.exports = __webpack_require__(474).bind(null, Request);\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest\n      && (!root.location || 'file:' != root.location.protocol\n          || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  throw Error(\"Browser-only verison of superagent could not find XHR\");\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    pushEncodedKeyValuePair(pairs, key, obj[key]);\n  }\n  return pairs.join('&');\n}\n\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (val != null) {\n    if (Array.isArray(val)) {\n      val.forEach(function(v) {\n        pushEncodedKeyValuePair(pairs, key, v);\n      });\n    } else if (isObject(val)) {\n      for(var subkey in val) {\n        pushEncodedKeyValuePair(pairs, key + '[' + subkey + ']', val[subkey]);\n      }\n    } else {\n      pairs.push(encodeURIComponent(key)\n        + '=' + encodeURIComponent(val));\n    }\n  } else if (val === null) {\n    pairs.push(encodeURIComponent(key));\n  }\n}\n\n/**\n * Expose serialization method.\n */\n\n request.serializeObject = serialize;\n\n /**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var pair;\n  var pos;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n    if (pos == -1) {\n      obj[decodeURIComponent(pair)] = '';\n    } else {\n      obj[decodeURIComponent(pair.slice(0, pos))] =\n        decodeURIComponent(pair.slice(pos + 1));\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\n request.serialize = {\n   'application/x-www-form-urlencoded': serialize,\n   'application/json': JSON.stringify\n };\n\n /**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  return /[\\/+]json\\b/.test(mime);\n}\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction type(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction params(str){\n  return str.split(/ *; */).reduce(function(obj, str){\n    var parts = str.split(/ *= */),\n        key = parts.shift(),\n        val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n     ? this.xhr.responseText\n     : null;\n  this.statusText = this.req.xhr.statusText;\n  this._setStatusProperties(this.xhr.status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this._setHeaderProperties(this.header);\n  this.body = this.req.method != 'HEAD'\n    ? this._parseBody(this.text ? this.text : this.xhr.response)\n    : null;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponse.prototype.get = function(field){\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponse.prototype._setHeaderProperties = function(header){\n  // content-type\n  var ct = this.header['content-type'] || '';\n  this.type = type(ct);\n\n  // params\n  var obj = params(ct);\n  for (var key in obj) this[key] = obj[key];\n};\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function(str){\n  var parse = request.parse[this.type];\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n  return parse && str && (str.length || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponse.prototype._setStatusProperties = function(status){\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n\n  var type = status / 100 | 0;\n\n  // status / class\n  this.status = this.statusCode = status;\n  this.statusType = type;\n\n  // basics\n  this.info = 1 == type;\n  this.ok = 2 == type;\n  this.clientError = 4 == type;\n  this.serverError = 5 == type;\n  this.error = (4 == type || 5 == type)\n    ? this.toError()\n    : false;\n\n  // sugar\n  this.accepted = 202 == status;\n  this.noContent = 204 == status;\n  this.badRequest = 400 == status;\n  this.unauthorized = 401 == status;\n  this.notAcceptable = 406 == status;\n  this.notFound = 404 == status;\n  this.forbidden = 403 == status;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n  this._header = {}; // coerces header names to lowercase\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      // issue #675: return the raw response if the response parsing fails\n      err.rawResponse = self.xhr && self.xhr.responseText ? self.xhr.responseText : null;\n      // issue #876: return the http status code if the response parsing fails\n      err.statusCode = self.xhr && self.xhr.status ? self.xhr.status : null;\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    var new_err;\n    try {\n      if (res.status < 200 || res.status >= 300) {\n        new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n        new_err.original = err;\n        new_err.response = res;\n        new_err.status = res.status;\n      }\n    } catch(e) {\n      new_err = e; // #985 touching res may cause INVALID_STATE_ERR on old Android\n    }\n\n    // #1000 don't catch errors from the callback to avoid double calling it\n    if (new_err) {\n      self.callback(new_err, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n\n/**\n * Mixin `Emitter` and `requestBase`.\n */\n\nEmitter(Request.prototype);\nfor (var key in requestBase) {\n  Request.prototype[key] = requestBase[key];\n}\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set responseType to `val`. Presently valid responseTypes are 'blob' and\n * 'arraybuffer'.\n *\n * Examples:\n *\n *      req.get('/')\n *        .responseType('blob')\n *        .end(callback);\n *\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.responseType = function(val){\n  this._responseType = val;\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @param {Object} options with 'type' property 'auto' or 'basic' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass, options){\n  if (!options) {\n    options = {\n      type: 'basic'\n    }\n  }\n\n  switch (options.type) {\n    case 'basic':\n      var str = btoa(user + ':' + pass);\n      this.set('Authorization', 'Basic ' + str);\n    break;\n\n    case 'auto':\n      this.username = user;\n      this.password = pass;\n    break;\n  }\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `filename`.\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String} filename\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, filename){\n  this._getFormData().append(field, file, filename || file.name);\n  return this;\n};\n\nRequest.prototype._getFormData = function(){\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n  return this._formData;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  var fn = this._callback;\n  this.clearTimeout();\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n  err.crossDomain = true;\n\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n\n  this.callback(err);\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequest.prototype._timeoutError = function(){\n  var timeout = this._timeout;\n  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  this.callback(err);\n};\n\n/**\n * Compose querystring to append to req.url\n *\n * @api private\n */\n\nRequest.prototype._appendQueryString = function(){\n  var query = this._query.join('&');\n  if (query) {\n    this.url += ~this.url.indexOf('?')\n      ? '&' + query\n      : '?' + query;\n  }\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  var self = this;\n  var xhr = this.xhr = request.getXHR();\n  var timeout = this._timeout;\n  var data = this._formData || this._data;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function(){\n    if (4 != xhr.readyState) return;\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    var status;\n    try { status = xhr.status } catch(e) { status = 0; }\n\n    if (0 == status) {\n      if (self.timedout) return self._timeoutError();\n      if (self._aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  var handleProgress = function(direction, e) {\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n    }\n    e.direction = direction;\n    self.emit('progress', e);\n  }\n  if (this.hasListeners('progress')) {\n    try {\n      xhr.onprogress = handleProgress.bind(null, 'download');\n      if (xhr.upload) {\n        xhr.upload.onprogress = handleProgress.bind(null, 'upload');\n      }\n    } catch(e) {\n      // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n      // Reported here:\n      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n    }\n  }\n\n  // timeout\n  if (timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self.timedout = true;\n      self.abort();\n    }, timeout);\n  }\n\n  // querystring\n  this._appendQueryString();\n\n  // initiate request\n  if (this.username && this.password) {\n    xhr.open(this.method, this.url, true, this.username, this.password);\n  } else {\n    xhr.open(this.method, this.url, true);\n  }\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !this._isHost(data)) {\n    // serialize stuff\n    var contentType = this._header['content-type'];\n    var serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!serialize && isJSON(contentType)) serialize = request.serialize['application/json'];\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  }\n\n  // send stuff\n  this.emit('request', this);\n\n  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n  xhr.send(typeof data !== 'undefined' ? data : null);\n  return this;\n};\n\n\n/**\n * Expose `Request`.\n */\n\nrequest.Request = Request;\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn){\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn){\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.options = function(url, data, fn){\n  var req = request('OPTIONS', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nfunction del(url, fn){\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\nrequest['del'] = del;\nrequest['delete'] = del;\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn){\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn){\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn){\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9zdXBlcmFnZW50L2xpYi9jbGllbnQuanM/YTU0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJvb3QgcmVmZXJlbmNlIGZvciBpZnJhbWVzLlxuICovXG5cbnZhciByb290O1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7IC8vIEJyb3dzZXIgd2luZG93XG4gIHJvb3QgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykgeyAvLyBXZWIgV29ya2VyXG4gIHJvb3QgPSBzZWxmO1xufSBlbHNlIHsgLy8gT3RoZXIgZW52aXJvbm1lbnRzXG4gIGNvbnNvbGUud2FybihcIlVzaW5nIGJyb3dzZXItb25seSB2ZXJzaW9uIG9mIHN1cGVyYWdlbnQgaW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG4gIHJvb3QgPSB0aGlzO1xufVxuXG52YXIgRW1pdHRlciA9IHJlcXVpcmUoJ2VtaXR0ZXInKTtcbnZhciByZXF1ZXN0QmFzZSA9IHJlcXVpcmUoJy4vcmVxdWVzdC1iYXNlJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzLW9iamVjdCcpO1xuXG4vKipcbiAqIE5vb3AuXG4gKi9cblxuZnVuY3Rpb24gbm9vcCgpe307XG5cbi8qKlxuICogRXhwb3NlIGByZXF1ZXN0YC5cbiAqL1xuXG52YXIgcmVxdWVzdCA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9yZXF1ZXN0JykuYmluZChudWxsLCBSZXF1ZXN0KTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgWEhSLlxuICovXG5cbnJlcXVlc3QuZ2V0WEhSID0gZnVuY3Rpb24gKCkge1xuICBpZiAocm9vdC5YTUxIdHRwUmVxdWVzdFxuICAgICAgJiYgKCFyb290LmxvY2F0aW9uIHx8ICdmaWxlOicgIT0gcm9vdC5sb2NhdGlvbi5wcm90b2NvbFxuICAgICAgICAgIHx8ICFyb290LkFjdGl2ZVhPYmplY3QpKSB7XG4gICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdDtcbiAgfSBlbHNlIHtcbiAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxIVFRQJyk7IH0gY2F0Y2goZSkge31cbiAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQLjYuMCcpOyB9IGNhdGNoKGUpIHt9XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUC4zLjAnKTsgfSBjYXRjaChlKSB7fVxuICAgIHRyeSB7IHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAnKTsgfSBjYXRjaChlKSB7fVxuICB9XG4gIHRocm93IEVycm9yKFwiQnJvd3Nlci1vbmx5IHZlcmlzb24gb2Ygc3VwZXJhZ2VudCBjb3VsZCBub3QgZmluZCBYSFJcIik7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgYWRkZWQgdG8gc3VwcG9ydCBJRS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxudmFyIHRyaW0gPSAnJy50cmltXG4gID8gZnVuY3Rpb24ocykgeyByZXR1cm4gcy50cmltKCk7IH1cbiAgOiBmdW5jdGlvbihzKSB7IHJldHVybiBzLnJlcGxhY2UoLyheXFxzKnxcXHMqJCkvZywgJycpOyB9O1xuXG4vKipcbiAqIFNlcmlhbGl6ZSB0aGUgZ2l2ZW4gYG9iamAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2VyaWFsaXplKG9iaikge1xuICBpZiAoIWlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gIHZhciBwYWlycyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSwgb2JqW2tleV0pO1xuICB9XG4gIHJldHVybiBwYWlycy5qb2luKCcmJyk7XG59XG5cbi8qKlxuICogSGVscHMgJ3NlcmlhbGl6ZScgd2l0aCBzZXJpYWxpemluZyBhcnJheXMuXG4gKiBNdXRhdGVzIHRoZSBwYWlycyBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyc1xuICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKi9cblxuZnVuY3Rpb24gcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSwgdmFsKSB7XG4gIGlmICh2YWwgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgIHZhbC5mb3JFYWNoKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSwgdik7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcbiAgICAgIGZvcih2YXIgc3Via2V5IGluIHZhbCkge1xuICAgICAgICBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywga2V5ICsgJ1snICsgc3Via2V5ICsgJ10nLCB2YWxbc3Via2V5XSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhaXJzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSlcbiAgICAgICAgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgIHBhaXJzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkpO1xuICB9XG59XG5cbi8qKlxuICogRXhwb3NlIHNlcmlhbGl6YXRpb24gbWV0aG9kLlxuICovXG5cbiByZXF1ZXN0LnNlcmlhbGl6ZU9iamVjdCA9IHNlcmlhbGl6ZTtcblxuIC8qKlxuICAqIFBhcnNlIHRoZSBnaXZlbiB4LXd3dy1mb3JtLXVybGVuY29kZWQgYHN0cmAuXG4gICpcbiAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICogQHJldHVybiB7T2JqZWN0fVxuICAqIEBhcGkgcHJpdmF0ZVxuICAqL1xuXG5mdW5jdGlvbiBwYXJzZVN0cmluZyhzdHIpIHtcbiAgdmFyIG9iaiA9IHt9O1xuICB2YXIgcGFpcnMgPSBzdHIuc3BsaXQoJyYnKTtcbiAgdmFyIHBhaXI7XG4gIHZhciBwb3M7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhaXJzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgcGFpciA9IHBhaXJzW2ldO1xuICAgIHBvcyA9IHBhaXIuaW5kZXhPZignPScpO1xuICAgIGlmIChwb3MgPT0gLTEpIHtcbiAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQocGFpcildID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQocGFpci5zbGljZSgwLCBwb3MpKV0gPVxuICAgICAgICBkZWNvZGVVUklDb21wb25lbnQocGFpci5zbGljZShwb3MgKyAxKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBFeHBvc2UgcGFyc2VyLlxuICovXG5cbnJlcXVlc3QucGFyc2VTdHJpbmcgPSBwYXJzZVN0cmluZztcblxuLyoqXG4gKiBEZWZhdWx0IE1JTUUgdHlwZSBtYXAuXG4gKlxuICogICAgIHN1cGVyYWdlbnQudHlwZXMueG1sID0gJ2FwcGxpY2F0aW9uL3htbCc7XG4gKlxuICovXG5cbnJlcXVlc3QudHlwZXMgPSB7XG4gIGh0bWw6ICd0ZXh0L2h0bWwnLFxuICBqc29uOiAnYXBwbGljYXRpb24vanNvbicsXG4gIHhtbDogJ2FwcGxpY2F0aW9uL3htbCcsXG4gIHVybGVuY29kZWQ6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAnZm9ybSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAnZm9ybS1kYXRhJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbn07XG5cbi8qKlxuICogRGVmYXVsdCBzZXJpYWxpemF0aW9uIG1hcC5cbiAqXG4gKiAgICAgc3VwZXJhZ2VudC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL3htbCddID0gZnVuY3Rpb24ob2JqKXtcbiAqICAgICAgIHJldHVybiAnZ2VuZXJhdGVkIHhtbCBoZXJlJztcbiAqICAgICB9O1xuICpcbiAqL1xuXG4gcmVxdWVzdC5zZXJpYWxpemUgPSB7XG4gICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogc2VyaWFsaXplLFxuICAgJ2FwcGxpY2F0aW9uL2pzb24nOiBKU09OLnN0cmluZ2lmeVxuIH07XG5cbiAvKipcbiAgKiBEZWZhdWx0IHBhcnNlcnMuXG4gICpcbiAgKiAgICAgc3VwZXJhZ2VudC5wYXJzZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihzdHIpe1xuICAqICAgICAgIHJldHVybiB7IG9iamVjdCBwYXJzZWQgZnJvbSBzdHIgfTtcbiAgKiAgICAgfTtcbiAgKlxuICAqL1xuXG5yZXF1ZXN0LnBhcnNlID0ge1xuICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogcGFyc2VTdHJpbmcsXG4gICdhcHBsaWNhdGlvbi9qc29uJzogSlNPTi5wYXJzZVxufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gaGVhZGVyIGBzdHJgIGludG9cbiAqIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBtYXBwZWQgZmllbGRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlSGVhZGVyKHN0cikge1xuICB2YXIgbGluZXMgPSBzdHIuc3BsaXQoL1xccj9cXG4vKTtcbiAgdmFyIGZpZWxkcyA9IHt9O1xuICB2YXIgaW5kZXg7XG4gIHZhciBsaW5lO1xuICB2YXIgZmllbGQ7XG4gIHZhciB2YWw7XG5cbiAgbGluZXMucG9wKCk7IC8vIHRyYWlsaW5nIENSTEZcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGluZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICBsaW5lID0gbGluZXNbaV07XG4gICAgaW5kZXggPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBmaWVsZCA9IGxpbmUuc2xpY2UoMCwgaW5kZXgpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdHJpbShsaW5lLnNsaWNlKGluZGV4ICsgMSkpO1xuICAgIGZpZWxkc1tmaWVsZF0gPSB2YWw7XG4gIH1cblxuICByZXR1cm4gZmllbGRzO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGBtaW1lYCBpcyBqc29uIG9yIGhhcyAranNvbiBzdHJ1Y3R1cmVkIHN5bnRheCBzdWZmaXguXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1pbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBpc0pTT04obWltZSkge1xuICByZXR1cm4gL1tcXC8rXWpzb25cXGIvLnRlc3QobWltZSk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBtaW1lIHR5cGUgZm9yIHRoZSBnaXZlbiBgc3RyYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiB0eXBlKHN0cil7XG4gIHJldHVybiBzdHIuc3BsaXQoLyAqOyAqLykuc2hpZnQoKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGhlYWRlciBmaWVsZCBwYXJhbWV0ZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcmFtcyhzdHIpe1xuICByZXR1cm4gc3RyLnNwbGl0KC8gKjsgKi8pLnJlZHVjZShmdW5jdGlvbihvYmosIHN0cil7XG4gICAgdmFyIHBhcnRzID0gc3RyLnNwbGl0KC8gKj0gKi8pLFxuICAgICAgICBrZXkgPSBwYXJ0cy5zaGlmdCgpLFxuICAgICAgICB2YWwgPSBwYXJ0cy5zaGlmdCgpO1xuXG4gICAgaWYgKGtleSAmJiB2YWwpIG9ialtrZXldID0gdmFsO1xuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9KTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgUmVzcG9uc2VgIHdpdGggdGhlIGdpdmVuIGB4aHJgLlxuICpcbiAqICAtIHNldCBmbGFncyAoLm9rLCAuZXJyb3IsIGV0YylcbiAqICAtIHBhcnNlIGhlYWRlclxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICBBbGlhc2luZyBgc3VwZXJhZ2VudGAgYXMgYHJlcXVlc3RgIGlzIG5pY2U6XG4gKlxuICogICAgICByZXF1ZXN0ID0gc3VwZXJhZ2VudDtcbiAqXG4gKiAgV2UgY2FuIHVzZSB0aGUgcHJvbWlzZS1saWtlIEFQSSwgb3IgcGFzcyBjYWxsYmFja3M6XG4gKlxuICogICAgICByZXF1ZXN0LmdldCgnLycpLmVuZChmdW5jdGlvbihyZXMpe30pO1xuICogICAgICByZXF1ZXN0LmdldCgnLycsIGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogIFNlbmRpbmcgZGF0YSBjYW4gYmUgY2hhaW5lZDpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInKVxuICogICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgIC5lbmQoZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiAgT3IgcGFzc2VkIHRvIGAuc2VuZCgpYDpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInKVxuICogICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9LCBmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqICBPciBwYXNzZWQgdG8gYC5wb3N0KClgOlxuICpcbiAqICAgICAgcmVxdWVzdFxuICogICAgICAgIC5wb3N0KCcvdXNlcicsIHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgIC5lbmQoZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiBPciBmdXJ0aGVyIHJlZHVjZWQgdG8gYSBzaW5nbGUgY2FsbCBmb3Igc2ltcGxlIGNhc2VzOlxuICpcbiAqICAgICAgcmVxdWVzdFxuICogICAgICAgIC5wb3N0KCcvdXNlcicsIHsgbmFtZTogJ3RqJyB9LCBmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqIEBwYXJhbSB7WE1MSFRUUFJlcXVlc3R9IHhoclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIFJlc3BvbnNlKHJlcSwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdGhpcy5yZXEgPSByZXE7XG4gIHRoaXMueGhyID0gdGhpcy5yZXEueGhyO1xuICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG4gIHRoaXMudGV4dCA9ICgodGhpcy5yZXEubWV0aG9kICE9J0hFQUQnICYmICh0aGlzLnhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSkgfHwgdHlwZW9mIHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgID8gdGhpcy54aHIucmVzcG9uc2VUZXh0XG4gICAgIDogbnVsbDtcbiAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5yZXEueGhyLnN0YXR1c1RleHQ7XG4gIHRoaXMuX3NldFN0YXR1c1Byb3BlcnRpZXModGhpcy54aHIuc3RhdHVzKTtcbiAgdGhpcy5oZWFkZXIgPSB0aGlzLmhlYWRlcnMgPSBwYXJzZUhlYWRlcih0aGlzLnhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk7XG4gIC8vIGdldEFsbFJlc3BvbnNlSGVhZGVycyBzb21ldGltZXMgZmFsc2VseSByZXR1cm5zIFwiXCIgZm9yIENPUlMgcmVxdWVzdHMsIGJ1dFxuICAvLyBnZXRSZXNwb25zZUhlYWRlciBzdGlsbCB3b3Jrcy4gc28gd2UgZ2V0IGNvbnRlbnQtdHlwZSBldmVuIGlmIGdldHRpbmdcbiAgLy8gb3RoZXIgaGVhZGVycyBmYWlscy5cbiAgdGhpcy5oZWFkZXJbJ2NvbnRlbnQtdHlwZSddID0gdGhpcy54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpO1xuICB0aGlzLl9zZXRIZWFkZXJQcm9wZXJ0aWVzKHRoaXMuaGVhZGVyKTtcbiAgdGhpcy5ib2R5ID0gdGhpcy5yZXEubWV0aG9kICE9ICdIRUFEJ1xuICAgID8gdGhpcy5fcGFyc2VCb2R5KHRoaXMudGV4dCA/IHRoaXMudGV4dCA6IHRoaXMueGhyLnJlc3BvbnNlKVxuICAgIDogbnVsbDtcbn1cblxuLyoqXG4gKiBHZXQgY2FzZS1pbnNlbnNpdGl2ZSBgZmllbGRgIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXNwb25zZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oZmllbGQpe1xuICByZXR1cm4gdGhpcy5oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV07XG59O1xuXG4vKipcbiAqIFNldCBoZWFkZXIgcmVsYXRlZCBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBgLnR5cGVgIHRoZSBjb250ZW50IHR5cGUgd2l0aG91dCBwYXJhbXNcbiAqXG4gKiBBIHJlc3BvbnNlIG9mIFwiQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCJcbiAqIHdpbGwgcHJvdmlkZSB5b3Ugd2l0aCBhIGAudHlwZWAgb2YgXCJ0ZXh0L3BsYWluXCIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGhlYWRlclxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLl9zZXRIZWFkZXJQcm9wZXJ0aWVzID0gZnVuY3Rpb24oaGVhZGVyKXtcbiAgLy8gY29udGVudC10eXBlXG4gIHZhciBjdCA9IHRoaXMuaGVhZGVyWydjb250ZW50LXR5cGUnXSB8fCAnJztcbiAgdGhpcy50eXBlID0gdHlwZShjdCk7XG5cbiAgLy8gcGFyYW1zXG4gIHZhciBvYmogPSBwYXJhbXMoY3QpO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB0aGlzW2tleV0gPSBvYmpba2V5XTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGJvZHkgYHN0cmAuXG4gKlxuICogVXNlZCBmb3IgYXV0by1wYXJzaW5nIG9mIGJvZGllcy4gUGFyc2Vyc1xuICogYXJlIGRlZmluZWQgb24gdGhlIGBzdXBlcmFnZW50LnBhcnNlYCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TWl4ZWR9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXNwb25zZS5wcm90b3R5cGUuX3BhcnNlQm9keSA9IGZ1bmN0aW9uKHN0cil7XG4gIHZhciBwYXJzZSA9IHJlcXVlc3QucGFyc2VbdGhpcy50eXBlXTtcbiAgaWYgKCFwYXJzZSAmJiBpc0pTT04odGhpcy50eXBlKSkge1xuICAgIHBhcnNlID0gcmVxdWVzdC5wYXJzZVsnYXBwbGljYXRpb24vanNvbiddO1xuICB9XG4gIHJldHVybiBwYXJzZSAmJiBzdHIgJiYgKHN0ci5sZW5ndGggfHwgc3RyIGluc3RhbmNlb2YgT2JqZWN0KVxuICAgID8gcGFyc2Uoc3RyKVxuICAgIDogbnVsbDtcbn07XG5cbi8qKlxuICogU2V0IGZsYWdzIHN1Y2ggYXMgYC5va2AgYmFzZWQgb24gYHN0YXR1c2AuXG4gKlxuICogRm9yIGV4YW1wbGUgYSAyeHggcmVzcG9uc2Ugd2lsbCBnaXZlIHlvdSBhIGAub2tgIG9mIF9fdHJ1ZV9fXG4gKiB3aGVyZWFzIDV4eCB3aWxsIGJlIF9fZmFsc2VfXyBhbmQgYC5lcnJvcmAgd2lsbCBiZSBfX3RydWVfXy4gVGhlXG4gKiBgLmNsaWVudEVycm9yYCBhbmQgYC5zZXJ2ZXJFcnJvcmAgYXJlIGFsc28gYXZhaWxhYmxlIHRvIGJlIG1vcmVcbiAqIHNwZWNpZmljLCBhbmQgYC5zdGF0dXNUeXBlYCBpcyB0aGUgY2xhc3Mgb2YgZXJyb3IgcmFuZ2luZyBmcm9tIDEuLjVcbiAqIHNvbWV0aW1lcyB1c2VmdWwgZm9yIG1hcHBpbmcgcmVzcG9uZCBjb2xvcnMgZXRjLlxuICpcbiAqIFwic3VnYXJcIiBwcm9wZXJ0aWVzIGFyZSBhbHNvIGRlZmluZWQgZm9yIGNvbW1vbiBjYXNlcy4gQ3VycmVudGx5IHByb3ZpZGluZzpcbiAqXG4gKiAgIC0gLm5vQ29udGVudFxuICogICAtIC5iYWRSZXF1ZXN0XG4gKiAgIC0gLnVuYXV0aG9yaXplZFxuICogICAtIC5ub3RBY2NlcHRhYmxlXG4gKiAgIC0gLm5vdEZvdW5kXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXR1c1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLl9zZXRTdGF0dXNQcm9wZXJ0aWVzID0gZnVuY3Rpb24oc3RhdHVzKXtcbiAgLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICBpZiAoc3RhdHVzID09PSAxMjIzKSB7XG4gICAgc3RhdHVzID0gMjA0O1xuICB9XG5cbiAgdmFyIHR5cGUgPSBzdGF0dXMgLyAxMDAgfCAwO1xuXG4gIC8vIHN0YXR1cyAvIGNsYXNzXG4gIHRoaXMuc3RhdHVzID0gdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzO1xuICB0aGlzLnN0YXR1c1R5cGUgPSB0eXBlO1xuXG4gIC8vIGJhc2ljc1xuICB0aGlzLmluZm8gPSAxID09IHR5cGU7XG4gIHRoaXMub2sgPSAyID09IHR5cGU7XG4gIHRoaXMuY2xpZW50RXJyb3IgPSA0ID09IHR5cGU7XG4gIHRoaXMuc2VydmVyRXJyb3IgPSA1ID09IHR5cGU7XG4gIHRoaXMuZXJyb3IgPSAoNCA9PSB0eXBlIHx8IDUgPT0gdHlwZSlcbiAgICA/IHRoaXMudG9FcnJvcigpXG4gICAgOiBmYWxzZTtcblxuICAvLyBzdWdhclxuICB0aGlzLmFjY2VwdGVkID0gMjAyID09IHN0YXR1cztcbiAgdGhpcy5ub0NvbnRlbnQgPSAyMDQgPT0gc3RhdHVzO1xuICB0aGlzLmJhZFJlcXVlc3QgPSA0MDAgPT0gc3RhdHVzO1xuICB0aGlzLnVuYXV0aG9yaXplZCA9IDQwMSA9PSBzdGF0dXM7XG4gIHRoaXMubm90QWNjZXB0YWJsZSA9IDQwNiA9PSBzdGF0dXM7XG4gIHRoaXMubm90Rm91bmQgPSA0MDQgPT0gc3RhdHVzO1xuICB0aGlzLmZvcmJpZGRlbiA9IDQwMyA9PSBzdGF0dXM7XG59O1xuXG4vKipcbiAqIFJldHVybiBhbiBgRXJyb3JgIHJlcHJlc2VudGF0aXZlIG9mIHRoaXMgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybiB7RXJyb3J9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlc3BvbnNlLnByb3RvdHlwZS50b0Vycm9yID0gZnVuY3Rpb24oKXtcbiAgdmFyIHJlcSA9IHRoaXMucmVxO1xuICB2YXIgbWV0aG9kID0gcmVxLm1ldGhvZDtcbiAgdmFyIHVybCA9IHJlcS51cmw7XG5cbiAgdmFyIG1zZyA9ICdjYW5ub3QgJyArIG1ldGhvZCArICcgJyArIHVybCArICcgKCcgKyB0aGlzLnN0YXR1cyArICcpJztcbiAgdmFyIGVyciA9IG5ldyBFcnJvcihtc2cpO1xuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSBtZXRob2Q7XG4gIGVyci51cmwgPSB1cmw7XG5cbiAgcmV0dXJuIGVycjtcbn07XG5cbi8qKlxuICogRXhwb3NlIGBSZXNwb25zZWAuXG4gKi9cblxucmVxdWVzdC5SZXNwb25zZSA9IFJlc3BvbnNlO1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlcXVlc3RgIHdpdGggdGhlIGdpdmVuIGBtZXRob2RgIGFuZCBgdXJsYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFJlcXVlc3QobWV0aG9kLCB1cmwpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9xdWVyeSA9IHRoaXMuX3F1ZXJ5IHx8IFtdO1xuICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgdGhpcy51cmwgPSB1cmw7XG4gIHRoaXMuaGVhZGVyID0ge307IC8vIHByZXNlcnZlcyBoZWFkZXIgbmFtZSBjYXNlXG4gIHRoaXMuX2hlYWRlciA9IHt9OyAvLyBjb2VyY2VzIGhlYWRlciBuYW1lcyB0byBsb3dlcmNhc2VcbiAgdGhpcy5vbignZW5kJywgZnVuY3Rpb24oKXtcbiAgICB2YXIgZXJyID0gbnVsbDtcbiAgICB2YXIgcmVzID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICByZXMgPSBuZXcgUmVzcG9uc2Uoc2VsZik7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBlcnIgPSBuZXcgRXJyb3IoJ1BhcnNlciBpcyB1bmFibGUgdG8gcGFyc2UgdGhlIHJlc3BvbnNlJyk7XG4gICAgICBlcnIucGFyc2UgPSB0cnVlO1xuICAgICAgZXJyLm9yaWdpbmFsID0gZTtcbiAgICAgIC8vIGlzc3VlICM2NzU6IHJldHVybiB0aGUgcmF3IHJlc3BvbnNlIGlmIHRoZSByZXNwb25zZSBwYXJzaW5nIGZhaWxzXG4gICAgICBlcnIucmF3UmVzcG9uc2UgPSBzZWxmLnhociAmJiBzZWxmLnhoci5yZXNwb25zZVRleHQgPyBzZWxmLnhoci5yZXNwb25zZVRleHQgOiBudWxsO1xuICAgICAgLy8gaXNzdWUgIzg3NjogcmV0dXJuIHRoZSBodHRwIHN0YXR1cyBjb2RlIGlmIHRoZSByZXNwb25zZSBwYXJzaW5nIGZhaWxzXG4gICAgICBlcnIuc3RhdHVzQ29kZSA9IHNlbGYueGhyICYmIHNlbGYueGhyLnN0YXR1cyA/IHNlbGYueGhyLnN0YXR1cyA6IG51bGw7XG4gICAgICByZXR1cm4gc2VsZi5jYWxsYmFjayhlcnIpO1xuICAgIH1cblxuICAgIHNlbGYuZW1pdCgncmVzcG9uc2UnLCByZXMpO1xuXG4gICAgdmFyIG5ld19lcnI7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyZXMuc3RhdHVzIDwgMjAwIHx8IHJlcy5zdGF0dXMgPj0gMzAwKSB7XG4gICAgICAgIG5ld19lcnIgPSBuZXcgRXJyb3IocmVzLnN0YXR1c1RleHQgfHwgJ1Vuc3VjY2Vzc2Z1bCBIVFRQIHJlc3BvbnNlJyk7XG4gICAgICAgIG5ld19lcnIub3JpZ2luYWwgPSBlcnI7XG4gICAgICAgIG5ld19lcnIucmVzcG9uc2UgPSByZXM7XG4gICAgICAgIG5ld19lcnIuc3RhdHVzID0gcmVzLnN0YXR1cztcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIG5ld19lcnIgPSBlOyAvLyAjOTg1IHRvdWNoaW5nIHJlcyBtYXkgY2F1c2UgSU5WQUxJRF9TVEFURV9FUlIgb24gb2xkIEFuZHJvaWRcbiAgICB9XG5cbiAgICAvLyAjMTAwMCBkb24ndCBjYXRjaCBlcnJvcnMgZnJvbSB0aGUgY2FsbGJhY2sgdG8gYXZvaWQgZG91YmxlIGNhbGxpbmcgaXRcbiAgICBpZiAobmV3X2Vycikge1xuICAgICAgc2VsZi5jYWxsYmFjayhuZXdfZXJyLCByZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmNhbGxiYWNrKG51bGwsIHJlcyk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBNaXhpbiBgRW1pdHRlcmAgYW5kIGByZXF1ZXN0QmFzZWAuXG4gKi9cblxuRW1pdHRlcihSZXF1ZXN0LnByb3RvdHlwZSk7XG5mb3IgKHZhciBrZXkgaW4gcmVxdWVzdEJhc2UpIHtcbiAgUmVxdWVzdC5wcm90b3R5cGVba2V5XSA9IHJlcXVlc3RCYXNlW2tleV07XG59XG5cbi8qKlxuICogU2V0IENvbnRlbnQtVHlwZSB0byBgdHlwZWAsIG1hcHBpbmcgdmFsdWVzIGZyb20gYHJlcXVlc3QudHlwZXNgLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgc3VwZXJhZ2VudC50eXBlcy54bWwgPSAnYXBwbGljYXRpb24veG1sJztcbiAqXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnLycpXG4gKiAgICAgICAgLnR5cGUoJ3htbCcpXG4gKiAgICAgICAgLnNlbmQoeG1sc3RyaW5nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxdWVzdC5wb3N0KCcvJylcbiAqICAgICAgICAudHlwZSgnYXBwbGljYXRpb24veG1sJylcbiAqICAgICAgICAuc2VuZCh4bWxzdHJpbmcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS50eXBlID0gZnVuY3Rpb24odHlwZSl7XG4gIHRoaXMuc2V0KCdDb250ZW50LVR5cGUnLCByZXF1ZXN0LnR5cGVzW3R5cGVdIHx8IHR5cGUpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHJlc3BvbnNlVHlwZSB0byBgdmFsYC4gUHJlc2VudGx5IHZhbGlkIHJlc3BvbnNlVHlwZXMgYXJlICdibG9iJyBhbmRcbiAqICdhcnJheWJ1ZmZlcicuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICByZXEuZ2V0KCcvJylcbiAqICAgICAgICAucmVzcG9uc2VUeXBlKCdibG9iJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUucmVzcG9uc2VUeXBlID0gZnVuY3Rpb24odmFsKXtcbiAgdGhpcy5fcmVzcG9uc2VUeXBlID0gdmFsO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IEFjY2VwdCB0byBgdHlwZWAsIG1hcHBpbmcgdmFsdWVzIGZyb20gYHJlcXVlc3QudHlwZXNgLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgc3VwZXJhZ2VudC50eXBlcy5qc29uID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy9hZ2VudCcpXG4gKiAgICAgICAgLmFjY2VwdCgnanNvbicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogICAgICByZXF1ZXN0LmdldCgnL2FnZW50JylcbiAqICAgICAgICAuYWNjZXB0KCdhcHBsaWNhdGlvbi9qc29uJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYWNjZXB0XG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24odHlwZSl7XG4gIHRoaXMuc2V0KCdBY2NlcHQnLCByZXF1ZXN0LnR5cGVzW3R5cGVdIHx8IHR5cGUpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IEF1dGhvcml6YXRpb24gZmllbGQgdmFsdWUgd2l0aCBgdXNlcmAgYW5kIGBwYXNzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXNlclxuICogQHBhcmFtIHtTdHJpbmd9IHBhc3NcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIHdpdGggJ3R5cGUnIHByb3BlcnR5ICdhdXRvJyBvciAnYmFzaWMnIChkZWZhdWx0ICdiYXNpYycpXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuYXV0aCA9IGZ1bmN0aW9uKHVzZXIsIHBhc3MsIG9wdGlvbnMpe1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgdHlwZTogJ2Jhc2ljJ1xuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAob3B0aW9ucy50eXBlKSB7XG4gICAgY2FzZSAnYmFzaWMnOlxuICAgICAgdmFyIHN0ciA9IGJ0b2EodXNlciArICc6JyArIHBhc3MpO1xuICAgICAgdGhpcy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArIHN0cik7XG4gICAgYnJlYWs7XG5cbiAgICBjYXNlICdhdXRvJzpcbiAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VyO1xuICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3M7XG4gICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiogQWRkIHF1ZXJ5LXN0cmluZyBgdmFsYC5cbipcbiogRXhhbXBsZXM6XG4qXG4qICAgcmVxdWVzdC5nZXQoJy9zaG9lcycpXG4qICAgICAucXVlcnkoJ3NpemU9MTAnKVxuKiAgICAgLnF1ZXJ5KHsgY29sb3I6ICdibHVlJyB9KVxuKlxuKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IHZhbFxuKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiogQGFwaSBwdWJsaWNcbiovXG5cblJlcXVlc3QucHJvdG90eXBlLnF1ZXJ5ID0gZnVuY3Rpb24odmFsKXtcbiAgaWYgKCdzdHJpbmcnICE9IHR5cGVvZiB2YWwpIHZhbCA9IHNlcmlhbGl6ZSh2YWwpO1xuICBpZiAodmFsKSB0aGlzLl9xdWVyeS5wdXNoKHZhbCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBRdWV1ZSB0aGUgZ2l2ZW4gYGZpbGVgIGFzIGFuIGF0dGFjaG1lbnQgdG8gdGhlIHNwZWNpZmllZCBgZmllbGRgLFxuICogd2l0aCBvcHRpb25hbCBgZmlsZW5hbWVgLlxuICpcbiAqIGBgYCBqc1xuICogcmVxdWVzdC5wb3N0KCcvdXBsb2FkJylcbiAqICAgLmF0dGFjaCgnY29udGVudCcsIG5ldyBCbG9iKFsnPGEgaWQ9XCJhXCI+PGIgaWQ9XCJiXCI+aGV5ITwvYj48L2E+J10sIHsgdHlwZTogXCJ0ZXh0L2h0bWxcIn0pKVxuICogICAuZW5kKGNhbGxiYWNrKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHBhcmFtIHtCbG9ifEZpbGV9IGZpbGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlbmFtZVxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uKGZpZWxkLCBmaWxlLCBmaWxlbmFtZSl7XG4gIHRoaXMuX2dldEZvcm1EYXRhKCkuYXBwZW5kKGZpZWxkLCBmaWxlLCBmaWxlbmFtZSB8fCBmaWxlLm5hbWUpO1xuICByZXR1cm4gdGhpcztcbn07XG5cblJlcXVlc3QucHJvdG90eXBlLl9nZXRGb3JtRGF0YSA9IGZ1bmN0aW9uKCl7XG4gIGlmICghdGhpcy5fZm9ybURhdGEpIHtcbiAgICB0aGlzLl9mb3JtRGF0YSA9IG5ldyByb290LkZvcm1EYXRhKCk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuX2Zvcm1EYXRhO1xufTtcblxuLyoqXG4gKiBJbnZva2UgdGhlIGNhbGxiYWNrIHdpdGggYGVycmAgYW5kIGByZXNgXG4gKiBhbmQgaGFuZGxlIGFyaXR5IGNoZWNrLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyclxuICogQHBhcmFtIHtSZXNwb25zZX0gcmVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5jYWxsYmFjayA9IGZ1bmN0aW9uKGVyciwgcmVzKXtcbiAgdmFyIGZuID0gdGhpcy5fY2FsbGJhY2s7XG4gIHRoaXMuY2xlYXJUaW1lb3V0KCk7XG4gIGZuKGVyciwgcmVzKTtcbn07XG5cbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggeC1kb21haW4gZXJyb3IuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuY3Jvc3NEb21haW5FcnJvciA9IGZ1bmN0aW9uKCl7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1JlcXVlc3QgaGFzIGJlZW4gdGVybWluYXRlZFxcblBvc3NpYmxlIGNhdXNlczogdGhlIG5ldHdvcmsgaXMgb2ZmbGluZSwgT3JpZ2luIGlzIG5vdCBhbGxvd2VkIGJ5IEFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiwgdGhlIHBhZ2UgaXMgYmVpbmcgdW5sb2FkZWQsIGV0Yy4nKTtcbiAgZXJyLmNyb3NzRG9tYWluID0gdHJ1ZTtcblxuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSB0aGlzLm1ldGhvZDtcbiAgZXJyLnVybCA9IHRoaXMudXJsO1xuXG4gIHRoaXMuY2FsbGJhY2soZXJyKTtcbn07XG5cbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggdGltZW91dCBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5fdGltZW91dEVycm9yID0gZnVuY3Rpb24oKXtcbiAgdmFyIHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0O1xuICB2YXIgZXJyID0gbmV3IEVycm9yKCd0aW1lb3V0IG9mICcgKyB0aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJyk7XG4gIGVyci50aW1lb3V0ID0gdGltZW91dDtcbiAgdGhpcy5jYWxsYmFjayhlcnIpO1xufTtcblxuLyoqXG4gKiBDb21wb3NlIHF1ZXJ5c3RyaW5nIHRvIGFwcGVuZCB0byByZXEudXJsXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuX2FwcGVuZFF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24oKXtcbiAgdmFyIHF1ZXJ5ID0gdGhpcy5fcXVlcnkuam9pbignJicpO1xuICBpZiAocXVlcnkpIHtcbiAgICB0aGlzLnVybCArPSB+dGhpcy51cmwuaW5kZXhPZignPycpXG4gICAgICA/ICcmJyArIHF1ZXJ5XG4gICAgICA6ICc/JyArIHF1ZXJ5O1xuICB9XG59O1xuXG4vKipcbiAqIEluaXRpYXRlIHJlcXVlc3QsIGludm9raW5nIGNhbGxiYWNrIGBmbihyZXMpYFxuICogd2l0aCBhbiBpbnN0YW5jZW9mIGBSZXNwb25zZWAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbihmbil7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHhociA9IHRoaXMueGhyID0gcmVxdWVzdC5nZXRYSFIoKTtcbiAgdmFyIHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0O1xuICB2YXIgZGF0YSA9IHRoaXMuX2Zvcm1EYXRhIHx8IHRoaXMuX2RhdGE7XG5cbiAgLy8gc3RvcmUgY2FsbGJhY2tcbiAgdGhpcy5fY2FsbGJhY2sgPSBmbiB8fCBub29wO1xuXG4gIC8vIHN0YXRlIGNoYW5nZVxuICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKXtcbiAgICBpZiAoNCAhPSB4aHIucmVhZHlTdGF0ZSkgcmV0dXJuO1xuXG4gICAgLy8gSW4gSUU5LCByZWFkcyB0byBhbnkgcHJvcGVydHkgKGUuZy4gc3RhdHVzKSBvZmYgb2YgYW4gYWJvcnRlZCBYSFIgd2lsbFxuICAgIC8vIHJlc3VsdCBpbiB0aGUgZXJyb3IgXCJDb3VsZCBub3QgY29tcGxldGUgdGhlIG9wZXJhdGlvbiBkdWUgdG8gZXJyb3IgYzAwYzAyM2ZcIlxuICAgIHZhciBzdGF0dXM7XG4gICAgdHJ5IHsgc3RhdHVzID0geGhyLnN0YXR1cyB9IGNhdGNoKGUpIHsgc3RhdHVzID0gMDsgfVxuXG4gICAgaWYgKDAgPT0gc3RhdHVzKSB7XG4gICAgICBpZiAoc2VsZi50aW1lZG91dCkgcmV0dXJuIHNlbGYuX3RpbWVvdXRFcnJvcigpO1xuICAgICAgaWYgKHNlbGYuX2Fib3J0ZWQpIHJldHVybjtcbiAgICAgIHJldHVybiBzZWxmLmNyb3NzRG9tYWluRXJyb3IoKTtcbiAgICB9XG4gICAgc2VsZi5lbWl0KCdlbmQnKTtcbiAgfTtcblxuICAvLyBwcm9ncmVzc1xuICB2YXIgaGFuZGxlUHJvZ3Jlc3MgPSBmdW5jdGlvbihkaXJlY3Rpb24sIGUpIHtcbiAgICBpZiAoZS50b3RhbCA+IDApIHtcbiAgICAgIGUucGVyY2VudCA9IGUubG9hZGVkIC8gZS50b3RhbCAqIDEwMDtcbiAgICB9XG4gICAgZS5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgc2VsZi5lbWl0KCdwcm9ncmVzcycsIGUpO1xuICB9XG4gIGlmICh0aGlzLmhhc0xpc3RlbmVycygncHJvZ3Jlc3MnKSkge1xuICAgIHRyeSB7XG4gICAgICB4aHIub25wcm9ncmVzcyA9IGhhbmRsZVByb2dyZXNzLmJpbmQobnVsbCwgJ2Rvd25sb2FkJyk7XG4gICAgICBpZiAoeGhyLnVwbG9hZCkge1xuICAgICAgICB4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSBoYW5kbGVQcm9ncmVzcy5iaW5kKG51bGwsICd1cGxvYWQnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIC8vIEFjY2Vzc2luZyB4aHIudXBsb2FkIGZhaWxzIGluIElFIGZyb20gYSB3ZWIgd29ya2VyLCBzbyBqdXN0IHByZXRlbmQgaXQgZG9lc24ndCBleGlzdC5cbiAgICAgIC8vIFJlcG9ydGVkIGhlcmU6XG4gICAgICAvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzgzNzI0NS94bWxodHRwcmVxdWVzdC11cGxvYWQtdGhyb3dzLWludmFsaWQtYXJndW1lbnQtd2hlbi11c2VkLWZyb20td2ViLXdvcmtlci1jb250ZXh0XG4gICAgfVxuICB9XG5cbiAgLy8gdGltZW91dFxuICBpZiAodGltZW91dCAmJiAhdGhpcy5fdGltZXIpIHtcbiAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHNlbGYudGltZWRvdXQgPSB0cnVlO1xuICAgICAgc2VsZi5hYm9ydCgpO1xuICAgIH0sIHRpbWVvdXQpO1xuICB9XG5cbiAgLy8gcXVlcnlzdHJpbmdcbiAgdGhpcy5fYXBwZW5kUXVlcnlTdHJpbmcoKTtcblxuICAvLyBpbml0aWF0ZSByZXF1ZXN0XG4gIGlmICh0aGlzLnVzZXJuYW1lICYmIHRoaXMucGFzc3dvcmQpIHtcbiAgICB4aHIub3Blbih0aGlzLm1ldGhvZCwgdGhpcy51cmwsIHRydWUsIHRoaXMudXNlcm5hbWUsIHRoaXMucGFzc3dvcmQpO1xuICB9IGVsc2Uge1xuICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdHJ1ZSk7XG4gIH1cblxuICAvLyBDT1JTXG4gIGlmICh0aGlzLl93aXRoQ3JlZGVudGlhbHMpIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuXG4gIC8vIGJvZHlcbiAgaWYgKCdHRVQnICE9IHRoaXMubWV0aG9kICYmICdIRUFEJyAhPSB0aGlzLm1ldGhvZCAmJiAnc3RyaW5nJyAhPSB0eXBlb2YgZGF0YSAmJiAhdGhpcy5faXNIb3N0KGRhdGEpKSB7XG4gICAgLy8gc2VyaWFsaXplIHN0dWZmXG4gICAgdmFyIGNvbnRlbnRUeXBlID0gdGhpcy5faGVhZGVyWydjb250ZW50LXR5cGUnXTtcbiAgICB2YXIgc2VyaWFsaXplID0gdGhpcy5fc2VyaWFsaXplciB8fCByZXF1ZXN0LnNlcmlhbGl6ZVtjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JylbMF0gOiAnJ107XG4gICAgaWYgKCFzZXJpYWxpemUgJiYgaXNKU09OKGNvbnRlbnRUeXBlKSkgc2VyaWFsaXplID0gcmVxdWVzdC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL2pzb24nXTtcbiAgICBpZiAoc2VyaWFsaXplKSBkYXRhID0gc2VyaWFsaXplKGRhdGEpO1xuICB9XG5cbiAgLy8gc2V0IGhlYWRlciBmaWVsZHNcbiAgZm9yICh2YXIgZmllbGQgaW4gdGhpcy5oZWFkZXIpIHtcbiAgICBpZiAobnVsbCA9PSB0aGlzLmhlYWRlcltmaWVsZF0pIGNvbnRpbnVlO1xuICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGZpZWxkLCB0aGlzLmhlYWRlcltmaWVsZF0pO1xuICB9XG5cbiAgaWYgKHRoaXMuX3Jlc3BvbnNlVHlwZSkge1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLl9yZXNwb25zZVR5cGU7XG4gIH1cblxuICAvLyBzZW5kIHN0dWZmXG4gIHRoaXMuZW1pdCgncmVxdWVzdCcsIHRoaXMpO1xuXG4gIC8vIElFMTEgeGhyLnNlbmQodW5kZWZpbmVkKSBzZW5kcyAndW5kZWZpbmVkJyBzdHJpbmcgYXMgUE9TVCBwYXlsb2FkIChpbnN0ZWFkIG9mIG5vdGhpbmcpXG4gIC8vIFdlIG5lZWQgbnVsbCBoZXJlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gIHhoci5zZW5kKHR5cGVvZiBkYXRhICE9PSAndW5kZWZpbmVkJyA/IGRhdGEgOiBudWxsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogRXhwb3NlIGBSZXF1ZXN0YC5cbiAqL1xuXG5yZXF1ZXN0LlJlcXVlc3QgPSBSZXF1ZXN0O1xuXG4vKipcbiAqIEdFVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QuZ2V0ID0gZnVuY3Rpb24odXJsLCBkYXRhLCBmbil7XG4gIHZhciByZXEgPSByZXF1ZXN0KCdHRVQnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5xdWVyeShkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogSEVBRCBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QuaGVhZCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgZm4pe1xuICB2YXIgcmVxID0gcmVxdWVzdCgnSEVBRCcsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSBmbiA9IGRhdGEsIGRhdGEgPSBudWxsO1xuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKipcbiAqIE9QVElPTlMgcXVlcnkgdG8gYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0Lm9wdGlvbnMgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ09QVElPTlMnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBERUxFVEUgYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGVsKHVybCwgZm4pe1xuICB2YXIgcmVxID0gcmVxdWVzdCgnREVMRVRFJywgdXJsKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbnJlcXVlc3RbJ2RlbCddID0gZGVsO1xucmVxdWVzdFsnZGVsZXRlJ10gPSBkZWw7XG5cbi8qKlxuICogUEFUQ0ggYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfSBbZGF0YV1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QucGF0Y2ggPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ1BBVENIJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogUE9TVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR9IFtkYXRhXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5wb3N0ID0gZnVuY3Rpb24odXJsLCBkYXRhLCBmbil7XG4gIHZhciByZXEgPSByZXF1ZXN0KCdQT1NUJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogUFVUIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LnB1dCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgZm4pe1xuICB2YXIgcmVxID0gcmVxdWVzdCgnUFVUJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3VwZXJhZ2VudC9saWIvY2xpZW50LmpzXG4vLyBtb2R1bGUgaWQgPSA0NzBcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 471:
/***/ function(module, exports, __webpack_require__) {

	eval("\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (true) {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9jb21wb25lbnQtZW1pdHRlci9pbmRleC5qcz9lYTJmIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG4vKipcclxuICogRXhwb3NlIGBFbWl0dGVyYC5cclxuICovXHJcblxyXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICBtb2R1bGUuZXhwb3J0cyA9IEVtaXR0ZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplIGEgbmV3IGBFbWl0dGVyYC5cclxuICpcclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5mdW5jdGlvbiBFbWl0dGVyKG9iaikge1xyXG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIE1peGluIHRoZSBlbWl0dGVyIHByb3BlcnRpZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKiBAYXBpIHByaXZhdGVcclxuICovXHJcblxyXG5mdW5jdGlvbiBtaXhpbihvYmopIHtcclxuICBmb3IgKHZhciBrZXkgaW4gRW1pdHRlci5wcm90b3R5cGUpIHtcclxuICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTtcclxuICB9XHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuLyoqXHJcbiAqIExpc3RlbiBvbiB0aGUgZ2l2ZW4gYGV2ZW50YCB3aXRoIGBmbmAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9uID1cclxuRW1pdHRlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG4gICh0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXSlcclxuICAgIC5wdXNoKGZuKTtcclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGFuIGBldmVudGAgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgYSBzaW5nbGVcclxuICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XHJcbiAgZnVuY3Rpb24gb24oKSB7XHJcbiAgICB0aGlzLm9mZihldmVudCwgb24pO1xyXG4gICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIG9uLmZuID0gZm47XHJcbiAgdGhpcy5vbihldmVudCwgb24pO1xyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGBldmVudGAgb3IgYWxsXHJcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vZmYgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuXHJcbiAgLy8gYWxsXHJcbiAgaWYgKDAgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgdGhpcy5fY2FsbGJhY2tzID0ge307XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8vIHNwZWNpZmljIGV2ZW50XHJcbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XHJcbiAgaWYgKCFjYWxsYmFja3MpIHJldHVybiB0aGlzO1xyXG5cclxuICAvLyByZW1vdmUgYWxsIGhhbmRsZXJzXHJcbiAgaWYgKDEgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8vIHJlbW92ZSBzcGVjaWZpYyBoYW5kbGVyXHJcbiAgdmFyIGNiO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjYiA9IGNhbGxiYWNrc1tpXTtcclxuICAgIGlmIChjYiA9PT0gZm4gfHwgY2IuZm4gPT09IGZuKSB7XHJcbiAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBFbWl0IGBldmVudGAgd2l0aCB0aGUgZ2l2ZW4gYXJncy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7TWl4ZWR9IC4uLlxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG4gIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpXHJcbiAgICAsIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XHJcblxyXG4gIGlmIChjYWxsYmFja3MpIHtcclxuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgY2FsbGJhY2tzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJuIGFycmF5IG9mIGNhbGxiYWNrcyBmb3IgYGV2ZW50YC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEByZXR1cm4ge0FycmF5fVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcbiAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW107XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdGhpcyBlbWl0dGVyIGhhcyBgZXZlbnRgIGhhbmRsZXJzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5oYXNMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgcmV0dXJuICEhIHRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGg7XHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb21wb25lbnQtZW1pdHRlci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDcxXG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 472:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Module of mixed-in functions shared between node and client code\n */\nvar isObject = __webpack_require__(473);\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nexports.clearTimeout = function _clearTimeout(){\n  this._timeout = 0;\n  clearTimeout(this._timer);\n  return this;\n};\n\n/**\n * Override default response body parser\n *\n * This function will be called to convert incoming data into request.body\n *\n * @param {Function}\n * @api public\n */\n\nexports.parse = function parse(fn){\n  this._parser = fn;\n  return this;\n};\n\n/**\n * Override default request body serializer\n *\n * This function will be called to convert data set via .send or .attach into payload to send\n *\n * @param {Function}\n * @api public\n */\n\nexports.serialize = function serialize(fn){\n  this._serializer = fn;\n  return this;\n};\n\n/**\n * Set timeout to `ms`.\n *\n * @param {Number} ms\n * @return {Request} for chaining\n * @api public\n */\n\nexports.timeout = function timeout(ms){\n  this._timeout = ms;\n  return this;\n};\n\n/**\n * Promise support\n *\n * @param {Function} resolve\n * @param {Function} reject\n * @return {Request}\n */\n\nexports.then = function then(resolve, reject) {\n  if (!this._fullfilledPromise) {\n    var self = this;\n    this._fullfilledPromise = new Promise(function(innerResolve, innerReject){\n      self.end(function(err, res){\n        if (err) innerReject(err); else innerResolve(res);\n      });\n    });\n  }\n  return this._fullfilledPromise.then(resolve, reject);\n}\n\nexports.catch = function(cb) {\n  return this.then(undefined, cb);\n};\n\n/**\n * Allow for extension\n */\n\nexports.use = function use(fn) {\n  fn(this);\n  return this;\n}\n\n\n/**\n * Get request header `field`.\n * Case-insensitive.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nexports.get = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Get case-insensitive header `field` value.\n * This is a deprecated internal API. Use `.get(field)` instead.\n *\n * (getHeader is no longer used internally by the superagent code base)\n *\n * @param {String} field\n * @return {String}\n * @api private\n * @deprecated\n */\n\nexports.getHeader = exports.get;\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n * Case-insensitive.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nexports.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n * Case-insensitive.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n */\nexports.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Write the field `name` and `val`, or multiple fields with one object\n * for \"multipart/form-data\" request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n *\n * request.post('/upload')\n *   .field({ foo: 'bar', baz: 'qux' })\n *   .end(callback);\n * ```\n *\n * @param {String|Object} name\n * @param {String|Blob|File|Buffer|fs.ReadStream} val\n * @return {Request} for chaining\n * @api public\n */\nexports.field = function(name, val) {\n\n  // name should be either a string or an object.\n  if (null === name ||  undefined === name) {\n    throw new Error('.field(name, val) name can not be empty');\n  }\n\n  if (isObject(name)) {\n    for (var key in name) {\n      this.field(key, name[key]);\n    }\n    return this;\n  }\n\n  // val should be defined now\n  if (null === val || undefined === val) {\n    throw new Error('.field(name, val) val can not be empty');\n  }\n  this._getFormData().append(name, val);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\nexports.abort = function(){\n  if (this._aborted) {\n    return this;\n  }\n  this._aborted = true;\n  this.xhr && this.xhr.abort(); // browser\n  this.req && this.req.abort(); // node\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nexports.withCredentials = function(){\n  // This is browser-only functionality. Node side is no-op.\n  this._withCredentials = true;\n  return this;\n};\n\n/**\n * Set the max redirects to `n`. Does noting in browser XHR implementation.\n *\n * @param {Number} n\n * @return {Request} for chaining\n * @api public\n */\n\nexports.redirects = function(n){\n  this._maxRedirects = n;\n  return this;\n};\n\n/**\n * Convert to a plain javascript object (not JSON string) of scalar properties.\n * Note as this method is designed to return a useful non-this value,\n * it cannot be chained.\n *\n * @return {Object} describing method, url, and data of this request\n * @api public\n */\n\nexports.toJSON = function(){\n  return {\n    method: this.method,\n    url: this.url,\n    data: this._data,\n    headers: this._header\n  };\n};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * TODO: future proof, move to compoent land\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nexports._isHost = function _isHost(obj) {\n  var str = {}.toString.call(obj);\n\n  switch (str) {\n    case '[object File]':\n    case '[object Blob]':\n    case '[object FormData]':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Send `data` as the request body, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"}')\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n *      request.post('/user')\n *        .send('name=tobi')\n *        .send('species=ferret')\n *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nexports.send = function(data){\n  var obj = isObject(data);\n  var type = this._header['content-type'];\n\n  // merge\n  if (obj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    // default to x-www-form-urlencoded\n    if (!type) this.type('form');\n    type = this._header['content-type'];\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!obj || this._isHost(data)) return this;\n\n  // default to json\n  if (!type) this.type('json');\n  return this;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9zdXBlcmFnZW50L2xpYi9yZXF1ZXN0LWJhc2UuanM/MjA3MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1vZHVsZSBvZiBtaXhlZC1pbiBmdW5jdGlvbnMgc2hhcmVkIGJldHdlZW4gbm9kZSBhbmQgY2xpZW50IGNvZGVcbiAqL1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pcy1vYmplY3QnKTtcblxuLyoqXG4gKiBDbGVhciBwcmV2aW91cyB0aW1lb3V0LlxuICpcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmNsZWFyVGltZW91dCA9IGZ1bmN0aW9uIF9jbGVhclRpbWVvdXQoKXtcbiAgdGhpcy5fdGltZW91dCA9IDA7XG4gIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBPdmVycmlkZSBkZWZhdWx0IHJlc3BvbnNlIGJvZHkgcGFyc2VyXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB0byBjb252ZXJ0IGluY29taW5nIGRhdGEgaW50byByZXF1ZXN0LmJvZHlcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UoZm4pe1xuICB0aGlzLl9wYXJzZXIgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIE92ZXJyaWRlIGRlZmF1bHQgcmVxdWVzdCBib2R5IHNlcmlhbGl6ZXJcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIGNvbnZlcnQgZGF0YSBzZXQgdmlhIC5zZW5kIG9yIC5hdHRhY2ggaW50byBwYXlsb2FkIHRvIHNlbmRcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uIHNlcmlhbGl6ZShmbil7XG4gIHRoaXMuX3NlcmlhbGl6ZXIgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCB0aW1lb3V0IHRvIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy50aW1lb3V0ID0gZnVuY3Rpb24gdGltZW91dChtcyl7XG4gIHRoaXMuX3RpbWVvdXQgPSBtcztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFByb21pc2Ugc3VwcG9ydFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdFxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqL1xuXG5leHBvcnRzLnRoZW4gPSBmdW5jdGlvbiB0aGVuKHJlc29sdmUsIHJlamVjdCkge1xuICBpZiAoIXRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24oaW5uZXJSZXNvbHZlLCBpbm5lclJlamVjdCl7XG4gICAgICBzZWxmLmVuZChmdW5jdGlvbihlcnIsIHJlcyl7XG4gICAgICAgIGlmIChlcnIpIGlubmVyUmVqZWN0KGVycik7IGVsc2UgaW5uZXJSZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gdGhpcy5fZnVsbGZpbGxlZFByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xufVxuXG5leHBvcnRzLmNhdGNoID0gZnVuY3Rpb24oY2IpIHtcbiAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIGNiKTtcbn07XG5cbi8qKlxuICogQWxsb3cgZm9yIGV4dGVuc2lvblxuICovXG5cbmV4cG9ydHMudXNlID0gZnVuY3Rpb24gdXNlKGZuKSB7XG4gIGZuKHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn1cblxuXG4vKipcbiAqIEdldCByZXF1ZXN0IGhlYWRlciBgZmllbGRgLlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbihmaWVsZCl7XG4gIHJldHVybiB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV07XG59O1xuXG4vKipcbiAqIEdldCBjYXNlLWluc2Vuc2l0aXZlIGhlYWRlciBgZmllbGRgIHZhbHVlLlxuICogVGhpcyBpcyBhIGRlcHJlY2F0ZWQgaW50ZXJuYWwgQVBJLiBVc2UgYC5nZXQoZmllbGQpYCBpbnN0ZWFkLlxuICpcbiAqIChnZXRIZWFkZXIgaXMgbm8gbG9uZ2VyIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgc3VwZXJhZ2VudCBjb2RlIGJhc2UpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqIEBkZXByZWNhdGVkXG4gKi9cblxuZXhwb3J0cy5nZXRIZWFkZXIgPSBleHBvcnRzLmdldDtcblxuLyoqXG4gKiBTZXQgaGVhZGVyIGBmaWVsZGAgdG8gYHZhbGAsIG9yIG11bHRpcGxlIGZpZWxkcyB3aXRoIG9uZSBvYmplY3QuXG4gKiBDYXNlLWluc2Vuc2l0aXZlLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKVxuICogICAgICAgIC5zZXQoJ1gtQVBJLUtleScsICdmb29iYXInKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnNldCh7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLCAnWC1BUEktS2V5JzogJ2Zvb2JhcicgfSlcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGZpZWxkXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5zZXQgPSBmdW5jdGlvbihmaWVsZCwgdmFsKXtcbiAgaWYgKGlzT2JqZWN0KGZpZWxkKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBmaWVsZCkge1xuICAgICAgdGhpcy5zZXQoa2V5LCBmaWVsZFtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldID0gdmFsO1xuICB0aGlzLmhlYWRlcltmaWVsZF0gPSB2YWw7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgaGVhZGVyIGBmaWVsZGAuXG4gKiBDYXNlLWluc2Vuc2l0aXZlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgICByZXEuZ2V0KCcvJylcbiAqICAgICAgICAudW5zZXQoJ1VzZXItQWdlbnQnKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICovXG5leHBvcnRzLnVuc2V0ID0gZnVuY3Rpb24oZmllbGQpe1xuICBkZWxldGUgdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldO1xuICBkZWxldGUgdGhpcy5oZWFkZXJbZmllbGRdO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogV3JpdGUgdGhlIGZpZWxkIGBuYW1lYCBhbmQgYHZhbGAsIG9yIG11bHRpcGxlIGZpZWxkcyB3aXRoIG9uZSBvYmplY3RcbiAqIGZvciBcIm11bHRpcGFydC9mb3JtLWRhdGFcIiByZXF1ZXN0IGJvZGllcy5cbiAqXG4gKiBgYGAganNcbiAqIHJlcXVlc3QucG9zdCgnL3VwbG9hZCcpXG4gKiAgIC5maWVsZCgnZm9vJywgJ2JhcicpXG4gKiAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIHJlcXVlc3QucG9zdCgnL3VwbG9hZCcpXG4gKiAgIC5maWVsZCh7IGZvbzogJ2JhcicsIGJhejogJ3F1eCcgfSlcbiAqICAgLmVuZChjYWxsYmFjayk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfEJsb2J8RmlsZXxCdWZmZXJ8ZnMuUmVhZFN0cmVhbX0gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMuZmllbGQgPSBmdW5jdGlvbihuYW1lLCB2YWwpIHtcblxuICAvLyBuYW1lIHNob3VsZCBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LlxuICBpZiAobnVsbCA9PT0gbmFtZSB8fCAgdW5kZWZpbmVkID09PSBuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCcuZmllbGQobmFtZSwgdmFsKSBuYW1lIGNhbiBub3QgYmUgZW1wdHknKTtcbiAgfVxuXG4gIGlmIChpc09iamVjdChuYW1lKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7XG4gICAgICB0aGlzLmZpZWxkKGtleSwgbmFtZVtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyB2YWwgc2hvdWxkIGJlIGRlZmluZWQgbm93XG4gIGlmIChudWxsID09PSB2YWwgfHwgdW5kZWZpbmVkID09PSB2YWwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJy5maWVsZChuYW1lLCB2YWwpIHZhbCBjYW4gbm90IGJlIGVtcHR5Jyk7XG4gIH1cbiAgdGhpcy5fZ2V0Rm9ybURhdGEoKS5hcHBlbmQobmFtZSwgdmFsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFib3J0IHRoZSByZXF1ZXN0LCBhbmQgY2xlYXIgcG90ZW50aWFsIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMuYWJvcnQgPSBmdW5jdGlvbigpe1xuICBpZiAodGhpcy5fYWJvcnRlZCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHRoaXMuX2Fib3J0ZWQgPSB0cnVlO1xuICB0aGlzLnhociAmJiB0aGlzLnhoci5hYm9ydCgpOyAvLyBicm93c2VyXG4gIHRoaXMucmVxICYmIHRoaXMucmVxLmFib3J0KCk7IC8vIG5vZGVcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTtcbiAgdGhpcy5lbWl0KCdhYm9ydCcpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW5hYmxlIHRyYW5zbWlzc2lvbiBvZiBjb29raWVzIHdpdGggeC1kb21haW4gcmVxdWVzdHMuXG4gKlxuICogTm90ZSB0aGF0IGZvciB0aGlzIHRvIHdvcmsgdGhlIG9yaWdpbiBtdXN0IG5vdCBiZVxuICogdXNpbmcgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiB3aXRoIGEgd2lsZGNhcmQsXG4gKiBhbmQgYWxzbyBtdXN0IHNldCBcIkFjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzXCJcbiAqIHRvIFwidHJ1ZVwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy53aXRoQ3JlZGVudGlhbHMgPSBmdW5jdGlvbigpe1xuICAvLyBUaGlzIGlzIGJyb3dzZXItb25seSBmdW5jdGlvbmFsaXR5LiBOb2RlIHNpZGUgaXMgbm8tb3AuXG4gIHRoaXMuX3dpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIG1heCByZWRpcmVjdHMgdG8gYG5gLiBEb2VzIG5vdGluZyBpbiBicm93c2VyIFhIUiBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gblxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMucmVkaXJlY3RzID0gZnVuY3Rpb24obil7XG4gIHRoaXMuX21heFJlZGlyZWN0cyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IHRvIGEgcGxhaW4gamF2YXNjcmlwdCBvYmplY3QgKG5vdCBKU09OIHN0cmluZykgb2Ygc2NhbGFyIHByb3BlcnRpZXMuXG4gKiBOb3RlIGFzIHRoaXMgbWV0aG9kIGlzIGRlc2lnbmVkIHRvIHJldHVybiBhIHVzZWZ1bCBub24tdGhpcyB2YWx1ZSxcbiAqIGl0IGNhbm5vdCBiZSBjaGFpbmVkLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZGVzY3JpYmluZyBtZXRob2QsIHVybCwgYW5kIGRhdGEgb2YgdGhpcyByZXF1ZXN0XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMudG9KU09OID0gZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHtcbiAgICBtZXRob2Q6IHRoaXMubWV0aG9kLFxuICAgIHVybDogdGhpcy51cmwsXG4gICAgZGF0YTogdGhpcy5fZGF0YSxcbiAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJcbiAgfTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYG9iamAgaXMgYSBob3N0IG9iamVjdCxcbiAqIHdlIGRvbid0IHdhbnQgdG8gc2VyaWFsaXplIHRoZXNlIDopXG4gKlxuICogVE9ETzogZnV0dXJlIHByb29mLCBtb3ZlIHRvIGNvbXBvZW50IGxhbmRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5faXNIb3N0ID0gZnVuY3Rpb24gX2lzSG9zdChvYmopIHtcbiAgdmFyIHN0ciA9IHt9LnRvU3RyaW5nLmNhbGwob2JqKTtcblxuICBzd2l0Y2ggKHN0cikge1xuICAgIGNhc2UgJ1tvYmplY3QgRmlsZV0nOlxuICAgIGNhc2UgJ1tvYmplY3QgQmxvYl0nOlxuICAgIGNhc2UgJ1tvYmplY3QgRm9ybURhdGFdJzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBTZW5kIGBkYXRhYCBhcyB0aGUgcmVxdWVzdCBib2R5LCBkZWZhdWx0aW5nIHRoZSBgLnR5cGUoKWAgdG8gXCJqc29uXCIgd2hlblxuICogYW4gb2JqZWN0IGlzIGdpdmVuLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgIC8vIG1hbnVhbCBqc29uXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnR5cGUoJ2pzb24nKVxuICogICAgICAgICAuc2VuZCgne1wibmFtZVwiOlwidGpcIn0nKVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGF1dG8ganNvblxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIG1hbnVhbCB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAudHlwZSgnZm9ybScpXG4gKiAgICAgICAgIC5zZW5kKCduYW1lPXRqJylcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBhdXRvIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC50eXBlKCdmb3JtJylcbiAqICAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gZGVmYXVsdHMgdG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgIC5zZW5kKCduYW1lPXRvYmknKVxuICogICAgICAgIC5zZW5kKCdzcGVjaWVzPWZlcnJldCcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGRhdGFcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnNlbmQgPSBmdW5jdGlvbihkYXRhKXtcbiAgdmFyIG9iaiA9IGlzT2JqZWN0KGRhdGEpO1xuICB2YXIgdHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG5cbiAgLy8gbWVyZ2VcbiAgaWYgKG9iaiAmJiBpc09iamVjdCh0aGlzLl9kYXRhKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICB0aGlzLl9kYXRhW2tleV0gPSBkYXRhW2tleV07XG4gICAgfVxuICB9IGVsc2UgaWYgKCdzdHJpbmcnID09IHR5cGVvZiBkYXRhKSB7XG4gICAgLy8gZGVmYXVsdCB0byB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAgICBpZiAoIXR5cGUpIHRoaXMudHlwZSgnZm9ybScpO1xuICAgIHR5cGUgPSB0aGlzLl9oZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuICAgIGlmICgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyA9PSB0eXBlKSB7XG4gICAgICB0aGlzLl9kYXRhID0gdGhpcy5fZGF0YVxuICAgICAgICA/IHRoaXMuX2RhdGEgKyAnJicgKyBkYXRhXG4gICAgICAgIDogZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZGF0YSA9ICh0aGlzLl9kYXRhIHx8ICcnKSArIGRhdGE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICB9XG5cbiAgaWYgKCFvYmogfHwgdGhpcy5faXNIb3N0KGRhdGEpKSByZXR1cm4gdGhpcztcblxuICAvLyBkZWZhdWx0IHRvIGpzb25cbiAgaWYgKCF0eXBlKSB0aGlzLnR5cGUoJ2pzb24nKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3N1cGVyYWdlbnQvbGliL3JlcXVlc3QtYmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gNDcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 473:
/***/ function(module, exports) {

	eval("/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return null !== obj && 'object' === typeof obj;\n}\n\nmodule.exports = isObject;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDczLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9zdXBlcmFnZW50L2xpYi9pcy1vYmplY3QuanM/OWVkZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrIGlmIGBvYmpgIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHJldHVybiBudWxsICE9PSBvYmogJiYgJ29iamVjdCcgPT09IHR5cGVvZiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3VwZXJhZ2VudC9saWIvaXMtb2JqZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSA0NzNcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 474:
/***/ function(module, exports) {

	eval("// The node and browser modules expose versions of this with the\n// appropriate constructor function bound as first argument\n/**\n * Issue a request:\n *\n * Examples:\n *\n *    request('GET', '/users').end(callback)\n *    request('/users').end(callback)\n *    request('/users', callback)\n *\n * @param {String} method\n * @param {String|Function} url or callback\n * @return {Request}\n * @api public\n */\n\nfunction request(RequestConstructor, method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new RequestConstructor('GET', method).end(url);\n  }\n\n  // url first\n  if (2 == arguments.length) {\n    return new RequestConstructor('GET', method);\n  }\n\n  return new RequestConstructor(method, url);\n}\n\nmodule.exports = request;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9zdXBlcmFnZW50L2xpYi9yZXF1ZXN0LmpzPzYxYzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG5vZGUgYW5kIGJyb3dzZXIgbW9kdWxlcyBleHBvc2UgdmVyc2lvbnMgb2YgdGhpcyB3aXRoIHRoZVxuLy8gYXBwcm9wcmlhdGUgY29uc3RydWN0b3IgZnVuY3Rpb24gYm91bmQgYXMgZmlyc3QgYXJndW1lbnRcbi8qKlxuICogSXNzdWUgYSByZXF1ZXN0OlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIHJlcXVlc3QoJ0dFVCcsICcvdXNlcnMnKS5lbmQoY2FsbGJhY2spXG4gKiAgICByZXF1ZXN0KCcvdXNlcnMnKS5lbmQoY2FsbGJhY2spXG4gKiAgICByZXF1ZXN0KCcvdXNlcnMnLCBjYWxsYmFjaylcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gdXJsIG9yIGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiByZXF1ZXN0KFJlcXVlc3RDb25zdHJ1Y3RvciwgbWV0aG9kLCB1cmwpIHtcbiAgLy8gY2FsbGJhY2tcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIHVybCkge1xuICAgIHJldHVybiBuZXcgUmVxdWVzdENvbnN0cnVjdG9yKCdHRVQnLCBtZXRob2QpLmVuZCh1cmwpO1xuICB9XG5cbiAgLy8gdXJsIGZpcnN0XG4gIGlmICgyID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3RDb25zdHJ1Y3RvcignR0VUJywgbWV0aG9kKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVxdWVzdENvbnN0cnVjdG9yKG1ldGhvZCwgdXJsKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1ZXN0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3N1cGVyYWdlbnQvbGliL3JlcXVlc3QuanNcbi8vIG1vZHVsZSBpZCA9IDQ3NFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 475:
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Events = {\n  /**\n   * Abbreviation for target.addEventListener\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {function}\n   */\n  on: __listen,\n\n  /**\n   * Abbreviation for target.addEventListener\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {function}\n   */\n  listen: __listen,\n\n  /**\n   * Adds wrapper around function and after first invocation, remove listener\n   * @Note Returns correct listener for removing\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {function}\n   */\n  once: __listenOnce,\n\n  /**\n   * Adds wrapper around function and after first invocation, remove listener\n   * @Note Returns correct listener for removing\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {function}\n   */\n  listenOnce: __listenOnce,\n\n  /**\n   * Abbreviation for target.removeEventListener\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {void}\n   */\n  off: __removeListener,\n\n  /**\n   * Abbreviation for target.removeEventListener\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {void}\n   */\n  unlisten: __removeListener,\n\n  /**\n   * Abbreviation for target.removeEventListener\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {void}\n   */\n  removeListener: __removeListener,\n\n  /**\n   * @inherit\n   */\n  onAnimation: __onAnimation,\n\n  /**\n   * @inherit\n   */\n  offAnimation: __offAnimation,\n\n  /**\n   * @inherit\n   */\n  onceAnimation: __onceAnimation\n};\n\n/**\n * Abbreviation for target.addEventListener\n * @param target {HTMLElement}\n * @param event {string}\n * @param callback {function}\n * @param capture [boolean]\n * @returns {function}\n * @private\n */\nfunction __listen(target, event, callback) {\n  var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  target.addEventListener(event, callback, capture);\n  return __removeListener.bind(null, target, event, callback, capture);\n}\n\n/**\n * Adds wrapper around function and after first invocation, remove listener\n * @Note Returns correct listener for removing\n * @param target {HTMLElement}\n * @param event {string}\n * @param callback {function}\n * @param capture [boolean]\n * @private\n * @returns {function}\n */\nfunction __listenOnce(target, event, callback) {\n  var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  var wrapper = function () {\n    return function (e) {\n      target.removeEventListener(event, wrapper, capture);\n      callback(e);\n    };\n  }();\n  target.addEventListener(event, wrapper, capture);\n  return __removeListener.bind(null, target, event, wrapper, capture);\n}\n\n/**\n * Abbreviation for target.removeEventListener\n * @param target {HTMLElement}\n * @param event {string}\n * @param callback {function}\n * @param capture [boolean]\n * @returns {void}\n * @private\n */\nfunction __removeListener(target, event, callback) {\n  var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  return target.removeEventListener(event, callback, capture);\n}\n\n/** ANIMATIONS **/\nvar ANIMATION_TYPE = {\n  end: 'AnimationEnd',\n  start: 'AnimationStart',\n  iteration: 'AnimationIteration'\n};\n\nvar ANIMATION_PREFIX = {\n  'WebkitAnimation': 'webkit',\n  'OAnimation': 'o'\n};\n\n/**\n * Finds Correct animation event name for current browser\n * @param type {string} enum:[start, end, iteration]\n * @returns {string} Animation Event name\n * @throws Incorrect animation type\n * @private\n */\nfunction __whichAnimationEvent(type) {\n  type = ANIMATION_TYPE[type.toLowerCase()];\n  if (!type) {\n    throw new Error('Incorrect animation type! Correct values: [start, end, iteration]');\n  }\n  var el = window.document.createElement('fakeelement'),\n      prefix = '';\n\n  for (var key in ANIMATION_PREFIX) {\n    if (el.style[key] !== undefined) {\n      prefix = ANIMATION_PREFIX[key];\n      break;\n    }\n  }\n\n  return prefix + !prefix ? type.toLowerCase() : type;\n}\n\n/**\n * Adds animation event listener\n * @param element {HTMLElement}\n * @param type {string} enum:[start, end, iteration]\n * @param callback {Function}\n * @param capture {boolean}\n * @returns {Function} - bound callback to remove listener\n * @private\n */\nfunction __onAnimation(element, type, callback) {\n  var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  var eventName = __whichAnimationEvent(type);\n  return __listen(element, eventName, callback, capture);\n}\n\n/**\n * Adds animation event listener and after first execution its removed\n * @param element {HTMLElement}\n * @param type {string} enum:[start, end, iteration]\n * @param callback {Function}\n * @param capture {boolean}\n * @returns {Function} - bound callback to remove listener\n * @private\n */\nfunction __onceAnimation(element, type, callback) {\n  var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  var eventName = __whichAnimationEvent(type);\n  return __listenOnce(element, eventName, callback, capture);\n}\n\n/**\n * Remove animation event listener\n * @param element {HTMLElement}\n * @param type {string} enum:[start, end, iteration]\n * @param callback {Function}\n * @param capture {boolean}\n * @returns {void}\n * @private\n */\nfunction __offAnimation(element, type, callback) {\n  var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  var eventName = __whichAnimationEvent(type);\n  return __removeListener(element, eventName, callback, capture);\n}\n\nexports.default = Events;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L3V0aWxzL0V2ZW50cy5qcz9jYTE4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBFdmVudHMgPSB7XG4gIC8qKlxuICAgKiBBYmJyZXZpYXRpb24gZm9yIHRhcmdldC5hZGRFdmVudExpc3RlbmVyXG4gICAqIEBwYXJhbSB0YXJnZXQge0hUTUxFbGVtZW50fVxuICAgKiBAcGFyYW0gZXZlbnQge3N0cmluZ31cbiAgICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn1cbiAgICogQHBhcmFtIGNhcHR1cmUgW2Jvb2xlYW5dXG4gICAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAgICovXG4gIG9uOiBfX2xpc3RlbixcblxuICAvKipcbiAgICogQWJicmV2aWF0aW9uIGZvciB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lclxuICAgKiBAcGFyYW0gdGFyZ2V0IHtIVE1MRWxlbWVudH1cbiAgICogQHBhcmFtIGV2ZW50IHtzdHJpbmd9XG4gICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gICAqIEBwYXJhbSBjYXB0dXJlIFtib29sZWFuXVxuICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gICAqL1xuICBsaXN0ZW46IF9fbGlzdGVuLFxuXG4gIC8qKlxuICAgKiBBZGRzIHdyYXBwZXIgYXJvdW5kIGZ1bmN0aW9uIGFuZCBhZnRlciBmaXJzdCBpbnZvY2F0aW9uLCByZW1vdmUgbGlzdGVuZXJcbiAgICogQE5vdGUgUmV0dXJucyBjb3JyZWN0IGxpc3RlbmVyIGZvciByZW1vdmluZ1xuICAgKiBAcGFyYW0gdGFyZ2V0IHtIVE1MRWxlbWVudH1cbiAgICogQHBhcmFtIGV2ZW50IHtzdHJpbmd9XG4gICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gICAqIEBwYXJhbSBjYXB0dXJlIFtib29sZWFuXVxuICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gICAqL1xuICBvbmNlOiBfX2xpc3Rlbk9uY2UsXG5cbiAgLyoqXG4gICAqIEFkZHMgd3JhcHBlciBhcm91bmQgZnVuY3Rpb24gYW5kIGFmdGVyIGZpcnN0IGludm9jYXRpb24sIHJlbW92ZSBsaXN0ZW5lclxuICAgKiBATm90ZSBSZXR1cm5zIGNvcnJlY3QgbGlzdGVuZXIgZm9yIHJlbW92aW5nXG4gICAqIEBwYXJhbSB0YXJnZXQge0hUTUxFbGVtZW50fVxuICAgKiBAcGFyYW0gZXZlbnQge3N0cmluZ31cbiAgICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn1cbiAgICogQHBhcmFtIGNhcHR1cmUgW2Jvb2xlYW5dXG4gICAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAgICovXG4gIGxpc3Rlbk9uY2U6IF9fbGlzdGVuT25jZSxcblxuICAvKipcbiAgICogQWJicmV2aWF0aW9uIGZvciB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lclxuICAgKiBAcGFyYW0gdGFyZ2V0IHtIVE1MRWxlbWVudH1cbiAgICogQHBhcmFtIGV2ZW50IHtzdHJpbmd9XG4gICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gICAqIEBwYXJhbSBjYXB0dXJlIFtib29sZWFuXVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIG9mZjogX19yZW1vdmVMaXN0ZW5lcixcblxuICAvKipcbiAgICogQWJicmV2aWF0aW9uIGZvciB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lclxuICAgKiBAcGFyYW0gdGFyZ2V0IHtIVE1MRWxlbWVudH1cbiAgICogQHBhcmFtIGV2ZW50IHtzdHJpbmd9XG4gICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gICAqIEBwYXJhbSBjYXB0dXJlIFtib29sZWFuXVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIHVubGlzdGVuOiBfX3JlbW92ZUxpc3RlbmVyLFxuXG4gIC8qKlxuICAgKiBBYmJyZXZpYXRpb24gZm9yIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyXG4gICAqIEBwYXJhbSB0YXJnZXQge0hUTUxFbGVtZW50fVxuICAgKiBAcGFyYW0gZXZlbnQge3N0cmluZ31cbiAgICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn1cbiAgICogQHBhcmFtIGNhcHR1cmUgW2Jvb2xlYW5dXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgcmVtb3ZlTGlzdGVuZXI6IF9fcmVtb3ZlTGlzdGVuZXIsXG5cbiAgLyoqXG4gICAqIEBpbmhlcml0XG4gICAqL1xuICBvbkFuaW1hdGlvbjogX19vbkFuaW1hdGlvbixcblxuICAvKipcbiAgICogQGluaGVyaXRcbiAgICovXG4gIG9mZkFuaW1hdGlvbjogX19vZmZBbmltYXRpb24sXG5cbiAgLyoqXG4gICAqIEBpbmhlcml0XG4gICAqL1xuICBvbmNlQW5pbWF0aW9uOiBfX29uY2VBbmltYXRpb25cbn07XG5cbi8qKlxuICogQWJicmV2aWF0aW9uIGZvciB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lclxuICogQHBhcmFtIHRhcmdldCB7SFRNTEVsZW1lbnR9XG4gKiBAcGFyYW0gZXZlbnQge3N0cmluZ31cbiAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gKiBAcGFyYW0gY2FwdHVyZSBbYm9vbGVhbl1cbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fbGlzdGVuKHRhcmdldCwgZXZlbnQsIGNhbGxiYWNrKSB7XG4gIHZhciBjYXB0dXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2ssIGNhcHR1cmUpO1xuICByZXR1cm4gX19yZW1vdmVMaXN0ZW5lci5iaW5kKG51bGwsIHRhcmdldCwgZXZlbnQsIGNhbGxiYWNrLCBjYXB0dXJlKTtcbn1cblxuLyoqXG4gKiBBZGRzIHdyYXBwZXIgYXJvdW5kIGZ1bmN0aW9uIGFuZCBhZnRlciBmaXJzdCBpbnZvY2F0aW9uLCByZW1vdmUgbGlzdGVuZXJcbiAqIEBOb3RlIFJldHVybnMgY29ycmVjdCBsaXN0ZW5lciBmb3IgcmVtb3ZpbmdcbiAqIEBwYXJhbSB0YXJnZXQge0hUTUxFbGVtZW50fVxuICogQHBhcmFtIGV2ZW50IHtzdHJpbmd9XG4gKiBAcGFyYW0gY2FsbGJhY2sge2Z1bmN0aW9ufVxuICogQHBhcmFtIGNhcHR1cmUgW2Jvb2xlYW5dXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBfX2xpc3Rlbk9uY2UodGFyZ2V0LCBldmVudCwgY2FsbGJhY2spIHtcbiAgdmFyIGNhcHR1cmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuXG4gIHZhciB3cmFwcGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHdyYXBwZXIsIGNhcHR1cmUpO1xuICAgICAgY2FsbGJhY2soZSk7XG4gICAgfTtcbiAgfSgpO1xuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgd3JhcHBlciwgY2FwdHVyZSk7XG4gIHJldHVybiBfX3JlbW92ZUxpc3RlbmVyLmJpbmQobnVsbCwgdGFyZ2V0LCBldmVudCwgd3JhcHBlciwgY2FwdHVyZSk7XG59XG5cbi8qKlxuICogQWJicmV2aWF0aW9uIGZvciB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lclxuICogQHBhcmFtIHRhcmdldCB7SFRNTEVsZW1lbnR9XG4gKiBAcGFyYW0gZXZlbnQge3N0cmluZ31cbiAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gKiBAcGFyYW0gY2FwdHVyZSBbYm9vbGVhbl1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19yZW1vdmVMaXN0ZW5lcih0YXJnZXQsIGV2ZW50LCBjYWxsYmFjaykge1xuICB2YXIgY2FwdHVyZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgcmV0dXJuIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgY2FwdHVyZSk7XG59XG5cbi8qKiBBTklNQVRJT05TICoqL1xudmFyIEFOSU1BVElPTl9UWVBFID0ge1xuICBlbmQ6ICdBbmltYXRpb25FbmQnLFxuICBzdGFydDogJ0FuaW1hdGlvblN0YXJ0JyxcbiAgaXRlcmF0aW9uOiAnQW5pbWF0aW9uSXRlcmF0aW9uJ1xufTtcblxudmFyIEFOSU1BVElPTl9QUkVGSVggPSB7XG4gICdXZWJraXRBbmltYXRpb24nOiAnd2Via2l0JyxcbiAgJ09BbmltYXRpb24nOiAnbydcbn07XG5cbi8qKlxuICogRmluZHMgQ29ycmVjdCBhbmltYXRpb24gZXZlbnQgbmFtZSBmb3IgY3VycmVudCBicm93c2VyXG4gKiBAcGFyYW0gdHlwZSB7c3RyaW5nfSBlbnVtOltzdGFydCwgZW5kLCBpdGVyYXRpb25dXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBbmltYXRpb24gRXZlbnQgbmFtZVxuICogQHRocm93cyBJbmNvcnJlY3QgYW5pbWF0aW9uIHR5cGVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fd2hpY2hBbmltYXRpb25FdmVudCh0eXBlKSB7XG4gIHR5cGUgPSBBTklNQVRJT05fVFlQRVt0eXBlLnRvTG93ZXJDYXNlKCldO1xuICBpZiAoIXR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29ycmVjdCBhbmltYXRpb24gdHlwZSEgQ29ycmVjdCB2YWx1ZXM6IFtzdGFydCwgZW5kLCBpdGVyYXRpb25dJyk7XG4gIH1cbiAgdmFyIGVsID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zha2VlbGVtZW50JyksXG4gICAgICBwcmVmaXggPSAnJztcblxuICBmb3IgKHZhciBrZXkgaW4gQU5JTUFUSU9OX1BSRUZJWCkge1xuICAgIGlmIChlbC5zdHlsZVtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHByZWZpeCA9IEFOSU1BVElPTl9QUkVGSVhba2V5XTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcmVmaXggKyAhcHJlZml4ID8gdHlwZS50b0xvd2VyQ2FzZSgpIDogdHlwZTtcbn1cblxuLyoqXG4gKiBBZGRzIGFuaW1hdGlvbiBldmVudCBsaXN0ZW5lclxuICogQHBhcmFtIGVsZW1lbnQge0hUTUxFbGVtZW50fVxuICogQHBhcmFtIHR5cGUge3N0cmluZ30gZW51bTpbc3RhcnQsIGVuZCwgaXRlcmF0aW9uXVxuICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn1cbiAqIEBwYXJhbSBjYXB0dXJlIHtib29sZWFufVxuICogQHJldHVybnMge0Z1bmN0aW9ufSAtIGJvdW5kIGNhbGxiYWNrIHRvIHJlbW92ZSBsaXN0ZW5lclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19vbkFuaW1hdGlvbihlbGVtZW50LCB0eXBlLCBjYWxsYmFjaykge1xuICB2YXIgY2FwdHVyZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgdmFyIGV2ZW50TmFtZSA9IF9fd2hpY2hBbmltYXRpb25FdmVudCh0eXBlKTtcbiAgcmV0dXJuIF9fbGlzdGVuKGVsZW1lbnQsIGV2ZW50TmFtZSwgY2FsbGJhY2ssIGNhcHR1cmUpO1xufVxuXG4vKipcbiAqIEFkZHMgYW5pbWF0aW9uIGV2ZW50IGxpc3RlbmVyIGFuZCBhZnRlciBmaXJzdCBleGVjdXRpb24gaXRzIHJlbW92ZWRcbiAqIEBwYXJhbSBlbGVtZW50IHtIVE1MRWxlbWVudH1cbiAqIEBwYXJhbSB0eXBlIHtzdHJpbmd9IGVudW06W3N0YXJ0LCBlbmQsIGl0ZXJhdGlvbl1cbiAqIEBwYXJhbSBjYWxsYmFjayB7RnVuY3Rpb259XG4gKiBAcGFyYW0gY2FwdHVyZSB7Ym9vbGVhbn1cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gLSBib3VuZCBjYWxsYmFjayB0byByZW1vdmUgbGlzdGVuZXJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fb25jZUFuaW1hdGlvbihlbGVtZW50LCB0eXBlLCBjYWxsYmFjaykge1xuICB2YXIgY2FwdHVyZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgdmFyIGV2ZW50TmFtZSA9IF9fd2hpY2hBbmltYXRpb25FdmVudCh0eXBlKTtcbiAgcmV0dXJuIF9fbGlzdGVuT25jZShlbGVtZW50LCBldmVudE5hbWUsIGNhbGxiYWNrLCBjYXB0dXJlKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYW5pbWF0aW9uIGV2ZW50IGxpc3RlbmVyXG4gKiBAcGFyYW0gZWxlbWVudCB7SFRNTEVsZW1lbnR9XG4gKiBAcGFyYW0gdHlwZSB7c3RyaW5nfSBlbnVtOltzdGFydCwgZW5kLCBpdGVyYXRpb25dXG4gKiBAcGFyYW0gY2FsbGJhY2sge0Z1bmN0aW9ufVxuICogQHBhcmFtIGNhcHR1cmUge2Jvb2xlYW59XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fb2ZmQW5pbWF0aW9uKGVsZW1lbnQsIHR5cGUsIGNhbGxiYWNrKSB7XG4gIHZhciBjYXB0dXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICB2YXIgZXZlbnROYW1lID0gX193aGljaEFuaW1hdGlvbkV2ZW50KHR5cGUpO1xuICByZXR1cm4gX19yZW1vdmVMaXN0ZW5lcihlbGVtZW50LCBldmVudE5hbWUsIGNhbGxiYWNrLCBjYXB0dXJlKTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRzO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90cmluaXR5L3V0aWxzL0V2ZW50cy5qc1xuLy8gbW9kdWxlIGlkID0gNDc1XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 476:
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction TrinityEvent(data) {\n    this.defaultPrevented = false;\n    this.data = data;\n    return this;\n}\n\nTrinityEvent.prototype.preventDefault = function () {\n    this.defaultPrevented = true;\n};\n\nexports.default = TrinityEvent;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L3V0aWxzL1RyaW5pdHlFdmVudC5qcz81OTU2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZnVuY3Rpb24gVHJpbml0eUV2ZW50KGRhdGEpIHtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHJldHVybiB0aGlzO1xufVxuXG5UcmluaXR5RXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmluaXR5RXZlbnQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3RyaW5pdHkvdXRpbHMvVHJpbml0eUV2ZW50LmpzXG4vLyBtb2R1bGUgaWQgPSA0NzZcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 477:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Dom = __webpack_require__(478);\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nvar _classlist = __webpack_require__(479);\n\nvar _classlist2 = _interopRequireDefault(_classlist);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Default is value\nvar TYPE_VAL_MAP = {\n    radio: 'checked',\n    checkbox: 'checked'\n};\n\nvar FormInput = function () {\n    function FormInput(element) {\n        _classCallCheck(this, FormInput);\n\n        this.element = element;\n        this.rules = [];\n        this.errors = [];\n        this.message = null;\n        this.msgWrapper = _Dom2.default.createDom('div', { 'class': 'form-msg-wrapper' });\n        this.errorWrapper = _Dom2.default.createDom('div', { 'class': 'form-error-wrapper' });\n\n        var sibling = element.nextSibling;\n        if (sibling) {\n            element.parentElement.insertBefore(this.msgWrapper, sibling);\n        } else {\n            element.parentElement.appendChild(this.msgWrapper);\n        }\n        this.msgWrapper.appendChild(this.errorWrapper);\n    }\n\n    /**\n     * Returns value of input element\n     * It depends on type of element, if checkbox or radio, returns value of checked property\n     * @returns {*}\n     */\n\n\n    _createClass(FormInput, [{\n        key: 'getValue',\n        value: function getValue() {\n            return this.element[TYPE_VAL_MAP[this.element.type] || 'value'];\n        }\n\n        /**\n         * Validates if input has any error, if not removes 'error' className\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'isValid',\n        value: function isValid() {\n            return this.errors.length === 0 ? _classlist2.default.remove(this.element, 'error') || true : false;\n        }\n\n        /**\n         * Adds error to form input\n         * @param error\n         * @returns {*}\n         */\n\n    }, {\n        key: 'addError',\n        value: function addError(error) {\n            this.errors.push(error);\n            this.errorWrapper.appendChild(error.element);\n            _Dom2.default.classlist.add(this.element, 'error');\n            return error.id;\n        }\n\n        /**\n         * Set information message to input\n         * @param msg\n         * @returns {*}\n         */\n\n    }, {\n        key: 'setMessage',\n        value: function setMessage(msg) {\n            this.clearMessage();\n            this.message = msg;\n            this.msgWrapper.appendChild(msg.element);\n            return msg.id;\n        }\n\n        /**\n         * Delete message\n         */\n\n    }, {\n        key: 'clearMessage',\n        value: function clearMessage() {\n            if (this.message) {\n                _Dom2.default.removeNode(this.message.element);\n                this.message = null;\n            }\n        }\n    }]);\n\n    return FormInput;\n}();\n\nexports.default = FormInput;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L2NvbXBvbmVudHMvRm9ybUlucHV0LmpzP2FkODIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfRG9tID0gcmVxdWlyZSgnLi4vdXRpbHMvRG9tJyk7XG5cbnZhciBfRG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RvbSk7XG5cbnZhciBfY2xhc3NsaXN0ID0gcmVxdWlyZSgnLi4vdXRpbHMvY2xhc3NsaXN0Jyk7XG5cbnZhciBfY2xhc3NsaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbGlzdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8vIERlZmF1bHQgaXMgdmFsdWVcbnZhciBUWVBFX1ZBTF9NQVAgPSB7XG4gICAgcmFkaW86ICdjaGVja2VkJyxcbiAgICBjaGVja2JveDogJ2NoZWNrZWQnXG59O1xuXG52YXIgRm9ybUlucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZvcm1JbnB1dChlbGVtZW50KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGb3JtSW5wdXQpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMucnVsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5tc2dXcmFwcGVyID0gX0RvbTIuZGVmYXVsdC5jcmVhdGVEb20oJ2RpdicsIHsgJ2NsYXNzJzogJ2Zvcm0tbXNnLXdyYXBwZXInIH0pO1xuICAgICAgICB0aGlzLmVycm9yV3JhcHBlciA9IF9Eb20yLmRlZmF1bHQuY3JlYXRlRG9tKCdkaXYnLCB7ICdjbGFzcyc6ICdmb3JtLWVycm9yLXdyYXBwZXInIH0pO1xuXG4gICAgICAgIHZhciBzaWJsaW5nID0gZWxlbWVudC5uZXh0U2libGluZztcbiAgICAgICAgaWYgKHNpYmxpbmcpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5tc2dXcmFwcGVyLCBzaWJsaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLm1zZ1dyYXBwZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXNnV3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmVycm9yV3JhcHBlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB2YWx1ZSBvZiBpbnB1dCBlbGVtZW50XG4gICAgICogSXQgZGVwZW5kcyBvbiB0eXBlIG9mIGVsZW1lbnQsIGlmIGNoZWNrYm94IG9yIHJhZGlvLCByZXR1cm5zIHZhbHVlIG9mIGNoZWNrZWQgcHJvcGVydHlcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEZvcm1JbnB1dCwgW3tcbiAgICAgICAga2V5OiAnZ2V0VmFsdWUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50W1RZUEVfVkFMX01BUFt0aGlzLmVsZW1lbnQudHlwZV0gfHwgJ3ZhbHVlJ107XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVmFsaWRhdGVzIGlmIGlucHV0IGhhcyBhbnkgZXJyb3IsIGlmIG5vdCByZW1vdmVzICdlcnJvcicgY2xhc3NOYW1lXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaXNWYWxpZCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1ZhbGlkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzLmxlbmd0aCA9PT0gMCA/IF9jbGFzc2xpc3QyLmRlZmF1bHQucmVtb3ZlKHRoaXMuZWxlbWVudCwgJ2Vycm9yJykgfHwgdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZHMgZXJyb3IgdG8gZm9ybSBpbnB1dFxuICAgICAgICAgKiBAcGFyYW0gZXJyb3JcbiAgICAgICAgICogQHJldHVybnMgeyp9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhZGRFcnJvcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFcnJvcihlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICB0aGlzLmVycm9yV3JhcHBlci5hcHBlbmRDaGlsZChlcnJvci5lbGVtZW50KTtcbiAgICAgICAgICAgIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LmFkZCh0aGlzLmVsZW1lbnQsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yLmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBpbmZvcm1hdGlvbiBtZXNzYWdlIHRvIGlucHV0XG4gICAgICAgICAqIEBwYXJhbSBtc2dcbiAgICAgICAgICogQHJldHVybnMgeyp9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzZXRNZXNzYWdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1lc3NhZ2UobXNnKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyTWVzc2FnZSgpO1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gbXNnO1xuICAgICAgICAgICAgdGhpcy5tc2dXcmFwcGVyLmFwcGVuZENoaWxkKG1zZy5lbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybiBtc2cuaWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVsZXRlIG1lc3NhZ2VcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NsZWFyTWVzc2FnZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhck1lc3NhZ2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgX0RvbTIuZGVmYXVsdC5yZW1vdmVOb2RlKHRoaXMubWVzc2FnZS5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEZvcm1JbnB1dDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRm9ybUlucHV0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90cmluaXR5L2NvbXBvbmVudHMvRm9ybUlucHV0LmpzXG4vLyBtb2R1bGUgaWQgPSA0Nzdcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 478:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.classlist = undefined;\nexports.disable = disable;\nexports.enable = enable;\nexports.removeNode = removeNode;\nexports.removeChildren = removeChildren;\nexports.htmlToDocumentFragment = htmlToDocumentFragment;\nexports.replaceNode = replaceNode;\nexports.createDom = createDom;\n\nvar _classlist = __webpack_require__(479);\n\nvar _classlist2 = _interopRequireDefault(_classlist);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Just export classlist to have it all in one component\n * @type {{}}\n */\nvar classlist = exports.classlist = _classlist2.default;\n\n/**\n * Disable element by adding attribute disabled=\"disabled\"\n * @param element\n */\n/**\n * Created by fisa on 10/26/15.\n */\n\nfunction disable(element) {\n    if (!element.disabled) {\n        element.setAttribute('disabled', 'disabled');\n    }\n}\n\n/**\n * Enable disabled attribute by removing attribute \"disabled\"\n * @param element\n */\nfunction enable(element) {\n    if (element.disabled) {\n        element.removeAttribute('disabled');\n    }\n}\n\n/**\n * Removes a node from its parent.\n * @param {Node} node The node to remove.\n * @return {Node} The node removed if removed; else, null.\n */\nfunction removeNode(node) {\n    return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n}\n\n/**\n * Removes all the child nodes on a DOM node.\n * @param {Node} node Node to remove children from.\n */\nfunction removeChildren(node) {\n    var child;\n    while (child = node.firstChild) {\n        node.removeChild(child);\n    }\n}\n\n/**\n * Create document fragment from html string\n * @param htmlString\n * @returns {*}\n */\nfunction htmlToDocumentFragment(htmlString) {\n    var tempDiv = document.createElement('div');\n    tempDiv.innerHTML = htmlString;\n\n    if (tempDiv.childNodes.length == 1) {\n        return tempDiv.removeChild(tempDiv.firstChild);\n    } else {\n        var fragment = document.createDocumentFragment();\n        while (tempDiv.firstChild) {\n            fragment.appendChild(tempDiv.firstChild);\n        }\n        return fragment;\n    }\n}\n\n/**\n * Replaces a node in the DOM tree. Will do nothing if {@code oldNode} has no\n * parent.\n * @param {Node} newNode Node to insert.\n * @param {Node} oldNode Node to replace.\n */\nfunction replaceNode(newNode, oldNode) {\n    var parent = oldNode.parentNode;\n    if (parent) {\n        parent.replaceChild(newNode, oldNode);\n    }\n}\n\n/**\n * Creates DOM element\n * @param tagName\n * @param elementAttributes\n * @param innerHTML\n * @returns {Element}\n */\nfunction createDom(tagName, elementAttributes, innerHTML) {\n    var tmpElement = document.createElement(tagName);\n    // Attributes?\n    if (elementAttributes) {\n        var attKeys = Object.keys(elementAttributes),\n            keysLength = attKeys.length;\n\n        for (var i = 0; i < keysLength; i++) {\n            tmpElement.setAttribute(attKeys[i], elementAttributes[attKeys[i]]);\n        }\n    }\n    // InnerHTML?\n    if (innerHTML && typeof innerHTML === 'string') {\n        //TODO: innerHTML should be checked - sanitized\n        tmpElement.innerHTML = innerHTML;\n    } else if (innerHTML instanceof HTMLElement) {\n        tmpElement.appendChild(innerHTML);\n    }\n    return tmpElement;\n}\n\nvar Dom = {\n    classlist: _classlist2.default,\n    disable: disable,\n    enable: enable,\n    removeNode: removeNode,\n    removeChildren: removeChildren,\n    htmlToDocumentFragment: htmlToDocumentFragment,\n    replaceNode: replaceNode,\n    createDom: createDom\n};\nexports.default = Dom;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L3V0aWxzL0RvbS5qcz82MTg2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jbGFzc2xpc3QgPSB1bmRlZmluZWQ7XG5leHBvcnRzLmRpc2FibGUgPSBkaXNhYmxlO1xuZXhwb3J0cy5lbmFibGUgPSBlbmFibGU7XG5leHBvcnRzLnJlbW92ZU5vZGUgPSByZW1vdmVOb2RlO1xuZXhwb3J0cy5yZW1vdmVDaGlsZHJlbiA9IHJlbW92ZUNoaWxkcmVuO1xuZXhwb3J0cy5odG1sVG9Eb2N1bWVudEZyYWdtZW50ID0gaHRtbFRvRG9jdW1lbnRGcmFnbWVudDtcbmV4cG9ydHMucmVwbGFjZU5vZGUgPSByZXBsYWNlTm9kZTtcbmV4cG9ydHMuY3JlYXRlRG9tID0gY3JlYXRlRG9tO1xuXG52YXIgX2NsYXNzbGlzdCA9IHJlcXVpcmUoJy4vY2xhc3NsaXN0LmpzJyk7XG5cbnZhciBfY2xhc3NsaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbGlzdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogSnVzdCBleHBvcnQgY2xhc3NsaXN0IHRvIGhhdmUgaXQgYWxsIGluIG9uZSBjb21wb25lbnRcbiAqIEB0eXBlIHt7fX1cbiAqL1xudmFyIGNsYXNzbGlzdCA9IGV4cG9ydHMuY2xhc3NsaXN0ID0gX2NsYXNzbGlzdDIuZGVmYXVsdDtcblxuLyoqXG4gKiBEaXNhYmxlIGVsZW1lbnQgYnkgYWRkaW5nIGF0dHJpYnV0ZSBkaXNhYmxlZD1cImRpc2FibGVkXCJcbiAqIEBwYXJhbSBlbGVtZW50XG4gKi9cbi8qKlxuICogQ3JlYXRlZCBieSBmaXNhIG9uIDEwLzI2LzE1LlxuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoZWxlbWVudCkge1xuICAgIGlmICghZWxlbWVudC5kaXNhYmxlZCkge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICB9XG59XG5cbi8qKlxuICogRW5hYmxlIGRpc2FibGVkIGF0dHJpYnV0ZSBieSByZW1vdmluZyBhdHRyaWJ1dGUgXCJkaXNhYmxlZFwiXG4gKiBAcGFyYW0gZWxlbWVudFxuICovXG5mdW5jdGlvbiBlbmFibGUoZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50LmRpc2FibGVkKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGEgbm9kZSBmcm9tIGl0cyBwYXJlbnQuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlLlxuICogQHJldHVybiB7Tm9kZX0gVGhlIG5vZGUgcmVtb3ZlZCBpZiByZW1vdmVkOyBlbHNlLCBudWxsLlxuICovXG5mdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZSAmJiBub2RlLnBhcmVudE5vZGUgPyBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSkgOiBudWxsO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHRoZSBjaGlsZCBub2RlcyBvbiBhIERPTSBub2RlLlxuICogQHBhcmFtIHtOb2RlfSBub2RlIE5vZGUgdG8gcmVtb3ZlIGNoaWxkcmVuIGZyb20uXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKG5vZGUpIHtcbiAgICB2YXIgY2hpbGQ7XG4gICAgd2hpbGUgKGNoaWxkID0gbm9kZS5maXJzdENoaWxkKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgZG9jdW1lbnQgZnJhZ21lbnQgZnJvbSBodG1sIHN0cmluZ1xuICogQHBhcmFtIGh0bWxTdHJpbmdcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBodG1sVG9Eb2N1bWVudEZyYWdtZW50KGh0bWxTdHJpbmcpIHtcbiAgICB2YXIgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRlbXBEaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZztcblxuICAgIGlmICh0ZW1wRGl2LmNoaWxkTm9kZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBEaXYucmVtb3ZlQ2hpbGQodGVtcERpdi5maXJzdENoaWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIHdoaWxlICh0ZW1wRGl2LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHRlbXBEaXYuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYWdtZW50O1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXBsYWNlcyBhIG5vZGUgaW4gdGhlIERPTSB0cmVlLiBXaWxsIGRvIG5vdGhpbmcgaWYge0Bjb2RlIG9sZE5vZGV9IGhhcyBub1xuICogcGFyZW50LlxuICogQHBhcmFtIHtOb2RlfSBuZXdOb2RlIE5vZGUgdG8gaW5zZXJ0LlxuICogQHBhcmFtIHtOb2RlfSBvbGROb2RlIE5vZGUgdG8gcmVwbGFjZS5cbiAqL1xuZnVuY3Rpb24gcmVwbGFjZU5vZGUobmV3Tm9kZSwgb2xkTm9kZSkge1xuICAgIHZhciBwYXJlbnQgPSBvbGROb2RlLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5ld05vZGUsIG9sZE5vZGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIERPTSBlbGVtZW50XG4gKiBAcGFyYW0gdGFnTmFtZVxuICogQHBhcmFtIGVsZW1lbnRBdHRyaWJ1dGVzXG4gKiBAcGFyYW0gaW5uZXJIVE1MXG4gKiBAcmV0dXJucyB7RWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRG9tKHRhZ05hbWUsIGVsZW1lbnRBdHRyaWJ1dGVzLCBpbm5lckhUTUwpIHtcbiAgICB2YXIgdG1wRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgLy8gQXR0cmlidXRlcz9cbiAgICBpZiAoZWxlbWVudEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdmFyIGF0dEtleXMgPSBPYmplY3Qua2V5cyhlbGVtZW50QXR0cmlidXRlcyksXG4gICAgICAgICAgICBrZXlzTGVuZ3RoID0gYXR0S2V5cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRtcEVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dEtleXNbaV0sIGVsZW1lbnRBdHRyaWJ1dGVzW2F0dEtleXNbaV1dKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBJbm5lckhUTUw/XG4gICAgaWYgKGlubmVySFRNTCAmJiB0eXBlb2YgaW5uZXJIVE1MID09PSAnc3RyaW5nJykge1xuICAgICAgICAvL1RPRE86IGlubmVySFRNTCBzaG91bGQgYmUgY2hlY2tlZCAtIHNhbml0aXplZFxuICAgICAgICB0bXBFbGVtZW50LmlubmVySFRNTCA9IGlubmVySFRNTDtcbiAgICB9IGVsc2UgaWYgKGlubmVySFRNTCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRtcEVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5uZXJIVE1MKTtcbiAgICB9XG4gICAgcmV0dXJuIHRtcEVsZW1lbnQ7XG59XG5cbnZhciBEb20gPSB7XG4gICAgY2xhc3NsaXN0OiBfY2xhc3NsaXN0Mi5kZWZhdWx0LFxuICAgIGRpc2FibGU6IGRpc2FibGUsXG4gICAgZW5hYmxlOiBlbmFibGUsXG4gICAgcmVtb3ZlTm9kZTogcmVtb3ZlTm9kZSxcbiAgICByZW1vdmVDaGlsZHJlbjogcmVtb3ZlQ2hpbGRyZW4sXG4gICAgaHRtbFRvRG9jdW1lbnRGcmFnbWVudDogaHRtbFRvRG9jdW1lbnRGcmFnbWVudCxcbiAgICByZXBsYWNlTm9kZTogcmVwbGFjZU5vZGUsXG4gICAgY3JlYXRlRG9tOiBjcmVhdGVEb21cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBEb207XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3RyaW5pdHkvdXRpbHMvRG9tLmpzXG4vLyBtb2R1bGUgaWQgPSA0Nzhcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 479:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar classlist = {}; /**\n                     * Created by fisa on 10/26/15.\n                     */\nexports.default = classlist;\n\n/**\n * Gets classlist Object\n * @param element {HTMLElement}\n * @returns {*}\n */\n\nclasslist.get = function (element) {\n    if (element.classList) {\n        return element.classList;\n    }\n\n    var className = element.className;\n    // Some types of elements don't have a className in IE (e.g. iframes).\n    // Furthermore, in Firefox, className is not a string when the element is\n    // an SVG element.\n    return _lodash2.default.isString(className) && className.match(/\\S+/g) || [];\n};\n\n/**\n * Adds a class to an element.  Does not add multiples of class names.  This\n * method may throw a DOM exception for an invalid or empty class name if\n * DOMTokenList is used.\n * @param {Element} element DOM node to add class to.\n * @param {string} className Class name to add.\n */\nclasslist.add = function (element, className) {\n    if (element.classList) {\n        element.classList.add(className);\n        return;\n    }\n\n    if (!classlist.contains(element, className)) {\n        // Ensure we add a space if this is not the first class name added.\n        element.className += element.className.length > 0 ? ' ' + className : className;\n    }\n};\n\n/**\n * Add all classes to element, avoid duplicates\n * @param {Element} element\n * @param {Array<string>} classesToAdd\n */\nclasslist.addAll = function (element, classesToAdd) {\n    if (element.classList) {\n        _lodash2.default.each(classesToAdd, function (c) {\n            element.classList.add(c);\n        });\n        return;\n    }\n\n    var classMap = {};\n\n    // Get all current class names into a map.\n    _lodash2.default.each(classlist.get(element), function (className) {\n        classMap[className] = true;\n    });\n\n    // Add new class names to the map.\n    _lodash2.default.each(classesToAdd, function (className) {\n        classMap[className] = true;\n    });\n\n    // Flatten the keys of the map into the className.\n    element.className = '';\n    for (var className in classMap) {\n        element.className += element.className.length > 0 ? ' ' + className : className;\n    }\n};\n\n/**\n * Removes a class from an element.  This method may throw a DOM exception\n * for an invalid or empty class name if DOMTokenList is used.\n * @param {Element} element DOM node to remove class from.\n * @param {string} className Class name to remove.\n */\nclasslist.remove = function (element, className) {\n    if (element.classList) {\n        element.classList.remove(className);\n        return;\n    }\n\n    if (classlist.contains(element, className)) {\n        // Filter out the class name.\n        element.className = _lodash2.default.filter(classlist.get(element), function (c) {\n            return c != className;\n        }).join(' ');\n    }\n};\n\n/**\n * Removes all classes\n * @param {Element} element\n * @param {Array<string>} classesToRemove\n */\nclasslist.removeAll = function (element, classesToRemove) {\n    if (element.classList) {\n        _lodash2.default.each(classesToRemove, function (c) {\n            element.classList.remove(c);\n        });\n        return;\n    }\n    // Filter out those classes in classesToRemove.\n    element.className = _lodash2.default.filter(classlist.get(element), function (className) {\n        // If this class is not one we are trying to remove,\n        // add it to the array of new class names.\n        return !_lodash2.default.contains(classesToRemove, className);\n    }).join(' ');\n};\n\n/**\n * Returns true if element contains className provided\n * @param {Element} element\n * @param {string} className\n * @returns {boolean}\n */\nclasslist.contains = function (element, className) {\n    return element.classList ? element.classList.contains(className) : _lodash2.default.includes(classlist.get(element), className);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L3V0aWxzL2NsYXNzbGlzdC5qcz9kNjA5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY2xhc3NsaXN0ID0ge307IC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVkIGJ5IGZpc2Egb24gMTAvMjYvMTUuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuZXhwb3J0cy5kZWZhdWx0ID0gY2xhc3NsaXN0O1xuXG4vKipcbiAqIEdldHMgY2xhc3NsaXN0IE9iamVjdFxuICogQHBhcmFtIGVsZW1lbnQge0hUTUxFbGVtZW50fVxuICogQHJldHVybnMgeyp9XG4gKi9cblxuY2xhc3NsaXN0LmdldCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdDtcbiAgICB9XG5cbiAgICB2YXIgY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWU7XG4gICAgLy8gU29tZSB0eXBlcyBvZiBlbGVtZW50cyBkb24ndCBoYXZlIGEgY2xhc3NOYW1lIGluIElFIChlLmcuIGlmcmFtZXMpLlxuICAgIC8vIEZ1cnRoZXJtb3JlLCBpbiBGaXJlZm94LCBjbGFzc05hbWUgaXMgbm90IGEgc3RyaW5nIHdoZW4gdGhlIGVsZW1lbnQgaXNcbiAgICAvLyBhbiBTVkcgZWxlbWVudC5cbiAgICByZXR1cm4gX2xvZGFzaDIuZGVmYXVsdC5pc1N0cmluZyhjbGFzc05hbWUpICYmIGNsYXNzTmFtZS5tYXRjaCgvXFxTKy9nKSB8fCBbXTtcbn07XG5cbi8qKlxuICogQWRkcyBhIGNsYXNzIHRvIGFuIGVsZW1lbnQuICBEb2VzIG5vdCBhZGQgbXVsdGlwbGVzIG9mIGNsYXNzIG5hbWVzLiAgVGhpc1xuICogbWV0aG9kIG1heSB0aHJvdyBhIERPTSBleGNlcHRpb24gZm9yIGFuIGludmFsaWQgb3IgZW1wdHkgY2xhc3MgbmFtZSBpZlxuICogRE9NVG9rZW5MaXN0IGlzIHVzZWQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgRE9NIG5vZGUgdG8gYWRkIGNsYXNzIHRvLlxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBDbGFzcyBuYW1lIHRvIGFkZC5cbiAqL1xuY2xhc3NsaXN0LmFkZCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWNsYXNzbGlzdC5jb250YWlucyhlbGVtZW50LCBjbGFzc05hbWUpKSB7XG4gICAgICAgIC8vIEVuc3VyZSB3ZSBhZGQgYSBzcGFjZSBpZiB0aGlzIGlzIG5vdCB0aGUgZmlyc3QgY2xhc3MgbmFtZSBhZGRlZC5cbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gZWxlbWVudC5jbGFzc05hbWUubGVuZ3RoID4gMCA/ICcgJyArIGNsYXNzTmFtZSA6IGNsYXNzTmFtZTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFkZCBhbGwgY2xhc3NlcyB0byBlbGVtZW50LCBhdm9pZCBkdXBsaWNhdGVzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gY2xhc3Nlc1RvQWRkXG4gKi9cbmNsYXNzbGlzdC5hZGRBbGwgPSBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3Nlc1RvQWRkKSB7XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaChjbGFzc2VzVG9BZGQsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoYyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNsYXNzTWFwID0ge307XG5cbiAgICAvLyBHZXQgYWxsIGN1cnJlbnQgY2xhc3MgbmFtZXMgaW50byBhIG1hcC5cbiAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goY2xhc3NsaXN0LmdldChlbGVtZW50KSwgZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICBjbGFzc01hcFtjbGFzc05hbWVdID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBuZXcgY2xhc3MgbmFtZXMgdG8gdGhlIG1hcC5cbiAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goY2xhc3Nlc1RvQWRkLCBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIGNsYXNzTWFwW2NsYXNzTmFtZV0gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgLy8gRmxhdHRlbiB0aGUga2V5cyBvZiB0aGUgbWFwIGludG8gdGhlIGNsYXNzTmFtZS5cbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9ICcnO1xuICAgIGZvciAodmFyIGNsYXNzTmFtZSBpbiBjbGFzc01hcCkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSBlbGVtZW50LmNsYXNzTmFtZS5sZW5ndGggPiAwID8gJyAnICsgY2xhc3NOYW1lIDogY2xhc3NOYW1lO1xuICAgIH1cbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhIGNsYXNzIGZyb20gYW4gZWxlbWVudC4gIFRoaXMgbWV0aG9kIG1heSB0aHJvdyBhIERPTSBleGNlcHRpb25cbiAqIGZvciBhbiBpbnZhbGlkIG9yIGVtcHR5IGNsYXNzIG5hbWUgaWYgRE9NVG9rZW5MaXN0IGlzIHVzZWQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgRE9NIG5vZGUgdG8gcmVtb3ZlIGNsYXNzIGZyb20uXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIENsYXNzIG5hbWUgdG8gcmVtb3ZlLlxuICovXG5jbGFzc2xpc3QucmVtb3ZlID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjbGFzc2xpc3QuY29udGFpbnMoZWxlbWVudCwgY2xhc3NOYW1lKSkge1xuICAgICAgICAvLyBGaWx0ZXIgb3V0IHRoZSBjbGFzcyBuYW1lLlxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IF9sb2Rhc2gyLmRlZmF1bHQuZmlsdGVyKGNsYXNzbGlzdC5nZXQoZWxlbWVudCksIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAhPSBjbGFzc05hbWU7XG4gICAgICAgIH0pLmpvaW4oJyAnKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGNsYXNzZXNcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBjbGFzc2VzVG9SZW1vdmVcbiAqL1xuY2xhc3NsaXN0LnJlbW92ZUFsbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc2VzVG9SZW1vdmUpIHtcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKGNsYXNzZXNUb1JlbW92ZSwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gRmlsdGVyIG91dCB0aG9zZSBjbGFzc2VzIGluIGNsYXNzZXNUb1JlbW92ZS5cbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IF9sb2Rhc2gyLmRlZmF1bHQuZmlsdGVyKGNsYXNzbGlzdC5nZXQoZWxlbWVudCksIGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgLy8gSWYgdGhpcyBjbGFzcyBpcyBub3Qgb25lIHdlIGFyZSB0cnlpbmcgdG8gcmVtb3ZlLFxuICAgICAgICAvLyBhZGQgaXQgdG8gdGhlIGFycmF5IG9mIG5ldyBjbGFzcyBuYW1lcy5cbiAgICAgICAgcmV0dXJuICFfbG9kYXNoMi5kZWZhdWx0LmNvbnRhaW5zKGNsYXNzZXNUb1JlbW92ZSwgY2xhc3NOYW1lKTtcbiAgICB9KS5qb2luKCcgJyk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBlbGVtZW50IGNvbnRhaW5zIGNsYXNzTmFtZSBwcm92aWRlZFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY2xhc3NsaXN0LmNvbnRhaW5zID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdCA/IGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkgOiBfbG9kYXNoMi5kZWZhdWx0LmluY2x1ZGVzKGNsYXNzbGlzdC5nZXQoZWxlbWVudCksIGNsYXNzTmFtZSk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90cmluaXR5L3V0aWxzL2NsYXNzbGlzdC5qc1xuLy8gbW9kdWxlIGlkID0gNDc5XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 480:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 10/26/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.messageService = messageService;\n\nvar _Dom = __webpack_require__(478);\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Flash messages\n * @param message\n * @param type\n */\nfunction messageService(message, type) {\n    type = type || 'info';\n    message = message || type;\n\n    var ajaxInput = document.querySelector('.ajax-checkbox'),\n        ajaxAlert = document.querySelector('.ajax-alert'),\n        box = document.getElementById('flashMessages');\n\n    if (!ajaxInput || !ajaxAlert) {\n        /*eslint-disable*/\n        console.log('MESSAGE', message);\n        /*eslint-enable*/\n        alert(message);\n        return;\n    }\n\n    ajaxInput = ajaxInput.cloneNode(true);\n    ajaxAlert = ajaxAlert.cloneNode(true);\n\n    var iconClass = '';\n    switch (type) {\n        case 'success':\n            {\n                iconClass = 'trinity trinity-ok';\n            }\n            break;\n        case 'warning':\n            {\n                iconClass = 'trinity trinity-warning';\n            }\n            break;\n        case 'error':\n        case 'danger':\n            {\n                type = 'danger';\n                iconClass = 'tiecons tiecons-exclamation-mark-circle';\n            }\n            break;\n        default:\n            {\n                iconClass = 'trinity trinity-info';\n            }\n            break;\n    }\n\n    // Assign new values\n    var id = Math.floor(Math.random() * (9999 - 10));\n    ajaxInput.setAttribute('id', 'close-alert-' + type + '-' + id);\n    ajaxAlert.innerHTML = ajaxAlert.innerHTML.replace('{id}', id.toString()).replace('{message}', message).replace('{icon}', iconClass).replace('{type}', type);\n    ajaxAlert.className = ajaxAlert.className.replace('{type}', type);\n\n    _Dom2.default.classlist.remove(ajaxInput, 'ajax-checkbox');\n    _Dom2.default.classlist.remove(ajaxAlert, 'ajax-alert');\n\n    box.appendChild(ajaxInput);\n    box.appendChild(ajaxAlert);\n\n    if (type == 'success') {\n        (function () {\n            var timeOutId = setTimeout(function () {\n                _Dom2.default.removeNode(ajaxInput);\n                _Dom2.default.removeNode(ajaxAlert);\n                clearTimeout(timeOutId); // just to be sure\n            }, 2000);\n        })();\n    }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L1NlcnZpY2VzLmpzP2Y0MDUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGZpc2Egb24gMTAvMjYvMTUuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5tZXNzYWdlU2VydmljZSA9IG1lc3NhZ2VTZXJ2aWNlO1xuXG52YXIgX0RvbSA9IHJlcXVpcmUoJy4vdXRpbHMvRG9tLmpzJyk7XG5cbnZhciBfRG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RvbSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogRmxhc2ggbWVzc2FnZXNcbiAqIEBwYXJhbSBtZXNzYWdlXG4gKiBAcGFyYW0gdHlwZVxuICovXG5mdW5jdGlvbiBtZXNzYWdlU2VydmljZShtZXNzYWdlLCB0eXBlKSB7XG4gICAgdHlwZSA9IHR5cGUgfHwgJ2luZm8nO1xuICAgIG1lc3NhZ2UgPSBtZXNzYWdlIHx8IHR5cGU7XG5cbiAgICB2YXIgYWpheElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFqYXgtY2hlY2tib3gnKSxcbiAgICAgICAgYWpheEFsZXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFqYXgtYWxlcnQnKSxcbiAgICAgICAgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZsYXNoTWVzc2FnZXMnKTtcblxuICAgIGlmICghYWpheElucHV0IHx8ICFhamF4QWxlcnQpIHtcbiAgICAgICAgLyplc2xpbnQtZGlzYWJsZSovXG4gICAgICAgIGNvbnNvbGUubG9nKCdNRVNTQUdFJywgbWVzc2FnZSk7XG4gICAgICAgIC8qZXNsaW50LWVuYWJsZSovXG4gICAgICAgIGFsZXJ0KG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYWpheElucHV0ID0gYWpheElucHV0LmNsb25lTm9kZSh0cnVlKTtcbiAgICBhamF4QWxlcnQgPSBhamF4QWxlcnQuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgdmFyIGljb25DbGFzcyA9ICcnO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdzdWNjZXNzJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpY29uQ2xhc3MgPSAndHJpbml0eSB0cmluaXR5LW9rJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd3YXJuaW5nJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpY29uQ2xhc3MgPSAndHJpbml0eSB0cmluaXR5LXdhcm5pbmcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgY2FzZSAnZGFuZ2VyJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gJ2Rhbmdlcic7XG4gICAgICAgICAgICAgICAgaWNvbkNsYXNzID0gJ3RpZWNvbnMgdGllY29ucy1leGNsYW1hdGlvbi1tYXJrLWNpcmNsZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpY29uQ2xhc3MgPSAndHJpbml0eSB0cmluaXR5LWluZm8nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gQXNzaWduIG5ldyB2YWx1ZXNcbiAgICB2YXIgaWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoOTk5OSAtIDEwKSk7XG4gICAgYWpheElucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCAnY2xvc2UtYWxlcnQtJyArIHR5cGUgKyAnLScgKyBpZCk7XG4gICAgYWpheEFsZXJ0LmlubmVySFRNTCA9IGFqYXhBbGVydC5pbm5lckhUTUwucmVwbGFjZSgne2lkfScsIGlkLnRvU3RyaW5nKCkpLnJlcGxhY2UoJ3ttZXNzYWdlfScsIG1lc3NhZ2UpLnJlcGxhY2UoJ3tpY29ufScsIGljb25DbGFzcykucmVwbGFjZSgne3R5cGV9JywgdHlwZSk7XG4gICAgYWpheEFsZXJ0LmNsYXNzTmFtZSA9IGFqYXhBbGVydC5jbGFzc05hbWUucmVwbGFjZSgne3R5cGV9JywgdHlwZSk7XG5cbiAgICBfRG9tMi5kZWZhdWx0LmNsYXNzbGlzdC5yZW1vdmUoYWpheElucHV0LCAnYWpheC1jaGVja2JveCcpO1xuICAgIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LnJlbW92ZShhamF4QWxlcnQsICdhamF4LWFsZXJ0Jyk7XG5cbiAgICBib3guYXBwZW5kQ2hpbGQoYWpheElucHV0KTtcbiAgICBib3guYXBwZW5kQ2hpbGQoYWpheEFsZXJ0KTtcblxuICAgIGlmICh0eXBlID09ICdzdWNjZXNzJykge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRpbWVPdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9Eb20yLmRlZmF1bHQucmVtb3ZlTm9kZShhamF4SW5wdXQpO1xuICAgICAgICAgICAgICAgIF9Eb20yLmRlZmF1bHQucmVtb3ZlTm9kZShhamF4QWxlcnQpO1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lT3V0SWQpOyAvLyBqdXN0IHRvIGJlIHN1cmVcbiAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICB9KSgpO1xuICAgIH1cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHJpbml0eS9TZXJ2aWNlcy5qc1xuLy8gbW9kdWxlIGlkID0gNDgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 481:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Dom = __webpack_require__(478);\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nvar _fbemitter = __webpack_require__(173);\n\nvar _Gateway = __webpack_require__(482);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nvar _Events = __webpack_require__(475);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MAX_TRY = 3;\n\n/**\n * Trinity Tab\n */\n\nvar TrinityTab = function (_EventEmitter) {\n    _inherits(TrinityTab, _EventEmitter);\n\n    /**\n     * Heads of tab component\n     * @param [tabHeads] {Array<HTMLElement>}\n     */\n    function TrinityTab(tabHeads) {\n        _classCallCheck(this, TrinityTab);\n\n        tabHeads = tabHeads || document.querySelectorAll('.tab-head');\n        if (tabHeads.length < 1) {\n            throw new Error('No \"tabHeads\" provided or elements with \"tab-head\" class not found!');\n        }\n\n        var _this = _possibleConstructorReturn(this, (TrinityTab.__proto__ || Object.getPrototypeOf(TrinityTab)).call(this));\n\n        _this.heads = tabHeads;\n        _this.aliasIdPairs = { alToId: {}, idToAl: {} };\n        // find heads with aliases\n        _lodash2.default.each(tabHeads, function (head) {\n            head.alias = head.getAttribute('data-alias'); // sets custom attribute, for not having to use getAttribute anny later\n            if (head.alias) {\n                _this.aliasIdPairs.alToId[head.alias] = head.id;\n                _this.aliasIdPairs.idToAl[head.id] = head.alias;\n            }\n        });\n\n        _this.tabs = {};\n        _this.__activeTabName = null;\n\n        //Check which tab to load first\n        var tabName = location.hash.substring(1),\n            activeHead = null;\n\n        if (tabName.length > 0) {\n            if (_this.aliasIdPairs.alToId[tabName]) {\n                (function () {\n                    var tabId = _this.aliasIdPairs.alToId[tabName];\n                    activeHead = _lodash2.default.find(_this.heads, function (head) {\n                        return head.id === tabId;\n                    });\n                })();\n            } else {\n                activeHead = _lodash2.default.find(_this.heads, function (head) {\n                    return head.id === tabName;\n                });\n                if (activeHead && activeHead.alias) {\n                    // if head have alias, replace hash and tabName to it\n                    tabName = activeHead.alias;\n                    window.location.hash = '#' + activeHead.alias;\n                }\n            }\n        }\n\n        if (activeHead) {\n            activeHead.setAttribute('checked', 'checked'); //sets head from url as active\n        } else {\n            activeHead = _lodash2.default.find(_this.heads, function (tab) {\n                var checked = false;\n                if (_lodash2.default.isUndefined(tab.checked)) {\n                    checked = !_lodash2.default.isNull(tab.getAttribute('checked'));\n                } else {\n                    checked = tab.checked;\n                }\n                return checked;\n            });\n            if (!activeHead) {\n                activeHead = _this.heads[0];\n            }\n            tabName = activeHead.alias || activeHead.id;\n            // Replace history string\n            window.history.replaceState(null, tabName, '#' + tabName);\n        }\n        _this.__activeTabName = activeHead.id;\n        // Add new Tab to tabs\n        _this.tabs[activeHead.id] = new Tab(activeHead, _this);\n\n        /** Attach click event Listeners to other heads **/\n        _this.attachHeadClickEvents();\n\n        // Navigation\n        window.addEventListener('popstate', __handleNavigation.bind(_this));\n        return _this;\n    }\n\n    _createClass(TrinityTab, [{\n        key: 'attachHeadClickEvents',\n        value: function attachHeadClickEvents() {\n            var _this2 = this;\n\n            _lodash2.default.each(this.heads, function (head) {\n                head.addEventListener('click', __handleTabClick.bind(_this2, head));\n            });\n        }\n\n        /**\n         * Set active Tab by provided tabID\n         * @param tabName {string}\n         * @throws {Error} if tab with provided ID does't exit\n         * @public\n         */\n\n    }, {\n        key: 'setActiveTab',\n        value: function setActiveTab(tabName) {\n            tabName = tabName ? this.aliasIdPairs.alToId[tabName] || tabName : this.heads[0].id;\n\n            // If undefined -> Create and Set as Active\n            if (!this.tabs[tabName]) {\n                var head = _lodash2.default.find(this.heads, function (el) {\n                    return el.id === tabName;\n                });\n                if (!head) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        throw new Error('Tab with id or alias: ' + tabName + ' does not exist!');\n                    }\n                    return false;\n                }\n                this.tabs[tabName] = new Tab(head, this);\n            }\n\n            if (tabName === this.__activeTabName) {\n                return;\n            }\n            var prevTab = this.__activeTabName;\n\n            this.__activeTabName = tabName;\n            this.tabs[prevTab].head.removeAttribute('checked');\n            this.tabs[prevTab].head.checked = false;\n            this.tabs[tabName].head.setAttribute('checked', 'checked');\n            this.tabs[tabName].head.checked = true;\n\n            //Update Hash URL\n            __pushHistory(this.aliasIdPairs.idToAl[tabName] || tabName);\n\n            // Emit change\n            this.emit('tab-changed', {\n                previous: prevTab,\n                id: tabName,\n                alias: this.aliasIdPairs.idToAl[tabName],\n                tab: this.tabs[tabName]\n            });\n        }\n\n        /**\n         * Returns active tab\n         * @NOTE: may return NULL if active tab still processing\n         * @public\n         * @returns {Tab}\n         */\n\n    }, {\n        key: 'getActiveTab',\n        value: function getActiveTab() {\n            return this.tabs[this.__activeTabName];\n        }\n\n        /**\n         * Reloads content of tab\n         * @param tabName {string || Array<string>}\n         */\n\n    }, {\n        key: 'reload',\n        value: function reload(tabName) {\n            var _this3 = this;\n\n            tabName = this.aliasIdPairs.alToId[tabName] || tabName;\n            var __reload = function __reload(name) {\n                var tab = _this3.tabs[name];\n                if (tab) {\n                    tab.reloadContent();\n                }\n            };\n            if (!_lodash2.default.isArray(tabName)) {\n                __reload(tabName);\n            } else {\n                _lodash2.default.each(tabName, function (name) {\n                    __reload(name);\n                });\n            }\n        }\n\n        /**\n         * Reload content of all tabs\n         */\n\n    }, {\n        key: 'reloadAll',\n        value: function reloadAll() {\n            _lodash2.default.each(this.tabs, function (t) {\n                t.reloadContent();\n            });\n        }\n    }, {\n        key: 'onLoad',\n        value: function onLoad(tabID, callback, context) {\n            this.addListener(tabID, callback, context);\n        }\n    }]);\n\n    return TrinityTab;\n}(_fbemitter.EventEmitter);\n\n/**\n * Handles pop state navigation\n * @private\n */\n\n\nexports.default = TrinityTab;\nfunction __handleNavigation() {\n    var tabName = location.hash.substring(1);\n    if (tabName.length > 0) {\n        this.setActiveTab(tabName);\n    }\n}\n\n/**\n * Handles click event on Tab\n * @param head {HTMLElement}\n * @private\n */\nfunction __handleTabClick(head) {\n    this.setActiveTab(head.getAttribute('id'));\n}\n\n/**\n * Push new history\n * @param newHash\n * @private\n */\nfunction __pushHistory(newHash) {\n    if (newHash !== window.location.hash.substring(1)) {\n        window.history.pushState(null, newHash, '#' + newHash);\n    }\n}\n\n/**\n * Tab class\n */\n\nvar Tab = function () {\n    function Tab(head, parent) {\n        _classCallCheck(this, Tab);\n\n        this.alias = head.alias;\n        this.id = head.id;\n        this.head = head;\n        this.parent = parent;\n        this.root = null;\n        this.isLoading = false;\n        // this.forms = []; --never used\n\n        // Tab body\n        this.bodyElement = document.getElementById(head.id.replace('tab', 'tab-body-'));\n\n        __showLoading(this.bodyElement);\n\n        //link of body for root child\n        this.dataSource = this.bodyElement.getAttribute('data-source');\n        this.loadContent();\n    }\n\n    _createClass(Tab, [{\n        key: 'loadContent',\n        value: function loadContent() {\n            __requestWidget(this.dataSource, this, null);\n        }\n    }, {\n        key: 'reloadContent',\n        value: function reloadContent() {\n            __showLoading(this.bodyElement);\n            this.parent.emit('tab-unload', {\n                id: this.id,\n                alias: this.alias,\n                tab: this,\n                element: this.bodyElement\n            });\n            _Dom2.default.removeNode(this.root);\n            __requestWidget(this.dataSource, this, null);\n        }\n    }]);\n\n    return Tab;\n}();\n\nfunction __requestWidget(link, tab, timeout_i, callback) {\n    var _this4 = this;\n\n    if (!tab.isLoading) {\n        tab.isLoading = true;\n        _Gateway2.default.get(link, null, function (res) {\n            if (res.type !== 'text/html') {\n                throw new Error('Unexpected response!: ', res);\n            }\n            var data = res.text,\n                tmpDiv = _Dom2.default.createDom('div', null, data.trim());\n\n            tab.root = tmpDiv.children.length === 1 ? tmpDiv.children[0] : tmpDiv;\n\n            __hideLoading(tab.bodyElement);\n            tab.bodyElement.appendChild(tab.root);\n\n            // Dispatch global event\n            // tab doesn't inherit from EventEmitter class, but his parent does\n\n            tab.parent.emit('tab-load', {\n                id: tab.id,\n                alias: tab.alias,\n                tab: tab,\n                element: tab.bodyElement\n            });\n\n            // Dispatch tabID-specific event\n            tab.parent.emit(tab.name, {\n                tab: tab,\n                element: tab.bodyElement\n            });\n\n            // If id has any content then emit another event\n            var contentID = tab.root.id;\n            if (contentID) {\n                tab.parent.emit(contentID, {\n                    tab: tab,\n                    element: tab.bodyElement\n                });\n            }\n            // IF callback provided\n            if (callback) {\n                callback.call(tab, _this4.bodyElement);\n            }\n            tab.isLoading = false;\n        }, function (error) {\n            if (error.timeout) {\n                if (timeout_i && timeout_i === MAX_TRY) {\n                    // TODO: Logger service?\n                    console.error('Call for maintenance');\n                    tab.parent.emit('error', { message: 'REQUEST TIMED OUT', timeout: true });\n                    __tabNotLoaded(link, tab);\n                } else {\n                    (function () {\n                        console.warn('Request timed out, trying again in 2 sec');\n                        var id = setTimeout(function () {\n                            __requestWidget(link, tab, timeout_i + 1 || 1);\n                            clearTimeout(id);\n                        }, 2000);\n                    })();\n                }\n            } else {\n                console.error(error);\n                tab.parent.emit('error', error);\n                __tabNotLoaded(link, tab);\n            }\n            tab.isLoading = false;\n        });\n    }\n}\n\nfunction __tabNotLoaded(link, tab) {\n    var wrapper = document.createElement('div'),\n        button = document.createElement('input');\n    button.type = 'submit';\n    button.className = 'button button-primary trinityJS-reload-tab-button';\n    button.value = 'Reload';\n\n    wrapper.innerHTML = '<p class=\"trinityJS-reload-tab-text\">We are sorry, something went wrong. Please reload this tab. If the problem persist, contact us.</p>';\n    wrapper.className = 'trinityJS-reload-tab';\n    wrapper.appendChild(button);\n\n    __hideLoading(tab.bodyElement);\n    tab.bodyElement.appendChild(wrapper);\n    _Events2.default.listenOnce(button, 'click', function () {\n        tab.bodyElement.removeChild(wrapper);\n        __showLoading(tab.bodyElement);\n        __requestWidget(link, tab, null);\n    });\n}\n\n/**\n * TODO: loading icon to settings\n * TODO: Loading icon (whole content) should be variable from outside, not strictly defined as it is now\n */\nfunction __showLoading(element) {\n    var loader = element.querySelector('.trinity-tab-loader');\n    if (_lodash2.default.isNull(loader)) {\n        var icon = _Dom2.default.createDom('i', { 'class': 'tiecons tiecons-loading tiecons-rotate font-40' });\n        loader = _Dom2.default.createDom('div', { 'class': 'trinity-tab-loader tab-loader' }, icon);\n        element.appendChild(loader);\n    } else {\n        _Dom2.default.classlist.remove(loader, 'display-none');\n    }\n}\n\nfunction __hideLoading(element) {\n    var loader = element.querySelector('.trinity-tab-loader');\n    if (loader) {\n        _Dom2.default.classlist.add(loader, 'display-none');\n    }\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(32)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L2NvbXBvbmVudHMvVHJpbml0eVRhYi5qcz85MjViIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG52YXIgX0RvbSA9IHJlcXVpcmUoJ3RyaW5pdHkvdXRpbHMvRG9tJyk7XG5cbnZhciBfRG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RvbSk7XG5cbnZhciBfZmJlbWl0dGVyID0gcmVxdWlyZSgnZmJlbWl0dGVyJyk7XG5cbnZhciBfR2F0ZXdheSA9IHJlcXVpcmUoJ3RyaW5pdHkvR2F0ZXdheScpO1xuXG52YXIgX0dhdGV3YXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR2F0ZXdheSk7XG5cbnZhciBfRXZlbnRzID0gcmVxdWlyZSgndHJpbml0eS91dGlscy9FdmVudHMnKTtcblxudmFyIF9FdmVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXZlbnRzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgTUFYX1RSWSA9IDM7XG5cbi8qKlxuICogVHJpbml0eSBUYWJcbiAqL1xuXG52YXIgVHJpbml0eVRhYiA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKFRyaW5pdHlUYWIsIF9FdmVudEVtaXR0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogSGVhZHMgb2YgdGFiIGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSBbdGFiSGVhZHNdIHtBcnJheTxIVE1MRWxlbWVudD59XG4gICAgICovXG4gICAgZnVuY3Rpb24gVHJpbml0eVRhYih0YWJIZWFkcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJpbml0eVRhYik7XG5cbiAgICAgICAgdGFiSGVhZHMgPSB0YWJIZWFkcyB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWhlYWQnKTtcbiAgICAgICAgaWYgKHRhYkhlYWRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gXCJ0YWJIZWFkc1wiIHByb3ZpZGVkIG9yIGVsZW1lbnRzIHdpdGggXCJ0YWItaGVhZFwiIGNsYXNzIG5vdCBmb3VuZCEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUcmluaXR5VGFiLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHJpbml0eVRhYikpLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLmhlYWRzID0gdGFiSGVhZHM7XG4gICAgICAgIF90aGlzLmFsaWFzSWRQYWlycyA9IHsgYWxUb0lkOiB7fSwgaWRUb0FsOiB7fSB9O1xuICAgICAgICAvLyBmaW5kIGhlYWRzIHdpdGggYWxpYXNlc1xuICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2godGFiSGVhZHMsIGZ1bmN0aW9uIChoZWFkKSB7XG4gICAgICAgICAgICBoZWFkLmFsaWFzID0gaGVhZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWxpYXMnKTsgLy8gc2V0cyBjdXN0b20gYXR0cmlidXRlLCBmb3Igbm90IGhhdmluZyB0byB1c2UgZ2V0QXR0cmlidXRlIGFubnkgbGF0ZXJcbiAgICAgICAgICAgIGlmIChoZWFkLmFsaWFzKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWxpYXNJZFBhaXJzLmFsVG9JZFtoZWFkLmFsaWFzXSA9IGhlYWQuaWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWxpYXNJZFBhaXJzLmlkVG9BbFtoZWFkLmlkXSA9IGhlYWQuYWxpYXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLnRhYnMgPSB7fTtcbiAgICAgICAgX3RoaXMuX19hY3RpdmVUYWJOYW1lID0gbnVsbDtcblxuICAgICAgICAvL0NoZWNrIHdoaWNoIHRhYiB0byBsb2FkIGZpcnN0XG4gICAgICAgIHZhciB0YWJOYW1lID0gbG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSksXG4gICAgICAgICAgICBhY3RpdmVIZWFkID0gbnVsbDtcblxuICAgICAgICBpZiAodGFiTmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuYWxpYXNJZFBhaXJzLmFsVG9JZFt0YWJOYW1lXSkge1xuICAgICAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJJZCA9IF90aGlzLmFsaWFzSWRQYWlycy5hbFRvSWRbdGFiTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUhlYWQgPSBfbG9kYXNoMi5kZWZhdWx0LmZpbmQoX3RoaXMuaGVhZHMsIGZ1bmN0aW9uIChoZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGVhZC5pZCA9PT0gdGFiSWQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUhlYWQgPSBfbG9kYXNoMi5kZWZhdWx0LmZpbmQoX3RoaXMuaGVhZHMsIGZ1bmN0aW9uIChoZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoZWFkLmlkID09PSB0YWJOYW1lO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVIZWFkICYmIGFjdGl2ZUhlYWQuYWxpYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaGVhZCBoYXZlIGFsaWFzLCByZXBsYWNlIGhhc2ggYW5kIHRhYk5hbWUgdG8gaXRcbiAgICAgICAgICAgICAgICAgICAgdGFiTmFtZSA9IGFjdGl2ZUhlYWQuYWxpYXM7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJyMnICsgYWN0aXZlSGVhZC5hbGlhcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aXZlSGVhZCkge1xuICAgICAgICAgICAgYWN0aXZlSGVhZC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpOyAvL3NldHMgaGVhZCBmcm9tIHVybCBhcyBhY3RpdmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZUhlYWQgPSBfbG9kYXNoMi5kZWZhdWx0LmZpbmQoX3RoaXMuaGVhZHMsIGZ1bmN0aW9uICh0YWIpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChfbG9kYXNoMi5kZWZhdWx0LmlzVW5kZWZpbmVkKHRhYi5jaGVja2VkKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0gIV9sb2Rhc2gyLmRlZmF1bHQuaXNOdWxsKHRhYi5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IHRhYi5jaGVja2VkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2tlZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFhY3RpdmVIZWFkKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlSGVhZCA9IF90aGlzLmhlYWRzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFiTmFtZSA9IGFjdGl2ZUhlYWQuYWxpYXMgfHwgYWN0aXZlSGVhZC5pZDtcbiAgICAgICAgICAgIC8vIFJlcGxhY2UgaGlzdG9yeSBzdHJpbmdcbiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCB0YWJOYW1lLCAnIycgKyB0YWJOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5fX2FjdGl2ZVRhYk5hbWUgPSBhY3RpdmVIZWFkLmlkO1xuICAgICAgICAvLyBBZGQgbmV3IFRhYiB0byB0YWJzXG4gICAgICAgIF90aGlzLnRhYnNbYWN0aXZlSGVhZC5pZF0gPSBuZXcgVGFiKGFjdGl2ZUhlYWQsIF90aGlzKTtcblxuICAgICAgICAvKiogQXR0YWNoIGNsaWNrIGV2ZW50IExpc3RlbmVycyB0byBvdGhlciBoZWFkcyAqKi9cbiAgICAgICAgX3RoaXMuYXR0YWNoSGVhZENsaWNrRXZlbnRzKCk7XG5cbiAgICAgICAgLy8gTmF2aWdhdGlvblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBfX2hhbmRsZU5hdmlnYXRpb24uYmluZChfdGhpcykpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFRyaW5pdHlUYWIsIFt7XG4gICAgICAgIGtleTogJ2F0dGFjaEhlYWRDbGlja0V2ZW50cycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhdHRhY2hIZWFkQ2xpY2tFdmVudHMoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHRoaXMuaGVhZHMsIGZ1bmN0aW9uIChoZWFkKSB7XG4gICAgICAgICAgICAgICAgaGVhZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9faGFuZGxlVGFiQ2xpY2suYmluZChfdGhpczIsIGhlYWQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhY3RpdmUgVGFiIGJ5IHByb3ZpZGVkIHRhYklEXG4gICAgICAgICAqIEBwYXJhbSB0YWJOYW1lIHtzdHJpbmd9XG4gICAgICAgICAqIEB0aHJvd3Mge0Vycm9yfSBpZiB0YWIgd2l0aCBwcm92aWRlZCBJRCBkb2VzJ3QgZXhpdFxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzZXRBY3RpdmVUYWInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QWN0aXZlVGFiKHRhYk5hbWUpIHtcbiAgICAgICAgICAgIHRhYk5hbWUgPSB0YWJOYW1lID8gdGhpcy5hbGlhc0lkUGFpcnMuYWxUb0lkW3RhYk5hbWVdIHx8IHRhYk5hbWUgOiB0aGlzLmhlYWRzWzBdLmlkO1xuXG4gICAgICAgICAgICAvLyBJZiB1bmRlZmluZWQgLT4gQ3JlYXRlIGFuZCBTZXQgYXMgQWN0aXZlXG4gICAgICAgICAgICBpZiAoIXRoaXMudGFic1t0YWJOYW1lXSkge1xuICAgICAgICAgICAgICAgIHZhciBoZWFkID0gX2xvZGFzaDIuZGVmYXVsdC5maW5kKHRoaXMuaGVhZHMsIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT09IHRhYk5hbWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFoZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RhYiB3aXRoIGlkIG9yIGFsaWFzOiAnICsgdGFiTmFtZSArICcgZG9lcyBub3QgZXhpc3QhJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRhYnNbdGFiTmFtZV0gPSBuZXcgVGFiKGhlYWQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGFiTmFtZSA9PT0gdGhpcy5fX2FjdGl2ZVRhYk5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJldlRhYiA9IHRoaXMuX19hY3RpdmVUYWJOYW1lO1xuXG4gICAgICAgICAgICB0aGlzLl9fYWN0aXZlVGFiTmFtZSA9IHRhYk5hbWU7XG4gICAgICAgICAgICB0aGlzLnRhYnNbcHJldlRhYl0uaGVhZC5yZW1vdmVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIHRoaXMudGFic1twcmV2VGFiXS5oZWFkLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudGFic1t0YWJOYW1lXS5oZWFkLnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsICdjaGVja2VkJyk7XG4gICAgICAgICAgICB0aGlzLnRhYnNbdGFiTmFtZV0uaGVhZC5jaGVja2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy9VcGRhdGUgSGFzaCBVUkxcbiAgICAgICAgICAgIF9fcHVzaEhpc3RvcnkodGhpcy5hbGlhc0lkUGFpcnMuaWRUb0FsW3RhYk5hbWVdIHx8IHRhYk5hbWUpO1xuXG4gICAgICAgICAgICAvLyBFbWl0IGNoYW5nZVxuICAgICAgICAgICAgdGhpcy5lbWl0KCd0YWItY2hhbmdlZCcsIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91czogcHJldlRhYixcbiAgICAgICAgICAgICAgICBpZDogdGFiTmFtZSxcbiAgICAgICAgICAgICAgICBhbGlhczogdGhpcy5hbGlhc0lkUGFpcnMuaWRUb0FsW3RhYk5hbWVdLFxuICAgICAgICAgICAgICAgIHRhYjogdGhpcy50YWJzW3RhYk5hbWVdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGFjdGl2ZSB0YWJcbiAgICAgICAgICogQE5PVEU6IG1heSByZXR1cm4gTlVMTCBpZiBhY3RpdmUgdGFiIHN0aWxsIHByb2Nlc3NpbmdcbiAgICAgICAgICogQHB1YmxpY1xuICAgICAgICAgKiBAcmV0dXJucyB7VGFifVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0QWN0aXZlVGFiJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFjdGl2ZVRhYigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhYnNbdGhpcy5fX2FjdGl2ZVRhYk5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbG9hZHMgY29udGVudCBvZiB0YWJcbiAgICAgICAgICogQHBhcmFtIHRhYk5hbWUge3N0cmluZyB8fCBBcnJheTxzdHJpbmc+fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVsb2FkJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbG9hZCh0YWJOYW1lKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgdGFiTmFtZSA9IHRoaXMuYWxpYXNJZFBhaXJzLmFsVG9JZFt0YWJOYW1lXSB8fCB0YWJOYW1lO1xuICAgICAgICAgICAgdmFyIF9fcmVsb2FkID0gZnVuY3Rpb24gX19yZWxvYWQobmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciB0YWIgPSBfdGhpczMudGFic1tuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAodGFiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYi5yZWxvYWRDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghX2xvZGFzaDIuZGVmYXVsdC5pc0FycmF5KHRhYk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgX19yZWxvYWQodGFiTmFtZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaCh0YWJOYW1lLCBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBfX3JlbG9hZChuYW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWxvYWQgY29udGVudCBvZiBhbGwgdGFic1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVsb2FkQWxsJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbG9hZEFsbCgpIHtcbiAgICAgICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaCh0aGlzLnRhYnMsIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgdC5yZWxvYWRDb250ZW50KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnb25Mb2FkJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uTG9hZCh0YWJJRCwgY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXIodGFiSUQsIGNhbGxiYWNrLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUcmluaXR5VGFiO1xufShfZmJlbWl0dGVyLkV2ZW50RW1pdHRlcik7XG5cbi8qKlxuICogSGFuZGxlcyBwb3Agc3RhdGUgbmF2aWdhdGlvblxuICogQHByaXZhdGVcbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRyaW5pdHlUYWI7XG5mdW5jdGlvbiBfX2hhbmRsZU5hdmlnYXRpb24oKSB7XG4gICAgdmFyIHRhYk5hbWUgPSBsb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtcbiAgICBpZiAodGFiTmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVGFiKHRhYk5hbWUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBIYW5kbGVzIGNsaWNrIGV2ZW50IG9uIFRhYlxuICogQHBhcmFtIGhlYWQge0hUTUxFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19oYW5kbGVUYWJDbGljayhoZWFkKSB7XG4gICAgdGhpcy5zZXRBY3RpdmVUYWIoaGVhZC5nZXRBdHRyaWJ1dGUoJ2lkJykpO1xufVxuXG4vKipcbiAqIFB1c2ggbmV3IGhpc3RvcnlcbiAqIEBwYXJhbSBuZXdIYXNoXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfX3B1c2hIaXN0b3J5KG5ld0hhc2gpIHtcbiAgICBpZiAobmV3SGFzaCAhPT0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKSB7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBuZXdIYXNoLCAnIycgKyBuZXdIYXNoKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGFiIGNsYXNzXG4gKi9cblxudmFyIFRhYiA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYWIoaGVhZCwgcGFyZW50KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWIpO1xuXG4gICAgICAgIHRoaXMuYWxpYXMgPSBoZWFkLmFsaWFzO1xuICAgICAgICB0aGlzLmlkID0gaGVhZC5pZDtcbiAgICAgICAgdGhpcy5oZWFkID0gaGVhZDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMucm9vdCA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIC8vIHRoaXMuZm9ybXMgPSBbXTsgLS1uZXZlciB1c2VkXG5cbiAgICAgICAgLy8gVGFiIGJvZHlcbiAgICAgICAgdGhpcy5ib2R5RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhlYWQuaWQucmVwbGFjZSgndGFiJywgJ3RhYi1ib2R5LScpKTtcblxuICAgICAgICBfX3Nob3dMb2FkaW5nKHRoaXMuYm9keUVsZW1lbnQpO1xuXG4gICAgICAgIC8vbGluayBvZiBib2R5IGZvciByb290IGNoaWxkXG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZSA9IHRoaXMuYm9keUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNvdXJjZScpO1xuICAgICAgICB0aGlzLmxvYWRDb250ZW50KCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFRhYiwgW3tcbiAgICAgICAga2V5OiAnbG9hZENvbnRlbnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZENvbnRlbnQoKSB7XG4gICAgICAgICAgICBfX3JlcXVlc3RXaWRnZXQodGhpcy5kYXRhU291cmNlLCB0aGlzLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVsb2FkQ29udGVudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWxvYWRDb250ZW50KCkge1xuICAgICAgICAgICAgX19zaG93TG9hZGluZyh0aGlzLmJvZHlFbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3RhYi11bmxvYWQnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgYWxpYXM6IHRoaXMuYWxpYXMsXG4gICAgICAgICAgICAgICAgdGFiOiB0aGlzLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuYm9keUVsZW1lbnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX0RvbTIuZGVmYXVsdC5yZW1vdmVOb2RlKHRoaXMucm9vdCk7XG4gICAgICAgICAgICBfX3JlcXVlc3RXaWRnZXQodGhpcy5kYXRhU291cmNlLCB0aGlzLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUYWI7XG59KCk7XG5cbmZ1bmN0aW9uIF9fcmVxdWVzdFdpZGdldChsaW5rLCB0YWIsIHRpbWVvdXRfaSwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIGlmICghdGFiLmlzTG9hZGluZykge1xuICAgICAgICB0YWIuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgX0dhdGV3YXkyLmRlZmF1bHQuZ2V0KGxpbmssIG51bGwsIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIGlmIChyZXMudHlwZSAhPT0gJ3RleHQvaHRtbCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgcmVzcG9uc2UhOiAnLCByZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMudGV4dCxcbiAgICAgICAgICAgICAgICB0bXBEaXYgPSBfRG9tMi5kZWZhdWx0LmNyZWF0ZURvbSgnZGl2JywgbnVsbCwgZGF0YS50cmltKCkpO1xuXG4gICAgICAgICAgICB0YWIucm9vdCA9IHRtcERpdi5jaGlsZHJlbi5sZW5ndGggPT09IDEgPyB0bXBEaXYuY2hpbGRyZW5bMF0gOiB0bXBEaXY7XG5cbiAgICAgICAgICAgIF9faGlkZUxvYWRpbmcodGFiLmJvZHlFbGVtZW50KTtcbiAgICAgICAgICAgIHRhYi5ib2R5RWxlbWVudC5hcHBlbmRDaGlsZCh0YWIucm9vdCk7XG5cbiAgICAgICAgICAgIC8vIERpc3BhdGNoIGdsb2JhbCBldmVudFxuICAgICAgICAgICAgLy8gdGFiIGRvZXNuJ3QgaW5oZXJpdCBmcm9tIEV2ZW50RW1pdHRlciBjbGFzcywgYnV0IGhpcyBwYXJlbnQgZG9lc1xuXG4gICAgICAgICAgICB0YWIucGFyZW50LmVtaXQoJ3RhYi1sb2FkJywge1xuICAgICAgICAgICAgICAgIGlkOiB0YWIuaWQsXG4gICAgICAgICAgICAgICAgYWxpYXM6IHRhYi5hbGlhcyxcbiAgICAgICAgICAgICAgICB0YWI6IHRhYixcbiAgICAgICAgICAgICAgICBlbGVtZW50OiB0YWIuYm9keUVsZW1lbnRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBEaXNwYXRjaCB0YWJJRC1zcGVjaWZpYyBldmVudFxuICAgICAgICAgICAgdGFiLnBhcmVudC5lbWl0KHRhYi5uYW1lLCB7XG4gICAgICAgICAgICAgICAgdGFiOiB0YWIsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGFiLmJvZHlFbGVtZW50XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gSWYgaWQgaGFzIGFueSBjb250ZW50IHRoZW4gZW1pdCBhbm90aGVyIGV2ZW50XG4gICAgICAgICAgICB2YXIgY29udGVudElEID0gdGFiLnJvb3QuaWQ7XG4gICAgICAgICAgICBpZiAoY29udGVudElEKSB7XG4gICAgICAgICAgICAgICAgdGFiLnBhcmVudC5lbWl0KGNvbnRlbnRJRCwge1xuICAgICAgICAgICAgICAgICAgICB0YWI6IHRhYixcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogdGFiLmJvZHlFbGVtZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJRiBjYWxsYmFjayBwcm92aWRlZFxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0YWIsIF90aGlzNC5ib2R5RWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWIuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yLnRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGltZW91dF9pICYmIHRpbWVvdXRfaSA9PT0gTUFYX1RSWSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBMb2dnZXIgc2VydmljZT9cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2FsbCBmb3IgbWFpbnRlbmFuY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFiLnBhcmVudC5lbWl0KCdlcnJvcicsIHsgbWVzc2FnZTogJ1JFUVVFU1QgVElNRUQgT1VUJywgdGltZW91dDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgX190YWJOb3RMb2FkZWQobGluaywgdGFiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdSZXF1ZXN0IHRpbWVkIG91dCwgdHJ5aW5nIGFnYWluIGluIDIgc2VjJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3JlcXVlc3RXaWRnZXQobGluaywgdGFiLCB0aW1lb3V0X2kgKyAxIHx8IDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHRhYi5wYXJlbnQuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgX190YWJOb3RMb2FkZWQobGluaywgdGFiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhYi5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX3RhYk5vdExvYWRlZChsaW5rLCB0YWIpIHtcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGJ1dHRvbi50eXBlID0gJ3N1Ym1pdCc7XG4gICAgYnV0dG9uLmNsYXNzTmFtZSA9ICdidXR0b24gYnV0dG9uLXByaW1hcnkgdHJpbml0eUpTLXJlbG9hZC10YWItYnV0dG9uJztcbiAgICBidXR0b24udmFsdWUgPSAnUmVsb2FkJztcblxuICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidHJpbml0eUpTLXJlbG9hZC10YWItdGV4dFwiPldlIGFyZSBzb3JyeSwgc29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSByZWxvYWQgdGhpcyB0YWIuIElmIHRoZSBwcm9ibGVtIHBlcnNpc3QsIGNvbnRhY3QgdXMuPC9wPic7XG4gICAgd3JhcHBlci5jbGFzc05hbWUgPSAndHJpbml0eUpTLXJlbG9hZC10YWInO1xuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICAgIF9faGlkZUxvYWRpbmcodGFiLmJvZHlFbGVtZW50KTtcbiAgICB0YWIuYm9keUVsZW1lbnQuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG4gICAgX0V2ZW50czIuZGVmYXVsdC5saXN0ZW5PbmNlKGJ1dHRvbiwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB0YWIuYm9keUVsZW1lbnQucmVtb3ZlQ2hpbGQod3JhcHBlcik7XG4gICAgICAgIF9fc2hvd0xvYWRpbmcodGFiLmJvZHlFbGVtZW50KTtcbiAgICAgICAgX19yZXF1ZXN0V2lkZ2V0KGxpbmssIHRhYiwgbnVsbCk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogVE9ETzogbG9hZGluZyBpY29uIHRvIHNldHRpbmdzXG4gKiBUT0RPOiBMb2FkaW5nIGljb24gKHdob2xlIGNvbnRlbnQpIHNob3VsZCBiZSB2YXJpYWJsZSBmcm9tIG91dHNpZGUsIG5vdCBzdHJpY3RseSBkZWZpbmVkIGFzIGl0IGlzIG5vd1xuICovXG5mdW5jdGlvbiBfX3Nob3dMb2FkaW5nKGVsZW1lbnQpIHtcbiAgICB2YXIgbG9hZGVyID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudHJpbml0eS10YWItbG9hZGVyJyk7XG4gICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNOdWxsKGxvYWRlcikpIHtcbiAgICAgICAgdmFyIGljb24gPSBfRG9tMi5kZWZhdWx0LmNyZWF0ZURvbSgnaScsIHsgJ2NsYXNzJzogJ3RpZWNvbnMgdGllY29ucy1sb2FkaW5nIHRpZWNvbnMtcm90YXRlIGZvbnQtNDAnIH0pO1xuICAgICAgICBsb2FkZXIgPSBfRG9tMi5kZWZhdWx0LmNyZWF0ZURvbSgnZGl2JywgeyAnY2xhc3MnOiAndHJpbml0eS10YWItbG9hZGVyIHRhYi1sb2FkZXInIH0sIGljb24pO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGxvYWRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgX0RvbTIuZGVmYXVsdC5jbGFzc2xpc3QucmVtb3ZlKGxvYWRlciwgJ2Rpc3BsYXktbm9uZScpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19oaWRlTG9hZGluZyhlbGVtZW50KSB7XG4gICAgdmFyIGxvYWRlciA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnRyaW5pdHktdGFiLWxvYWRlcicpO1xuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgX0RvbTIuZGVmYXVsdC5jbGFzc2xpc3QuYWRkKGxvYWRlciwgJ2Rpc3BsYXktbm9uZScpO1xuICAgIH1cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHJpbml0eS9jb21wb25lbnRzL1RyaW5pdHlUYWIuanNcbi8vIG1vZHVsZSBpZCA9IDQ4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 482:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.configure = undefined;\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _superagent = __webpack_require__(470);\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Global configuration\nvar config = {\n    timeout: 10000,\n    fileTimeout: 10000\n};\n\nvar Gateway = {\n    /**\n     *  normal GET request to defined URL\n     * @param url\n     * @param data\n     * @param successCallback\n     * @param errorCallback\n     */\n    get: function get(url, data, successCallback, errorCallback) {\n        __send(url, 'GET', data, successCallback, errorCallback);\n    },\n    /**\n     * JSON GET request\n     * @param url\n     * @param data\n     * @param successCallback\n     * @param errorCallback\n     */\n    getJSON: function getJSON(url, data, successCallback, errorCallback) {\n        __sendJSON(url, 'GET', data, successCallback, errorCallback);\n    },\n\n    /**\n     * normal POST request\n     * @param url\n     * @param data\n     * @param successCallback\n     * @param errorCallback\n     */\n    post: function post(url, data, successCallback, errorCallback) {\n        __send(url, 'POST', data, successCallback, errorCallback);\n    },\n    /**\n     * JSON POST request\n     * @param url\n     * @param data\n     * @param successCallback\n     * @param errorCallback\n     */\n    postJSON: function postJSON(url, data, successCallback, errorCallback) {\n        __sendJSON(url, 'POST', data, successCallback, errorCallback);\n    },\n    /**\n     * normal PUT request\n     * @param url\n     * @param data\n     * @param successCallback\n     * @param errorCallback\n     */\n    put: function put(url, data, successCallback, errorCallback) {\n        __send(url, 'PUT', data, successCallback, errorCallback);\n    },\n    /**\n     * JSON PUT request\n     * @param url\n     * @param data\n     * @param successCallback\n     * @param errorCallback\n     */\n    putJSON: function putJSON(url, data, successCallback, errorCallback) {\n        __sendJSON(url, 'PUT', data, successCallback, errorCallback);\n    },\n\n    /**\n     * JSON PUT request\n     * @param url\n     * @param data\n     * @param successCallback\n     * @param errorCallback\n     */\n    deleteJSON: function deleteJSON(url, data, successCallback, errorCallback) {\n        __sendJSON(url, 'DELETE', data, successCallback, errorCallback);\n    },\n\n    /**\n     * Same as others, just allow specify method.\n     * @param url\n     * @param method\n     * @param data\n     * @param successCallback\n     * @param errorCallback\n     */\n    send: __send,\n\n    /**\n     * Send JSON request and accepts only json\n     * @param url\n     * @param method\n     * @param data\n     * @param successCallback\n     * @param errorCallback\n     */\n    sendJSON: __sendJSON,\n\n    /**\n     * Send file fnc\n     * @param url\n     * @param method\n     * @param file\n     * @param fieldName\n     * @param successCallback\n     * @param errorCallback\n     * @param progressCallback\n     * @private\n     */\n    sendFile: __sendFile,\n\n    /**\n     * settings for gateway\n     */\n    settings: config\n};\n\n/** PRIVATE METHODS **/\n/**\n * private abstract send request method\n * @param url {string}\n * @param method {string}\n * @param [data] {object}\n * @param successCallback {function}\n * @param errorCallback {function}\n * @param [isManual] {boolean}\n * @returns {Xhr}\n * @private\n */\nfunction __send(url, method, data, successCallback, errorCallback, isManual) {\n    method = method.toUpperCase();\n    var r = (0, _superagent2.default)(method, url.trim()).set('X-Requested-With', 'XMLHttpRequest').timeout(Gateway.settings.timeout);\n\n    if (data) {\n        if (method === 'GET' && !(window.FormData && data instanceof window.FormData)) {\n            r.query(data);\n        } else {\n            r.send(data);\n        }\n    }\n\n    r.finish = function () {\n        return r.end(__responseHandler(successCallback, errorCallback));\n    };\n    if (isManual) {\n        return r;\n    }\n    r.finish();\n}\n\n/**\n * Private abstract send JSON request method\n * @param url {string}\n * @param method {string}\n * @param [data] {object}\n * @param successCallback {function}\n * @param errorCallback {function}\n * @param [isManual] {boolean}\n * @returns {Xhr}\n * @private\n */\nfunction __sendJSON(url, method, data, successCallback, errorCallback, isManual) {\n    method = method.toUpperCase();\n    var r = (0, _superagent2.default)(method, url.trim()).set({\n        'Content-type': 'application/json',\n        'Accept': 'application/json',\n        'X-Requested-With': 'XMLHttpRequest'\n    }).timeout(Gateway.settings.timeout);\n\n    if (data) {\n        if (method === 'GET') {\n            r.query(data);\n        } else {\n            r.send(data);\n        }\n    }\n\n    r.finish = function () {\n        return r.end(__responseHandler(successCallback, errorCallback));\n    };\n    if (isManual) {\n        return r;\n    }\n    r.finish();\n}\n\n/**\n * Send file fnc\n * @param url\n * @param method\n * @param file\n * @param fieldName\n * @param successCallback\n * @param errorCallback\n * @param progressCallback\n * @private\n */\nfunction __sendFile(url, method, file, fieldName, successCallback, errorCallback, progressCallback) {\n    method = method || 'POST';\n    fieldName = fieldName || 'files';\n    successCallback = successCallback || _lodash2.default.noop;\n    errorCallback = errorCallback || _lodash2.default.noop;\n\n    var r = (0, _superagent2.default)(method.toUpperCase(), url.trim()).set('X-Requested-With', 'XMLHttpRequest').timeout(config.fileTimeout);\n\n    if (_lodash2.default.isArrayLike(file)) {\n        _lodash2.default.each(file, function (f) {\n            r.attach(fieldName, f);\n        });\n    } else {\n        r.attach(fieldName, file);\n    }\n    if (progressCallback) {\n        r.on('progress', progressCallback);\n    }\n    r.end(__responseHandler(successCallback, errorCallback));\n}\n\nfunction __responseHandler(successCallback, errorCallback) {\n    return function __abstractHandler(err, response) {\n        if (response && response.status === 302) {\n            var redirectTo = response.body.location;\n            // Do callback and then redirect\n            if (successCallback(response) === false) {\n                return false;\n            }\n            // Redirect\n            if (process.env.NODE_ENV !== 'production' && !redirectTo) {\n                throw new Error('Missing \"location\" attribute!');\n            }\n            window.location.assign(redirectTo);\n            return;\n        }\n        if (err) {\n            return errorCallback(err);\n        }\n        successCallback(response);\n    };\n}\n\n/**\n * Set global configuration object\n * @param conf\n * @returns {{timeout: number}}\n */\nfunction configure(conf) {\n    return _lodash2.default.extend(config, conf);\n}\n\n/** EXPORTS **/\nexports.default = Gateway;\nexports.configure = configure;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(32)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L0dhdGV3YXkuanM/YTY1OSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY29uZmlndXJlID0gdW5kZWZpbmVkO1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG52YXIgX3N1cGVyYWdlbnQgPSByZXF1aXJlKCdzdXBlcmFnZW50Jyk7XG5cbnZhciBfc3VwZXJhZ2VudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdXBlcmFnZW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gR2xvYmFsIGNvbmZpZ3VyYXRpb25cbnZhciBjb25maWcgPSB7XG4gICAgdGltZW91dDogMTAwMDAsXG4gICAgZmlsZVRpbWVvdXQ6IDEwMDAwXG59O1xuXG52YXIgR2F0ZXdheSA9IHtcbiAgICAvKipcbiAgICAgKiAgbm9ybWFsIEdFVCByZXF1ZXN0IHRvIGRlZmluZWQgVVJMXG4gICAgICogQHBhcmFtIHVybFxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFja1xuICAgICAqIEBwYXJhbSBlcnJvckNhbGxiYWNrXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQodXJsLCBkYXRhLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgX19zZW5kKHVybCwgJ0dFVCcsIGRhdGEsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBKU09OIEdFVCByZXF1ZXN0XG4gICAgICogQHBhcmFtIHVybFxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFja1xuICAgICAqIEBwYXJhbSBlcnJvckNhbGxiYWNrXG4gICAgICovXG4gICAgZ2V0SlNPTjogZnVuY3Rpb24gZ2V0SlNPTih1cmwsIGRhdGEsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgICAgICBfX3NlbmRKU09OKHVybCwgJ0dFVCcsIGRhdGEsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIG5vcm1hbCBQT1NUIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gdXJsXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrXG4gICAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2tcbiAgICAgKi9cbiAgICBwb3N0OiBmdW5jdGlvbiBwb3N0KHVybCwgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIF9fc2VuZCh1cmwsICdQT1NUJywgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEpTT04gUE9TVCByZXF1ZXN0XG4gICAgICogQHBhcmFtIHVybFxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFja1xuICAgICAqIEBwYXJhbSBlcnJvckNhbGxiYWNrXG4gICAgICovXG4gICAgcG9zdEpTT046IGZ1bmN0aW9uIHBvc3RKU09OKHVybCwgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIF9fc2VuZEpTT04odXJsLCAnUE9TVCcsIGRhdGEsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBub3JtYWwgUFVUIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gdXJsXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrXG4gICAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2tcbiAgICAgKi9cbiAgICBwdXQ6IGZ1bmN0aW9uIHB1dCh1cmwsIGRhdGEsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgICAgICBfX3NlbmQodXJsLCAnUFVUJywgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEpTT04gUFVUIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gdXJsXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrXG4gICAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2tcbiAgICAgKi9cbiAgICBwdXRKU09OOiBmdW5jdGlvbiBwdXRKU09OKHVybCwgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIF9fc2VuZEpTT04odXJsLCAnUFVUJywgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSlNPTiBQVVQgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB1cmxcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gZXJyb3JDYWxsYmFja1xuICAgICAqL1xuICAgIGRlbGV0ZUpTT046IGZ1bmN0aW9uIGRlbGV0ZUpTT04odXJsLCBkYXRhLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgX19zZW5kSlNPTih1cmwsICdERUxFVEUnLCBkYXRhLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIG90aGVycywganVzdCBhbGxvdyBzcGVjaWZ5IG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gdXJsXG4gICAgICogQHBhcmFtIG1ldGhvZFxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFja1xuICAgICAqIEBwYXJhbSBlcnJvckNhbGxiYWNrXG4gICAgICovXG4gICAgc2VuZDogX19zZW5kLFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBKU09OIHJlcXVlc3QgYW5kIGFjY2VwdHMgb25seSBqc29uXG4gICAgICogQHBhcmFtIHVybFxuICAgICAqIEBwYXJhbSBtZXRob2RcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gZXJyb3JDYWxsYmFja1xuICAgICAqL1xuICAgIHNlbmRKU09OOiBfX3NlbmRKU09OLFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBmaWxlIGZuY1xuICAgICAqIEBwYXJhbSB1cmxcbiAgICAgKiBAcGFyYW0gbWV0aG9kXG4gICAgICogQHBhcmFtIGZpbGVcbiAgICAgKiBAcGFyYW0gZmllbGROYW1lXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFja1xuICAgICAqIEBwYXJhbSBlcnJvckNhbGxiYWNrXG4gICAgICogQHBhcmFtIHByb2dyZXNzQ2FsbGJhY2tcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHNlbmRGaWxlOiBfX3NlbmRGaWxlLFxuXG4gICAgLyoqXG4gICAgICogc2V0dGluZ3MgZm9yIGdhdGV3YXlcbiAgICAgKi9cbiAgICBzZXR0aW5nczogY29uZmlnXG59O1xuXG4vKiogUFJJVkFURSBNRVRIT0RTICoqL1xuLyoqXG4gKiBwcml2YXRlIGFic3RyYWN0IHNlbmQgcmVxdWVzdCBtZXRob2RcbiAqIEBwYXJhbSB1cmwge3N0cmluZ31cbiAqIEBwYXJhbSBtZXRob2Qge3N0cmluZ31cbiAqIEBwYXJhbSBbZGF0YV0ge29iamVjdH1cbiAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2sge2Z1bmN0aW9ufVxuICogQHBhcmFtIGVycm9yQ2FsbGJhY2sge2Z1bmN0aW9ufVxuICogQHBhcmFtIFtpc01hbnVhbF0ge2Jvb2xlYW59XG4gKiBAcmV0dXJucyB7WGhyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19zZW5kKHVybCwgbWV0aG9kLCBkYXRhLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIGlzTWFudWFsKSB7XG4gICAgbWV0aG9kID0gbWV0aG9kLnRvVXBwZXJDYXNlKCk7XG4gICAgdmFyIHIgPSAoMCwgX3N1cGVyYWdlbnQyLmRlZmF1bHQpKG1ldGhvZCwgdXJsLnRyaW0oKSkuc2V0KCdYLVJlcXVlc3RlZC1XaXRoJywgJ1hNTEh0dHBSZXF1ZXN0JykudGltZW91dChHYXRld2F5LnNldHRpbmdzLnRpbWVvdXQpO1xuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ0dFVCcgJiYgISh3aW5kb3cuRm9ybURhdGEgJiYgZGF0YSBpbnN0YW5jZW9mIHdpbmRvdy5Gb3JtRGF0YSkpIHtcbiAgICAgICAgICAgIHIucXVlcnkoZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByLnNlbmQoZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHIuZW5kKF9fcmVzcG9uc2VIYW5kbGVyKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykpO1xuICAgIH07XG4gICAgaWYgKGlzTWFudWFsKSB7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICByLmZpbmlzaCgpO1xufVxuXG4vKipcbiAqIFByaXZhdGUgYWJzdHJhY3Qgc2VuZCBKU09OIHJlcXVlc3QgbWV0aG9kXG4gKiBAcGFyYW0gdXJsIHtzdHJpbmd9XG4gKiBAcGFyYW0gbWV0aG9kIHtzdHJpbmd9XG4gKiBAcGFyYW0gW2RhdGFdIHtvYmplY3R9XG4gKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSBlcnJvckNhbGxiYWNrIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSBbaXNNYW51YWxdIHtib29sZWFufVxuICogQHJldHVybnMge1hocn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fc2VuZEpTT04odXJsLCBtZXRob2QsIGRhdGEsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgaXNNYW51YWwpIHtcbiAgICBtZXRob2QgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICB2YXIgciA9ICgwLCBfc3VwZXJhZ2VudDIuZGVmYXVsdCkobWV0aG9kLCB1cmwudHJpbSgpKS5zZXQoe1xuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCdcbiAgICB9KS50aW1lb3V0KEdhdGV3YXkuc2V0dGluZ3MudGltZW91dCk7XG5cbiAgICBpZiAoZGF0YSkge1xuICAgICAgICBpZiAobWV0aG9kID09PSAnR0VUJykge1xuICAgICAgICAgICAgci5xdWVyeShkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHIuc2VuZChkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHIuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gci5lbmQoX19yZXNwb25zZUhhbmRsZXIoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSk7XG4gICAgfTtcbiAgICBpZiAoaXNNYW51YWwpIHtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIHIuZmluaXNoKCk7XG59XG5cbi8qKlxuICogU2VuZCBmaWxlIGZuY1xuICogQHBhcmFtIHVybFxuICogQHBhcmFtIG1ldGhvZFxuICogQHBhcmFtIGZpbGVcbiAqIEBwYXJhbSBmaWVsZE5hbWVcbiAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2tcbiAqIEBwYXJhbSBlcnJvckNhbGxiYWNrXG4gKiBAcGFyYW0gcHJvZ3Jlc3NDYWxsYmFja1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19zZW5kRmlsZSh1cmwsIG1ldGhvZCwgZmlsZSwgZmllbGROYW1lLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIHByb2dyZXNzQ2FsbGJhY2spIHtcbiAgICBtZXRob2QgPSBtZXRob2QgfHwgJ1BPU1QnO1xuICAgIGZpZWxkTmFtZSA9IGZpZWxkTmFtZSB8fCAnZmlsZXMnO1xuICAgIHN1Y2Nlc3NDYWxsYmFjayA9IHN1Y2Nlc3NDYWxsYmFjayB8fCBfbG9kYXNoMi5kZWZhdWx0Lm5vb3A7XG4gICAgZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgfHwgX2xvZGFzaDIuZGVmYXVsdC5ub29wO1xuXG4gICAgdmFyIHIgPSAoMCwgX3N1cGVyYWdlbnQyLmRlZmF1bHQpKG1ldGhvZC50b1VwcGVyQ2FzZSgpLCB1cmwudHJpbSgpKS5zZXQoJ1gtUmVxdWVzdGVkLVdpdGgnLCAnWE1MSHR0cFJlcXVlc3QnKS50aW1lb3V0KGNvbmZpZy5maWxlVGltZW91dCk7XG5cbiAgICBpZiAoX2xvZGFzaDIuZGVmYXVsdC5pc0FycmF5TGlrZShmaWxlKSkge1xuICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goZmlsZSwgZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgIHIuYXR0YWNoKGZpZWxkTmFtZSwgZik7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHIuYXR0YWNoKGZpZWxkTmFtZSwgZmlsZSk7XG4gICAgfVxuICAgIGlmIChwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgICAgIHIub24oJ3Byb2dyZXNzJywgcHJvZ3Jlc3NDYWxsYmFjayk7XG4gICAgfVxuICAgIHIuZW5kKF9fcmVzcG9uc2VIYW5kbGVyKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykpO1xufVxuXG5mdW5jdGlvbiBfX3Jlc3BvbnNlSGFuZGxlcihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gX19hYnN0cmFjdEhhbmRsZXIoZXJyLCByZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzID09PSAzMDIpIHtcbiAgICAgICAgICAgIHZhciByZWRpcmVjdFRvID0gcmVzcG9uc2UuYm9keS5sb2NhdGlvbjtcbiAgICAgICAgICAgIC8vIERvIGNhbGxiYWNrIGFuZCB0aGVuIHJlZGlyZWN0XG4gICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWRpcmVjdFxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIXJlZGlyZWN0VG8pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgXCJsb2NhdGlvblwiIGF0dHJpYnV0ZSEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24ocmVkaXJlY3RUbyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yQ2FsbGJhY2soZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpO1xuICAgIH07XG59XG5cbi8qKlxuICogU2V0IGdsb2JhbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICogQHBhcmFtIGNvbmZcbiAqIEByZXR1cm5zIHt7dGltZW91dDogbnVtYmVyfX1cbiAqL1xuZnVuY3Rpb24gY29uZmlndXJlKGNvbmYpIHtcbiAgICByZXR1cm4gX2xvZGFzaDIuZGVmYXVsdC5leHRlbmQoY29uZmlnLCBjb25mKTtcbn1cblxuLyoqIEVYUE9SVFMgKiovXG5leHBvcnRzLmRlZmF1bHQgPSBHYXRld2F5O1xuZXhwb3J0cy5jb25maWd1cmUgPSBjb25maWd1cmU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3RyaW5pdHkvR2F0ZXdheS5qc1xuLy8gbW9kdWxlIGlkID0gNDgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 483:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by Jakub Fajkus on 10.12.15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Controller2 = __webpack_require__(467);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _VeniceForm = __webpack_require__(468);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _GlobalLib = __webpack_require__(484);\n\nvar _TrinityTab = __webpack_require__(481);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(209);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _DateAndTime = __webpack_require__(485);\n\nvar _DateAndTime2 = _interopRequireDefault(_DateAndTime);\n\nvar _FroalaLib = __webpack_require__(487);\n\nvar _VeniceGridBuilder = __webpack_require__(488);\n\nvar _VeniceGridBuilder2 = _interopRequireDefault(_VeniceGridBuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BlogArticleController = function (_Controller) {\n    _inherits(BlogArticleController, _Controller);\n\n    function BlogArticleController() {\n        _classCallCheck(this, BlogArticleController);\n\n        return _possibleConstructorReturn(this, (BlogArticleController.__proto__ || Object.getPrototypeOf(BlogArticleController)).apply(this, arguments));\n    }\n\n    _createClass(BlogArticleController, [{\n        key: 'indexAction',\n        value: function indexAction($scope) {\n            $scope.productGrid = _VeniceGridBuilder2.default.build(_jquery2.default.id('blog-article-grid'), this.request.query);\n        }\n\n        /**\n         * Tabs action\n         * @param $scope\n         */\n\n    }, {\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            //Tell trinity there is tab to be loaded\n            $scope.trinityTab = new _TrinityTab2.default();\n\n            var app = this.getApp();\n            //On tabs load\n            $scope.trinityTab.addListener('tab-load', function (e) {\n\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n                if (e.id === 'tab2') {\n                    // let article = $('#blog_article_content')[0];\n                    // startFroala(article);\n                    $scope[e.id] = app.parseScope();\n                    (0, _FroalaLib.startFroala)($scope[e.id].froalaInput, null, function () {\n                        (0, _jquery2.default)($scope[e.id].froalaInput).find('.fr-element.fr-view').bind(\"DOMSubtreeModified\", function () {\n                            if ($scope.veniceForms[e.id].hasError('blog_article[content]')) {\n                                $scope.veniceForms[e.id].removeError('blog_article[content]');\n                            }\n                        });\n                    });\n\n                    var helper = _jquery2.default.id('blog-article-date-format'),\n                        dateEl = _jquery2.default.id('blog_article_dateToPublish'),\n                        div = document.createElement('div');\n\n                    dateEl.parentNode.appendChild(div);\n\n                    var limits = JSON.parse(dateEl.getAttribute('data-limit')),\n                        min = BlogArticleController._parseDate(limits.min),\n                        max = BlogArticleController._parseDate(limits.max);\n\n                    var fromDate = _react2.default.createElement(_DateAndTime2.default, {\n                        minDate: min,\n                        maxDate: max,\n                        type: 'dt',\n                        format: helper.value,\n                        value: new Date(helper.getAttribute('data-dateVal') * 1000),\n                        oldElem: dateEl,\n                        required: 'required'\n                    });\n\n                    _reactDom2.default.render(fromDate, div);\n                    BlogArticleController._handleHandleGeneration();\n                }\n            });\n        }\n\n        /**\n         * New blog article action\n         * @param $scope\n         */\n\n    }, {\n        key: 'newAction',\n        value: function newAction($scope) {\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"blog_article\"]')[0]);\n\n            var format = _jquery2.default.id('blog-article-date-format').value,\n                dateEl = _jquery2.default.id('blog_article_dateToPublish');\n\n            var div = document.createElement('div');\n            dateEl.parentNode.appendChild(div);\n\n            var limits = JSON.parse(dateEl.getAttribute('data-limit')),\n                min = BlogArticleController._parseDate(limits.min),\n                max = BlogArticleController._parseDate(limits.max);\n            var fromDate = _react2.default.createElement(_DateAndTime2.default, {\n                minDate: min,\n                maxDate: max,\n                type: 'dt',\n                format: format,\n                value: new Date(),\n                oldElem: dateEl,\n                required: 'required'\n            });\n\n            dateEl.required = true;\n            _reactDom2.default.render(fromDate, div);\n\n            BlogArticleController._handleHandleGeneration();\n\n            (0, _FroalaLib.startFroala)($scope.froalaInput, null, function () {\n                (0, _jquery2.default)($scope.froalaInput).find('.fr-element.fr-view').bind(\"DOMSubtreeModified\", function () {\n                    if ($scope.form.hasError('blog_article[content]')) {\n                        $scope.form.removeError('blog_article[content]');\n                    }\n                });\n            });\n\n            // HIDE TRIAL VERSION BANNER\n            if (true) {\n                var $notLicenced = (0, _jquery2.default)('a[href=\"https://froala.com/wysiwyg-editor\"]');\n                if ($notLicenced[0]) {\n                    $notLicenced.parent().css('display', 'none');\n                }\n            }\n        }\n\n        /**\n         * Shortcut\n         * @returns {*}\n         * @private\n         */\n\n    }], [{\n        key: '_handleHandleGeneration',\n        value: function _handleHandleGeneration() {\n            return (0, _GlobalLib.handleHandleGeneration)((0, _jquery2.default)('#blog-article-form').attr('data-slugify'), _jquery2.default.id('blog_article_title'), _jquery2.default.id('blog_article_handle'));\n        }\n\n        /**\n         * Parse date object from venice\n         * @param date\n         * @returns {Date}\n         * @private\n         */\n\n    }, {\n        key: '_parseDate',\n        value: function _parseDate(date) {\n            return date === 'now' ? new Date() : new Date(date.year, date.month || 11, date.day || 31);\n        }\n    }]);\n\n    return BlogArticleController;\n}(_Controller3.default);\n\nexports.default = BlogArticleController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9CbG9nQXJ0aWNsZUNvbnRyb2xsZXIuanM/MjZhYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgSmFrdWIgRmFqa3VzIG9uIDEwLjEyLjE1LlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICd0cmluaXR5L0NvbnRyb2xsZXInO1xuaW1wb3J0IFZlbmljZUZvcm0gZnJvbSAnLi4vTGlicmFyaWVzL1ZlbmljZUZvcm0nO1xuaW1wb3J0IHtoYW5kbGVIYW5kbGVHZW5lcmF0aW9ufSBmcm9tICcuLi9MaWJyYXJpZXMvR2xvYmFsTGliJztcbmltcG9ydCBUcmluaXR5VGFiIGZyb20gJ3RyaW5pdHkvY29tcG9uZW50cy9UcmluaXR5VGFiJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBOZWNrdGllRGF0ZUFuZFRpbWUgZnJvbSAnLi4vTGlicmFyaWVzL0NvbXBvbmVudHMvRGF0ZUFuZFRpbWUuanN4JztcbmltcG9ydCB7c3RhcnRGcm9hbGF9IGZyb20gJ3RyaW5pdHkvdXRpbHMvRnJvYWxhTGliJztcbmltcG9ydCBHcmlkQnVpbGRlciBmcm9tICcuLi9MaWJyYXJpZXMvVmVuaWNlR3JpZEJ1aWxkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbG9nQXJ0aWNsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcblxuICAgIGluZGV4QWN0aW9uKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUucHJvZHVjdEdyaWQgPSBHcmlkQnVpbGRlci5idWlsZCgkLmlkKCdibG9nLWFydGljbGUtZ3JpZCcpLCB0aGlzLnJlcXVlc3QucXVlcnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRhYnMgYWN0aW9uXG4gICAgICogQHBhcmFtICRzY29wZVxuICAgICAqL1xuICAgIHRhYnNBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIC8vVGVsbCB0cmluaXR5IHRoZXJlIGlzIHRhYiB0byBiZSBsb2FkZWRcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIgPSBuZXcgVHJpbml0eVRhYigpO1xuXG4gICAgICAgIGxldCBhcHAgPSB0aGlzLmdldEFwcCgpO1xuICAgICAgICAvL09uIHRhYnMgbG9hZFxuICAgICAgICAkc2NvcGUudHJpbml0eVRhYi5hZGRMaXN0ZW5lcigndGFiLWxvYWQnLCAoZSkgPT4ge1xuXG4gICAgICAgICAgICBsZXQgZm9ybSA9ICQoJ2Zvcm0nLCBlLmVsZW1lbnQpWzBdO1xuICAgICAgICAgICAgaWYgKGZvcm0pIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXMgPSAkc2NvcGUudmVuaWNlRm9ybXMgfHwge307XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zW2UuaWRdID0gbmV3IFZlbmljZUZvcm0oZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZS5pZCA9PT0gJ3RhYjInKSB7XG4gICAgICAgICAgICAgICAgLy8gbGV0IGFydGljbGUgPSAkKCcjYmxvZ19hcnRpY2xlX2NvbnRlbnQnKVswXTtcbiAgICAgICAgICAgICAgICAvLyBzdGFydEZyb2FsYShhcnRpY2xlKTtcbiAgICAgICAgICAgICAgICAkc2NvcGVbZS5pZF0gPSBhcHAucGFyc2VTY29wZSgpO1xuICAgICAgICAgICAgICAgIHN0YXJ0RnJvYWxhKCRzY29wZVtlLmlkXS5mcm9hbGFJbnB1dCwgbnVsbCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkKCRzY29wZVtlLmlkXS5mcm9hbGFJbnB1dClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuZnItZWxlbWVudC5mci12aWV3JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5iaW5kKFwiRE9NU3VidHJlZU1vZGlmaWVkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnZlbmljZUZvcm1zW2UuaWRdLmhhc0Vycm9yKCdibG9nX2FydGljbGVbY29udGVudF0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0ucmVtb3ZlRXJyb3IoJ2Jsb2dfYXJ0aWNsZVtjb250ZW50XScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbGV0IGhlbHBlciA9ICQuaWQoJ2Jsb2ctYXJ0aWNsZS1kYXRlLWZvcm1hdCcpLFxuICAgICAgICAgICAgICAgICAgICBkYXRlRWwgPSAkLmlkKCdibG9nX2FydGljbGVfZGF0ZVRvUHVibGlzaCcpLFxuICAgICAgICAgICAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgICAgICAgICAgICA7XG5cbiAgICAgICAgICAgICAgICBkYXRlRWwucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkaXYpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGxpbWl0cyA9IEpTT04ucGFyc2UoZGF0ZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1saW1pdCcpKSxcbiAgICAgICAgICAgICAgICAgICAgbWluID0gQmxvZ0FydGljbGVDb250cm9sbGVyLl9wYXJzZURhdGUobGltaXRzLm1pbiksXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IEJsb2dBcnRpY2xlQ29udHJvbGxlci5fcGFyc2VEYXRlKGxpbWl0cy5tYXgpXG4gICAgICAgICAgICAgICAgICAgIDtcblxuICAgICAgICAgICAgICAgIGxldCBmcm9tRGF0ZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTmVja3RpZURhdGVBbmRUaW1lLCB7XG4gICAgICAgICAgICAgICAgICAgIG1pbkRhdGU6IG1pbixcbiAgICAgICAgICAgICAgICAgICAgbWF4RGF0ZTogbWF4LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZHQnLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGhlbHBlci52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKGhlbHBlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGF0ZVZhbCcpICogMTAwMCksXG4gICAgICAgICAgICAgICAgICAgIG9sZEVsZW06IGRhdGVFbCxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6ICdyZXF1aXJlZCdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIFJlYWN0RE9NLnJlbmRlcihmcm9tRGF0ZSwgZGl2KTtcbiAgICAgICAgICAgICAgICBCbG9nQXJ0aWNsZUNvbnRyb2xsZXIuX2hhbmRsZUhhbmRsZUdlbmVyYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmV3IGJsb2cgYXJ0aWNsZSBhY3Rpb25cbiAgICAgKiBAcGFyYW0gJHNjb3BlXG4gICAgICovXG4gICAgbmV3QWN0aW9uKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUuZm9ybSA9IG5ldyBWZW5pY2VGb3JtKCQoJ2Zvcm1bbmFtZT1cImJsb2dfYXJ0aWNsZVwiXScpWzBdKTtcblxuICAgICAgICBsZXQgZm9ybWF0ID0gJC5pZCgnYmxvZy1hcnRpY2xlLWRhdGUtZm9ybWF0JykudmFsdWUsXG4gICAgICAgICAgICBkYXRlRWwgPSAkLmlkKCdibG9nX2FydGljbGVfZGF0ZVRvUHVibGlzaCcpO1xuXG4gICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGF0ZUVsLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZGl2KTtcblxuICAgICAgICBsZXQgbGltaXRzID0gSlNPTi5wYXJzZShkYXRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLWxpbWl0JykpLFxuICAgICAgICAgICAgbWluID0gQmxvZ0FydGljbGVDb250cm9sbGVyLl9wYXJzZURhdGUobGltaXRzLm1pbiksXG4gICAgICAgICAgICBtYXggPSBCbG9nQXJ0aWNsZUNvbnRyb2xsZXIuX3BhcnNlRGF0ZShsaW1pdHMubWF4KVxuICAgICAgICAgICAgO1xuICAgICAgICBsZXQgZnJvbURhdGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KE5lY2t0aWVEYXRlQW5kVGltZSwge1xuICAgICAgICAgICAgbWluRGF0ZTogbWluLFxuICAgICAgICAgICAgbWF4RGF0ZTogbWF4LFxuICAgICAgICAgICAgdHlwZTogJ2R0JyxcbiAgICAgICAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBvbGRFbGVtOiBkYXRlRWwsXG4gICAgICAgICAgICByZXF1aXJlZDogJ3JlcXVpcmVkJ1xuICAgICAgICB9KTtcblxuICAgICAgICBkYXRlRWwucmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICBSZWFjdERPTS5yZW5kZXIoZnJvbURhdGUsIGRpdik7XG5cbiAgICAgICAgQmxvZ0FydGljbGVDb250cm9sbGVyLl9oYW5kbGVIYW5kbGVHZW5lcmF0aW9uKCk7XG5cbiAgICAgICAgc3RhcnRGcm9hbGEoJHNjb3BlLmZyb2FsYUlucHV0LCBudWxsLCAoKSA9PiB7XG4gICAgICAgICAgICAkKCRzY29wZS5mcm9hbGFJbnB1dClcbiAgICAgICAgICAgICAgICAuZmluZCgnLmZyLWVsZW1lbnQuZnItdmlldycpXG4gICAgICAgICAgICAgICAgLmJpbmQoXCJET01TdWJ0cmVlTW9kaWZpZWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZvcm0uaGFzRXJyb3IoJ2Jsb2dfYXJ0aWNsZVtjb250ZW50XScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybS5yZW1vdmVFcnJvcignYmxvZ19hcnRpY2xlW2NvbnRlbnRdJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBISURFIFRSSUFMIFZFUlNJT04gQkFOTkVSXG4gICAgICAgIGlmIChERVZFTE9QTUVOVCkge1xuICAgICAgICAgICAgbGV0ICRub3RMaWNlbmNlZCA9ICQoJ2FbaHJlZj1cImh0dHBzOi8vZnJvYWxhLmNvbS93eXNpd3lnLWVkaXRvclwiXScpO1xuICAgICAgICAgICAgaWYgKCRub3RMaWNlbmNlZFswXSkge1xuICAgICAgICAgICAgICAgICRub3RMaWNlbmNlZC5wYXJlbnQoKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvcnRjdXRcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBfaGFuZGxlSGFuZGxlR2VuZXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUhhbmRsZUdlbmVyYXRpb24oXG4gICAgICAgICAgICAkKCcjYmxvZy1hcnRpY2xlLWZvcm0nKS5hdHRyKCdkYXRhLXNsdWdpZnknKSxcbiAgICAgICAgICAgICQuaWQoJ2Jsb2dfYXJ0aWNsZV90aXRsZScpLFxuICAgICAgICAgICAgJC5pZCgnYmxvZ19hcnRpY2xlX2hhbmRsZScpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgZGF0ZSBvYmplY3QgZnJvbSB2ZW5pY2VcbiAgICAgKiBAcGFyYW0gZGF0ZVxuICAgICAqIEByZXR1cm5zIHtEYXRlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZURhdGUoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZSA9PT0gJ25vdycgP1xuICAgICAgICAgICAgbmV3IERhdGUoKSA6IG5ldyBEYXRlKGRhdGUueWVhciwgZGF0ZS5tb250aCB8fCAxMSwgZGF0ZS5kYXkgfHwgMzEpO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0NvbnRyb2xsZXJzL0Jsb2dBcnRpY2xlQ29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7OztBQUdBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQU1BO0FBQ0E7QUFFQTs7Ozs7O0FBM0lBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 484:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.slugify = slugify;\nexports.handleHandleGeneration = handleHandleGeneration;\nexports.connectTrinityTabMenu = connectTrinityTabMenu;\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Gateway = __webpack_require__(482);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nvar _Events = __webpack_require__(475);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar counter = 0; /**\n                  * Created by rockuo on 23.6.16.\n                  */\n\nvar last = 0;\n\n/**\n * Validates name and creates \"handle\" from it\n * @param route {string}\n * @param sourceField  {HTMLInputElement}\n * @param outputField {HTMLInputElement}\n */\nfunction slugify(route, sourceField, outputField) {\n    var myCounter = ++counter;\n    _Gateway2.default.postJSON(route, { string: sourceField.value }, function (response) {\n        if (myCounter >= last) {\n            outputField.value = response.body.handle;\n            last = myCounter;\n        }\n    }, function (err) {\n        if (DEVELOPLEMT) {\n            console.error(err);\n        }\n    });\n}\n\n/**\n * TODO: @RichardBures comment\n * @param route\n * @param titleField\n * @param handleField\n * @returns {*}\n */\nfunction handleHandleGeneration(route, titleField, handleField) {\n    if (titleField && handleField) {\n        // TODO: @RichardBures Timer listener\n        return _Events2.default.listen(titleField, 'input', function () {\n            slugify(route, titleField, handleField);\n        });\n    } else {\n        return function () {};\n    }\n}\n\n/**\n * Dropdown menu for trinity tabs\n * @param menuElement\n * @param trinityTab\n */\nfunction connectTrinityTabMenu(menuElement, trinityTab) {\n    // connect Sidebar navigation\n    _.each(_jquery2.default.find('ul li a', menuElement), function (el) {\n        // +1 because of  hash itself\n        if (~el.href.indexOf(location.pathname)) {\n            (function () {\n                var index = el.href.lastIndexOf('#'),\n                    tabId = null;\n                if (~index) {\n                    tabId = el.href.substr(index + 1);\n                }\n                _Events2.default.listen(el, 'click', function (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    trinityTab.setActiveTab(tabId);\n                });\n            })();\n        }\n    });\n}\n\n// /**\n//  * Initialize Floara editor\n//  * Also adds removing error fn on trinityForm error\n//  * TODO: @RichardBures use trinityForm error methods - @Fisa has to add method for it first\n//  * @param element {object} - jquery object\n//  * @param settings {object}\n//  */\n// export function initializeFroala(element, settings) {\n//     element.froalaEditor(settings);\n//     element.on('froalaEditor.input', function () {\n//         console.log('input');\n//         let button = $('.trinity-form-error');\n//         if(button[0]) {\n//             button[0].disabled = false;\n//             button.first().removeClass('trinity-form-error');\n//         }\n//     });\n// }//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR2xvYmFsTGliLmpzPzhiYzciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHJvY2t1byBvbiAyMy42LjE2LlxuICovXG5cbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgR2F0ZXdheSBmcm9tICd0cmluaXR5L0dhdGV3YXknO1xuaW1wb3J0IEV2ZW50cyBmcm9tICd0cmluaXR5L3V0aWxzL0V2ZW50cyc7XG5cblxubGV0IGNvdW50ZXIgPSAwO1xubGV0IGxhc3QgPSAwO1xuXG4vKipcbiAqIFZhbGlkYXRlcyBuYW1lIGFuZCBjcmVhdGVzIFwiaGFuZGxlXCIgZnJvbSBpdFxuICogQHBhcmFtIHJvdXRlIHtzdHJpbmd9XG4gKiBAcGFyYW0gc291cmNlRmllbGQgIHtIVE1MSW5wdXRFbGVtZW50fVxuICogQHBhcmFtIG91dHB1dEZpZWxkIHtIVE1MSW5wdXRFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2x1Z2lmeShyb3V0ZSwgc291cmNlRmllbGQsIG91dHB1dEZpZWxkKSB7XG4gICAgbGV0IG15Q291bnRlciA9ICsrY291bnRlcjtcbiAgICBHYXRld2F5LnBvc3RKU09OKHJvdXRlLCB7c3RyaW5nOiBzb3VyY2VGaWVsZC52YWx1ZX0sXG4gICAgICAgIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYobXlDb3VudGVyID49IGxhc3QpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRGaWVsZC52YWx1ZSA9IHJlc3BvbnNlLmJvZHkuaGFuZGxlO1xuICAgICAgICAgICAgICAgIGxhc3QgPSBteUNvdW50ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmKERFVkVMT1BMRU1UKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xufVxuXG4vKipcbiAqIFRPRE86IEBSaWNoYXJkQnVyZXMgY29tbWVudFxuICogQHBhcmFtIHJvdXRlXG4gKiBAcGFyYW0gdGl0bGVGaWVsZFxuICogQHBhcmFtIGhhbmRsZUZpZWxkXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUhhbmRsZUdlbmVyYXRpb24ocm91dGUsIHRpdGxlRmllbGQsIGhhbmRsZUZpZWxkKSB7XG4gICAgaWYgKHRpdGxlRmllbGQgJiYgaGFuZGxlRmllbGQpIHtcbiAgICAgICAgLy8gVE9ETzogQFJpY2hhcmRCdXJlcyBUaW1lciBsaXN0ZW5lclxuICAgICAgICByZXR1cm4gRXZlbnRzLmxpc3Rlbih0aXRsZUZpZWxkLCAnaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBzbHVnaWZ5KHJvdXRlLCB0aXRsZUZpZWxkLCBoYW5kbGVGaWVsZCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoKT0+e307XG4gICAgfVxufVxuXG4vKipcbiAqIERyb3Bkb3duIG1lbnUgZm9yIHRyaW5pdHkgdGFic1xuICogQHBhcmFtIG1lbnVFbGVtZW50XG4gKiBAcGFyYW0gdHJpbml0eVRhYlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29ubmVjdFRyaW5pdHlUYWJNZW51KG1lbnVFbGVtZW50LCB0cmluaXR5VGFiKSB7XG4gICAgLy8gY29ubmVjdCBTaWRlYmFyIG5hdmlnYXRpb25cbiAgICBfLmVhY2goJC5maW5kKCd1bCBsaSBhJywgbWVudUVsZW1lbnQpLCBlbCA9PiB7XG4gICAgICAgIC8vICsxIGJlY2F1c2Ugb2YgIGhhc2ggaXRzZWxmXG4gICAgICAgIGlmICh+ZWwuaHJlZi5pbmRleE9mKGxvY2F0aW9uLnBhdGhuYW1lKSkge1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gZWwuaHJlZi5sYXN0SW5kZXhPZignIycpLFxuICAgICAgICAgICAgICAgIHRhYklkID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh+aW5kZXgpIHtcbiAgICAgICAgICAgICAgICB0YWJJZCA9IGVsLmhyZWYuc3Vic3RyKGluZGV4ICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBFdmVudHMubGlzdGVuKGVsLCAnY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0cmluaXR5VGFiLnNldEFjdGl2ZVRhYih0YWJJZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vLyAvKipcbi8vICAqIEluaXRpYWxpemUgRmxvYXJhIGVkaXRvclxuLy8gICogQWxzbyBhZGRzIHJlbW92aW5nIGVycm9yIGZuIG9uIHRyaW5pdHlGb3JtIGVycm9yXG4vLyAgKiBUT0RPOiBAUmljaGFyZEJ1cmVzIHVzZSB0cmluaXR5Rm9ybSBlcnJvciBtZXRob2RzIC0gQEZpc2EgaGFzIHRvIGFkZCBtZXRob2QgZm9yIGl0IGZpcnN0XG4vLyAgKiBAcGFyYW0gZWxlbWVudCB7b2JqZWN0fSAtIGpxdWVyeSBvYmplY3Rcbi8vICAqIEBwYXJhbSBzZXR0aW5ncyB7b2JqZWN0fVxuLy8gICovXG4vLyBleHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUZyb2FsYShlbGVtZW50LCBzZXR0aW5ncykge1xuLy8gICAgIGVsZW1lbnQuZnJvYWxhRWRpdG9yKHNldHRpbmdzKTtcbi8vICAgICBlbGVtZW50Lm9uKCdmcm9hbGFFZGl0b3IuaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG4vLyAgICAgICAgIGNvbnNvbGUubG9nKCdpbnB1dCcpO1xuLy8gICAgICAgICBsZXQgYnV0dG9uID0gJCgnLnRyaW5pdHktZm9ybS1lcnJvcicpO1xuLy8gICAgICAgICBpZihidXR0b25bMF0pIHtcbi8vICAgICAgICAgICAgIGJ1dHRvblswXS5kaXNhYmxlZCA9IGZhbHNlO1xuLy8gICAgICAgICAgICAgYnV0dG9uLmZpcnN0KCkucmVtb3ZlQ2xhc3MoJ3RyaW5pdHktZm9ybS1lcnJvcicpO1xuLy8gICAgICAgICB9XG4vLyAgICAgfSk7XG4vLyB9XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR2xvYmFsTGliLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQWtCQTtBQXVCQTtBQWdCQTtBQUNBO0FBdERBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBRUE7Ozs7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 485:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by Bures on 23/4/16.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _moment = __webpack_require__(37);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _moment3 = __webpack_require__(486);\n\nvar _moment4 = _interopRequireDefault(_moment3);\n\nvar _DateTimePicker = __webpack_require__(451);\n\nvar _DateTimePicker2 = _interopRequireDefault(_DateTimePicker);\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar dateFormMap = {\n    'd': 'YYYY-MM-DD',\n    't': 'hh-mm-ss',\n    'dt': 'YYYY-MM-DD hh:mm:ss'\n};\n\nvar NecktieDateAndTime = function (_React$Component) {\n    _inherits(NecktieDateAndTime, _React$Component);\n\n    function NecktieDateAndTime(props) {\n        _classCallCheck(this, NecktieDateAndTime);\n\n        var _this = _possibleConstructorReturn(this, (NecktieDateAndTime.__proto__ || Object.getPrototypeOf(NecktieDateAndTime)).call(this, props));\n\n        (0, _moment4.default)(_moment2.default);\n        _this.state = { value: props.value }; // Initial state\n        if (props.func) {\n            props.func(_this);\n        }\n        props.oldElem.style.display = 'none';\n        if (props.required) {\n            props.oldElem.value = (0, _moment2.default)(props.value).format(dateFormMap[props.type]);\n        }\n        return _this;\n    }\n\n    _createClass(NecktieDateAndTime, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            return _react2.default.createElement(_DateTimePicker2.default, {\n                value: this.state.value || null,\n                format: getLongFormat(this.props.format),\n                className: this.props.className,\n                id: this.props.id,\n                name: this.props.name,\n                min: this.props.minDate || new Date(1900, 0, 1) // new Date(1900, 0, 1) is react-widgets default\n                , max: this.props.maxDate || new Date(2099, 11, 31) // new Date(2099, 11, 31) is react-widgets default\n                , required: this.props.required,\n                time: this.props.type.indexOf('t') > -1,\n                calendar: this.props.type.indexOf('d') > -1,\n                onChange: function onChange(value) {\n                    _this2.setState({ value: value });\n                    _this2.props.oldElem.value = (0, _moment2.default)(value).format(dateFormMap[_this2.props.type]);\n                }\n            });\n        }\n    }]);\n\n    return NecktieDateAndTime;\n}(_react2.default.Component);\n\nexports.default = NecktieDateAndTime;\n\nNecktieDateAndTime.defaultProps = {\n    type: 'dt',\n    format: 'Y-M-D H:m',\n    required: 'required',\n    value: null\n};\n\nvar changeTo = {\n    Y: 'YYYY',\n    y: 'YY',\n    i: 'mm',\n    h: 'hh',\n    D: 'ddd',\n    d: 'DD',\n    M: 'MMM',\n    m: 'MM',\n    H: 'HH',\n    s: 'ss'\n};\n\n/**\n * Get moment format from user format\n * @param format {string}\n * @return {string}\n */\nfunction getLongFormat(format) {\n    var longFormat = '';\n    _lodash2.default.each(Array.from(format), function (char) {\n        longFormat += changeTo[char] ? char.replace(char, changeTo[char]) : char;\n    });\n    return longFormat;\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvQ29tcG9uZW50cy9EYXRlQW5kVGltZS5qc3g/YzIyMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgQnVyZXMgb24gMjMvNC8xNi5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IG1vbWVudExvY2FsaXplciBmcm9tICdyZWFjdC13aWRnZXRzL2xpYi9sb2NhbGl6ZXJzL21vbWVudCc7XG5pbXBvcnQgRGF0ZVRpbWVQaWNrZXIgZnJvbSAncmVhY3Qtd2lkZ2V0cy9saWIvRGF0ZVRpbWVQaWNrZXInO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuY29uc3QgZGF0ZUZvcm1NYXAgPSB7XG4gICAgJ2QnOiAnWVlZWS1NTS1ERCcsXG4gICAgJ3QnOiAnaGgtbW0tc3MnLFxuICAgICdkdCc6ICdZWVlZLU1NLUREIGhoOm1tOnNzJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmVja3RpZURhdGVBbmRUaW1lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIG1vbWVudExvY2FsaXplcihtb21lbnQpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge3ZhbHVlOiBwcm9wcy52YWx1ZX07IC8vIEluaXRpYWwgc3RhdGVcbiAgICAgICAgaWYgKHByb3BzLmZ1bmMpIHtcbiAgICAgICAgICAgIHByb3BzLmZ1bmModGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcHMub2xkRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBpZihwcm9wcy5yZXF1aXJlZCl7XG4gICAgICAgICAgICBwcm9wcy5vbGRFbGVtLnZhbHVlID0gbW9tZW50KHByb3BzLnZhbHVlKS5mb3JtYXQoZGF0ZUZvcm1NYXBbcHJvcHMudHlwZV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPERhdGVUaW1lUGlja2VyXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudmFsdWUgfHwgbnVsbH1cbiAgICAgICAgICAgICAgICBmb3JtYXQ9e2dldExvbmdGb3JtYXQodGhpcy5wcm9wcy5mb3JtYXQpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9XG4gICAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWR9XG4gICAgICAgICAgICAgICAgbmFtZT17dGhpcy5wcm9wcy5uYW1lfVxuICAgICAgICAgICAgICAgIG1pbj17dGhpcy5wcm9wcy5taW5EYXRlIHx8IG5ldyBEYXRlKDE5MDAsIDAsIDEpfSAvLyBuZXcgRGF0ZSgxOTAwLCAwLCAxKSBpcyByZWFjdC13aWRnZXRzIGRlZmF1bHRcbiAgICAgICAgICAgICAgICBtYXg9e3RoaXMucHJvcHMubWF4RGF0ZSB8fCBuZXcgRGF0ZSgyMDk5LCAxMSwgMzEpfSAvLyBuZXcgRGF0ZSgyMDk5LCAxMSwgMzEpIGlzIHJlYWN0LXdpZGdldHMgZGVmYXVsdFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkPXt0aGlzLnByb3BzLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgIHRpbWU9eyh0aGlzLnByb3BzLnR5cGUuaW5kZXhPZigndCcpID4gLTEpfVxuICAgICAgICAgICAgICAgIGNhbGVuZGFyPXsodGhpcy5wcm9wcy50eXBlLmluZGV4T2YoJ2QnKT4gLTEpfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtcbiAgICAgICAgICAgICAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHt2YWx1ZSA6IHZhbHVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9sZEVsZW0udmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdChkYXRlRm9ybU1hcFt0aGlzLnByb3BzLnR5cGVdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfVxufVxuTmVja3RpZURhdGVBbmRUaW1lLmRlZmF1bHRQcm9wcyA9IHtcbiAgICB0eXBlOiAnZHQnLFxuICAgIGZvcm1hdDogJ1ktTS1EIEg6bScsXG4gICAgcmVxdWlyZWQ6ICdyZXF1aXJlZCcsXG4gICAgdmFsdWU6IG51bGxcbn07XG5cbmNvbnN0IGNoYW5nZVRvID0ge1xuICAgIFk6J1lZWVknLFxuICAgIHk6J1lZJyxcbiAgICBpOidtbScsXG4gICAgaDonaGgnLFxuICAgIEQ6J2RkZCcsXG4gICAgZDonREQnLFxuICAgIE06J01NTScsXG4gICAgbTonTU0nLFxuICAgIEg6J0hIJyxcbiAgICBzOidzcydcbn07XG5cbi8qKlxuICogR2V0IG1vbWVudCBmb3JtYXQgZnJvbSB1c2VyIGZvcm1hdFxuICogQHBhcmFtIGZvcm1hdCB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRMb25nRm9ybWF0KGZvcm1hdCkge1xuICAgIGxldCBsb25nRm9ybWF0ID0gJyc7XG4gICAgXy5lYWNoKEFycmF5LmZyb20oZm9ybWF0KSwoY2hhcik9PntcbiAgICAgICAgbG9uZ0Zvcm1hdCArPSAoY2hhbmdlVG9bY2hhcl0pP2NoYXIucmVwbGFjZShjaGFyLGNoYW5nZVRvW2NoYXJdKTpjaGFyO1xuICAgIH0pO1xuICAgIHJldHVybiBsb25nRm9ybWF0O1xuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9Db21wb25lbnRzL0RhdGVBbmRUaW1lLmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7OztBQUdBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBOzs7QUFHQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFZQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQUE7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFmQTtBQW1CQTs7OztBQXRDQTtBQUNBO0FBREE7QUFDQTtBQXVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQUNBO0FBWUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 486:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nexports.__esModule = true;\n\nexports.default = function (moment) {\n  if (typeof moment !== 'function') throw new TypeError('You must provide a valid moment object');\n\n  var localField = typeof moment().locale === 'function' ? 'locale' : 'lang',\n      hasLocaleData = !!moment.localeData;\n\n  if (!hasLocaleData) throw new TypeError('The Moment localizer depends on the `localeData` api, please provide a moment object v2.2.0 or higher');\n\n  function getMoment(culture, value, format) {\n    return culture ? moment(value, format)[localField](culture) : moment(value, format);\n  }\n\n  function endOfDecade(date) {\n    return moment(date).add(10, 'year').add(-1, 'millisecond').toDate();\n  }\n\n  function endOfCentury(date) {\n    return moment(date).add(100, 'year').add(-1, 'millisecond').toDate();\n  }\n\n  var localizer = {\n    formats: {\n      date: 'L',\n      time: 'LT',\n      default: 'lll',\n      header: 'MMMM YYYY',\n      footer: 'LL',\n      weekday: 'dd',\n      dayOfMonth: 'DD',\n      month: 'MMM',\n      year: 'YYYY',\n\n      decade: function decade(date, culture, localizer) {\n        return localizer.format(date, 'YYYY', culture) + ' - ' + localizer.format(endOfDecade(date), 'YYYY', culture);\n      },\n      century: function century(date, culture, localizer) {\n        return localizer.format(date, 'YYYY', culture) + ' - ' + localizer.format(endOfCentury(date), 'YYYY', culture);\n      }\n    },\n\n    firstOfWeek: function firstOfWeek(culture) {\n      return moment.localeData(culture).firstDayOfWeek();\n    },\n    parse: function parse(value, format, culture) {\n      if (!value) return null;\n      var m = getMoment(culture, value, format);\n      if (m.isValid()) return m.toDate();\n      return null;\n    },\n    format: function format(value, _format, culture) {\n      return getMoment(culture, value).format(_format);\n    }\n  };\n\n  _configure2.default.setDateLocalizer(localizer);\n\n  return localizer;\n};\n\nvar _configure = __webpack_require__(377);\n\nvar _configure2 = _interopRequireDefault(_configure);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC13aWRnZXRzL2xpYi9sb2NhbGl6ZXJzL21vbWVudC5qcz8xMjYyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG1vbWVudCkge1xuICBpZiAodHlwZW9mIG1vbWVudCAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcHJvdmlkZSBhIHZhbGlkIG1vbWVudCBvYmplY3QnKTtcblxuICB2YXIgbG9jYWxGaWVsZCA9IHR5cGVvZiBtb21lbnQoKS5sb2NhbGUgPT09ICdmdW5jdGlvbicgPyAnbG9jYWxlJyA6ICdsYW5nJyxcbiAgICAgIGhhc0xvY2FsZURhdGEgPSAhIW1vbWVudC5sb2NhbGVEYXRhO1xuXG4gIGlmICghaGFzTG9jYWxlRGF0YSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIE1vbWVudCBsb2NhbGl6ZXIgZGVwZW5kcyBvbiB0aGUgYGxvY2FsZURhdGFgIGFwaSwgcGxlYXNlIHByb3ZpZGUgYSBtb21lbnQgb2JqZWN0IHYyLjIuMCBvciBoaWdoZXInKTtcblxuICBmdW5jdGlvbiBnZXRNb21lbnQoY3VsdHVyZSwgdmFsdWUsIGZvcm1hdCkge1xuICAgIHJldHVybiBjdWx0dXJlID8gbW9tZW50KHZhbHVlLCBmb3JtYXQpW2xvY2FsRmllbGRdKGN1bHR1cmUpIDogbW9tZW50KHZhbHVlLCBmb3JtYXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT2ZEZWNhZGUoZGF0ZSkge1xuICAgIHJldHVybiBtb21lbnQoZGF0ZSkuYWRkKDEwLCAneWVhcicpLmFkZCgtMSwgJ21pbGxpc2Vjb25kJykudG9EYXRlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBlbmRPZkNlbnR1cnkoZGF0ZSkge1xuICAgIHJldHVybiBtb21lbnQoZGF0ZSkuYWRkKDEwMCwgJ3llYXInKS5hZGQoLTEsICdtaWxsaXNlY29uZCcpLnRvRGF0ZSgpO1xuICB9XG5cbiAgdmFyIGxvY2FsaXplciA9IHtcbiAgICBmb3JtYXRzOiB7XG4gICAgICBkYXRlOiAnTCcsXG4gICAgICB0aW1lOiAnTFQnLFxuICAgICAgZGVmYXVsdDogJ2xsbCcsXG4gICAgICBoZWFkZXI6ICdNTU1NIFlZWVknLFxuICAgICAgZm9vdGVyOiAnTEwnLFxuICAgICAgd2Vla2RheTogJ2RkJyxcbiAgICAgIGRheU9mTW9udGg6ICdERCcsXG4gICAgICBtb250aDogJ01NTScsXG4gICAgICB5ZWFyOiAnWVlZWScsXG5cbiAgICAgIGRlY2FkZTogZnVuY3Rpb24gZGVjYWRlKGRhdGUsIGN1bHR1cmUsIGxvY2FsaXplcikge1xuICAgICAgICByZXR1cm4gbG9jYWxpemVyLmZvcm1hdChkYXRlLCAnWVlZWScsIGN1bHR1cmUpICsgJyAtICcgKyBsb2NhbGl6ZXIuZm9ybWF0KGVuZE9mRGVjYWRlKGRhdGUpLCAnWVlZWScsIGN1bHR1cmUpO1xuICAgICAgfSxcbiAgICAgIGNlbnR1cnk6IGZ1bmN0aW9uIGNlbnR1cnkoZGF0ZSwgY3VsdHVyZSwgbG9jYWxpemVyKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZXIuZm9ybWF0KGRhdGUsICdZWVlZJywgY3VsdHVyZSkgKyAnIC0gJyArIGxvY2FsaXplci5mb3JtYXQoZW5kT2ZDZW50dXJ5KGRhdGUpLCAnWVlZWScsIGN1bHR1cmUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBmaXJzdE9mV2VlazogZnVuY3Rpb24gZmlyc3RPZldlZWsoY3VsdHVyZSkge1xuICAgICAgcmV0dXJuIG1vbWVudC5sb2NhbGVEYXRhKGN1bHR1cmUpLmZpcnN0RGF5T2ZXZWVrKCk7XG4gICAgfSxcbiAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UodmFsdWUsIGZvcm1hdCwgY3VsdHVyZSkge1xuICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgbSA9IGdldE1vbWVudChjdWx0dXJlLCB2YWx1ZSwgZm9ybWF0KTtcbiAgICAgIGlmIChtLmlzVmFsaWQoKSkgcmV0dXJuIG0udG9EYXRlKCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCBfZm9ybWF0LCBjdWx0dXJlKSB7XG4gICAgICByZXR1cm4gZ2V0TW9tZW50KGN1bHR1cmUsIHZhbHVlKS5mb3JtYXQoX2Zvcm1hdCk7XG4gICAgfVxuICB9O1xuXG4gIF9jb25maWd1cmUyLmRlZmF1bHQuc2V0RGF0ZUxvY2FsaXplcihsb2NhbGl6ZXIpO1xuXG4gIHJldHVybiBsb2NhbGl6ZXI7XG59O1xuXG52YXIgX2NvbmZpZ3VyZSA9IHJlcXVpcmUoJy4uL2NvbmZpZ3VyZScpO1xuXG52YXIgX2NvbmZpZ3VyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWd1cmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtd2lkZ2V0cy9saWIvbG9jYWxpemVycy9tb21lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDQ4NlxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 487:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.startFroala = startFroala;\nexports.editFroala = editFroala;\nexports.harmonicaPlugin = harmonicaPlugin;\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Events = __webpack_require__(475);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar froalaState = 'none';\n/**\n *\n * @param containers {HTMLElement[]|HTMLElement}\n * @param froalaBundlePath {String}\n * @param callback {Function}\n */\n/**\n * Created by rockuo on 24.8.16.\n */\nfunction startFroala(containers, froalaBundlePath) {\n    var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n    var url = froalaBundlePath;\n    if (!url) {\n        url = '/js/dist/froala.bundle.min.js';\n        if (process.env.NODE_ENV !== 'production') {\n            url = '/js/dist/froala.bundle.js';\n        }\n    }\n    var doneFn = function doneFn() {\n        _lodash2.default.each([].concat(containers), function (container) {\n            (0, _jquery2.default)(container.children[0]).froalaEditor(JSON.parse(container.getAttribute('data-settings')));\n        });\n        callback();\n        froalaState = 'done';\n    };\n    var testFroala = function testFroala() {\n        switch (froalaState) {\n            case 'none':\n                {\n                    froalaState = 'loading';\n                    _jquery2.default.getScript(url).done(doneFn).fail(function () {\n                        froalaState = 'none';\n                    });\n                }\n                break;\n            case 'loading':\n                {\n                    setTimeout(testFroala, 100);\n                }\n                break;\n            default:\n                {\n                    doneFn();\n                }\n        }\n    };\n    testFroala();\n}\n\n/**\n *\n * @param containers\n * @param how\n */\nfunction editFroala(containers, how) {\n    _lodash2.default.each([].concat(containers), function (container) {\n        var $cont = (0, _jquery2.default)(container.children[1]);\n        $cont.froalaEditor.apply($cont, how);\n    });\n}\n\n/**\n * @param $harmonicaContainer {$}\n */\nfunction harmonicaPlugin($harmonicaContainer) {\n    var harmonicaForms = [];\n    return _lodash2.default.map($harmonicaContainer.find('input[id*=\\'harmonica-global-\\']'), function (radio) {\n        var $harmonicaForm = (0, _jquery2.default)(radio).next().find('form');\n        harmonicaForms.push($harmonicaForm);\n        if (!radio.checked) {\n            $harmonicaForm.css('display', 'none');\n        }\n        return _Events2.default.listen(radio, 'click', function () {\n            _lodash2.default.each(harmonicaForms, function (form) {\n                return form.css('display', 'none');\n            });\n            $harmonicaForm.css('display', 'block');\n        });\n    });\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(32)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L3V0aWxzL0Zyb2FsYUxpYi5qcz9hNTE2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zdGFydEZyb2FsYSA9IHN0YXJ0RnJvYWxhO1xuZXhwb3J0cy5lZGl0RnJvYWxhID0gZWRpdEZyb2FsYTtcbmV4cG9ydHMuaGFybW9uaWNhUGx1Z2luID0gaGFybW9uaWNhUGx1Z2luO1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG52YXIgX2pxdWVyeSA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG52YXIgX2pxdWVyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qcXVlcnkpO1xuXG52YXIgX0V2ZW50cyA9IHJlcXVpcmUoJ3RyaW5pdHkvdXRpbHMvRXZlbnRzJyk7XG5cbnZhciBfRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50cyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBmcm9hbGFTdGF0ZSA9ICdub25lJztcbi8qKlxuICpcbiAqIEBwYXJhbSBjb250YWluZXJzIHtIVE1MRWxlbWVudFtdfEhUTUxFbGVtZW50fVxuICogQHBhcmFtIGZyb2FsYUJ1bmRsZVBhdGgge1N0cmluZ31cbiAqIEBwYXJhbSBjYWxsYmFjayB7RnVuY3Rpb259XG4gKi9cbi8qKlxuICogQ3JlYXRlZCBieSByb2NrdW8gb24gMjQuOC4xNi5cbiAqL1xuZnVuY3Rpb24gc3RhcnRGcm9hbGEoY29udGFpbmVycywgZnJvYWxhQnVuZGxlUGF0aCkge1xuICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZnVuY3Rpb24gKCkge307XG5cbiAgICB2YXIgdXJsID0gZnJvYWxhQnVuZGxlUGF0aDtcbiAgICBpZiAoIXVybCkge1xuICAgICAgICB1cmwgPSAnL2pzL2Rpc3QvZnJvYWxhLmJ1bmRsZS5taW4uanMnO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgdXJsID0gJy9qcy9kaXN0L2Zyb2FsYS5idW5kbGUuanMnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBkb25lRm4gPSBmdW5jdGlvbiBkb25lRm4oKSB7XG4gICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaChbXS5jb25jYXQoY29udGFpbmVycyksIGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgICAgICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KShjb250YWluZXIuY2hpbGRyZW5bMF0pLmZyb2FsYUVkaXRvcihKU09OLnBhcnNlKGNvbnRhaW5lci5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2V0dGluZ3MnKSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgZnJvYWxhU3RhdGUgPSAnZG9uZSc7XG4gICAgfTtcbiAgICB2YXIgdGVzdEZyb2FsYSA9IGZ1bmN0aW9uIHRlc3RGcm9hbGEoKSB7XG4gICAgICAgIHN3aXRjaCAoZnJvYWxhU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvYWxhU3RhdGUgPSAnbG9hZGluZyc7XG4gICAgICAgICAgICAgICAgICAgIF9qcXVlcnkyLmRlZmF1bHQuZ2V0U2NyaXB0KHVybCkuZG9uZShkb25lRm4pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvYWxhU3RhdGUgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xvYWRpbmcnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCh0ZXN0RnJvYWxhLCAxMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkb25lRm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRlc3RGcm9hbGEoKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIGNvbnRhaW5lcnNcbiAqIEBwYXJhbSBob3dcbiAqL1xuZnVuY3Rpb24gZWRpdEZyb2FsYShjb250YWluZXJzLCBob3cpIHtcbiAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goW10uY29uY2F0KGNvbnRhaW5lcnMpLCBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciAkY29udCA9ICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KShjb250YWluZXIuY2hpbGRyZW5bMV0pO1xuICAgICAgICAkY29udC5mcm9hbGFFZGl0b3IuYXBwbHkoJGNvbnQsIGhvdyk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtICRoYXJtb25pY2FDb250YWluZXIgeyR9XG4gKi9cbmZ1bmN0aW9uIGhhcm1vbmljYVBsdWdpbigkaGFybW9uaWNhQ29udGFpbmVyKSB7XG4gICAgdmFyIGhhcm1vbmljYUZvcm1zID0gW107XG4gICAgcmV0dXJuIF9sb2Rhc2gyLmRlZmF1bHQubWFwKCRoYXJtb25pY2FDb250YWluZXIuZmluZCgnaW5wdXRbaWQqPVxcJ2hhcm1vbmljYS1nbG9iYWwtXFwnXScpLCBmdW5jdGlvbiAocmFkaW8pIHtcbiAgICAgICAgdmFyICRoYXJtb25pY2FGb3JtID0gKDAsIF9qcXVlcnkyLmRlZmF1bHQpKHJhZGlvKS5uZXh0KCkuZmluZCgnZm9ybScpO1xuICAgICAgICBoYXJtb25pY2FGb3Jtcy5wdXNoKCRoYXJtb25pY2FGb3JtKTtcbiAgICAgICAgaWYgKCFyYWRpby5jaGVja2VkKSB7XG4gICAgICAgICAgICAkaGFybW9uaWNhRm9ybS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfRXZlbnRzMi5kZWZhdWx0Lmxpc3RlbihyYWRpbywgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKGhhcm1vbmljYUZvcm1zLCBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRoYXJtb25pY2FGb3JtLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHJpbml0eS91dGlscy9Gcm9hbGFMaWIuanNcbi8vIG1vZHVsZSBpZCA9IDQ4N1xuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 488:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _flux = __webpack_require__(180);\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(209);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _TableDataStore = __webpack_require__(489);\n\nvar _TableDataStore2 = _interopRequireDefault(_TableDataStore);\n\nvar _CommonGrid = __webpack_require__(494);\n\nvar _CommonGrid2 = _interopRequireDefault(_CommonGrid);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultOptionsNew = {\n    components: {\n        search: true,\n        pagination: true,\n        queryBuilder: true,\n        loadMoreButton: false\n    },\n    paginateComponent: {\n        marginPagesDisplayed: 2,\n        pageRangeDisplayed: 3,\n        containerClassName: 'pagination',\n        subContainerClassName: 'pages pagination',\n        activeClassName: 'active',\n        nextLinkClassName: 'pull-right bold',\n        previousLinkClassName: 'bold',\n        breakLabel: _react2.default.createElement('i', { className: 'tiecons tiecons-dots-negative' }),\n        previousLabel: _react2.default.createElement('i', { className: 'trinity trinity-arrow-down-two' }),\n        nextLabel: _react2.default.createElement('i', { className: 'trinity trinity-arrow-down-two' })\n    },\n    tableComponent: {\n        orderByClassName: 'order-by',\n        ascClassName: 'order-by-asc',\n        descClassName: 'order-by-desc'\n    },\n    forceFilter: undefined,\n    filter: undefined,\n    search: undefined,\n    page: 0,\n    limit: 15,\n    max: 1\n};\n\nvar VeniceGridBuilder = {\n    build: function build(container, query) {\n        var customOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        //imports do not work, i suppose, that is because imports are \"executed\" before app\n        // is loaded, so window.jQuery does not exist at that time\n\n        // return this.buildCustom(container, query, GridContainer, customOptions);\n        return this.buildCustom(container, query, _CommonGrid2.default, customOptions);\n    },\n    buildCustom: function buildCustom(container, query, grid) {\n        var customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n        if (!container) {\n            throw new Error('Container cannot be ' + container);\n        }\n        var options = JSON.parse(container.getAttribute('data-config'));\n        var gridConfiguration = _lodash2.default.defaultsDeep({},\n        // Url request settings\n        query && {\n            limit: +query.limit,\n            page: +query.page,\n            filter: query.filter && window.atob(query.filter),\n            search: query.search && window.atob(query.search),\n            orderBy: query.orderby\n        },\n        // Server settings\n        {\n            page: 1,\n            max: options.max,\n            limit: options.limit,\n            orderBy: options.defaultOrder,\n            forceFilter: options.forceFilter || options.filter,\n            components: options.components\n        }, customOptions, defaultOptionsNew);\n\n        console.log('Grid configuration', _lodash2.default.extend({}, gridConfiguration));\n\n        var dispatcher = new _flux.Dispatcher(),\n            store = new _TableDataStore2.default(dispatcher, options.url,\n        // '/app_dev.php/admin/user/new',\n        options.columns, {\n            limit: gridConfiguration.limit,\n            orderBy: gridConfiguration.orderBy,\n            page: gridConfiguration.page,\n            filter: gridConfiguration.filter,\n            search: gridConfiguration.search,\n            max: gridConfiguration.max,\n            forceFilter: gridConfiguration.forceFilter,\n            allowSearch: gridConfiguration.components.search,\n            allowFilter: gridConfiguration.components.filter\n        });\n\n        _reactDom2.default.render(_react2.default.createElement(grid, _extends({\n            store: store,\n            dispatcher: dispatcher\n        }, gridConfiguration, {\n            columns: options.columns\n        })), container);\n\n        return gridConfiguration;\n    }\n};\n\nexports.default = VeniceGridBuilder;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvVmVuaWNlR3JpZEJ1aWxkZXIuanM/MjlkMSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQge0Rpc3BhdGNoZXJ9IGZyb20gJ2ZsdXgnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IERhdGFTdG9yZSBmcm9tICcuL0dyaWQvVGFibGVEYXRhU3RvcmUnO1xuaW1wb3J0IENvbW1vbkdyaWQgZnJvbSAnLi9HcmlkL0NvbW1vbkdyaWQuanN4JztcblxuXG5jb25zdCBkZWZhdWx0T3B0aW9uc05ldyA9IHtcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIHNlYXJjaDogdHJ1ZSxcbiAgICAgICAgcGFnaW5hdGlvbjogdHJ1ZSxcbiAgICAgICAgcXVlcnlCdWlsZGVyOiB0cnVlLFxuICAgICAgICBsb2FkTW9yZUJ1dHRvbjogZmFsc2VcbiAgICB9LFxuICAgIHBhZ2luYXRlQ29tcG9uZW50OiB7XG4gICAgICAgIG1hcmdpblBhZ2VzRGlzcGxheWVkOiAyLFxuICAgICAgICBwYWdlUmFuZ2VEaXNwbGF5ZWQ6IDMsXG4gICAgICAgIGNvbnRhaW5lckNsYXNzTmFtZTogJ3BhZ2luYXRpb24nLFxuICAgICAgICBzdWJDb250YWluZXJDbGFzc05hbWU6ICdwYWdlcyBwYWdpbmF0aW9uJyxcbiAgICAgICAgYWN0aXZlQ2xhc3NOYW1lOiAnYWN0aXZlJyxcbiAgICAgICAgbmV4dExpbmtDbGFzc05hbWU6ICdwdWxsLXJpZ2h0IGJvbGQnLFxuICAgICAgICBwcmV2aW91c0xpbmtDbGFzc05hbWU6ICdib2xkJyxcbiAgICAgICAgYnJlYWtMYWJlbDogUmVhY3QuY3JlYXRlRWxlbWVudCgnaScsIHtjbGFzc05hbWU6ICd0aWVjb25zIHRpZWNvbnMtZG90cy1uZWdhdGl2ZSd9KSxcbiAgICAgICAgcHJldmlvdXNMYWJlbDogUmVhY3QuY3JlYXRlRWxlbWVudCgnaScsIHtjbGFzc05hbWU6ICd0cmluaXR5IHRyaW5pdHktYXJyb3ctZG93bi10d28nfSksXG4gICAgICAgIG5leHRMYWJlbDogUmVhY3QuY3JlYXRlRWxlbWVudCgnaScsIHtjbGFzc05hbWU6ICd0cmluaXR5IHRyaW5pdHktYXJyb3ctZG93bi10d28nfSlcbiAgICB9LFxuICAgIHRhYmxlQ29tcG9uZW50OiB7XG4gICAgICAgIG9yZGVyQnlDbGFzc05hbWU6ICdvcmRlci1ieScsXG4gICAgICAgIGFzY0NsYXNzTmFtZTogJ29yZGVyLWJ5LWFzYycsXG4gICAgICAgIGRlc2NDbGFzc05hbWU6ICdvcmRlci1ieS1kZXNjJ1xuICAgIH0sXG4gICAgZm9yY2VGaWx0ZXI6IHVuZGVmaW5lZCxcbiAgICBmaWx0ZXI6IHVuZGVmaW5lZCxcbiAgICBzZWFyY2g6IHVuZGVmaW5lZCxcbiAgICBwYWdlOiAwLFxuICAgIGxpbWl0OiAxNSxcbiAgICBtYXg6IDFcbn07XG5cblxuY29uc3QgVmVuaWNlR3JpZEJ1aWxkZXIgPSB7XG4gICAgYnVpbGQoY29udGFpbmVyLCBxdWVyeSwgY3VzdG9tT3B0aW9ucyA9IHt9KXtcbiAgICAgICAgLy9pbXBvcnRzIGRvIG5vdCB3b3JrLCBpIHN1cHBvc2UsIHRoYXQgaXMgYmVjYXVzZSBpbXBvcnRzIGFyZSBcImV4ZWN1dGVkXCIgYmVmb3JlIGFwcFxuICAgICAgICAvLyBpcyBsb2FkZWQsIHNvIHdpbmRvdy5qUXVlcnkgZG9lcyBub3QgZXhpc3QgYXQgdGhhdCB0aW1lXG5cbiAgICAgICAgLy8gcmV0dXJuIHRoaXMuYnVpbGRDdXN0b20oY29udGFpbmVyLCBxdWVyeSwgR3JpZENvbnRhaW5lciwgY3VzdG9tT3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1aWxkQ3VzdG9tKGNvbnRhaW5lciwgcXVlcnksIENvbW1vbkdyaWQsIGN1c3RvbU9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICBidWlsZEN1c3RvbShjb250YWluZXIsIHF1ZXJ5LCBncmlkLCBjdXN0b21PcHRpb25zID0ge30pe1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb250YWluZXIgY2Fubm90IGJlICcgKyBjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcHRpb25zID0gSlNPTi5wYXJzZShjb250YWluZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbmZpZycpKTtcbiAgICAgICAgbGV0IGdyaWRDb25maWd1cmF0aW9uID0gXy5kZWZhdWx0c0RlZXAoXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIC8vIFVybCByZXF1ZXN0IHNldHRpbmdzXG4gICAgICAgICAgICBxdWVyeSAmJiB7XG4gICAgICAgICAgICAgICAgbGltaXQ6ICtxdWVyeS5saW1pdCxcbiAgICAgICAgICAgICAgICBwYWdlOiArcXVlcnkucGFnZSxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHF1ZXJ5LmZpbHRlciAmJiB3aW5kb3cuYXRvYihxdWVyeS5maWx0ZXIpLFxuICAgICAgICAgICAgICAgIHNlYXJjaDogcXVlcnkuc2VhcmNoICYmIHdpbmRvdy5hdG9iKHF1ZXJ5LnNlYXJjaCksXG4gICAgICAgICAgICAgICAgb3JkZXJCeTogcXVlcnkub3JkZXJieVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFNlcnZlciBzZXR0aW5nc1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgbWF4OiBvcHRpb25zLm1heCxcbiAgICAgICAgICAgICAgICBsaW1pdDogb3B0aW9ucy5saW1pdCxcbiAgICAgICAgICAgICAgICBvcmRlckJ5OiBvcHRpb25zLmRlZmF1bHRPcmRlcixcbiAgICAgICAgICAgICAgICBmb3JjZUZpbHRlcjogb3B0aW9ucy5mb3JjZUZpbHRlciB8fCBvcHRpb25zLmZpbHRlcixcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBvcHRpb25zLmNvbXBvbmVudHNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXN0b21PcHRpb25zLFxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnNOZXdcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnR3JpZCBjb25maWd1cmF0aW9uJywgIF8uZXh0ZW5kKHt9LGdyaWRDb25maWd1cmF0aW9uKSk7XG5cbiAgICAgICAgbGV0IGRpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcigpLFxuICAgICAgICAgICAgc3RvcmUgPSBuZXcgRGF0YVN0b3JlKFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoZXIsXG4gICAgICAgICAgICAgICAgb3B0aW9ucy51cmwsXG4gICAgICAgICAgICAgICAgLy8gJy9hcHBfZGV2LnBocC9hZG1pbi91c2VyL25ldycsXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jb2x1bW5zLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IGdyaWRDb25maWd1cmF0aW9uLmxpbWl0LFxuICAgICAgICAgICAgICAgICAgICBvcmRlckJ5OiBncmlkQ29uZmlndXJhdGlvbi5vcmRlckJ5LFxuICAgICAgICAgICAgICAgICAgICBwYWdlOiBncmlkQ29uZmlndXJhdGlvbi5wYWdlLFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6IGdyaWRDb25maWd1cmF0aW9uLmZpbHRlcixcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiBncmlkQ29uZmlndXJhdGlvbi5zZWFyY2gsXG4gICAgICAgICAgICAgICAgICAgIG1heDogZ3JpZENvbmZpZ3VyYXRpb24ubWF4LFxuICAgICAgICAgICAgICAgICAgICBmb3JjZUZpbHRlcjogZ3JpZENvbmZpZ3VyYXRpb24uZm9yY2VGaWx0ZXIsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93U2VhcmNoOiBncmlkQ29uZmlndXJhdGlvbi5jb21wb25lbnRzLnNlYXJjaCxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dGaWx0ZXI6IGdyaWRDb25maWd1cmF0aW9uLmNvbXBvbmVudHMuZmlsdGVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuXG4gICAgICAgIFJlYWN0RE9NLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KGdyaWQsIHtcbiAgICAgICAgICAgIHN0b3JlLFxuICAgICAgICAgICAgZGlzcGF0Y2hlcixcbiAgICAgICAgICAgIC4uLmdyaWRDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgY29sdW1uczogb3B0aW9ucy5jb2x1bW5zXG4gICAgICAgIH0pLCBjb250YWluZXIpO1xuXG4gICAgICAgIHJldHVybiBncmlkQ29uZmlndXJhdGlvbjtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBWZW5pY2VHcmlkQnVpbGRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9WZW5pY2VHcmlkQnVpbGRlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTdCQTtBQUNBO0FBZ0NBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFuRUE7QUFDQTtBQXFFQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 489:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 11/27/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Gateway = __webpack_require__(482);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nvar _TrinityQueryBuilder = __webpack_require__(490);\n\nvar _TrinityQueryBuilder2 = _interopRequireDefault(_TrinityQueryBuilder);\n\nvar _FluxStore = __webpack_require__(491);\n\nvar _FluxStore2 = _interopRequireDefault(_FluxStore);\n\nvar _GlobalHistory = __webpack_require__(492);\n\nvar _GlobalHistory2 = _interopRequireDefault(_GlobalHistory);\n\nvar _GridActions = __webpack_require__(493);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar messageService = null;\nvar fakeTimeout = false;\n\nif (true) {\n    messageService = __webpack_require__(480).messageService;\n}\n\n// Initial options\nvar defaultOptions = {\n    limit: 15,\n    page: 1,\n    max: 1,\n    orderBy: 'id:ASC',\n    allowFilter: true,\n    allowSearch: true,\n    filter: null,\n    search: null,\n    forceFilter: null\n};\n\nvar ORDER_BY_SPIT_RX = /:(?=ASC$|DESC$)/,\n    FILTER_STORAGE = 'filter',\n    NORMAL_STORAGE = 'normal',\n    SEARCH_STORAGE = 'search';\n\n/**\n * Store data component for grid tables\n */\n\nvar TableDataStore = function (_Store) {\n    _inherits(TableDataStore, _Store);\n\n    function TableDataStore(dispatcher, url, columns, options) {\n        _classCallCheck(this, TableDataStore);\n\n        var _this = _possibleConstructorReturn(this, (TableDataStore.__proto__ || Object.getPrototypeOf(TableDataStore)).call(this, dispatcher));\n\n        _this.options = __processOptions(options);\n        _this.url = url;\n        _this.columns = columns;\n        _this.select = (0, _lodash2.default)(columns).filter(function (col) {\n            return col.select !== false;\n        }).map(function (col) {\n            return col.name;\n        }).value();\n\n        _this.select.push('_id');\n        _this.isFetching = false;\n        _this.isError = false;\n        _this.__repeatLastRequest = false;\n\n        // Data storage\n        _this.__data = {\n            normal: {\n                cache: new Array(_this.options.maxPages),\n                page: _this.options.page,\n                maxPages: _this.options.maxPages,\n                max: _this.options.max\n            },\n            filter: {\n                cache: [],\n                page: 0,\n                maxPages: 1,\n                max: 0\n            },\n            search: {\n                cache: [],\n                page: 0,\n                maxPages: 1,\n                max: 0\n            }\n        };\n\n        if (!_this.options.allowFilter) {\n            _this.options.filter = null;\n        }\n        if (!_this.options.allowSearch) {\n            _this.options.search = null;\n        }\n\n        _this.activeStorage = NORMAL_STORAGE;\n        if (!_lodash2.default.isEmpty(_this.options.search)) {\n            _this.activeStorage = SEARCH_STORAGE;\n        } else if (!_lodash2.default.isEmpty(_this.options.filter)) {\n            _this.activeStorage = FILTER_STORAGE;\n        }\n        // current view\n        _this.dataView = [];\n\n        // History\n        var firstRequest = true;\n        _this.__historyListener = _GlobalHistory2.default.listen(function (loc) {\n            if (firstRequest) {\n                firstRequest = false;\n                return;\n            }\n            if (loc.action === 'POP' && loc.state) {\n                if (loc.state.orderBy !== _this.options.orderBy || loc.state.filter !== _this.options.filter) {\n                    _this.cleanCache();\n                }\n                _this.options = _lodash2.default.clone(loc.state);\n                _this.updateDataView();\n            }\n        });\n        // Initial request\n        _this.__initialPageSet();\n        return _this;\n    }\n\n    /**\n     * Dispatch action\n     * @param action {object}\n     */\n\n\n    _createClass(TableDataStore, [{\n        key: 'dispatch',\n        value: function dispatch(action) {\n            this.__dispatcher.dispatch(action);\n        }\n\n        /**\n         * Returns actual state of table\n         * @returns {object}\n         */\n\n    }, {\n        key: 'getState',\n        value: function getState() {\n            return _lodash2.default.cloneDeep({\n                data: this.dataView,\n                orderBy: this.options.orderBy,\n                pagination: this.getPaginationInfo(),\n                isFetching: this.isFetching,\n                isError: this.isError\n            });\n        }\n\n        /**\n         * Returns actual inner view state of active data\n         * @returns {Array|*}\n         */\n\n    }, {\n        key: 'getData',\n        value: function getData() {\n            return this.dataView;\n        }\n\n        /**\n         * Returns actual ORDER BY setup\n         * @returns {string|*|string}\n         */\n\n    }, {\n        key: 'getOrderBy',\n        value: function getOrderBy() {\n            return this.options.orderBy;\n        }\n\n        /**\n         * Returns actual pagination info\n         * @returns {{maxPages: number, page: (number|*|string|string)}}\n         */\n\n    }, {\n        key: 'getPaginationInfo',\n        value: function getPaginationInfo() {\n            var storage = this.__data[this.activeStorage];\n            return {\n                maxPages: storage.maxPages,\n                page: storage.page\n            };\n        }\n\n        /**\n         * Clear cached Data\n         */\n\n    }, {\n        key: 'cleanCache',\n        value: function cleanCache() {\n            this.__data[FILTER_STORAGE].cache = [];\n            this.__data[SEARCH_STORAGE].cache = [];\n            this.__data[NORMAL_STORAGE].cache = new Array(this.__data[NORMAL_STORAGE].maxPages);\n        }\n\n        /**\n         * Main method handling dispatched actions\n         * @param payload {Object}\n         * @private\n         */\n\n    }, {\n        key: '__onDispatch',\n        value: function __onDispatch(payload) {\n            switch (payload.action) {\n\n                // Pagination\n                case _GridActions.SET_PAGE:\n                    {\n                        this.__setPage(payload.page);\n                    }break;\n\n                // Order by change\n                case _GridActions.ORDER_BY:\n                    {\n                        this.__orderBy(payload.column);\n                    }break;\n                // Search\n                case _GridActions.SEARCH:\n                    {\n                        this.__search(payload.search);\n                    }break;\n                // Filter\n                case _GridActions.FILTER:\n                    {\n                        this.__filter(payload.filter);\n                    }break;\n                // Clear Filter\n                case _GridActions.CLEAR_FILTER:\n                    {\n                        this.__clearFilter(payload.filter);\n                    }break;\n                // Request again\n                case _GridActions.REPEAT_REQUEST:\n                    {\n                        this.__repeatRequest();\n                    }break;\n                default:\n                    break;\n            }\n        }\n\n        /**\n         * Shortcut for emit state change\n         * @private\n         */\n\n    }, {\n        key: '__stateChange',\n        value: function __stateChange() {\n            this.__emitter.emit(this.__changeEvent);\n        }\n\n        /**\n         * Apply search filter\n         * @param queryString {string}\n         * @private\n         */\n\n    }, {\n        key: '__search',\n        value: function __search(queryString) {\n            if (queryString === this.options.search) {\n                return;\n            }\n\n            if (_lodash2.default.isEmpty(queryString)) {\n                this.activeStorage = NORMAL_STORAGE;\n                this.options.search = null;\n                this.isFetching = false;\n                if (this.__lastRequest) {\n                    this.__lastRequest.abort();\n                }\n            } else {\n                this.options.search = queryString;\n                this.activeStorage = SEARCH_STORAGE;\n            }\n\n            this.__data[SEARCH_STORAGE].page = 0;\n            this.__data[SEARCH_STORAGE].cache = [];\n            this.__pushHistory();\n            this.updateDataView();\n        }\n\n        /**\n         * Apply filter\n         * @param queryString {string}\n         * @private\n         */\n\n    }, {\n        key: '__filter',\n        value: function __filter(queryString) {\n            if (queryString !== this.options.filter) {\n                this.options.filter = queryString;\n                this.activeStorage = FILTER_STORAGE;\n                this.__data[FILTER_STORAGE].page = 0;\n                this.__data[FILTER_STORAGE].cache = [];\n                this.__pushHistory();\n                this.updateDataView();\n            }\n        }\n\n        /**\n         * Clears Filter\n         * @private\n         */\n\n    }, {\n        key: '__clearFilter',\n        value: function __clearFilter() {\n            if (!_lodash2.default.isEmpty(this.options.filter)) {\n                this.options.filter = null;\n                this.activeStorage = _lodash2.default.isNull(this.options.search) ? NORMAL_STORAGE : SEARCH_STORAGE;\n                this.__data[FILTER_STORAGE].page = 0;\n                this.__data[FILTER_STORAGE].cache = [];\n                this.__pushHistory();\n                this.updateDataView();\n            }\n        }\n\n        /**\n         * Handles SET PAGE request\n         * @param page {number}\n         * @private\n         */\n\n    }, {\n        key: '__setPage',\n        value: function __setPage(page) {\n            var storage = this.__data[this.activeStorage];\n            if (!this.isFetching || storage !== page) {\n                storage.page = page;\n                this.__pushHistory();\n                this.updateDataView();\n            }\n        }\n\n        /**\n         * Handles orderBy action request\n         * @param column {string}\n         * @private\n         */\n\n    }, {\n        key: '__orderBy',\n        value: function __orderBy(column) {\n\n            var previousColumn = this.options.orderBy.column,\n                order = this.options.orderBy.order;\n\n            // Set new order\n            this.options.orderBy.column = column;\n            // look at previous column, if its same as actual -> change order, if not -> order ASC\n            this.options.orderBy.order = previousColumn === column && order === 'ASC' ? 'DESC' : 'ASC';\n\n            this.cleanCache();\n            this.__pushHistory();\n            this.updateDataView();\n        }\n    }, {\n        key: '__repeatRequest',\n        value: function __repeatRequest() {\n            this.__repeatLastRequest = true;\n            this.updateDataView();\n        }\n\n        /**\n         * Update data view\n         */\n\n    }, {\n        key: 'updateDataView',\n        value: function updateDataView() {\n            var _this2 = this;\n\n            // Clear error cache\n            this.isError = false;\n\n            var storage = this.__data[this.activeStorage],\n                page = storage.page;\n\n            // Do we have Data?\n            if (storage.cache[page] && storage.cache[page].length > 0) {\n                this.dataView = storage.cache[page];\n                this.__stateChange();\n                return;\n            }\n\n            // We have to download Data\n            this.isFetching = true;\n            this.__stateChange();\n\n            // REQUEST\n            var currentQuery = this.requestData(function (response) {\n                var queryTest = currentQuery === _this2.__lastQuery,\n                    dataTest = !storage.cache[page] || _lodash2.default.isEmpty(storage.cache[page]);\n\n                // Check if some other request was triggered\n                if (queryTest && dataTest) {\n                    _this2.isFetching = false;\n                    storage.cache.max = response.body.count.total;\n                    storage.cache.maxPages = Math.ceil(storage.cache.max / _this2.options.limit);\n                    _this2.dataView = storage.cache[page] = response.body.result;\n                    _this2.__stateChange();\n                }\n            }, function (error) {\n                // ERROR\n                if (true) {\n                    console.error(error);\n                    console.log('RESPONSE', error.response);\n                    if (messageService && error.response) {\n                        messageService(error.response.statusCode + '<br>' + error.response.statusText, 'error');\n                    }\n                }\n\n                // Check if some other request was triggered\n                if (currentQuery === _this2.__lastQuery) {\n                    _this2.isFetching = false;\n                    _this2.isError = true;\n                    _this2.__stateChange();\n                }\n            }, this.__repeatLastRequest);\n        }\n\n        /**\n         * Request for all queries\n         * @param successCallback\n         * @param errorCallback\n         * @param repeatLast {boolean}\n         */\n\n    }, {\n        key: 'requestData',\n        value: function requestData(successCallback, errorCallback, repeatLast) {\n            // If there is last then abort it\n            this.__lastRequest && this.__lastRequest.abort();\n\n            if (repeatLast) {\n                if ((true) && fakeTimeout) {\n                    fakeTimeout = false;\n                    this.__lastRequest.timeout(30000);\n                }\n                this.__repeatLastRequest = false;\n                this.__lastRequest.finish();\n                return this.__lastQuery;\n            }\n\n            var storage = this.__data[this.activeStorage];\n            var queryRequest = this.activeStorage === SEARCH_STORAGE && this.options.allowSearch ? _TrinityQueryBuilder2.default.createSearch(this.url, // Url\n            this.select, this.options.search, {\n                offset: storage.page * this.options.limit,\n                limit: this.options.limit,\n                orderBy: this.options.orderBy\n            }\n            // TODO: Extra query params\n            ) : _TrinityQueryBuilder2.default.create(this.url, // Url\n            this.select, // Select\n            this.options.forceFilter, // filter\n            // Query\n            {\n                offset: storage.page * this.options.limit,\n                limit: this.options.limit,\n                orderBy: this.options.orderBy,\n                filter: this.options.allowFilter ? this.options.filter : null\n            });\n\n            if (true) {\n                console.log('REQUEST', queryRequest);\n            }\n\n            var request = _Gateway2.default.sendJSON(encodeURI(queryRequest), 'GET', null, successCallback, errorCallback, true // override\n            );\n\n            request.timeout(30000);\n            if ((true) && fakeTimeout) {\n                request.timeout(1);\n            }\n            request.finish();\n            this.__lastRequest = request;\n\n            return this.__lastQuery = queryRequest;\n        }\n\n        /**\n         * Initial request\n         * @private\n         */\n\n    }, {\n        key: '__initialPageSet',\n        value: function __initialPageSet() {\n            this.updateDataView();\n            _GlobalHistory2.default.replace(this.__createHistoryUrl());\n        }\n\n        /**\n         * Add new state to history\n         * @private\n         */\n\n    }, {\n        key: '__pushHistory',\n        value: function __pushHistory() {\n            _GlobalHistory2.default.push(this.__createHistoryUrl());\n        }\n    }, {\n        key: '__createHistoryUrl',\n        value: function __createHistoryUrl() {\n            var storage = this.__data[this.activeStorage];\n            var queryUrl = [];\n            queryUrl.push('page=' + (storage.page + 1));\n            queryUrl.push('limit=' + this.options.limit);\n            queryUrl.push('orderby=' + this.options.orderBy.column + ':' + this.options.orderBy.order);\n            if (this.options.search) {\n                queryUrl.push('search=' + window.btoa(this.options.search));\n            } else if (this.options.filter) {\n                queryUrl.push('filter=' + window.btoa(this.options.filter));\n            }\n            return {\n                pathname: window.location.pathname,\n                search: '?' + window.encodeURI(queryUrl.join('&')) + window.location.hash,\n                state: _lodash2.default.clone(this.options)\n            };\n        }\n    }]);\n\n    return TableDataStore;\n}(_FluxStore2.default);\n\n/**\n * Correct options\n * @param options\n * @returns {*}\n * @private\n */\n\n\nexports.default = TableDataStore;\nfunction __processOptions(options) {\n    options = _lodash2.default.defaultsDeep(options || {}, defaultOptions);\n\n    if (_lodash2.default.isString(options.orderBy)) {\n        var orderBy = options.orderBy.split(ORDER_BY_SPIT_RX);\n        // if not name\n        options.orderBy = orderBy[0] ? {\n            column: orderBy[0],\n            order: orderBy[1]\n        } : { // Default options\n            column: 'id',\n            order: 'ASC'\n        };\n    }\n\n    options.limit = options.limit && options.limit > 0 ? options.limit : 15;\n    options.maxPages = Math.ceil(options.max / options.limit);\n    options.page = options.page && options.page > 0 ? options.page - 1 : 0;\n\n    if (options.page >= options.maxPages) {\n        options.page = options.maxPages - 1;\n    }\n    return options;\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9UYWJsZURhdGFTdG9yZS5qcz83YzRiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBmaXNhIG9uIDExLzI3LzE1LlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgR2F0ZXdheSBmcm9tICd0cmluaXR5L0dhdGV3YXknO1xuaW1wb3J0IFF1ZXJ5QnVpbGRlciBmcm9tICcuL1RyaW5pdHlRdWVyeUJ1aWxkZXInO1xuaW1wb3J0IFN0b3JlIGZyb20gJ2ZsdXgvbGliL0ZsdXhTdG9yZSc7XG5pbXBvcnQgSGlzdG9yeSBmcm9tICcuLi9HbG9iYWxIaXN0b3J5JztcbmltcG9ydCB7XG4gICAgU0VUX1BBR0UsXG4gICAgRklMVEVSLFxuICAgIE9SREVSX0JZLFxuICAgIENMRUFSX0ZJTFRFUixcbiAgICBTRUFSQ0gsXG4gICAgUkVQRUFUX1JFUVVFU1Rcbn0gZnJvbSAnLi9HcmlkQWN0aW9ucyc7XG5cbmxldCBtZXNzYWdlU2VydmljZSA9IG51bGw7XG5sZXQgZmFrZVRpbWVvdXQgPSBmYWxzZTtcblxuXG5pZihERVZFTE9QTUVOVCl7XG4gICAgbWVzc2FnZVNlcnZpY2UgPSByZXF1aXJlKCd0cmluaXR5L1NlcnZpY2VzLmpzJykubWVzc2FnZVNlcnZpY2U7XG59XG5cblxuLy8gSW5pdGlhbCBvcHRpb25zXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBsaW1pdCA6IDE1LFxuICAgIHBhZ2UgOiAxLFxuICAgIG1heCA6IDEsXG4gICAgb3JkZXJCeTogJ2lkOkFTQycsXG4gICAgYWxsb3dGaWx0ZXI6IHRydWUsXG4gICAgYWxsb3dTZWFyY2g6IHRydWUsXG4gICAgZmlsdGVyOiBudWxsLFxuICAgIHNlYXJjaDogbnVsbCxcbiAgICBmb3JjZUZpbHRlcjogbnVsbFxufTtcblxuXG5jb25zdCBPUkRFUl9CWV9TUElUX1JYID0gLzooPz1BU0MkfERFU0MkKS8sXG4gICAgRklMVEVSX1NUT1JBR0UgPSAnZmlsdGVyJyxcbiAgICBOT1JNQUxfU1RPUkFHRSA9ICdub3JtYWwnLFxuICAgIFNFQVJDSF9TVE9SQUdFID0gJ3NlYXJjaCdcbiAgICA7XG5cbi8qKlxuICogU3RvcmUgZGF0YSBjb21wb25lbnQgZm9yIGdyaWQgdGFibGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlRGF0YVN0b3JlIGV4dGVuZHMgU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKGRpc3BhdGNoZXIsIHVybCwgY29sdW1ucywgb3B0aW9ucyl7XG4gICAgICAgIHN1cGVyKGRpc3BhdGNoZXIpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IF9fcHJvY2Vzc09wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zO1xuICAgICAgICB0aGlzLnNlbGVjdCA9IF8oY29sdW1ucylcbiAgICAgICAgICAgIC5maWx0ZXIoY29sID0+IGNvbC5zZWxlY3QgIT09IGZhbHNlKVxuICAgICAgICAgICAgLm1hcChjb2wgPT4gY29sLm5hbWUpXG4gICAgICAgICAgICAudmFsdWUoKTtcblxuICAgICAgICB0aGlzLnNlbGVjdC5wdXNoKCdfaWQnKTtcbiAgICAgICAgdGhpcy5pc0ZldGNoaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNFcnJvciA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9fcmVwZWF0TGFzdFJlcXVlc3QgPSBmYWxzZTtcblxuICAgICAgICAvLyBEYXRhIHN0b3JhZ2VcbiAgICAgICAgdGhpcy5fX2RhdGEgPSB7XG4gICAgICAgICAgICBub3JtYWw6IHtcbiAgICAgICAgICAgICAgICBjYWNoZTogbmV3IEFycmF5KHRoaXMub3B0aW9ucy5tYXhQYWdlcyksXG4gICAgICAgICAgICAgICAgcGFnZTogdGhpcy5vcHRpb25zLnBhZ2UsXG4gICAgICAgICAgICAgICAgbWF4UGFnZXM6IHRoaXMub3B0aW9ucy5tYXhQYWdlcyxcbiAgICAgICAgICAgICAgICBtYXg6IHRoaXMub3B0aW9ucy5tYXhcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICBjYWNoZTogW10sXG4gICAgICAgICAgICAgICAgcGFnZTogMCxcbiAgICAgICAgICAgICAgICBtYXhQYWdlczogMSxcbiAgICAgICAgICAgICAgICBtYXg6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWFyY2g6IHtcbiAgICAgICAgICAgICAgICBjYWNoZTogW10sXG4gICAgICAgICAgICAgICAgcGFnZTogMCxcbiAgICAgICAgICAgICAgICBtYXhQYWdlczogMSxcbiAgICAgICAgICAgICAgICBtYXg6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZighdGhpcy5vcHRpb25zLmFsbG93RmlsdGVyKXtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5maWx0ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmKCF0aGlzLm9wdGlvbnMuYWxsb3dTZWFyY2gpe1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNlYXJjaCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0b3JhZ2UgPSBOT1JNQUxfU1RPUkFHRTtcbiAgICAgICAgaWYoIV8uaXNFbXB0eSh0aGlzLm9wdGlvbnMuc2VhcmNoKSl7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVN0b3JhZ2UgPSBTRUFSQ0hfU1RPUkFHRTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKCFfLmlzRW1wdHkodGhpcy5vcHRpb25zLmZpbHRlcikpe1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdG9yYWdlID0gRklMVEVSX1NUT1JBR0U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3VycmVudCB2aWV3XG4gICAgICAgIHRoaXMuZGF0YVZpZXcgPSBbXTtcblxuICAgICAgICAvLyBIaXN0b3J5XG4gICAgICAgIGxldCBmaXJzdFJlcXVlc3QgPSB0cnVlO1xuICAgICAgICB0aGlzLl9faGlzdG9yeUxpc3RlbmVyID0gSGlzdG9yeS5saXN0ZW4oKGxvYyk9PntcbiAgICAgICAgICAgIGlmKGZpcnN0UmVxdWVzdCl7XG4gICAgICAgICAgICAgICAgZmlyc3RSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYobG9jLmFjdGlvbiA9PT0gJ1BPUCcgJiYgbG9jLnN0YXRlKXtcbiAgICAgICAgICAgICAgICBpZihsb2Muc3RhdGUub3JkZXJCeSAhPT0gdGhpcy5vcHRpb25zLm9yZGVyQnkgfHwgbG9jLnN0YXRlLmZpbHRlciAhPT0gdGhpcy5vcHRpb25zLmZpbHRlcil7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYW5DYWNoZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBfLmNsb25lKGxvYy5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhVmlldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gSW5pdGlhbCByZXF1ZXN0XG4gICAgICAgIHRoaXMuX19pbml0aWFsUGFnZVNldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoIGFjdGlvblxuICAgICAqIEBwYXJhbSBhY3Rpb24ge29iamVjdH1cbiAgICAgKi9cbiAgICBkaXNwYXRjaChhY3Rpb24pe1xuICAgICAgICB0aGlzLl9fZGlzcGF0Y2hlci5kaXNwYXRjaChhY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWN0dWFsIHN0YXRlIG9mIHRhYmxlXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICBnZXRTdGF0ZSgpe1xuICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAoe1xuICAgICAgICAgICAgZGF0YTogdGhpcy5kYXRhVmlldyxcbiAgICAgICAgICAgIG9yZGVyQnk6IHRoaXMub3B0aW9ucy5vcmRlckJ5LFxuICAgICAgICAgICAgcGFnaW5hdGlvbjogdGhpcy5nZXRQYWdpbmF0aW9uSW5mbygpLFxuICAgICAgICAgICAgaXNGZXRjaGluZzogdGhpcy5pc0ZldGNoaW5nLFxuICAgICAgICAgICAgaXNFcnJvcjogdGhpcy5pc0Vycm9yLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFjdHVhbCBpbm5lciB2aWV3IHN0YXRlIG9mIGFjdGl2ZSBkYXRhXG4gICAgICogQHJldHVybnMge0FycmF5fCp9XG4gICAgICovXG4gICAgZ2V0RGF0YSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhVmlldztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFjdHVhbCBPUkRFUiBCWSBzZXR1cFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8KnxzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0T3JkZXJCeSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLm9yZGVyQnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhY3R1YWwgcGFnaW5hdGlvbiBpbmZvXG4gICAgICogQHJldHVybnMge3ttYXhQYWdlczogbnVtYmVyLCBwYWdlOiAobnVtYmVyfCp8c3RyaW5nfHN0cmluZyl9fVxuICAgICAqL1xuICAgIGdldFBhZ2luYXRpb25JbmZvKCl7XG4gICAgICAgIGxldCBzdG9yYWdlID0gdGhpcy5fX2RhdGFbdGhpcy5hY3RpdmVTdG9yYWdlXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1heFBhZ2VzOiBzdG9yYWdlLm1heFBhZ2VzLFxuICAgICAgICAgICAgcGFnZTogc3RvcmFnZS5wYWdlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgY2FjaGVkIERhdGFcbiAgICAgKi9cbiAgICBjbGVhbkNhY2hlKCl7XG4gICAgICAgIHRoaXMuX19kYXRhW0ZJTFRFUl9TVE9SQUdFXS5jYWNoZSA9IFtdO1xuICAgICAgICB0aGlzLl9fZGF0YVtTRUFSQ0hfU1RPUkFHRV0uY2FjaGUgPSBbXTtcbiAgICAgICAgdGhpcy5fX2RhdGFbTk9STUFMX1NUT1JBR0VdLmNhY2hlID0gbmV3IEFycmF5KHRoaXMuX19kYXRhW05PUk1BTF9TVE9SQUdFXS5tYXhQYWdlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFpbiBtZXRob2QgaGFuZGxpbmcgZGlzcGF0Y2hlZCBhY3Rpb25zXG4gICAgICogQHBhcmFtIHBheWxvYWQge09iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9fb25EaXNwYXRjaChwYXlsb2FkKXtcbiAgICAgICAgc3dpdGNoKHBheWxvYWQuYWN0aW9uKXtcblxuICAgICAgICAgICAgLy8gUGFnaW5hdGlvblxuICAgICAgICAgICAgY2FzZSBTRVRfUEFHRSA6e1xuICAgICAgICAgICAgICAgIHRoaXMuX19zZXRQYWdlKHBheWxvYWQucGFnZSk7XG4gICAgICAgICAgICB9IGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBPcmRlciBieSBjaGFuZ2VcbiAgICAgICAgICAgIGNhc2UgT1JERVJfQlkgOntcbiAgICAgICAgICAgICAgICB0aGlzLl9fb3JkZXJCeShwYXlsb2FkLmNvbHVtbik7XG4gICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgLy8gU2VhcmNoXG4gICAgICAgICAgICBjYXNlIFNFQVJDSDp7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3NlYXJjaChwYXlsb2FkLnNlYXJjaCk7XG4gICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgLy8gRmlsdGVyXG4gICAgICAgICAgICBjYXNlIEZJTFRFUiA6e1xuICAgICAgICAgICAgICAgIHRoaXMuX19maWx0ZXIocGF5bG9hZC5maWx0ZXIpO1xuICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgICAgIC8vIENsZWFyIEZpbHRlclxuICAgICAgICAgICAgY2FzZSBDTEVBUl9GSUxURVIgOntcbiAgICAgICAgICAgICAgICB0aGlzLl9fY2xlYXJGaWx0ZXIocGF5bG9hZC5maWx0ZXIpO1xuICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgICAgIC8vIFJlcXVlc3QgYWdhaW5cbiAgICAgICAgICAgIGNhc2UgUkVQRUFUX1JFUVVFU1QgOntcbiAgICAgICAgICAgICAgICB0aGlzLl9fcmVwZWF0UmVxdWVzdCgpO1xuICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvcnRjdXQgZm9yIGVtaXQgc3RhdGUgY2hhbmdlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfX3N0YXRlQ2hhbmdlKCl7XG4gICAgICAgIHRoaXMuX19lbWl0dGVyLmVtaXQodGhpcy5fX2NoYW5nZUV2ZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBseSBzZWFyY2ggZmlsdGVyXG4gICAgICogQHBhcmFtIHF1ZXJ5U3RyaW5nIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfX3NlYXJjaChxdWVyeVN0cmluZyl7XG4gICAgICAgIGlmKHF1ZXJ5U3RyaW5nID09PSB0aGlzLm9wdGlvbnMuc2VhcmNoKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKF8uaXNFbXB0eShxdWVyeVN0cmluZykpe1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdG9yYWdlID0gTk9STUFMX1NUT1JBR0U7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2VhcmNoID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaXNGZXRjaGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYodGhpcy5fX2xhc3RSZXF1ZXN0KXtcbiAgICAgICAgICAgICAgICB0aGlzLl9fbGFzdFJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zZWFyY2ggPSBxdWVyeVN0cmluZztcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU3RvcmFnZSA9IFNFQVJDSF9TVE9SQUdFO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fX2RhdGFbU0VBUkNIX1NUT1JBR0VdLnBhZ2UgPSAwO1xuICAgICAgICB0aGlzLl9fZGF0YVtTRUFSQ0hfU1RPUkFHRV0uY2FjaGUgPSBbXTtcbiAgICAgICAgdGhpcy5fX3B1c2hIaXN0b3J5KCk7XG4gICAgICAgIHRoaXMudXBkYXRlRGF0YVZpZXcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBseSBmaWx0ZXJcbiAgICAgKiBAcGFyYW0gcXVlcnlTdHJpbmcge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9fZmlsdGVyKHF1ZXJ5U3RyaW5nKXtcbiAgICAgICAgaWYocXVlcnlTdHJpbmcgIT09IHRoaXMub3B0aW9ucy5maWx0ZXIpe1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZpbHRlciA9IHF1ZXJ5U3RyaW5nO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdG9yYWdlID0gRklMVEVSX1NUT1JBR0U7XG4gICAgICAgICAgICB0aGlzLl9fZGF0YVtGSUxURVJfU1RPUkFHRV0ucGFnZSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9fZGF0YVtGSUxURVJfU1RPUkFHRV0uY2FjaGUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX19wdXNoSGlzdG9yeSgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhVmlldygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIEZpbHRlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX19jbGVhckZpbHRlcigpe1xuICAgICAgICBpZighXy5pc0VtcHR5KHRoaXMub3B0aW9ucy5maWx0ZXIpKXtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5maWx0ZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdG9yYWdlID0gXy5pc051bGwodGhpcy5vcHRpb25zLnNlYXJjaCkgPyBOT1JNQUxfU1RPUkFHRSA6IFNFQVJDSF9TVE9SQUdFO1xuICAgICAgICAgICAgdGhpcy5fX2RhdGFbRklMVEVSX1NUT1JBR0VdLnBhZ2UgPSAwO1xuICAgICAgICAgICAgdGhpcy5fX2RhdGFbRklMVEVSX1NUT1JBR0VdLmNhY2hlID0gW107XG4gICAgICAgICAgICB0aGlzLl9fcHVzaEhpc3RvcnkoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YVZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU0VUIFBBR0UgcmVxdWVzdFxuICAgICAqIEBwYXJhbSBwYWdlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfX3NldFBhZ2UocGFnZSl7XG4gICAgICAgIGxldCBzdG9yYWdlID0gdGhpcy5fX2RhdGFbdGhpcy5hY3RpdmVTdG9yYWdlXTtcbiAgICAgICAgaWYoIXRoaXMuaXNGZXRjaGluZyB8fCBzdG9yYWdlICE9PSBwYWdlKSB7XG4gICAgICAgICAgICBzdG9yYWdlLnBhZ2UgPSBwYWdlO1xuICAgICAgICAgICAgdGhpcy5fX3B1c2hIaXN0b3J5KCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFWaWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIG9yZGVyQnkgYWN0aW9uIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gY29sdW1uIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfX29yZGVyQnkoY29sdW1uKXtcblxuICAgICAgICBsZXQgcHJldmlvdXNDb2x1bW4gPSB0aGlzLm9wdGlvbnMub3JkZXJCeS5jb2x1bW4sXG4gICAgICAgICAgICBvcmRlciA9IHRoaXMub3B0aW9ucy5vcmRlckJ5Lm9yZGVyO1xuXG4gICAgICAgIC8vIFNldCBuZXcgb3JkZXJcbiAgICAgICAgdGhpcy5vcHRpb25zLm9yZGVyQnkuY29sdW1uID0gY29sdW1uO1xuICAgICAgICAvLyBsb29rIGF0IHByZXZpb3VzIGNvbHVtbiwgaWYgaXRzIHNhbWUgYXMgYWN0dWFsIC0+IGNoYW5nZSBvcmRlciwgaWYgbm90IC0+IG9yZGVyIEFTQ1xuICAgICAgICB0aGlzLm9wdGlvbnMub3JkZXJCeS5vcmRlciA9IHByZXZpb3VzQ29sdW1uID09PSBjb2x1bW4gJiYgb3JkZXIgPT09ICdBU0MnID8gJ0RFU0MnIDogJ0FTQyc7XG5cbiAgICAgICAgdGhpcy5jbGVhbkNhY2hlKCk7XG4gICAgICAgIHRoaXMuX19wdXNoSGlzdG9yeSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZURhdGFWaWV3KCk7XG4gICAgfVxuXG4gICAgX19yZXBlYXRSZXF1ZXN0KCl7XG4gICAgICAgIHRoaXMuX19yZXBlYXRMYXN0UmVxdWVzdCA9IHRydWU7XG4gICAgICAgIHRoaXMudXBkYXRlRGF0YVZpZXcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgZGF0YSB2aWV3XG4gICAgICovXG4gICAgdXBkYXRlRGF0YVZpZXcoKXtcbiAgICAgICAgLy8gQ2xlYXIgZXJyb3IgY2FjaGVcbiAgICAgICAgdGhpcy5pc0Vycm9yID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLl9fZGF0YVt0aGlzLmFjdGl2ZVN0b3JhZ2VdLFxuICAgICAgICAgICAgcGFnZSA9IHN0b3JhZ2UucGFnZTtcblxuICAgICAgICAvLyBEbyB3ZSBoYXZlIERhdGE/XG4gICAgICAgIGlmKHN0b3JhZ2UuY2FjaGVbcGFnZV0gJiYgc3RvcmFnZS5jYWNoZVtwYWdlXS5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgIHRoaXMuZGF0YVZpZXcgPSBzdG9yYWdlLmNhY2hlW3BhZ2VdO1xuICAgICAgICAgICAgdGhpcy5fX3N0YXRlQ2hhbmdlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSBoYXZlIHRvIGRvd25sb2FkIERhdGFcbiAgICAgICAgdGhpcy5pc0ZldGNoaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fX3N0YXRlQ2hhbmdlKCk7XG5cbiAgICAgICAgLy8gUkVRVUVTVFxuICAgICAgICBsZXQgY3VycmVudFF1ZXJ5ID0gdGhpcy5yZXF1ZXN0RGF0YSgocmVzcG9uc2UpPT57XG4gICAgICAgICAgICBsZXQgcXVlcnlUZXN0ID0gY3VycmVudFF1ZXJ5ID09PSB0aGlzLl9fbGFzdFF1ZXJ5LFxuICAgICAgICAgICAgICAgIGRhdGFUZXN0ID0gIXN0b3JhZ2UuY2FjaGVbcGFnZV0gfHwgXy5pc0VtcHR5KHN0b3JhZ2UuY2FjaGVbcGFnZV0pO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBzb21lIG90aGVyIHJlcXVlc3Qgd2FzIHRyaWdnZXJlZFxuICAgICAgICAgICAgaWYocXVlcnlUZXN0ICYmIGRhdGFUZXN0KXtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRmV0Y2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzdG9yYWdlLmNhY2hlLm1heCA9IHJlc3BvbnNlLmJvZHkuY291bnQudG90YWw7XG4gICAgICAgICAgICAgICAgc3RvcmFnZS5jYWNoZS5tYXhQYWdlcyA9IE1hdGguY2VpbChzdG9yYWdlLmNhY2hlLm1heCAvIHRoaXMub3B0aW9ucy5saW1pdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhVmlldyA9IHN0b3JhZ2UuY2FjaGVbcGFnZV0gPSByZXNwb25zZS5ib2R5LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB0aGlzLl9fc3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgKGVycm9yKT0+e1xuICAgICAgICAgICAgLy8gRVJST1JcbiAgICAgICAgICAgIGlmKERFVkVMT1BNRU5UKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUkVTUE9OU0UnLCBlcnJvci5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaWYobWVzc2FnZVNlcnZpY2UgJiYgZXJyb3IucmVzcG9uc2Upe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlU2VydmljZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlLnN0YXR1c0NvZGUgKyAnPGJyPidcbiAgICAgICAgICAgICAgICAgICAgICAgICsgZXJyb3IucmVzcG9uc2Uuc3RhdHVzVGV4dCwgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBzb21lIG90aGVyIHJlcXVlc3Qgd2FzIHRyaWdnZXJlZFxuICAgICAgICAgICAgaWYoY3VycmVudFF1ZXJ5ID09PSB0aGlzLl9fbGFzdFF1ZXJ5KXtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRmV0Y2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX19zdGF0ZUNoYW5nZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLl9fcmVwZWF0TGFzdFJlcXVlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgZm9yIGFsbCBxdWVyaWVzXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFja1xuICAgICAqIEBwYXJhbSBlcnJvckNhbGxiYWNrXG4gICAgICogQHBhcmFtIHJlcGVhdExhc3Qge2Jvb2xlYW59XG4gICAgICovXG4gICAgcmVxdWVzdERhdGEoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCByZXBlYXRMYXN0KXtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbGFzdCB0aGVuIGFib3J0IGl0XG4gICAgICAgIHRoaXMuX19sYXN0UmVxdWVzdCAmJiB0aGlzLl9fbGFzdFJlcXVlc3QuYWJvcnQoKTtcblxuICAgICAgICBpZihyZXBlYXRMYXN0KXtcbiAgICAgICAgICAgIGlmKERFVkVMT1BNRU5UICYmIGZha2VUaW1lb3V0KXtcbiAgICAgICAgICAgICAgICBmYWtlVGltZW91dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX19sYXN0UmVxdWVzdC50aW1lb3V0KDMwMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX19yZXBlYXRMYXN0UmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fX2xhc3RSZXF1ZXN0LmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX19sYXN0UXVlcnk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuX19kYXRhW3RoaXMuYWN0aXZlU3RvcmFnZV07XG4gICAgICAgIGxldCBxdWVyeVJlcXVlc3QgPSB0aGlzLmFjdGl2ZVN0b3JhZ2UgPT09IFNFQVJDSF9TVE9SQUdFICYmIHRoaXMub3B0aW9ucy5hbGxvd1NlYXJjaCA/XG4gICAgICAgICAgICBRdWVyeUJ1aWxkZXIuY3JlYXRlU2VhcmNoKFxuICAgICAgICAgICAgICAgIHRoaXMudXJsLCAvLyBVcmxcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdCxcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2VhcmNoLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAoc3RvcmFnZS5wYWdlKSAqIHRoaXMub3B0aW9ucy5saW1pdCxcbiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IHRoaXMub3B0aW9ucy5saW1pdCxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJCeTogdGhpcy5vcHRpb25zLm9yZGVyQnlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogRXh0cmEgcXVlcnkgcGFyYW1zXG4gICAgICAgICAgICApXG4gICAgICAgICAgICA6IFF1ZXJ5QnVpbGRlci5jcmVhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy51cmwsIC8vIFVybFxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0LCAvLyBTZWxlY3RcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZm9yY2VGaWx0ZXIsIC8vIGZpbHRlclxuICAgICAgICAgICAgICAgIC8vIFF1ZXJ5XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IChzdG9yYWdlLnBhZ2UpICogdGhpcy5vcHRpb25zLmxpbWl0LFxuICAgICAgICAgICAgICAgICAgICBsaW1pdDogdGhpcy5vcHRpb25zLmxpbWl0LFxuICAgICAgICAgICAgICAgICAgICBvcmRlckJ5OiB0aGlzLm9wdGlvbnMub3JkZXJCeSxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiB0aGlzLm9wdGlvbnMuYWxsb3dGaWx0ZXIgPyB0aGlzLm9wdGlvbnMuZmlsdGVyIDogbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cblxuICAgICAgICBpZihERVZFTE9QTUVOVCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUkVRVUVTVCcsIHF1ZXJ5UmVxdWVzdCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdCA9IEdhdGV3YXkuc2VuZEpTT04oXG4gICAgICAgICAgICBlbmNvZGVVUkkocXVlcnlSZXF1ZXN0KSxcbiAgICAgICAgICAgICdHRVQnLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayxcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2ssXG4gICAgICAgICAgICB0cnVlIC8vIG92ZXJyaWRlXG4gICAgICAgICk7XG5cbiAgICAgICAgcmVxdWVzdC50aW1lb3V0KDMwMDAwKTtcbiAgICAgICAgaWYoREVWRUxPUE1FTlQgJiYgZmFrZVRpbWVvdXQpe1xuICAgICAgICAgICAgcmVxdWVzdC50aW1lb3V0KDEpO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3QuZmluaXNoKCk7XG4gICAgICAgIHRoaXMuX19sYXN0UmVxdWVzdCA9IHJlcXVlc3Q7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX19sYXN0UXVlcnkgPSBxdWVyeVJlcXVlc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbCByZXF1ZXN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfX2luaXRpYWxQYWdlU2V0KCl7XG4gICAgICAgIHRoaXMudXBkYXRlRGF0YVZpZXcoKTtcbiAgICAgICAgSGlzdG9yeS5yZXBsYWNlKHRoaXMuX19jcmVhdGVIaXN0b3J5VXJsKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBuZXcgc3RhdGUgdG8gaGlzdG9yeVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX19wdXNoSGlzdG9yeSgpe1xuICAgICAgICBIaXN0b3J5LnB1c2godGhpcy5fX2NyZWF0ZUhpc3RvcnlVcmwoKSk7XG4gICAgfVxuICAgIFxuICAgIF9fY3JlYXRlSGlzdG9yeVVybCgpe1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuX19kYXRhW3RoaXMuYWN0aXZlU3RvcmFnZV07XG4gICAgICAgIGxldCBxdWVyeVVybCA9IFtdO1xuICAgICAgICBxdWVyeVVybC5wdXNoKCdwYWdlPScgKyAoc3RvcmFnZS5wYWdlICsgMSkpO1xuICAgICAgICBxdWVyeVVybC5wdXNoKCdsaW1pdD0nICsgdGhpcy5vcHRpb25zLmxpbWl0KTtcbiAgICAgICAgcXVlcnlVcmwucHVzaChgb3JkZXJieT0ke3RoaXMub3B0aW9ucy5vcmRlckJ5LmNvbHVtbn06JHt0aGlzLm9wdGlvbnMub3JkZXJCeS5vcmRlcn1gKTtcbiAgICAgICAgaWYodGhpcy5vcHRpb25zLnNlYXJjaCl7XG4gICAgICAgICAgICBxdWVyeVVybC5wdXNoKGBzZWFyY2g9JHt3aW5kb3cuYnRvYSh0aGlzLm9wdGlvbnMuc2VhcmNoKX1gKTtcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMub3B0aW9ucy5maWx0ZXIpe1xuICAgICAgICAgICAgcXVlcnlVcmwucHVzaChgZmlsdGVyPSR7d2luZG93LmJ0b2EodGhpcy5vcHRpb25zLmZpbHRlcil9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBhdGhuYW1lOndpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgICAgIHNlYXJjaDonPycgKyB3aW5kb3cuZW5jb2RlVVJJKHF1ZXJ5VXJsLmpvaW4oJyYnKSkgKyB3aW5kb3cubG9jYXRpb24uaGFzaCxcbiAgICAgICAgICAgIHN0YXRlOl8uY2xvbmUodGhpcy5vcHRpb25zKVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuXG4vKipcbiAqIENvcnJlY3Qgb3B0aW9uc1xuICogQHBhcmFtIG9wdGlvbnNcbiAqIEByZXR1cm5zIHsqfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19wcm9jZXNzT3B0aW9ucyhvcHRpb25zKXtcbiAgICBvcHRpb25zID0gXy5kZWZhdWx0c0RlZXAob3B0aW9ucyB8fCB7fSwgZGVmYXVsdE9wdGlvbnMpO1xuXG4gICAgaWYoXy5pc1N0cmluZyhvcHRpb25zLm9yZGVyQnkpKXtcbiAgICAgICAgbGV0IG9yZGVyQnkgPSBvcHRpb25zLm9yZGVyQnkuc3BsaXQoT1JERVJfQllfU1BJVF9SWCk7XG4gICAgICAgIC8vIGlmIG5vdCBuYW1lXG4gICAgICAgIG9wdGlvbnMub3JkZXJCeSA9IG9yZGVyQnlbMF0gPyB7XG4gICAgICAgICAgICBjb2x1bW46IG9yZGVyQnlbMF0sXG4gICAgICAgICAgICBvcmRlcjogb3JkZXJCeVsxXVxuICAgICAgICB9IDogeyAgIC8vIERlZmF1bHQgb3B0aW9uc1xuICAgICAgICAgICAgY29sdW1uOiAnaWQnLFxuICAgICAgICAgICAgb3JkZXI6ICdBU0MnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgb3B0aW9ucy5saW1pdCA9IG9wdGlvbnMubGltaXQgJiYgb3B0aW9ucy5saW1pdCA+IDAgPyBvcHRpb25zLmxpbWl0IDogMTU7XG4gICAgb3B0aW9ucy5tYXhQYWdlcyA9IE1hdGguY2VpbChvcHRpb25zLm1heCAvIG9wdGlvbnMubGltaXQpO1xuICAgIG9wdGlvbnMucGFnZSA9IChvcHRpb25zLnBhZ2UgJiYgb3B0aW9ucy5wYWdlID4gMCkgPyBvcHRpb25zLnBhZ2UgLSAxIDogMDtcblxuICAgIGlmKCBvcHRpb25zLnBhZ2UgPj0gb3B0aW9ucy5tYXhQYWdlcyApe1xuICAgICAgICBvcHRpb25zLnBhZ2UgPSAob3B0aW9ucy5tYXhQYWdlcyAtIDEpO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL1RhYmxlRGF0YVN0b3JlLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0FBR0E7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBQ0E7QUFZQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBS0E7Ozs7QUFHQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBYkE7QUFDQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2RUE7QUF3RUE7QUFDQTtBQUNBOzs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQTNCQTtBQTZCQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQVRBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7Ozs7OztBQUlBOzs7Ozs7OztBQXZiQTtBQTZiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 490:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 1/15/16.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TrinityQueryBuilder = function () {\n    function TrinityQueryBuilder() {\n        _classCallCheck(this, TrinityQueryBuilder);\n    }\n\n    _createClass(TrinityQueryBuilder, null, [{\n        key: 'create',\n        value: function create(baseUrl, select, where, query) {\n            // base URL\n            baseUrl = _lodash2.default.last(baseUrl) === '/' ? _lodash2.default.initial(baseUrl).join('') : baseUrl;\n            // Select\n            var buffer = [];\n            buffer.push('(' + select.join(',') + ')');\n\n            // Constrains\n            var constraintsBuffer = [];\n            if (query.limit) {\n                constraintsBuffer.push('LIMIT=' + query.limit);\n            }\n            if (query.offset) {\n                constraintsBuffer.push('OFFSET=' + query.offset);\n            }\n            if (!_lodash2.default.isEmpty(query.orderBy)) {\n                var order = query.orderBy.order || 'ASC';\n                constraintsBuffer.push('ORDERBY ' + query.orderBy.column + ' ' + order.toUpperCase());\n            }\n            var filter = query.filter;\n            if (where) {\n                if (!_lodash2.default.isEmpty(filter)) {\n                    filter = where + ' AND (' + filter + ')';\n                } else {\n                    filter = where;\n                }\n            }\n            if (!_lodash2.default.isEmpty(filter)) {\n                buffer.push('{' + filter + '}');\n            }\n            buffer.push(constraintsBuffer.join(' '));\n            return baseUrl + '?q=' + buffer.join(' ');\n        }\n    }, {\n        key: 'createSearch',\n        value: function createSearch(baseUrl, select, search, query) {\n            // base URL\n            baseUrl = _lodash2.default.last(baseUrl) === '/' ? _lodash2.default.initial(baseUrl).join('') : baseUrl;\n\n            var queryParams = [];\n            if (query.offset) {\n                queryParams.push('offset=' + query.offset);\n            }\n            if (query.limit) {\n                queryParams.push('limit=' + query.limit);\n            }\n            var queryStr = _lodash2.default.isEmpty(queryParams) ? '' : '&' + queryParams.join('&');\n\n            return baseUrl + '?q=' + search + '&c=' + select.join(',') + queryStr;\n        }\n    }]);\n\n    return TrinityQueryBuilder;\n}();\n\nexports.default = TrinityQueryBuilder;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9UcmluaXR5UXVlcnlCdWlsZGVyLmpzPzgwY2MiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGZpc2Egb24gMS8xNS8xNi5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmluaXR5UXVlcnlCdWlsZGVyIHtcbiAgICBzdGF0aWMgY3JlYXRlKGJhc2VVcmwsIHNlbGVjdCwgd2hlcmUsIHF1ZXJ5KSB7XG4gICAgICAgIC8vIGJhc2UgVVJMXG4gICAgICAgIGJhc2VVcmwgPSBfLmxhc3QoYmFzZVVybCkgPT09ICcvJyA/IF8uaW5pdGlhbChiYXNlVXJsKS5qb2luKCcnKSA6IGJhc2VVcmw7XG4gICAgICAgIC8vIFNlbGVjdFxuICAgICAgICBsZXQgYnVmZmVyID0gW107XG4gICAgICAgIGJ1ZmZlci5wdXNoKCcoJyArIHNlbGVjdC5qb2luKCcsJykgKyAnKScpO1xuXG4gICAgICAgIC8vIENvbnN0cmFpbnNcbiAgICAgICAgbGV0IGNvbnN0cmFpbnRzQnVmZmVyID0gW107XG4gICAgICAgIGlmIChxdWVyeS5saW1pdCkge1xuICAgICAgICAgICAgY29uc3RyYWludHNCdWZmZXIucHVzaCgnTElNSVQ9JyArIHF1ZXJ5LmxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocXVlcnkub2Zmc2V0KSB7XG4gICAgICAgICAgICBjb25zdHJhaW50c0J1ZmZlci5wdXNoKCdPRkZTRVQ9JyArIHF1ZXJ5Lm9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfLmlzRW1wdHkocXVlcnkub3JkZXJCeSkpIHtcbiAgICAgICAgICAgIGxldCBvcmRlciA9IHF1ZXJ5Lm9yZGVyQnkub3JkZXIgfHwgJ0FTQyc7XG4gICAgICAgICAgICBjb25zdHJhaW50c0J1ZmZlci5wdXNoKGBPUkRFUkJZICR7cXVlcnkub3JkZXJCeS5jb2x1bW59ICR7b3JkZXIudG9VcHBlckNhc2UoKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmlsdGVyID0gcXVlcnkuZmlsdGVyO1xuICAgICAgICBpZiAod2hlcmUpIHtcbiAgICAgICAgICAgIGlmICghXy5pc0VtcHR5KGZpbHRlcikpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXIgPSBgJHt3aGVyZX0gQU5EICgke2ZpbHRlcn0pYDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyID0gd2hlcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfLmlzRW1wdHkoZmlsdGVyKSkge1xuICAgICAgICAgICAgYnVmZmVyLnB1c2goYHske2ZpbHRlcn19YCk7XG4gICAgICAgIH1cbiAgICAgICAgYnVmZmVyLnB1c2goY29uc3RyYWludHNCdWZmZXIuam9pbignICcpKTtcbiAgICAgICAgcmV0dXJuIGJhc2VVcmwgKyAnP3E9JyArIGJ1ZmZlci5qb2luKCcgJyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZVNlYXJjaChiYXNlVXJsLCBzZWxlY3QsIHNlYXJjaCwgcXVlcnkpIHtcbiAgICAgICAgLy8gYmFzZSBVUkxcbiAgICAgICAgYmFzZVVybCA9IChfLmxhc3QoYmFzZVVybCkgPT09ICcvJyA/IF8uaW5pdGlhbChiYXNlVXJsKS5qb2luKCcnKSA6IGJhc2VVcmwpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtcyA9IFtdO1xuICAgICAgICBpZiAocXVlcnkub2Zmc2V0KSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5wdXNoKCdvZmZzZXQ9JyArIHF1ZXJ5Lm9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHF1ZXJ5LmxpbWl0KSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5wdXNoKCdsaW1pdD0nICsgcXVlcnkubGltaXQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBxdWVyeVN0ciA9IF8uaXNFbXB0eShxdWVyeVBhcmFtcykgPyAnJyA6ICcmJyArIHF1ZXJ5UGFyYW1zLmpvaW4oJyYnKTtcblxuICAgICAgICByZXR1cm4gYCR7YmFzZVVybH0/cT0ke3NlYXJjaH0mYz0ke3NlbGVjdC5qb2luKCcsJyl9JHtxdWVyeVN0cn1gO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL1RyaW5pdHlRdWVyeUJ1aWxkZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBOzs7QUFHQTtBQUNBOzs7Ozs7O0FBQUE7QUFDQTs7Ozs7OztBQUVBOzs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQWpEQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 491:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule FluxStore\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _require = __webpack_require__(173);\n\nvar EventEmitter = _require.EventEmitter;\n\nvar invariant = __webpack_require__(178);\n\n/**\n * This class should be extended by the stores in your application, like so:\n *\n * var FluxStore = require('FluxStore');\n * var MyDispatcher = require('MyDispatcher');\n *\n * var _foo;\n *\n * class MyStore extends FluxStore {\n *\n *   getFoo() {\n *     return _foo;\n *   }\n *\n *   __onDispatch = function(action) {\n *     switch(action.type) {\n *\n *       case 'an-action':\n *         changeState(action.someData);\n *         this.__emitChange();\n *         break;\n *\n *       case 'another-action':\n *         changeStateAnotherWay(action.otherData);\n *         this.__emitChange();\n *         break;\n *\n *       default:\n *         // no op\n *     }\n *   }\n *\n * }\n *\n * module.exports = new MyStore(MyDispatcher);\n */\n\nvar FluxStore = (function () {\n\n  /**\n   * @public\n   * @param {Dispatcher} dispatcher\n   */\n\n  function FluxStore(dispatcher) {\n    var _this = this;\n\n    _classCallCheck(this, FluxStore);\n\n    this.__className = this.constructor.name;\n\n    this.__changed = false;\n    this.__changeEvent = 'change';\n    this.__dispatcher = dispatcher;\n    this.__emitter = new EventEmitter();\n    this._dispatchToken = dispatcher.register(function (payload) {\n      _this.__invokeOnDispatch(payload);\n    });\n  }\n\n  /**\n   * @public\n   * @param {function} callback\n   * @return {object} EmitterSubscription that can be used with\n   *   SubscriptionsHandler or directly used to release the subscription.\n   */\n\n  FluxStore.prototype.addListener = function addListener(callback) {\n    return this.__emitter.addListener(this.__changeEvent, callback);\n  };\n\n  /**\n   * @public\n   * @return {Dispatcher} The dispatcher that this store is registered with.\n   */\n\n  FluxStore.prototype.getDispatcher = function getDispatcher() {\n    return this.__dispatcher;\n  };\n\n  /**\n   * @public\n   * @return {string} A string the dispatcher uses to identify each store's\n   *   registered callback. This is used with the dispatcher's waitFor method\n   *   to declaratively depend on other stores updating themselves first.\n   */\n\n  FluxStore.prototype.getDispatchToken = function getDispatchToken() {\n    return this._dispatchToken;\n  };\n\n  /**\n   * @public\n   * @return {boolean} Whether the store has changed during the most recent\n   *   dispatch.\n   */\n\n  FluxStore.prototype.hasChanged = function hasChanged() {\n    !this.__dispatcher.isDispatching() ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.hasChanged(): Must be invoked while dispatching.', this.__className) : invariant(false) : undefined;\n    return this.__changed;\n  };\n\n  /**\n   * @protected\n   * Emit an event notifying listeners that the state of the store has changed.\n   */\n\n  FluxStore.prototype.__emitChange = function __emitChange() {\n    !this.__dispatcher.isDispatching() ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.__emitChange(): Must be invoked while dispatching.', this.__className) : invariant(false) : undefined;\n    this.__changed = true;\n  };\n\n  /**\n   * This method encapsulates all logic for invoking __onDispatch. It should\n   * be used for things like catching changes and emitting them after the\n   * subclass has handled a payload.\n   *\n   * @protected\n   * @param {object} payload The data dispatched by the dispatcher, describing\n   *   something that has happened in the real world: the user clicked, the\n   *   server responded, time passed, etc.\n   */\n\n  FluxStore.prototype.__invokeOnDispatch = function __invokeOnDispatch(payload) {\n    this.__changed = false;\n    this.__onDispatch(payload);\n    if (this.__changed) {\n      this.__emitter.emit(this.__changeEvent);\n    }\n  };\n\n  /**\n   * The callback that will be registered with the dispatcher during\n   * instantiation. Subclasses must override this method. This callback is the\n   * only way the store receives new data.\n   *\n   * @protected\n   * @override\n   * @param {object} payload The data dispatched by the dispatcher, describing\n   *   something that has happened in the real world: the user clicked, the\n   *   server responded, time passed, etc.\n   */\n\n  FluxStore.prototype.__onDispatch = function __onDispatch(payload) {\n     true ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s has not overridden FluxStore.__onDispatch(), which is required', this.__className) : invariant(false) : undefined;\n  };\n\n  return FluxStore;\n})();\n\nmodule.exports = FluxStore;\n\n// private\n\n// protected, available to subclasses\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(32)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9mbHV4L2xpYi9GbHV4U3RvcmUuanM/NjQwYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEZsdXhTdG9yZVxuICogXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnZmJlbWl0dGVyJyk7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSBfcmVxdWlyZS5FdmVudEVtaXR0ZXI7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHNob3VsZCBiZSBleHRlbmRlZCBieSB0aGUgc3RvcmVzIGluIHlvdXIgYXBwbGljYXRpb24sIGxpa2Ugc286XG4gKlxuICogdmFyIEZsdXhTdG9yZSA9IHJlcXVpcmUoJ0ZsdXhTdG9yZScpO1xuICogdmFyIE15RGlzcGF0Y2hlciA9IHJlcXVpcmUoJ015RGlzcGF0Y2hlcicpO1xuICpcbiAqIHZhciBfZm9vO1xuICpcbiAqIGNsYXNzIE15U3RvcmUgZXh0ZW5kcyBGbHV4U3RvcmUge1xuICpcbiAqICAgZ2V0Rm9vKCkge1xuICogICAgIHJldHVybiBfZm9vO1xuICogICB9XG4gKlxuICogICBfX29uRGlzcGF0Y2ggPSBmdW5jdGlvbihhY3Rpb24pIHtcbiAqICAgICBzd2l0Y2goYWN0aW9uLnR5cGUpIHtcbiAqXG4gKiAgICAgICBjYXNlICdhbi1hY3Rpb24nOlxuICogICAgICAgICBjaGFuZ2VTdGF0ZShhY3Rpb24uc29tZURhdGEpO1xuICogICAgICAgICB0aGlzLl9fZW1pdENoYW5nZSgpO1xuICogICAgICAgICBicmVhaztcbiAqXG4gKiAgICAgICBjYXNlICdhbm90aGVyLWFjdGlvbic6XG4gKiAgICAgICAgIGNoYW5nZVN0YXRlQW5vdGhlcldheShhY3Rpb24ub3RoZXJEYXRhKTtcbiAqICAgICAgICAgdGhpcy5fX2VtaXRDaGFuZ2UoKTtcbiAqICAgICAgICAgYnJlYWs7XG4gKlxuICogICAgICAgZGVmYXVsdDpcbiAqICAgICAgICAgLy8gbm8gb3BcbiAqICAgICB9XG4gKiAgIH1cbiAqXG4gKiB9XG4gKlxuICogbW9kdWxlLmV4cG9ydHMgPSBuZXcgTXlTdG9yZShNeURpc3BhdGNoZXIpO1xuICovXG5cbnZhciBGbHV4U3RvcmUgPSAoZnVuY3Rpb24gKCkge1xuXG4gIC8qKlxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7RGlzcGF0Y2hlcn0gZGlzcGF0Y2hlclxuICAgKi9cblxuICBmdW5jdGlvbiBGbHV4U3RvcmUoZGlzcGF0Y2hlcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmx1eFN0b3JlKTtcblxuICAgIHRoaXMuX19jbGFzc05hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG5cbiAgICB0aGlzLl9fY2hhbmdlZCA9IGZhbHNlO1xuICAgIHRoaXMuX19jaGFuZ2VFdmVudCA9ICdjaGFuZ2UnO1xuICAgIHRoaXMuX19kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICB0aGlzLl9fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICB0aGlzLl9kaXNwYXRjaFRva2VuID0gZGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgX3RoaXMuX19pbnZva2VPbkRpc3BhdGNoKHBheWxvYWQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICogQHJldHVybiB7b2JqZWN0fSBFbWl0dGVyU3Vic2NyaXB0aW9uIHRoYXQgY2FuIGJlIHVzZWQgd2l0aFxuICAgKiAgIFN1YnNjcmlwdGlvbnNIYW5kbGVyIG9yIGRpcmVjdGx5IHVzZWQgdG8gcmVsZWFzZSB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKi9cblxuICBGbHV4U3RvcmUucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5fX2VtaXR0ZXIuYWRkTGlzdGVuZXIodGhpcy5fX2NoYW5nZUV2ZW50LCBjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybiB7RGlzcGF0Y2hlcn0gVGhlIGRpc3BhdGNoZXIgdGhhdCB0aGlzIHN0b3JlIGlzIHJlZ2lzdGVyZWQgd2l0aC5cbiAgICovXG5cbiAgRmx1eFN0b3JlLnByb3RvdHlwZS5nZXREaXNwYXRjaGVyID0gZnVuY3Rpb24gZ2V0RGlzcGF0Y2hlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fX2Rpc3BhdGNoZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybiB7c3RyaW5nfSBBIHN0cmluZyB0aGUgZGlzcGF0Y2hlciB1c2VzIHRvIGlkZW50aWZ5IGVhY2ggc3RvcmUnc1xuICAgKiAgIHJlZ2lzdGVyZWQgY2FsbGJhY2suIFRoaXMgaXMgdXNlZCB3aXRoIHRoZSBkaXNwYXRjaGVyJ3Mgd2FpdEZvciBtZXRob2RcbiAgICogICB0byBkZWNsYXJhdGl2ZWx5IGRlcGVuZCBvbiBvdGhlciBzdG9yZXMgdXBkYXRpbmcgdGhlbXNlbHZlcyBmaXJzdC5cbiAgICovXG5cbiAgRmx1eFN0b3JlLnByb3RvdHlwZS5nZXREaXNwYXRjaFRva2VuID0gZnVuY3Rpb24gZ2V0RGlzcGF0Y2hUb2tlbigpIHtcbiAgICByZXR1cm4gdGhpcy5fZGlzcGF0Y2hUb2tlbjtcbiAgfTtcblxuICAvKipcbiAgICogQHB1YmxpY1xuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBzdG9yZSBoYXMgY2hhbmdlZCBkdXJpbmcgdGhlIG1vc3QgcmVjZW50XG4gICAqICAgZGlzcGF0Y2guXG4gICAqL1xuXG4gIEZsdXhTdG9yZS5wcm90b3R5cGUuaGFzQ2hhbmdlZCA9IGZ1bmN0aW9uIGhhc0NoYW5nZWQoKSB7XG4gICAgIXRoaXMuX19kaXNwYXRjaGVyLmlzRGlzcGF0Y2hpbmcoKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5oYXNDaGFuZ2VkKCk6IE11c3QgYmUgaW52b2tlZCB3aGlsZSBkaXNwYXRjaGluZy4nLCB0aGlzLl9fY2xhc3NOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHRoaXMuX19jaGFuZ2VkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEVtaXQgYW4gZXZlbnQgbm90aWZ5aW5nIGxpc3RlbmVycyB0aGF0IHRoZSBzdGF0ZSBvZiB0aGUgc3RvcmUgaGFzIGNoYW5nZWQuXG4gICAqL1xuXG4gIEZsdXhTdG9yZS5wcm90b3R5cGUuX19lbWl0Q2hhbmdlID0gZnVuY3Rpb24gX19lbWl0Q2hhbmdlKCkge1xuICAgICF0aGlzLl9fZGlzcGF0Y2hlci5pc0Rpc3BhdGNoaW5nKCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMuX19lbWl0Q2hhbmdlKCk6IE11c3QgYmUgaW52b2tlZCB3aGlsZSBkaXNwYXRjaGluZy4nLCB0aGlzLl9fY2xhc3NOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5fX2NoYW5nZWQgPSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBlbmNhcHN1bGF0ZXMgYWxsIGxvZ2ljIGZvciBpbnZva2luZyBfX29uRGlzcGF0Y2guIEl0IHNob3VsZFxuICAgKiBiZSB1c2VkIGZvciB0aGluZ3MgbGlrZSBjYXRjaGluZyBjaGFuZ2VzIGFuZCBlbWl0dGluZyB0aGVtIGFmdGVyIHRoZVxuICAgKiBzdWJjbGFzcyBoYXMgaGFuZGxlZCBhIHBheWxvYWQuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHBhcmFtIHtvYmplY3R9IHBheWxvYWQgVGhlIGRhdGEgZGlzcGF0Y2hlZCBieSB0aGUgZGlzcGF0Y2hlciwgZGVzY3JpYmluZ1xuICAgKiAgIHNvbWV0aGluZyB0aGF0IGhhcyBoYXBwZW5lZCBpbiB0aGUgcmVhbCB3b3JsZDogdGhlIHVzZXIgY2xpY2tlZCwgdGhlXG4gICAqICAgc2VydmVyIHJlc3BvbmRlZCwgdGltZSBwYXNzZWQsIGV0Yy5cbiAgICovXG5cbiAgRmx1eFN0b3JlLnByb3RvdHlwZS5fX2ludm9rZU9uRGlzcGF0Y2ggPSBmdW5jdGlvbiBfX2ludm9rZU9uRGlzcGF0Y2gocGF5bG9hZCkge1xuICAgIHRoaXMuX19jaGFuZ2VkID0gZmFsc2U7XG4gICAgdGhpcy5fX29uRGlzcGF0Y2gocGF5bG9hZCk7XG4gICAgaWYgKHRoaXMuX19jaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9fZW1pdHRlci5lbWl0KHRoaXMuX19jaGFuZ2VFdmVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIHJlZ2lzdGVyZWQgd2l0aCB0aGUgZGlzcGF0Y2hlciBkdXJpbmdcbiAgICogaW5zdGFudGlhdGlvbi4gU3ViY2xhc3NlcyBtdXN0IG92ZXJyaWRlIHRoaXMgbWV0aG9kLiBUaGlzIGNhbGxiYWNrIGlzIHRoZVxuICAgKiBvbmx5IHdheSB0aGUgc3RvcmUgcmVjZWl2ZXMgbmV3IGRhdGEuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQG92ZXJyaWRlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXlsb2FkIFRoZSBkYXRhIGRpc3BhdGNoZWQgYnkgdGhlIGRpc3BhdGNoZXIsIGRlc2NyaWJpbmdcbiAgICogICBzb21ldGhpbmcgdGhhdCBoYXMgaGFwcGVuZWQgaW4gdGhlIHJlYWwgd29ybGQ6IHRoZSB1c2VyIGNsaWNrZWQsIHRoZVxuICAgKiAgIHNlcnZlciByZXNwb25kZWQsIHRpbWUgcGFzc2VkLCBldGMuXG4gICAqL1xuXG4gIEZsdXhTdG9yZS5wcm90b3R5cGUuX19vbkRpc3BhdGNoID0gZnVuY3Rpb24gX19vbkRpc3BhdGNoKHBheWxvYWQpIHtcbiAgICAhZmFsc2UgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMgaGFzIG5vdCBvdmVycmlkZGVuIEZsdXhTdG9yZS5fX29uRGlzcGF0Y2goKSwgd2hpY2ggaXMgcmVxdWlyZWQnLCB0aGlzLl9fY2xhc3NOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgcmV0dXJuIEZsdXhTdG9yZTtcbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gRmx1eFN0b3JlO1xuXG4vLyBwcml2YXRlXG5cbi8vIHByb3RlY3RlZCwgYXZhaWxhYmxlIHRvIHN1YmNsYXNzZXNcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZmx1eC9saWIvRmx1eFN0b3JlLmpzXG4vLyBtb2R1bGUgaWQgPSA0OTFcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 492:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 1/18/16.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _history = __webpack_require__(149);\n\nvar instance = (0, _history.createHistory)();\nexports.default = instance;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR2xvYmFsSGlzdG9yeS5qcz9kZTNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBmaXNhIG9uIDEvMTgvMTYuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtjcmVhdGVIaXN0b3J5fSBmcm9tICdoaXN0b3J5JztcblxuY29uc3QgaW5zdGFuY2UgPSBjcmVhdGVIaXN0b3J5KCk7XG5leHBvcnQgZGVmYXVsdCBpbnN0YW5jZTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9HbG9iYWxIaXN0b3J5LmpzIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0FBR0E7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 493:
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar SET_PAGE = exports.SET_PAGE = 'set-page';\nvar FILTER = exports.FILTER = 'filter';\nvar ORDER_BY = exports.ORDER_BY = 'order-by';\nvar CLEAR_FILTER = exports.CLEAR_FILTER = 'clear-filter';\nvar SEARCH = exports.SEARCH = 'search';\nvar REPEAT_REQUEST = exports.REPEAT_REQUEST = 'repeat-request';//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9HcmlkQWN0aW9ucy5qcz8xMjdlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBsZXQgU0VUX1BBR0UgPSAnc2V0LXBhZ2UnO1xuZXhwb3J0IGxldCBGSUxURVIgPSAnZmlsdGVyJztcbmV4cG9ydCBsZXQgT1JERVJfQlkgPSAnb3JkZXItYnknO1xuZXhwb3J0IGxldCBDTEVBUl9GSUxURVIgPSAnY2xlYXItZmlsdGVyJztcbmV4cG9ydCBsZXQgU0VBUkNIID0gJ3NlYXJjaCc7XG5leHBvcnQgbGV0IFJFUEVBVF9SRVFVRVNUID0gJ3JlcGVhdC1yZXF1ZXN0JztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL0dyaWRBY3Rpb25zLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 494:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _DefaultGrid2 = __webpack_require__(495);\n\nvar _DefaultGrid3 = _interopRequireDefault(_DefaultGrid2);\n\nvar _DetailRow = __webpack_require__(516);\n\nvar _DetailRow2 = _interopRequireDefault(_DetailRow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CommonGrid = function (_DefaultGrid) {\n    _inherits(CommonGrid, _DefaultGrid);\n\n    function CommonGrid() {\n        _classCallCheck(this, CommonGrid);\n\n        return _possibleConstructorReturn(this, (CommonGrid.__proto__ || Object.getPrototypeOf(CommonGrid)).apply(this, arguments));\n    }\n\n    _createClass(CommonGrid, [{\n        key: 'renderRows',\n        value: function renderRows() {\n            var _this2 = this;\n\n            this.useDetail = false;\n            return _lodash2.default.map(this.state.data, function (el, i) {\n                var dataColumns = _lodash2.default.map(_this2.columns, function (col, i) {\n                    var colProps = {\n                        key: i,\n                        style: col.hidden ? { 'display': 'none' } : {},\n                        className: col.className,\n                        dangerouslySetInnerHTML: { __html: el[col.name] }\n                    };\n\n                    return _react2.default.createElement('td', colProps);\n                });\n                return _react2.default.createElement(\n                    'tr',\n                    { key: '' + i + el._id },\n                    dataColumns\n                );\n            });\n        }\n    }]);\n\n    return CommonGrid;\n}(_DefaultGrid3.default);\n\nexports.default = CommonGrid;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9Db21tb25HcmlkLmpzeD80ZTg4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRGVmYXVsdEdyaWQgZnJvbSAnLi9EZWZhdWx0R3JpZC5qc3gnO1xuaW1wb3J0IERldGFpbFJvdyBmcm9tICcuL2NvbXBvbmVudHMvRGV0YWlsUm93LmpzeCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tbW9uR3JpZCBleHRlbmRzIERlZmF1bHRHcmlkIHtcbiAgICByZW5kZXJSb3dzKCl7XG4gICAgICAgIHRoaXMudXNlRGV0YWlsID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfLm1hcCh0aGlzLnN0YXRlLmRhdGEsIChlbCwgaSkgPT4ge1xuICAgICAgICAgICAgbGV0IGRhdGFDb2x1bW5zID0gXy5tYXAodGhpcy5jb2x1bW5zLCAoY29sLCBpKT0+e1xuICAgICAgICAgICAgICAgIGxldCBjb2xQcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBpLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogY29sLmhpZGRlbiA/IHsnZGlzcGxheSc6J25vbmUnfSA6IHt9LFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNvbC5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogZWxbY29sLm5hbWVdIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIDx0ZCB7Li4uY29sUHJvcHN9IC8+O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRyIGtleT17JycgKyBpICsgZWwuX2lkfT5cbiAgICAgICAgICAgICAgICB7ZGF0YUNvbHVtbnN9XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi8uLi92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvQ29tbW9uR3JpZC5qc3giXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7OztBQUVBOzs7Ozs7Ozs7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFJQTtBQUNBOzs7Ozs7QUFwQkEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 495:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = __webpack_require__(496);\n\nvar _GridWrapper = __webpack_require__(498);\n\nvar _GridWrapper2 = _interopRequireDefault(_GridWrapper);\n\nvar _BaseGridContainer = __webpack_require__(512);\n\nvar _BaseGridContainer2 = _interopRequireDefault(_BaseGridContainer);\n\nvar _ErrorView = __webpack_require__(513);\n\nvar _ErrorView2 = _interopRequireDefault(_ErrorView);\n\nvar _EmptyView = __webpack_require__(514);\n\nvar _EmptyView2 = _interopRequireDefault(_EmptyView);\n\nvar _FetchingView = __webpack_require__(515);\n\nvar _FetchingView2 = _interopRequireDefault(_FetchingView);\n\nvar _GridActions = __webpack_require__(493);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DefaultGrid = function (_BaseGrid) {\n    _inherits(DefaultGrid, _BaseGrid);\n\n    function DefaultGrid(props) {\n        _classCallCheck(this, DefaultGrid);\n\n        var _this = _possibleConstructorReturn(this, (DefaultGrid.__proto__ || Object.getPrototypeOf(DefaultGrid)).call(this, props));\n\n        _this.didMountCallbacks = [];\n        _this.useDetail = true;\n        // Filtered columns\n        _this.columns = _lodash2.default.filter(props.columns, function (col) {\n            return !col.hidden && col.select !== false;\n        });\n        // Filter rules\n        _this.filterRules = (0, _utils.prepareFilterColumns)(props.columns);\n        props.components.queryBuilder = props.components.queryBuilder && !_lodash2.default.isEmpty(_this.filterRules);\n        return _this;\n    }\n\n    /**\n     * Switch search mode\n     */\n\n\n    _createClass(DefaultGrid, [{\n        key: 'switchSearchMode',\n        value: function switchSearchMode() {\n            if (this.state.showQueryBuilder) {\n                this.dispatch({ action: _GridActions.CLEAR_FILTER });\n            }\n            this.setState({ showQueryBuilder: !this.state.showQueryBuilder });\n        }\n\n        /**\n         * Handles search event - dispatch search action to store\n         * @param search {string}\n         */\n\n    }, {\n        key: 'handleSearch',\n        value: function handleSearch(search) {\n            this.dispatch({ action: _GridActions.SEARCH, search: search });\n        }\n\n        /**\n         * Handles filter event - dispatch Filter action to store\n         * @param filter {string}\n         */\n\n    }, {\n        key: 'handleQuerySearch',\n        value: function handleQuerySearch(filter) {\n            this.dispatch({ action: _GridActions.FILTER, filter: filter });\n        }\n\n        /**\n         * Handles orderBy action\n         * @param property {object}\n         */\n\n    }, {\n        key: 'handleOrderBy',\n        value: function handleOrderBy(property) {\n            this.dispatch({ action: _GridActions.ORDER_BY, column: property.name });\n        }\n\n        /**\n         * Handle page select\n         * @param page {number}\n         */\n\n    }, {\n        key: 'handlePageSelect',\n        value: function handlePageSelect(page) {\n            this.dispatch({ action: _GridActions.SET_PAGE, page: page.selected });\n        }\n\n        /**\n         * Handle row select\n         * @param id\n         * @param e\n         */\n\n    }, {\n        key: 'handleRowSelect',\n        value: function handleRowSelect(id, e) {\n            //TODO:\n            // e.stopPropagation();\n            if (true) {\n                e.persist();\n                console.log(e);\n                console.log('SELECT EVENT');\n                console.log('ID', id);\n            }\n        }\n    }, {\n        key: 'handleRowClick',\n        value: function handleRowClick(productId, event) {\n            //TODO:\n            if (true) {\n                console.log('EVENT', event);\n                console.log('SHOW PRODUCT DETAIL WITH ID:', productId);\n            }\n\n            if (event.isDefaultPrevented) {\n                return;\n            }\n            if (event.ctrlKey || event.metaKey || event.button === 1) {\n                console.log('NOW IT SHOULD REDIRECT');\n            } else {\n                this.setState({ showDetailId: this.state.showDetailId === productId ? null : productId });\n            }\n        }\n    }, {\n        key: 'repeatRequest',\n        value: function repeatRequest() {\n            this.dispatch({ action: _GridActions.REPEAT_REQUEST });\n        }\n    }, {\n        key: 'handleDetailClose',\n        value: function handleDetailClose() {\n            this.setState({ showDetailId: null });\n        }\n\n        /**\n         * Template method\n         * @returns {Array}\n         */\n\n    }, {\n        key: 'renderRows',\n        value: function renderRows() {\n            return [];\n        }\n\n        /** Render **/\n\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var props = this.props,\n                show = props.components,\n                paginateOptions = props.paginateComponent,\n                tableOptions = props.tableComponent,\n                showSearch = show.search || show.queryBuilder,\n                activeSearchComponent = 'QUERY_BUILDER',\n                gridSearchProps = void 0,\n                errorComponent = void 0,\n                emptyComponent = void 0,\n                columns = this.columns;\n\n            if (showSearch) {\n                if (show.search && show.queryBuilder) {\n                    // if Both, loot at state\n                    activeSearchComponent = this.state.showQueryBuilder ? 'QUERY_BUILDER' : 'QUERY_SEARCH';\n                } else {\n                    // only one\n                    activeSearchComponent = show.search ? 'QUERY_SEARCH' : 'QUERY_BUILDER';\n                }\n\n                gridSearchProps = {\n                    transition: {\n                        className: 'text-center padding-20'\n                    },\n                    initialFilter: props.filter,\n                    initialSearch: props.search,\n                    filterRules: this.filterRules,\n                    queryBuilder: show.queryBuilder,\n                    querySearch: show.search,\n                    activeComponent: activeSearchComponent || 'QUERY_BUILDER',\n                    onClose: this.switchSearchMode.bind(this),\n                    onSearch: function onSearch(search) {\n                        return _this2.handleSearch(search);\n                    },\n                    onQuerySearch: function onQuerySearch(filter) {\n                        return _this2.handleQuerySearch(filter);\n                    }\n                };\n            }\n\n            if (this.state.isError) {\n                errorComponent = _react2.default.createElement(_ErrorView2.default, { reloadCallback: this.repeatRequest.bind(this) });\n            }\n            emptyComponent = this.state.isFetching ? _react2.default.createElement(_FetchingView2.default, null) : _react2.default.createElement(_EmptyView2.default, null);\n\n            // Get it before, because of useDetail override\n            var rows = this.renderRows();\n\n            return _react2.default.createElement(\n                _GridWrapper2.default,\n                _extends({\n                    detail: this.useDetail,\n                    columns: columns,\n                    orderBy: this.state.orderBy,\n                    isEditMode: this.state.isEditMode,\n                    isFetching: this.state.isFetching,\n                    tableOptions: tableOptions\n\n                    /** Pagination **/\n                    , pagination: show.pagination,\n                    paginateOptions: paginateOptions\n                }, this.state.pagination, {\n\n                    /** Search **/\n                    showSearch: showSearch,\n                    searchProperties: gridSearchProps\n\n                    /** content **/\n                    , emptyData: emptyComponent,\n                    error: errorComponent\n\n                    /** Callbacks **/\n                    , onSelectAll: function onSelectAll(e) {\n                        return _this2.handleRowSelect('all', e);\n                    },\n                    onOrderBy: function onOrderBy(prop) {\n                        return _this2.handleOrderBy(prop);\n                    },\n                    onPageSelect: function onPageSelect(page) {\n                        return _this2.handlePageSelect(page);\n                    }\n                }),\n                rows\n            );\n        }\n    }]);\n\n    return DefaultGrid;\n}(_BaseGridContainer2.default);\n\nexports.default = DefaultGrid;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9EZWZhdWx0R3JpZC5qc3g/ZTViYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtwcmVwYXJlRmlsdGVyQ29sdW1uc30gZnJvbSAnLi91dGlscy5qc3gnO1xuaW1wb3J0IEdyaWRXcmFwcGVyIGZyb20gJy4vY29tcG9uZW50cy9HcmlkV3JhcHBlci5qc3gnO1xuaW1wb3J0IEJhc2VHcmlkIGZyb20gJy4vY29tcG9uZW50cy9CYXNlR3JpZENvbnRhaW5lci5qc3gnO1xuaW1wb3J0IEVycm9yVmlldyBmcm9tICcuL0Vycm9yVmlldy5qc3gnO1xuaW1wb3J0IEVtcHR5VmlldyBmcm9tICcuL0VtcHR5Vmlldy5qc3gnO1xuaW1wb3J0IEZldGNoaW5nVmlldyBmcm9tICcuL0ZldGNoaW5nVmlldy5qc3gnO1xuXG5pbXBvcnQge1xuICAgIFNFVF9QQUdFLFxuICAgIEZJTFRFUixcbiAgICBPUkRFUl9CWSxcbiAgICBDTEVBUl9GSUxURVIsXG4gICAgU0VBUkNILFxuICAgIFJFUEVBVF9SRVFVRVNUXG59IGZyb20gJy4vR3JpZEFjdGlvbnMnO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVmYXVsdEdyaWQgZXh0ZW5kcyBCYXNlR3JpZCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuZGlkTW91bnRDYWxsYmFja3MgPSBbXTtcbiAgICAgICAgdGhpcy51c2VEZXRhaWwgPSB0cnVlO1xuICAgICAgICAvLyBGaWx0ZXJlZCBjb2x1bW5zXG4gICAgICAgIHRoaXMuY29sdW1ucyA9IF8uZmlsdGVyKHByb3BzLmNvbHVtbnMsIGNvbCA9PiAhY29sLmhpZGRlbiAmJiBjb2wuc2VsZWN0ICE9PSBmYWxzZSk7XG4gICAgICAgIC8vIEZpbHRlciBydWxlc1xuICAgICAgICB0aGlzLmZpbHRlclJ1bGVzID0gcHJlcGFyZUZpbHRlckNvbHVtbnMocHJvcHMuY29sdW1ucyk7XG4gICAgICAgIHByb3BzLmNvbXBvbmVudHMucXVlcnlCdWlsZGVyID0gcHJvcHMuY29tcG9uZW50cy5xdWVyeUJ1aWxkZXIgJiYgIV8uaXNFbXB0eSh0aGlzLmZpbHRlclJ1bGVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTd2l0Y2ggc2VhcmNoIG1vZGVcbiAgICAgKi9cbiAgICBzd2l0Y2hTZWFyY2hNb2RlKCl7XG4gICAgICAgIGlmKHRoaXMuc3RhdGUuc2hvd1F1ZXJ5QnVpbGRlcil7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHsgYWN0aW9uOiBDTEVBUl9GSUxURVIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dRdWVyeUJ1aWxkZXI6ICF0aGlzLnN0YXRlLnNob3dRdWVyeUJ1aWxkZXIgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBzZWFyY2ggZXZlbnQgLSBkaXNwYXRjaCBzZWFyY2ggYWN0aW9uIHRvIHN0b3JlXG4gICAgICogQHBhcmFtIHNlYXJjaCB7c3RyaW5nfVxuICAgICAqL1xuICAgIGhhbmRsZVNlYXJjaChzZWFyY2gpe1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHsgYWN0aW9uOiBTRUFSQ0gsIHNlYXJjaCB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGZpbHRlciBldmVudCAtIGRpc3BhdGNoIEZpbHRlciBhY3Rpb24gdG8gc3RvcmVcbiAgICAgKiBAcGFyYW0gZmlsdGVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgaGFuZGxlUXVlcnlTZWFyY2goZmlsdGVyKXtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IGFjdGlvbjogRklMVEVSLCBmaWx0ZXIgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBvcmRlckJ5IGFjdGlvblxuICAgICAqIEBwYXJhbSBwcm9wZXJ0eSB7b2JqZWN0fVxuICAgICAqL1xuICAgIGhhbmRsZU9yZGVyQnkocHJvcGVydHkpe1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHsgYWN0aW9uOiBPUkRFUl9CWSwgY29sdW1uOiBwcm9wZXJ0eS5uYW1lIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwYWdlIHNlbGVjdFxuICAgICAqIEBwYXJhbSBwYWdlIHtudW1iZXJ9XG4gICAgICovXG4gICAgaGFuZGxlUGFnZVNlbGVjdChwYWdlKXtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IGFjdGlvbjogU0VUX1BBR0UsIHBhZ2U6IHBhZ2Uuc2VsZWN0ZWQgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHJvdyBzZWxlY3RcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcGFyYW0gZVxuICAgICAqL1xuICAgIGhhbmRsZVJvd1NlbGVjdChpZCwgZSl7XG4gICAgICAgIC8vVE9ETzpcbiAgICAgICAgLy8gZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYoREVWRUxPUE1FTlQpe1xuICAgICAgICAgICAgZS5wZXJzaXN0KCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTRUxFQ1QgRVZFTlQnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJRCcsIGlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVJvd0NsaWNrKHByb2R1Y3RJZCwgZXZlbnQpe1xuICAgICAgICAvL1RPRE86XG4gICAgICAgIGlmKERFVkVMT1BNRU5UKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRVZFTlQnLCBldmVudCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU0hPVyBQUk9EVUNUIERFVEFJTCBXSVRIIElEOicsIHByb2R1Y3RJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZihldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQpe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5idXR0b24gPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOT1cgSVQgU0hPVUxEIFJFRElSRUNUJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd0RldGFpbElkOiB0aGlzLnN0YXRlLnNob3dEZXRhaWxJZCA9PT0gcHJvZHVjdElkID8gbnVsbCA6IHByb2R1Y3RJZCB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlcGVhdFJlcXVlc3QoKXtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IGFjdGlvbjogUkVQRUFUX1JFUVVFU1QgfSk7XG4gICAgfVxuXG5cbiAgICBoYW5kbGVEZXRhaWxDbG9zZSgpe1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd0RldGFpbElkOiBudWxsIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlbXBsYXRlIG1ldGhvZFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICByZW5kZXJSb3dzKCl7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvKiogUmVuZGVyICoqL1xuICAgIHJlbmRlcigpe1xuICAgICAgICBsZXQgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgc2hvdyA9IHByb3BzLmNvbXBvbmVudHMsXG4gICAgICAgICAgICBwYWdpbmF0ZU9wdGlvbnMgPSBwcm9wcy5wYWdpbmF0ZUNvbXBvbmVudCxcbiAgICAgICAgICAgIHRhYmxlT3B0aW9ucyA9IHByb3BzLnRhYmxlQ29tcG9uZW50LFxuICAgICAgICAgICAgc2hvd1NlYXJjaCA9IHNob3cuc2VhcmNoIHx8IHNob3cucXVlcnlCdWlsZGVyLFxuICAgICAgICAgICAgYWN0aXZlU2VhcmNoQ29tcG9uZW50ID0gJ1FVRVJZX0JVSUxERVInLFxuICAgICAgICAgICAgZ3JpZFNlYXJjaFByb3BzLFxuICAgICAgICAgICAgZXJyb3JDb21wb25lbnQsXG4gICAgICAgICAgICBlbXB0eUNvbXBvbmVudCxcbiAgICAgICAgICAgIGNvbHVtbnMgPSB0aGlzLmNvbHVtbnNcbiAgICAgICAgICAgIDtcblxuICAgICAgICBpZihzaG93U2VhcmNoKXtcbiAgICAgICAgICAgIGlmKHNob3cuc2VhcmNoICYmIHNob3cucXVlcnlCdWlsZGVyKXtcbiAgICAgICAgICAgICAgICAvLyBpZiBCb3RoLCBsb290IGF0IHN0YXRlXG4gICAgICAgICAgICAgICAgYWN0aXZlU2VhcmNoQ29tcG9uZW50ID0gdGhpcy5zdGF0ZS5zaG93UXVlcnlCdWlsZGVyID8gJ1FVRVJZX0JVSUxERVInIDogJ1FVRVJZX1NFQVJDSCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgb25lXG4gICAgICAgICAgICAgICAgYWN0aXZlU2VhcmNoQ29tcG9uZW50ID0gc2hvdy5zZWFyY2ggPyAnUVVFUllfU0VBUkNIJyA6ICdRVUVSWV9CVUlMREVSJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3JpZFNlYXJjaFByb3BzID0ge1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAndGV4dC1jZW50ZXIgcGFkZGluZy0yMCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluaXRpYWxGaWx0ZXI6IHByb3BzLmZpbHRlcixcbiAgICAgICAgICAgICAgICBpbml0aWFsU2VhcmNoOiBwcm9wcy5zZWFyY2gsXG4gICAgICAgICAgICAgICAgZmlsdGVyUnVsZXM6IHRoaXMuZmlsdGVyUnVsZXMsXG4gICAgICAgICAgICAgICAgcXVlcnlCdWlsZGVyOiBzaG93LnF1ZXJ5QnVpbGRlcixcbiAgICAgICAgICAgICAgICBxdWVyeVNlYXJjaDogc2hvdy5zZWFyY2gsXG4gICAgICAgICAgICAgICAgYWN0aXZlQ29tcG9uZW50OiBhY3RpdmVTZWFyY2hDb21wb25lbnQgfHwgJ1FVRVJZX0JVSUxERVInLFxuICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuc3dpdGNoU2VhcmNoTW9kZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIG9uU2VhcmNoOiAoc2VhcmNoKSA9PiB0aGlzLmhhbmRsZVNlYXJjaChzZWFyY2gpLFxuICAgICAgICAgICAgICAgIG9uUXVlcnlTZWFyY2g6ICAoZmlsdGVyKSA9PiB0aGlzLmhhbmRsZVF1ZXJ5U2VhcmNoKGZpbHRlciksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cblxuXG4gICAgICAgIGlmKHRoaXMuc3RhdGUuaXNFcnJvcil7XG4gICAgICAgICAgICBlcnJvckNvbXBvbmVudCA9IDxFcnJvclZpZXcgcmVsb2FkQ2FsbGJhY2s9e3RoaXMucmVwZWF0UmVxdWVzdC5iaW5kKHRoaXMpfS8+O1xuICAgICAgICB9XG4gICAgICAgIGVtcHR5Q29tcG9uZW50ID0gdGhpcy5zdGF0ZS5pc0ZldGNoaW5nID8gPEZldGNoaW5nVmlldy8+IDogPEVtcHR5Vmlldy8+O1xuXG4gICAgICAgIC8vIEdldCBpdCBiZWZvcmUsIGJlY2F1c2Ugb2YgdXNlRGV0YWlsIG92ZXJyaWRlXG4gICAgICAgIGxldCByb3dzID0gdGhpcy5yZW5kZXJSb3dzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxHcmlkV3JhcHBlclxuICAgICAgICAgICAgICAgIGRldGFpbD17dGhpcy51c2VEZXRhaWx9XG4gICAgICAgICAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgICAgICAgICBvcmRlckJ5PXt0aGlzLnN0YXRlLm9yZGVyQnl9XG4gICAgICAgICAgICAgICAgaXNFZGl0TW9kZT17dGhpcy5zdGF0ZS5pc0VkaXRNb2RlfVxuICAgICAgICAgICAgICAgIGlzRmV0Y2hpbmc9e3RoaXMuc3RhdGUuaXNGZXRjaGluZ31cbiAgICAgICAgICAgICAgICB0YWJsZU9wdGlvbnM9e3RhYmxlT3B0aW9uc31cblxuICAgICAgICAgICAgICAgIC8qKiBQYWdpbmF0aW9uICoqL1xuICAgICAgICAgICAgICAgIHBhZ2luYXRpb249e3Nob3cucGFnaW5hdGlvbn1cbiAgICAgICAgICAgICAgICBwYWdpbmF0ZU9wdGlvbnM9e3BhZ2luYXRlT3B0aW9uc31cbiAgICAgICAgICAgICAgICB7Li4udGhpcy5zdGF0ZS5wYWdpbmF0aW9ufVxuXG4gICAgICAgICAgICAgICAgLyoqIFNlYXJjaCAqKi9cbiAgICAgICAgICAgICAgICBzaG93U2VhcmNoPXtzaG93U2VhcmNofVxuICAgICAgICAgICAgICAgIHNlYXJjaFByb3BlcnRpZXM9e2dyaWRTZWFyY2hQcm9wc31cblxuICAgICAgICAgICAgICAgIC8qKiBjb250ZW50ICoqL1xuICAgICAgICAgICAgICAgIGVtcHR5RGF0YT17ZW1wdHlDb21wb25lbnR9XG4gICAgICAgICAgICAgICAgZXJyb3I9e2Vycm9yQ29tcG9uZW50fVxuXG4gICAgICAgICAgICAgICAgLyoqIENhbGxiYWNrcyAqKi9cbiAgICAgICAgICAgICAgICBvblNlbGVjdEFsbD17KGUpID0+IHRoaXMuaGFuZGxlUm93U2VsZWN0KCdhbGwnLCBlKX1cbiAgICAgICAgICAgICAgICBvbk9yZGVyQnk9eyhwcm9wKSA9PiB0aGlzLmhhbmRsZU9yZGVyQnkocHJvcCl9XG4gICAgICAgICAgICAgICAgb25QYWdlU2VsZWN0PXsocGFnZSkgPT4gdGhpcy5oYW5kbGVQYWdlU2VsZWN0KHBhZ2UpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtyb3dzfVxuICAgICAgICAgICAgPC9HcmlkV3JhcHBlcj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9EZWZhdWx0R3JpZC5qc3giXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFVQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBU0E7QUFDQTtBQUNBOzs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBWkE7QUFjQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBVkE7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqQkE7QUFtQkE7QUFDQTtBQUNBO0FBckJBO0FBc0JBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUF4QkE7QUEwQkE7QUExQkE7QUE2QkE7Ozs7OztBQXZMQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 496:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.glueRowAndDetail = glueRowAndDetail;\nexports.prepareFilterColumns = prepareFilterColumns;\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _DetailRowContainer = __webpack_require__(497);\n\nvar _DetailRowContainer2 = _interopRequireDefault(_DetailRowContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Add Detail row wrapper to detail and return single 1D array of rows\n * @param rows {array<array<React.Component>>} array of row - detail pairs\n * @param colSpan {number} number of columns\n */\nfunction glueRowAndDetail(rows, colSpan) {\n    return (0, _lodash2.default)(rows).map(function (r) {\n        var row = r[0],\n            detail = r[1],\n            detailKey = (row.key || row.props.data._id) + '_detail';\n\n        return [row, _react2.default.createElement(\n            _DetailRowContainer2.default,\n            {\n                id: detailKey,\n                key: detailKey,\n                colSpan: colSpan,\n                onClose: detail.props.onClose\n            },\n            detail.props.isActive ? detail : null\n        )];\n    }).flatten().value();\n}\n\n// Grid Builder constants\nvar SPECIAL_TYPES = ['enum', 'array'],\n    SPECIAL_TYPES_OPERATORS = {\n    'enum': ['equal', 'not_equal'],\n    'array': ['is']\n};\n\n/**\n * Creates set of rules for GridQueryBuilder\n * @param columns {object}\n * @returns {*}\n */\nfunction prepareFilterColumns(columns) {\n    return (0, _lodash2.default)(columns).filter(function (col) {\n        return !!(col.name === 'id' || col.allowFilter || col.type);\n    }).map(function (col) {\n        col.id = col.name;\n        if (col.id === 'id') {\n            col.type = 'integer';\n        } else {\n            col.type = col.type || 'string';\n            // Exception\n            if (~SPECIAL_TYPES.indexOf(col.type)) {\n                col.operators = SPECIAL_TYPES_OPERATORS[col.type];\n            }\n        }\n        return col;\n    }).value();\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC91dGlscy5qc3g/YTNkYiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERldGFpbFJvd0NvbnRhaW5lciBmcm9tICcuL2NvbXBvbmVudHMvRGV0YWlsUm93Q29udGFpbmVyLmpzeCc7XG5cblxuLyoqXG4gKiBBZGQgRGV0YWlsIHJvdyB3cmFwcGVyIHRvIGRldGFpbCBhbmQgcmV0dXJuIHNpbmdsZSAxRCBhcnJheSBvZiByb3dzXG4gKiBAcGFyYW0gcm93cyB7YXJyYXk8YXJyYXk8UmVhY3QuQ29tcG9uZW50Pj59IGFycmF5IG9mIHJvdyAtIGRldGFpbCBwYWlyc1xuICogQHBhcmFtIGNvbFNwYW4ge251bWJlcn0gbnVtYmVyIG9mIGNvbHVtbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdsdWVSb3dBbmREZXRhaWwocm93cywgY29sU3Bhbil7XG4gICAgcmV0dXJuIF8ocm93cykubWFwKHIgPT4ge1xuICAgICAgICBsZXQgcm93ID0gclswXSxcbiAgICAgICAgICAgIGRldGFpbCA9IHJbMV0sXG4gICAgICAgICAgICBkZXRhaWxLZXkgPSAocm93LmtleSB8fCByb3cucHJvcHMuZGF0YS5faWQpICsgJ19kZXRhaWwnO1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICByb3csXG4gICAgICAgICAgICA8RGV0YWlsUm93Q29udGFpbmVyXG4gICAgICAgICAgICAgICAgaWQ9e2RldGFpbEtleX1cbiAgICAgICAgICAgICAgICBrZXk9e2RldGFpbEtleX1cbiAgICAgICAgICAgICAgICBjb2xTcGFuPXtjb2xTcGFufVxuICAgICAgICAgICAgICAgIG9uQ2xvc2U9e2RldGFpbC5wcm9wcy5vbkNsb3NlfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHsgZGV0YWlsLnByb3BzLmlzQWN0aXZlID8gZGV0YWlsIDogbnVsbCB9XG4gICAgICAgICAgICA8L0RldGFpbFJvd0NvbnRhaW5lcj5cbiAgICAgICAgXTtcbiAgICB9KS5mbGF0dGVuKCkudmFsdWUoKTtcbn1cblxuLy8gR3JpZCBCdWlsZGVyIGNvbnN0YW50c1xuY29uc3QgU1BFQ0lBTF9UWVBFUyA9IFsnZW51bScsICdhcnJheSddLFxuICAgIFNQRUNJQUxfVFlQRVNfT1BFUkFUT1JTID0ge1xuICAgICAgICAnZW51bSc6IFsnZXF1YWwnLCAnbm90X2VxdWFsJ10sXG4gICAgICAgICdhcnJheSc6IFsnaXMnXVxuICAgIH07XG5cbi8qKlxuICogQ3JlYXRlcyBzZXQgb2YgcnVsZXMgZm9yIEdyaWRRdWVyeUJ1aWxkZXJcbiAqIEBwYXJhbSBjb2x1bW5zIHtvYmplY3R9XG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVGaWx0ZXJDb2x1bW5zKGNvbHVtbnMpIHtcbiAgICByZXR1cm4gXyhjb2x1bW5zKVxuICAgICAgICAuZmlsdGVyKGNvbCA9PiAhIShjb2wubmFtZSA9PT0gJ2lkJyB8fCBjb2wuYWxsb3dGaWx0ZXIgfHwgY29sLnR5cGUpKVxuICAgICAgICAubWFwKChjb2wpPT4ge1xuICAgICAgICAgICAgY29sLmlkID0gY29sLm5hbWU7XG4gICAgICAgICAgICBpZiAoY29sLmlkID09PSAnaWQnKSB7XG4gICAgICAgICAgICAgICAgY29sLnR5cGUgPSAnaW50ZWdlcic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbC50eXBlID0gY29sLnR5cGUgfHwgJ3N0cmluZyc7XG4gICAgICAgICAgICAgICAgLy8gRXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgaWYgKH5TUEVDSUFMX1RZUEVTLmluZGV4T2YoY29sLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbC5vcGVyYXRvcnMgPSBTUEVDSUFMX1RZUEVTX09QRVJBVE9SU1tjb2wudHlwZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbDtcbiAgICAgICAgfSkudmFsdWUoKTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL3V0aWxzLmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7OztBQVdBO0FBZ0NBO0FBQ0E7QUEzQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFOQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 497:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddonsCssTransitionGroup = __webpack_require__(355);\n\nvar _reactAddonsCssTransitionGroup2 = _interopRequireDefault(_reactAddonsCssTransitionGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DetailRowContainer = function DetailRowContainer(_ref) {\n    var id = _ref.id,\n        isActive = _ref.isActive,\n        colSpan = _ref.colSpan,\n        transition = _ref.transition,\n        buttons = _ref.buttons,\n        children = _ref.children;\n\n    isActive = isActive || !!children;\n    var transitionProps = _lodash2.default.extend({\n        transitionName: 'detail',\n        transitionEnterTimeout: 500,\n        transitionLeaveTimeout: 500\n    }, transition);\n    return _react2.default.createElement(\n        'tr',\n        { className: 'tjs-grid-detail-row' + (isActive ? ' active' : '') },\n        _react2.default.createElement(\n            'td',\n            { colSpan: colSpan },\n            _react2.default.createElement(\n                _reactAddonsCssTransitionGroup2.default,\n                transitionProps,\n                isActive ? _react2.default.createElement(\n                    'div',\n                    { className: 'tjs-grid-detail', key: id || '1', style: { overflow: 'hidden' } },\n                    children\n                ) : null\n            ),\n            _react2.default.createElement(\n                'div',\n                { className: 'tjs-grid-detail-buttons' },\n                buttons\n            )\n        )\n    );\n};\n\nif (true) {\n    DetailRowContainer.propTypes = {\n        id: _react2.default.PropTypes.string,\n        isActive: _react2.default.PropTypes.bool,\n        colSpan: _react2.default.PropTypes.number\n    };\n}\n\nexports.default = DetailRowContainer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL0RldGFpbFJvd0NvbnRhaW5lci5qc3g/YWIwOSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENTU1RyYW5zaXRpb25Hcm91cCBmcm9tICdyZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAnO1xuXG5jb25zdCBEZXRhaWxSb3dDb250YWluZXIgPSAoe1xuICAgIGlkLFxuICAgIGlzQWN0aXZlLFxuICAgIGNvbFNwYW4sXG4gICAgdHJhbnNpdGlvbixcbiAgICBidXR0b25zLFxuICAgIGNoaWxkcmVuXG59KSA9PiB7XG4gICAgaXNBY3RpdmUgPSBpc0FjdGl2ZSB8fCAhIWNoaWxkcmVuO1xuICAgIGxldCB0cmFuc2l0aW9uUHJvcHMgPSBfLmV4dGVuZCh7XG4gICAgICAgIHRyYW5zaXRpb25OYW1lOiAnZGV0YWlsJyxcbiAgICAgICAgdHJhbnNpdGlvbkVudGVyVGltZW91dDogNTAwLFxuICAgICAgICB0cmFuc2l0aW9uTGVhdmVUaW1lb3V0OiA1MDBcbiAgICB9LCB0cmFuc2l0aW9uKTtcbiAgICByZXR1cm4gKFxuICAgICAgICA8dHIgY2xhc3NOYW1lPXsndGpzLWdyaWQtZGV0YWlsLXJvdycgKyAoaXNBY3RpdmUgPyAnIGFjdGl2ZScgOiAnJyl9PlxuICAgICAgICAgICAgPHRkIGNvbFNwYW49e2NvbFNwYW59PlxuXG4gICAgICAgICAgICAgICAgey8qIGFycm93IHRoYXQgYml0ZXMgaW50byBhbm90aGVyIHJvdyAgKi99XG4gICAgICAgICAgICAgICAgey8qPGRpdiBjbGFzc05hbWU9XCJncmlkLWRldGFpbC1hcnJvdy11cFwiPjxpIC8+PC9kaXY+Ki99XG5cbiAgICAgICAgICAgICAgICB7LyogRGF0YSBmaWVsZCAqL31cbiAgICAgICAgICAgICAgICA8Q1NTVHJhbnNpdGlvbkdyb3VwIHsuLi50cmFuc2l0aW9uUHJvcHN9PlxuICAgICAgICAgICAgICAgICAgICB7IGlzQWN0aXZlID9cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGpzLWdyaWQtZGV0YWlsXCIga2V5PXtpZCB8fCAnMSd9IHN0eWxlPXt7b3ZlcmZsb3c6ICdoaWRkZW4nfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+IDogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgPC9DU1NUcmFuc2l0aW9uR3JvdXA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0anMtZ3JpZC1kZXRhaWwtYnV0dG9uc1wiPlxuICAgICAgICAgICAgICAgICAgICB7LypUT0RPOiBSZXdyaXRlIHRvIGJlIGN1c3RvbSovfVxuICAgICAgICAgICAgICAgICAgICB7YnV0dG9uc31cbiAgICAgICAgICAgICAgICAgICAgey8qPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b24tc21hbGxcIj5DbGljayBNZTwvYnV0dG9uPiovfVxuICAgICAgICAgICAgICAgICAgICB7Lyo8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvbi1zbWFsbFwiPkNsaWNrIE1lMjwvYnV0dG9uPiovfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICApO1xufTtcblxuaWYoREVWRUxPUE1FTlQpe1xuICAgIERldGFpbFJvd0NvbnRhaW5lci5wcm9wVHlwZXMgPSB7XG4gICAgICAgIGlkOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBpc0FjdGl2ZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIGNvbFNwYW46IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgIERldGFpbFJvd0NvbnRhaW5lcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL2NvbXBvbmVudHMvRGV0YWlsUm93Q29udGFpbmVyLmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBO0FBT0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBRkE7QUFPQTtBQUFBO0FBQUE7QUFFQTtBQUZBO0FBYkE7QUFEQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 498:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _HeaderNew = __webpack_require__(499);\n\nvar _HeaderNew2 = _interopRequireDefault(_HeaderNew);\n\nvar _GridBody = __webpack_require__(500);\n\nvar _GridBody2 = _interopRequireDefault(_GridBody);\n\nvar _GridSearch = __webpack_require__(502);\n\nvar _GridSearch2 = _interopRequireDefault(_GridSearch);\n\nvar _reactPaginate = __webpack_require__(371);\n\nvar _reactPaginate2 = _interopRequireDefault(_reactPaginate);\n\nvar _utils = __webpack_require__(496);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GridWrapper = function GridWrapper(_ref) {\n    var detail = _ref.detail,\n        isEditMode = _ref.isEditMode,\n        isFetching = _ref.isFetching,\n        orderBy = _ref.orderBy,\n        columns = _ref.columns,\n        tableOptions = _ref.tableOptions,\n        pagination = _ref.pagination,\n        page = _ref.page,\n        maxPages = _ref.maxPages,\n        paginateOptions = _ref.paginateOptions,\n        showSearch = _ref.showSearch,\n        searchProperties = _ref.searchProperties,\n        emptyData = _ref.emptyData,\n        error = _ref.error,\n        onSelectAll = _ref.onSelectAll,\n        onOrderBy = _ref.onOrderBy,\n        onPageSelect = _ref.onPageSelect,\n        children = _ref.children;\n\n    var colSpan = columns.length,\n        isEmpty = !!children && maxPages === 0,\n        SHOW_PAGINATION = pagination && maxPages > 1;\n\n    if (isEditMode) {\n        colSpan += 1;\n    }\n\n    return _react2.default.createElement(\n        'div',\n        { className: 'wrapper-grid' },\n        showSearch && _react2.default.createElement(_GridSearch2.default, searchProperties),\n        _react2.default.createElement(\n            'table',\n            { className: 'grid' },\n            _react2.default.createElement(_HeaderNew2.default, _extends({\n                columns: columns,\n                isEmpty: isEmpty,\n                isEditMode: isEditMode,\n                orderBy: orderBy,\n                orderByCallback: onOrderBy,\n                onSelect: onSelectAll\n            }, tableOptions)),\n            _react2.default.createElement(\n                _GridBody2.default,\n                {\n                    colSpan: colSpan,\n                    error: error,\n                    emptyData: emptyData,\n                    isFetching: isFetching\n                },\n                detail ? (0, _utils.glueRowAndDetail)(children, colSpan) : children\n            )\n        ),\n        SHOW_PAGINATION && _react2.default.createElement(\n            'div',\n            { className: 'pagination-wrapper' },\n            _react2.default.createElement(_reactPaginate2.default, _extends({\n                clickCallback: onPageSelect,\n                initialSelected: page,\n                forceSelected: page,\n                pageNum: maxPages\n            }, paginateOptions))\n        )\n    );\n};\n\n/**\n * Default Properties\n */\nGridWrapper.defaultProps = {\n    detail: true,\n    isEditMode: false,\n    page: 0,\n    maxPages: 1\n};\n\n/**\n * Property types\n */\nif (true) {\n    GridWrapper.propTypes = {\n        emptyData: _react2.default.PropTypes.element,\n        error: _react2.default.PropTypes.element,\n        detail: _react2.default.PropTypes.bool,\n        isEditMode: _react2.default.PropTypes.bool,\n        orderBy: _react2.default.PropTypes.shape({\n            column: _react2.default.PropTypes.string,\n            order: _react2.default.PropTypes.string\n        }),\n        columns: _react2.default.PropTypes.array,\n        tableOptions: _react2.default.PropTypes.shape({\n            orderByClassName: _react2.default.PropTypes.string,\n            ascClassName: _react2.default.PropTypes.string,\n            descClassName: _react2.default.PropTypes.string\n        }),\n\n        /** Pagination **/\n        pagination: _react2.default.PropTypes.bool,\n        page: _react2.default.PropTypes.number,\n        maxPages: _react2.default.PropTypes.number,\n        paginateOptions: _react2.default.PropTypes.shape({\n            marginPagesDisplayed: _react2.default.PropTypes.number,\n            pageRangeDisplayed: _react2.default.PropTypes.number,\n            containerClassName: _react2.default.PropTypes.string,\n            subContainerClassName: _react2.default.PropTypes.string,\n            activeClassName: _react2.default.PropTypes.string,\n            nextLinkClassName: _react2.default.PropTypes.string,\n            previousLinkClassName: _react2.default.PropTypes.string,\n            breakLabel: _react2.default.PropTypes.element,\n            previousLabel: _react2.default.PropTypes.element,\n            nextLabel: _react2.default.PropTypes.element\n        }),\n\n        /** search **/\n        showSearch: _react2.default.PropTypes.bool,\n        searchProperties: _react2.default.PropTypes.shape({\n            transition: _react2.default.PropTypes.object,\n            initialFilter: _react2.default.PropTypes.string,\n            initialSearch: _react2.default.PropTypes.string,\n            filterRules: _react2.default.PropTypes.array,\n            queryBuilder: _react2.default.PropTypes.bool,\n            querySearch: _react2.default.PropTypes.bool,\n            activeComponent: _react2.default.PropTypes.string,\n            onClose: _react2.default.PropTypes.func,\n            onSearch: _react2.default.PropTypes.func,\n            onQuerySearch: _react2.default.PropTypes.func\n        }),\n\n        /** Callbacks **/\n        onOrderBy: _react2.default.PropTypes.func,\n        onPageSelect: _react2.default.PropTypes.func\n    };\n}\n\nexports.default = GridWrapper;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL0dyaWRXcmFwcGVyLmpzeD9kZWViIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9IZWFkZXJOZXcuanN4JztcbmltcG9ydCBHcmlkQm9keSBmcm9tICcuL0dyaWRCb2R5LmpzeCc7XG5pbXBvcnQgR3JpZFNlYXJjaCBmcm9tICcuLi9jb21wb25lbnRzL3NlYXJjaC9HcmlkU2VhcmNoLmpzeCc7XG5pbXBvcnQgUGFnaW5hdGVDb21wb25lbnQgZnJvbSAncmVhY3QtcGFnaW5hdGUnO1xuaW1wb3J0IHtnbHVlUm93QW5kRGV0YWlsfSBmcm9tICcuLi91dGlscy5qc3gnO1xuXG5jb25zdCBHcmlkV3JhcHBlciA9ICh7XG4gICAgZGV0YWlsLFxuICAgIGlzRWRpdE1vZGUsXG4gICAgaXNGZXRjaGluZyxcblxuICAgIG9yZGVyQnksXG4gICAgY29sdW1ucyxcbiAgICB0YWJsZU9wdGlvbnMsXG5cbiAgICBwYWdpbmF0aW9uLFxuICAgIHBhZ2UsXG4gICAgbWF4UGFnZXMsXG4gICAgcGFnaW5hdGVPcHRpb25zLFxuXG4gICAgLyoqIHNlYXJjaCAqKi9cbiAgICBzaG93U2VhcmNoLFxuICAgIHNlYXJjaFByb3BlcnRpZXMsXG5cbiAgICAvKiogY29udGVudCAqKi9cbiAgICBlbXB0eURhdGEsXG4gICAgZXJyb3IsXG5cbiAgICAvKiogQ2FsbGJhY2tzICoqL1xuICAgIG9uU2VsZWN0QWxsLFxuICAgIG9uT3JkZXJCeSxcbiAgICBvblBhZ2VTZWxlY3QsXG5cbiAgICAvKiogQ2hpbGRyZW4gKiovXG4gICAgY2hpbGRyZW5cbn0pID0+IHtcbiAgICBsZXQgY29sU3BhbiA9IGNvbHVtbnMubGVuZ3RoLFxuICAgICAgICBpc0VtcHR5ID0gISFjaGlsZHJlbiAmJiBtYXhQYWdlcyA9PT0gMCxcbiAgICAgICAgU0hPV19QQUdJTkFUSU9OID0gcGFnaW5hdGlvbiAmJiBtYXhQYWdlcyA+IDFcbiAgICAgICAgO1xuXG4gICAgaWYoaXNFZGl0TW9kZSl7XG4gICAgICAgIGNvbFNwYW4gKz0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndyYXBwZXItZ3JpZFwiPlxuICAgICAgICAgICAge3Nob3dTZWFyY2ggJiYgPEdyaWRTZWFyY2ggey4uLnNlYXJjaFByb3BlcnRpZXN9IC8+fVxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cImdyaWRcIj5cbiAgICAgICAgICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XG4gICAgICAgICAgICAgICAgICAgIGlzRW1wdHk9e2lzRW1wdHl9XG4gICAgICAgICAgICAgICAgICAgIGlzRWRpdE1vZGU9e2lzRWRpdE1vZGV9XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyQnk9e29yZGVyQnl9XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyQnlDYWxsYmFjaz17b25PcmRlckJ5fVxuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdD17b25TZWxlY3RBbGx9XG4gICAgICAgICAgICAgICAgICAgIHsuLi50YWJsZU9wdGlvbnN9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8R3JpZEJvZHlcbiAgICAgICAgICAgICAgICAgICAgY29sU3Bhbj17Y29sU3Bhbn1cbiAgICAgICAgICAgICAgICAgICAgZXJyb3I9e2Vycm9yfVxuICAgICAgICAgICAgICAgICAgICBlbXB0eURhdGE9e2VtcHR5RGF0YX1cbiAgICAgICAgICAgICAgICAgICAgaXNGZXRjaGluZz17aXNGZXRjaGluZ31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtkZXRhaWwgPyBnbHVlUm93QW5kRGV0YWlsKGNoaWxkcmVuLCBjb2xTcGFuKSA6IGNoaWxkcmVufVxuICAgICAgICAgICAgICAgIDwvR3JpZEJvZHk+XG4gICAgICAgICAgICA8L3RhYmxlPlxuXG4gICAgICAgICAgICB7IFNIT1dfUEFHSU5BVElPTiAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdpbmF0aW9uLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFBhZ2luYXRlQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlja0NhbGxiYWNrPXtvblBhZ2VTZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsU2VsZWN0ZWQ9e3BhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZVNlbGVjdGVkPXtwYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZU51bT17bWF4UGFnZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Li4ucGFnaW5hdGVPcHRpb25zfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbi8qKlxuICogRGVmYXVsdCBQcm9wZXJ0aWVzXG4gKi9cbkdyaWRXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkZXRhaWw6IHRydWUsXG4gICAgaXNFZGl0TW9kZTogZmFsc2UsXG4gICAgcGFnZTogMCxcbiAgICBtYXhQYWdlczogMVxufTtcblxuLyoqXG4gKiBQcm9wZXJ0eSB0eXBlc1xuICovXG5pZiAoREVWRUxPUE1FTlQpIHtcbiAgICBHcmlkV3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgICAgIGVtcHR5RGF0YTogUmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgICAgIGVycm9yOiBSZWFjdC5Qcm9wVHlwZXMuZWxlbWVudCxcbiAgICAgICAgZGV0YWlsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICAgICAgaXNFZGl0TW9kZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIG9yZGVyQnk6IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICBjb2x1bW46IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBvcmRlcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuICAgICAgICB9KSxcbiAgICAgICAgY29sdW1uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgICAgICB0YWJsZU9wdGlvbnM6IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICBvcmRlckJ5Q2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgYXNjQ2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgZGVzY0NsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuICAgICAgICB9KSxcblxuICAgICAgICAvKiogUGFnaW5hdGlvbiAqKi9cbiAgICAgICAgcGFnaW5hdGlvbjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIHBhZ2U6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIG1heFBhZ2VzOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICAgICAgICBwYWdpbmF0ZU9wdGlvbnM6IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICBtYXJnaW5QYWdlc0Rpc3BsYXllZDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgICAgICAgICAgIHBhZ2VSYW5nZURpc3BsYXllZDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgICAgICAgICAgIGNvbnRhaW5lckNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIHN1YkNvbnRhaW5lckNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIG5leHRMaW5rQ2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgcHJldmlvdXNMaW5rQ2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgYnJlYWtMYWJlbDogUmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgICAgICAgICBwcmV2aW91c0xhYmVsOiBSZWFjdC5Qcm9wVHlwZXMuZWxlbWVudCxcbiAgICAgICAgICAgIG5leHRMYWJlbDogUmVhY3QuUHJvcFR5cGVzLmVsZW1lbnRcbiAgICAgICAgfSksXG5cbiAgICAgICAgLyoqIHNlYXJjaCAqKi9cbiAgICAgICAgc2hvd1NlYXJjaDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIHNlYXJjaFByb3BlcnRpZXM6IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgICAgICAgICAgaW5pdGlhbEZpbHRlcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIGluaXRpYWxTZWFyY2g6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBmaWx0ZXJSdWxlczogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgICAgICAgICAgcXVlcnlCdWlsZGVyOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICAgICAgICAgIHF1ZXJ5U2VhcmNoOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICAgICAgICAgIGFjdGl2ZUNvbXBvbmVudDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIG9uQ2xvc2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgICAgICAgICAgb25TZWFyY2g6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgICAgICAgICAgb25RdWVyeVNlYXJjaDogUmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgICAgICAgfSksXG5cbiAgICAgICAgLyoqIENhbGxiYWNrcyAqKi9cbiAgICAgICAgb25PcmRlckJ5OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgb25QYWdlU2VsZWN0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuY1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRXcmFwcGVyO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL2NvbXBvbmVudHMvR3JpZFdyYXBwZXIuanN4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUE2QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBU0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBTkE7QUFWQTtBQW9CQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFEQTtBQXZCQTtBQW1DQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBbERBO0FBb0RBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 499:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Table Header component\n */\nvar Header = function Header(_ref) {\n    var orderBy = _ref.orderBy,\n        columns = _ref.columns,\n        isEmpty = _ref.isEmpty,\n        isEditMode = _ref.isEditMode,\n        orderByClassName = _ref.orderByClassName,\n        ascClassName = _ref.ascClassName,\n        descClassName = _ref.descClassName,\n        orderByCallback = _ref.orderByCallback,\n        onSelect = _ref.onSelect,\n        children = _ref.children;\n\n    var column = orderBy && orderBy.column,\n        order = orderBy && (orderBy.order || 'ASC');\n\n    // Header Columns\n    var headerColumns = _lodash2.default.map(columns, function (col, i) {\n        var className = col.headerClassName;\n\n        // If no data to show -> dont show any order-by sign\n        var useOrderBy = col.allowOrder && !isEmpty;\n\n        if (useOrderBy) {\n            className += ' ' + orderByClassName;\n            if (column && col.name === column) {\n                className += ' ' + (order === 'ASC' ? ascClassName : descClassName);\n            }\n        }\n        var attributes = {\n            key: i,\n            style: col.hidden ? { 'display': 'none' } : undefined,\n            onClick: useOrderBy && orderByCallback.bind(null, col),\n            className: className\n        };\n\n        return _react2.default.createElement(\n            'th',\n            attributes,\n            col.label\n        );\n    });\n\n    return _react2.default.createElement(\n        'thead',\n        null,\n        _react2.default.createElement(\n            'tr',\n            null,\n            isEditMode ? _react2.default.createElement(\n                'td',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'text-center' },\n                    _react2.default.createElement('input', { onClick: onSelect, id: 'select-all', className: 'edit-input display-none', type: 'checkbox' }),\n                    _react2.default.createElement(\n                        'label',\n                        { htmlFor: 'select-all' },\n                        _react2.default.createElement('span', null)\n                    )\n                )\n            ) : false,\n            headerColumns,\n            children\n        )\n    );\n};\n\n/**\n * Default Properties\n */\nHeader.defaultProps = {\n    isEmpty: false,\n    isEditMode: false,\n    orderByCLassName: 'tjs-order-by',\n    ascClassName: 'tjs-asc',\n    descClassName: 'tjs-desc'\n};\n\n/**\n * Property types\n */\nif (true) {\n    Header.propTypes = {\n        isEmpty: _react2.default.PropTypes.bool,\n        isEditMode: _react2.default.PropTypes.bool,\n        orderBy: _react2.default.PropTypes.object,\n        columns: _react2.default.PropTypes.array,\n        orderByCallback: _react2.default.PropTypes.func,\n\n        /** ClassNames **/\n        orderByCLassName: _react2.default.PropTypes.string,\n        ascClassName: _react2.default.PropTypes.string,\n        descClassName: _react2.default.PropTypes.string\n    };\n}\n\nexports.default = Header;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL0hlYWRlck5ldy5qc3g/OGRmZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5cbi8qKlxuICogVGFibGUgSGVhZGVyIGNvbXBvbmVudFxuICovXG5jb25zdCBIZWFkZXIgPSAoe1xuICAgIG9yZGVyQnksXG4gICAgY29sdW1ucyxcbiAgICBpc0VtcHR5LFxuICAgIGlzRWRpdE1vZGUsXG5cbiAgICAvKiogT1JERVItQlkgc3R5bGVzICoqL1xuICAgIG9yZGVyQnlDbGFzc05hbWUsXG4gICAgYXNjQ2xhc3NOYW1lLFxuICAgIGRlc2NDbGFzc05hbWUsXG5cbiAgICAvKiogQ2FsbGJhY2tzICoqL1xuICAgIG9yZGVyQnlDYWxsYmFjayxcbiAgICBvblNlbGVjdCxcblxuICAgIC8qKiBDaGlsZHJlbiAqKi9cbiAgICBjaGlsZHJlblxufSkgPT4ge1xuICAgIGxldCBjb2x1bW4gPSBvcmRlckJ5ICYmIG9yZGVyQnkuY29sdW1uLFxuICAgICAgICBvcmRlciA9IG9yZGVyQnkgJiYgKG9yZGVyQnkub3JkZXIgfHwgJ0FTQycpXG4gICAgO1xuXG4gICAgLy8gSGVhZGVyIENvbHVtbnNcbiAgICBsZXQgaGVhZGVyQ29sdW1ucyA9IF8ubWFwKGNvbHVtbnMsIChjb2wsIGkpPT57XG4gICAgICAgIGxldCBjbGFzc05hbWUgPSBjb2wuaGVhZGVyQ2xhc3NOYW1lO1xuXG4gICAgICAgIC8vIElmIG5vIGRhdGEgdG8gc2hvdyAtPiBkb250IHNob3cgYW55IG9yZGVyLWJ5IHNpZ25cbiAgICAgICAgbGV0IHVzZU9yZGVyQnkgPSBjb2wuYWxsb3dPcmRlciAmJiAhaXNFbXB0eTtcbiAgICAgICAgXG4gICAgICAgIGlmKHVzZU9yZGVyQnkpe1xuICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgJyArIG9yZGVyQnlDbGFzc05hbWU7XG4gICAgICAgICAgICBpZihjb2x1bW4gJiYgY29sLm5hbWUgPT09IGNvbHVtbiApe1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnICcgKyAob3JkZXIgPT09ICdBU0MnID8gYXNjQ2xhc3NOYW1lIDogZGVzY0NsYXNzTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBrZXk6IGksXG4gICAgICAgICAgICBzdHlsZTogY29sLmhpZGRlbiA/IHsnZGlzcGxheSc6J25vbmUnfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uQ2xpY2s6IHVzZU9yZGVyQnkgJiYgb3JkZXJCeUNhbGxiYWNrLmJpbmQobnVsbCwgY29sKSxcbiAgICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiA8dGggey4uLmF0dHJpYnV0ZXN9Pntjb2wubGFiZWx9PC90aD47XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAge2lzRWRpdE1vZGUgPyAoXG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIiA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qVE9ETzogbXVsdGlwbGUgdGFibGVzIC0gbmVlZHMgdW5pcXVlIGlkKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IG9uQ2xpY2s9e29uU2VsZWN0fSBpZD0nc2VsZWN0LWFsbCcgY2xhc3NOYW1lPVwiZWRpdC1pbnB1dCBkaXNwbGF5LW5vbmVcIiB0eXBlPVwiY2hlY2tib3hcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPSdzZWxlY3QtYWxsJyA+PHNwYW4+PC9zcGFuPjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD4gKSA6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHtoZWFkZXJDb2x1bW5zfVxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGhlYWQ+XG4gICAgKTtcbn07XG5cbi8qKlxuICogRGVmYXVsdCBQcm9wZXJ0aWVzXG4gKi9cbkhlYWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaXNFbXB0eTogZmFsc2UsXG4gICAgaXNFZGl0TW9kZTogZmFsc2UsXG4gICAgb3JkZXJCeUNMYXNzTmFtZTogJ3Rqcy1vcmRlci1ieScsXG4gICAgYXNjQ2xhc3NOYW1lOiAndGpzLWFzYycsXG4gICAgZGVzY0NsYXNzTmFtZTogJ3Rqcy1kZXNjJ1xufTtcblxuLyoqXG4gKiBQcm9wZXJ0eSB0eXBlc1xuICovXG5pZihERVZFTE9QTUVOVCl7XG4gICAgSGVhZGVyLnByb3BUeXBlcyA9IHtcbiAgICAgICAgaXNFbXB0eTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIGlzRWRpdE1vZGU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgICAgICBvcmRlckJ5OiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgICAgICBjb2x1bW5zOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgICAgIG9yZGVyQnlDYWxsYmFjazogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqIENsYXNzTmFtZXMgKiovXG4gICAgICAgIG9yZGVyQnlDTGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGFzY0NsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgZGVzY0NsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL2NvbXBvbmVudHMvSGVhZGVyTmV3LmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUVBOzs7QUFHQTtBQWlCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSEE7QUFEQTtBQVFBO0FBQ0E7QUFYQTtBQURBO0FBZ0JBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFDQTtBQU9BOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 500:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddonsCssTransitionGroup = __webpack_require__(355);\n\nvar _reactAddonsCssTransitionGroup2 = _interopRequireDefault(_reactAddonsCssTransitionGroup);\n\nvar _CustomRowContainer = __webpack_require__(501);\n\nvar _CustomRowContainer2 = _interopRequireDefault(_CustomRowContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GridBody = function GridBody(_ref) {\n    var colSpan = _ref.colSpan,\n        error = _ref.error,\n        emptyData = _ref.emptyData,\n        transition = _ref.transition,\n        children = _ref.children;\n\n    var content = null;\n    if (error || !children || children.length === 0) {\n        content = _react2.default.createElement(\n            _CustomRowContainer2.default,\n            { colSpan: colSpan },\n            error || emptyData\n        );\n    } else {\n        content = children;\n    }\n\n    var transitionProps = _lodash2.default.extend({\n        transitionName: 'example',\n        transitionEnterTimeout: 200,\n        transitionLeave: false\n    }, transition);\n    // Important!\n    transitionProps.component = 'tbody';\n\n    return _react2.default.createElement(\n        _reactAddonsCssTransitionGroup2.default,\n        transitionProps,\n        content\n    );\n};\n\n/**\n * Default Properties\n */\nGridBody.defaultProps = {\n    isFetching: false,\n    emptyData: 'No Data'\n};\n\n/**\n * Property types\n */\nif (true) {\n    GridBody.propTypes = {\n        colSpan: _react2.default.PropTypes.number,\n        transition: _react2.default.PropTypes.object,\n        /** loading? **/\n        isFetching: _react2.default.PropTypes.bool\n    };\n}\n\nexports.default = GridBody;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL0dyaWRCb2R5LmpzeD85ZDZkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ1NTVHJhbnNpdGlvbkdyb3VwIGZyb20gJ3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cCc7XG5pbXBvcnQgQ3VzdG9tUm93Q29udGFpbmVyIGZyb20gJy4vQ3VzdG9tUm93Q29udGFpbmVyLmpzeCc7XG5cbmNvbnN0IEdyaWRCb2R5ID0gKHtcbiAgICBjb2xTcGFuLFxuICAgIGVycm9yLFxuICAgIGVtcHR5RGF0YSxcbiAgICB0cmFuc2l0aW9uLFxuICAgIC8qKiBsb2FkaW5nPyAqKi9cbiAgICAvLyBpc0ZldGNoaW5nLFxuXG4gICAgLyoqIENoaWxkcmVuICoqL1xuICAgIGNoaWxkcmVuXG59KSA9PiB7XG4gICAgbGV0IGNvbnRlbnQgPSBudWxsO1xuICAgIGlmKGVycm9yIHx8ICFjaGlsZHJlbiB8fCBjaGlsZHJlbi5sZW5ndGggPT09IDApe1xuICAgICAgICBjb250ZW50ID0gKFxuICAgICAgICAgICAgPEN1c3RvbVJvd0NvbnRhaW5lciBjb2xTcGFuPXtjb2xTcGFufSA+XG4gICAgICAgICAgICAgICAge2Vycm9yIHx8IGVtcHR5RGF0YX1cbiAgICAgICAgICAgIDwvQ3VzdG9tUm93Q29udGFpbmVyPlxuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnQgPSBjaGlsZHJlbjtcbiAgICB9XG5cbiAgICBsZXQgdHJhbnNpdGlvblByb3BzID0gXy5leHRlbmQoe1xuICAgICAgICB0cmFuc2l0aW9uTmFtZTogJ2V4YW1wbGUnLFxuICAgICAgICB0cmFuc2l0aW9uRW50ZXJUaW1lb3V0OiAyMDAsXG4gICAgICAgIHRyYW5zaXRpb25MZWF2ZTogZmFsc2VcbiAgICB9LCB0cmFuc2l0aW9uKTtcbiAgICAvLyBJbXBvcnRhbnQhXG4gICAgdHJhbnNpdGlvblByb3BzLmNvbXBvbmVudCA9ICd0Ym9keSc7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Q1NTVHJhbnNpdGlvbkdyb3VwIHsuLi50cmFuc2l0aW9uUHJvcHN9PlxuICAgICAgICAgICAge2NvbnRlbnR9XG4gICAgICAgIDwvQ1NTVHJhbnNpdGlvbkdyb3VwPlxuICAgICk7XG59O1xuXG4vKipcbiAqIERlZmF1bHQgUHJvcGVydGllc1xuICovXG5HcmlkQm9keS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaXNGZXRjaGluZzogZmFsc2UsXG4gICAgZW1wdHlEYXRhOiAnTm8gRGF0YSdcbn07XG5cbi8qKlxuICogUHJvcGVydHkgdHlwZXNcbiAqL1xuaWYgKERFVkVMT1BNRU5UKSB7XG4gICAgR3JpZEJvZHkucHJvcFR5cGVzID0ge1xuICAgICAgICBjb2xTcGFuOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICAgICAgICB0cmFuc2l0aW9uOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgICAgICAvKiogbG9hZGluZz8gKiovXG4gICAgICAgIGlzRmV0Y2hpbmc6IFJlYWN0LlByb3BUeXBlcy5ib29sXG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JpZEJvZHk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL0dyaWRCb2R5LmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBO0FBVUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 501:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CustomRowContainer = function CustomRowContainer(_ref) {\n    var colSpan = _ref.colSpan,\n        children = _ref.children;\n\n    return _react2.default.createElement(\n        'tr',\n        { className: 'tjs-grid-custom-row' },\n        _react2.default.createElement(\n            'td',\n            { colSpan: colSpan },\n            children\n        )\n    );\n};\n\n/**\n * Property types\n */\nif (true) {\n    CustomRowContainer.propTypes = {\n        colSpan: _react2.default.PropTypes.number\n    };\n}\n\nexports.default = CustomRowContainer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL0N1c3RvbVJvd0NvbnRhaW5lci5qc3g/N2I5MCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IEN1c3RvbVJvd0NvbnRhaW5lciA9ICh7IGNvbFNwYW4sIGNoaWxkcmVuIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8dHIgY2xhc3NOYW1lPVwidGpzLWdyaWQtY3VzdG9tLXJvd1wiPlxuICAgICAgICAgICAgPHRkIGNvbFNwYW49e2NvbFNwYW59PlxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgKTtcbn07XG5cbi8qKlxuICogUHJvcGVydHkgdHlwZXNcbiAqL1xuaWYgKERFVkVMT1BNRU5UKSB7XG4gICAgQ3VzdG9tUm93Q29udGFpbmVyLnByb3BUeXBlcyA9IHtcbiAgICAgICAgY29sU3BhbjogUmVhY3QuUHJvcFR5cGVzLm51bWJlclxuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEN1c3RvbVJvd0NvbnRhaW5lcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL2NvbXBvbmVudHMvQ3VzdG9tUm93Q29udGFpbmVyLmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBOzs7OztBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQURBO0FBTUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 502:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _GridSearchContainer = __webpack_require__(503);\n\nvar _GridSearchContainer2 = _interopRequireDefault(_GridSearchContainer);\n\nvar _GridQueryBuilder = __webpack_require__(505);\n\nvar _GridQueryBuilder2 = _interopRequireDefault(_GridQueryBuilder);\n\nvar _reactAddonsCssTransitionGroup = __webpack_require__(355);\n\nvar _reactAddonsCssTransitionGroup2 = _interopRequireDefault(_reactAddonsCssTransitionGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GridSearch = function GridSearch(_ref) {\n    var transition = _ref.transition,\n        initialFilter = _ref.initialFilter,\n        initialSearch = _ref.initialSearch,\n        filterRules = _ref.filterRules,\n        queryBuilder = _ref.queryBuilder,\n        querySearch = _ref.querySearch,\n        activeComponent = _ref.activeComponent,\n        onClose = _ref.onClose,\n        onSearch = _ref.onSearch,\n        onQuerySearch = _ref.onQuerySearch;\n\n    if (!(queryBuilder || querySearch)) {\n        return null;\n    }\n\n    // Update transition\n    var transitionProps = _lodash2.default.extend({\n        component: 'div',\n        transitionName: 'example',\n        transitionLeave: false,\n        transitionEnterTimeout: 500\n    }, transition);\n\n    var activeSearchComponent = activeComponent === 'QUERY_BUILDER' ? _react2.default.createElement(_GridQueryBuilder2.default, {\n        key: 'query-builder',\n        className: 'margin-top-10',\n        rules: filterRules,\n        filter: initialFilter,\n        onSearch: onQuerySearch,\n        onClose: onClose\n    }) : _react2.default.createElement(\n        'div',\n        { key: 'grid-search' },\n        _react2.default.createElement(_GridSearchContainer2.default, {\n            className: 'margin-top-10',\n            onSearch: onSearch,\n            search: initialSearch\n        }),\n        queryBuilder && // if both, show switcher\n        _react2.default.createElement(\n            'a',\n            { className: 'row pointer',\n                onClick: onClose },\n            _react2.default.createElement(\n                'div',\n                { className: 'button-small' },\n                'Advanced search'\n            )\n        )\n    );\n\n    // Render\n    return _react2.default.createElement(\n        _reactAddonsCssTransitionGroup2.default,\n        transitionProps,\n        activeSearchComponent\n    );\n};\n\n/**\n * Property types\n */\nif (true) {\n    GridSearch.propTypes = {\n        transition: _react2.default.PropTypes.object,\n        initialFilter: _react2.default.PropTypes.string,\n        initialSearch: _react2.default.PropTypes.string,\n        filterRules: _react2.default.PropTypes.array,\n        queryBuilder: _react2.default.PropTypes.bool,\n        querySearch: _react2.default.PropTypes.bool,\n        activeComponent: _react2.default.PropTypes.string,\n        onClose: _react2.default.PropTypes.func,\n        onSearch: _react2.default.PropTypes.func,\n        onQuerySearch: _react2.default.PropTypes.func\n    };\n}\n\nexports.default = GridSearch;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL3NlYXJjaC9HcmlkU2VhcmNoLmpzeD8zMTZiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgR3JpZFNlYXJjaENvbnRhaW5lciBmcm9tICcuL0dyaWRTZWFyY2hDb250YWluZXIuanN4JztcbmltcG9ydCBHcmlkUXVlcnlCdWlsZGVyIGZyb20gJy4vR3JpZFF1ZXJ5QnVpbGRlci5qc3gnO1xuaW1wb3J0IENTU1RyYW5zaXRpb25Hcm91cCBmcm9tICdyZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAnO1xuXG5cbmNvbnN0IEdyaWRTZWFyY2ggPSAoe1xuICAgIHRyYW5zaXRpb24sXG4gICAgaW5pdGlhbEZpbHRlcixcbiAgICBpbml0aWFsU2VhcmNoLFxuICAgIGZpbHRlclJ1bGVzLFxuICAgIHF1ZXJ5QnVpbGRlcixcbiAgICBxdWVyeVNlYXJjaCxcbiAgICBhY3RpdmVDb21wb25lbnQsXG4gICAgLyoqIGNhbGxiYWNrcyAqKi9cbiAgICBvbkNsb3NlLFxuICAgIG9uU2VhcmNoLFxuICAgIG9uUXVlcnlTZWFyY2hcbn0pID0+IHtcbiAgICBpZighKHF1ZXJ5QnVpbGRlciB8fCBxdWVyeVNlYXJjaCkpe1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdHJhbnNpdGlvblxuICAgIGxldCB0cmFuc2l0aW9uUHJvcHMgPSBfLmV4dGVuZCh7XG4gICAgICAgIGNvbXBvbmVudDogJ2RpdicsXG4gICAgICAgIHRyYW5zaXRpb25OYW1lOidleGFtcGxlJyxcbiAgICAgICAgdHJhbnNpdGlvbkxlYXZlOiBmYWxzZSxcbiAgICAgICAgdHJhbnNpdGlvbkVudGVyVGltZW91dDogNTAwXG4gICAgfSwgdHJhbnNpdGlvbik7XG5cbiAgICBsZXQgYWN0aXZlU2VhcmNoQ29tcG9uZW50ID0gYWN0aXZlQ29tcG9uZW50ID09PSAnUVVFUllfQlVJTERFUicgP1xuICAgICAgICAgICAgPEdyaWRRdWVyeUJ1aWxkZXJcbiAgICAgICAgICAgICAgICBrZXk9XCJxdWVyeS1idWlsZGVyXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9eydtYXJnaW4tdG9wLTEwJ31cbiAgICAgICAgICAgICAgICBydWxlcz17ZmlsdGVyUnVsZXN9XG4gICAgICAgICAgICAgICAgZmlsdGVyPXtpbml0aWFsRmlsdGVyfVxuICAgICAgICAgICAgICAgIG9uU2VhcmNoPXtvblF1ZXJ5U2VhcmNofVxuICAgICAgICAgICAgICAgIG9uQ2xvc2U9e29uQ2xvc2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgOlxuICAgICAgICAgICAgPGRpdiBrZXk9XCJncmlkLXNlYXJjaFwiPlxuICAgICAgICAgICAgICAgIDxHcmlkU2VhcmNoQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17J21hcmdpbi10b3AtMTAnfVxuICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17b25TZWFyY2h9XG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaD17aW5pdGlhbFNlYXJjaH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHsgcXVlcnlCdWlsZGVyICYmIC8vIGlmIGJvdGgsIHNob3cgc3dpdGNoZXJcbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwicm93IHBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLXNtYWxsXCI+QWR2YW5jZWQgc2VhcmNoPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgO1xuXG4gICAgLy8gUmVuZGVyXG4gICAgcmV0dXJuIChcbiAgICAgICAgPENTU1RyYW5zaXRpb25Hcm91cCB7Li4udHJhbnNpdGlvblByb3BzfT5cbiAgICAgICAgICAgIHthY3RpdmVTZWFyY2hDb21wb25lbnR9XG4gICAgICAgIDwvQ1NTVHJhbnNpdGlvbkdyb3VwPlxuICAgICk7XG59O1xuXG5cbi8qKlxuICogUHJvcGVydHkgdHlwZXNcbiAqL1xuaWYgKERFVkVMT1BNRU5UKSB7XG4gICAgR3JpZFNlYXJjaC5wcm9wVHlwZXMgPSB7XG4gICAgICAgIHRyYW5zaXRpb246IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgIGluaXRpYWxGaWx0ZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGluaXRpYWxTZWFyY2g6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGZpbHRlclJ1bGVzOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgICAgIHF1ZXJ5QnVpbGRlcjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIHF1ZXJ5U2VhcmNoOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICAgICAgYWN0aXZlQ29tcG9uZW50OiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBvbkNsb3NlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgb25TZWFyY2g6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgICAgICBvblF1ZXJ5U2VhcmNoOiBSZWFjdC5Qcm9wVHlwZXMuZnVuY1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRTZWFyY2g7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL3NlYXJjaC9HcmlkU2VhcmNoLmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUVBO0FBWUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFTQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFQQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 503:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _SearchForm = __webpack_require__(504);\n\nvar _SearchForm2 = _interopRequireDefault(_SearchForm);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Grid search form\n */\nvar GridSearchContainer = function (_React$Component) {\n    _inherits(GridSearchContainer, _React$Component);\n\n    function GridSearchContainer(props) {\n        _classCallCheck(this, GridSearchContainer);\n\n        var _this = _possibleConstructorReturn(this, (GridSearchContainer.__proto__ || Object.getPrototypeOf(GridSearchContainer)).call(this, props));\n\n        _this.__timerID = null;\n        return _this;\n    }\n\n    _createClass(GridSearchContainer, [{\n        key: 'handleChange',\n        value: function handleChange(e, val) {\n            var _this2 = this;\n\n            if (this.__timerID) {\n                clearTimeout(this.__timerID);\n            }\n            if (val.length === 0) {\n                this.props.onSearch(val);\n            } else {\n                this.__timerID = setTimeout(function () {\n                    // Clear\n                    clearTimeout(_this2.__timerID);\n                    _this2.__timerID = null;\n                    _this2.props.onSearch(val);\n                }, this.props.timeout || 500);\n            }\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e, val) {\n            e.preventDefault();\n            clearTimeout(this.__timerID);\n            this.__timerID = null;\n            this.props.onSearch(val);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(_SearchForm2.default, {\n                attributes: {\n                    className: this.props.className\n                },\n                defaultValue: this.props.search || '',\n                placeholder: 'Search in table...',\n                onChange: this.handleChange.bind(this),\n                onSubmit: this.handleSubmit.bind(this)\n            });\n        }\n    }]);\n\n    return GridSearchContainer;\n}(_react2.default.Component);\n\n/**\n * Property types\n */\n\n\nexports.default = GridSearchContainer;\nif (true) {\n    GridSearchContainer.propTypes = {\n        className: _react2.default.PropTypes.string,\n        initialSearch: _react2.default.PropTypes.string\n    };\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL3NlYXJjaC9HcmlkU2VhcmNoQ29udGFpbmVyLmpzeD85MjhiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTZWFyY2hGb3JtIGZyb20gJy4uLy4uLy4uL0NvbXBvbmVudHMvU2VhcmNoRm9ybS5qc3gnO1xuXG4vKipcbiAqIEdyaWQgc2VhcmNoIGZvcm1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZFNlYXJjaENvbnRhaW5lciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuX190aW1lcklEID0gbnVsbDtcbiAgICB9XG5cbiAgICBoYW5kbGVDaGFuZ2UoZSwgdmFsKXtcbiAgICAgICAgaWYodGhpcy5fX3RpbWVySUQpe1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX190aW1lcklEKTtcbiAgICAgICAgfVxuICAgICAgICBpZih2YWwubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25TZWFyY2godmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX190aW1lcklEID0gc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgIC8vIENsZWFyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX190aW1lcklEKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9fdGltZXJJRCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblNlYXJjaCh2YWwpO1xuICAgICAgICAgICAgfSwgdGhpcy5wcm9wcy50aW1lb3V0IHx8IDUwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVTdWJtaXQoZSwgdmFsKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fX3RpbWVySUQpO1xuICAgICAgICB0aGlzLl9fdGltZXJJRCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvcHMub25TZWFyY2godmFsKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKXtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxTZWFyY2hGb3JtXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcz17e1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3RoaXMucHJvcHMuc2VhcmNoIHx8ICcnfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGluIHRhYmxlLi4uXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFByb3BlcnR5IHR5cGVzXG4gKi9cbmlmKERFVkVMT1BNRU5UKXtcbiAgICBHcmlkU2VhcmNoQ29udGFpbmVyLnByb3BUeXBlcyA9IHtcbiAgICAgICAgY2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBpbml0aWFsU2VhcmNoOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG4gICAgfTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL2NvbXBvbmVudHMvc2VhcmNoL0dyaWRTZWFyY2hDb250YWluZXIuanN4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7QUFDQTs7O0FBR0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUZBO0FBR0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVVBOzs7O0FBekNBO0FBQ0E7QUEyQ0E7Ozs7O0FBNUNBO0FBK0NBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 504:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SearchForm = function (_React$Component) {\n    _inherits(SearchForm, _React$Component);\n\n    function SearchForm(props) {\n        _classCallCheck(this, SearchForm);\n\n        var _this = _possibleConstructorReturn(this, (SearchForm.__proto__ || Object.getPrototypeOf(SearchForm)).call(this, props));\n\n        _this.__onSubmit = props.onSubmit || props.attributes && props.attributes.onSubmit;\n        return _this;\n    }\n\n    _createClass(SearchForm, [{\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            this.props.onSubmit(e, this.__input.value);\n        }\n    }, {\n        key: 'handleChange',\n        value: function handleChange(e) {\n            this.props.onChange(e, this.__input.value);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var formAtt = this.props.attributes || {};\n            formAtt.className = ('grid-search ' + (formAtt.className || '')).trim();\n            formAtt.onSubmit = this.__onSubmit ? this.handleSubmit.bind(this) : undefined;\n\n            // input\n            var inputAtt = {\n                type: 'text',\n                name: this.props.name || 'search',\n                placeholder: this.props.placeholder,\n                onChange: this.props.onChange ? this.handleChange.bind(this) : undefined,\n                value: this.props.value,\n                defaultValue: this.props.defaultValue\n            };\n\n            return _react2.default.createElement(\n                'form',\n                formAtt,\n                _react2.default.createElement('input', _extends({ ref: function ref(el) {\n                        return _this2.__input = el;\n                    } }, inputAtt)),\n                _react2.default.createElement(\n                    'button',\n                    { type: 'submit' },\n                    _react2.default.createElement('i', { className: 'trinity trinity-search' })\n                ),\n                this.props.children\n            );\n        }\n    }]);\n\n    return SearchForm;\n}(_react2.default.Component);\n\nexports.default = SearchForm;\n\n/**\n * Property types\n */\n\nif (true) {\n    SearchForm.propTypes = {\n        attributes: _react2.default.PropTypes.shape({\n            onSubmit: _react2.default.PropTypes.func,\n            className: _react2.default.PropTypes.string\n        }),\n        inputName: _react2.default.PropTypes.string,\n        placeholder: _react2.default.PropTypes.string,\n        onChange: _react2.default.PropTypes.func,\n        onSubmit: _react2.default.PropTypes.func,\n        value: _react2.default.PropTypes.string,\n        defaultValue: _react2.default.PropTypes.string\n    };\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvQ29tcG9uZW50cy9TZWFyY2hGb3JtLmpzeD84MjE3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY2xhc3MgU2VhcmNoRm9ybSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLl9fb25TdWJtaXQgPSBwcm9wcy5vblN1Ym1pdCB8fCAocHJvcHMuYXR0cmlidXRlcyAmJiBwcm9wcy5hdHRyaWJ1dGVzLm9uU3VibWl0KTtcbiAgICB9XG5cbiAgICBoYW5kbGVTdWJtaXQoZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uU3VibWl0KGUsIHRoaXMuX19pbnB1dC52YWx1ZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShlLCB0aGlzLl9faW5wdXQudmFsdWUpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgbGV0IGZvcm1BdHQgPSB0aGlzLnByb3BzLmF0dHJpYnV0ZXMgfHwge307XG4gICAgICAgIGZvcm1BdHQuY2xhc3NOYW1lID0gKCdncmlkLXNlYXJjaCAnICsgKGZvcm1BdHQuY2xhc3NOYW1lIHx8ICcnKSkudHJpbSgpO1xuICAgICAgICBmb3JtQXR0Lm9uU3VibWl0ID0gdGhpcy5fX29uU3VibWl0ID8gdGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBpbnB1dFxuICAgICAgICBsZXQgaW5wdXRBdHQgPSB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICBuYW1lOiB0aGlzLnByb3BzLm5hbWUgfHwgJ3NlYXJjaCcsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogdGhpcy5wcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLnByb3BzLm9uQ2hhbmdlID8gdGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Zm9ybSB7Li4uZm9ybUF0dH0+XG4gICAgICAgICAgICAgICAgPGlucHV0IHJlZj17ZWwgPT4gdGhpcy5fX2lucHV0ID0gZWx9IHsuLi5pbnB1dEF0dH0vPlxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJ0cmluaXR5IHRyaW5pdHktc2VhcmNoXCIvPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VhcmNoRm9ybTtcblxuLyoqXG4gKiBQcm9wZXJ0eSB0eXBlc1xuICovXG5pZiAoREVWRUxPUE1FTlQpIHtcbiAgICBTZWFyY2hGb3JtLnByb3BUeXBlcyA9IHtcbiAgICAgICAgYXR0cmlidXRlczogUmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgIG9uU3VibWl0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuICAgICAgICB9KSxcbiAgICAgICAgaW5wdXROYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBwbGFjZWhvbGRlcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgb25DaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgICAgICBvblN1Ym1pdDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIHZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbiAgICB9O1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi8uLi92ZW5pY2UtanMvTGlicmFyaWVzL0NvbXBvbmVudHMvU2VhcmNoRm9ybS5qc3giXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7OztBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUZBO0FBR0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQ0E7QUFRQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFMQTtBQVFBOzs7O0FBdENBO0FBQ0E7QUF3Q0E7QUFDQTtBQUNBOzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFZQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 505:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\n/**\n * http://querybuilder.js.org/\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\n__webpack_require__(506);\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Events = __webpack_require__(475);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NUMBER_MAP = {\n    'equal': '= ${value}',\n    'not_equal': '!= ${value}',\n    'less': '< ${value}',\n    'less_or_equal': '<= ${value}',\n    'greater': '> ${value}',\n    'greater_or_equal': '>= ${value}'\n};\n\nvar EXPRESSION_RX = /^([^\\s(<>=!]+)\\s*((?:[<>!]?=|[<>])|LIKE)\\s*(\\\"[^\\.\")]+\\\"|[^\\s)]+)/;\nvar AND_CONDITION_RX = /\\s+AND\\s+/;\nvar OR_CONDITION_RX = /\\s+OR\\s+/;\nvar IS_WRAPPED_RX = /^\\(.*\\)$/;\nvar REMOVE_QUOTES_RX = /[^'\"].+[^'\"]/;\nvar REMOVE_LIKE_SIGN_RX = /[^%\"']+/;\n\nvar VALUE_MAP = {\n    'integer': NUMBER_MAP,\n    'double': NUMBER_MAP,\n    'string': {\n        'equal': '= \\\"${value}\\\"',\n        'not_equal': '!= \\\"${value}\\\"',\n        'contains': 'LIKE \\\"%${value}%\\\"',\n        'begins_with': 'LIKE \\\"${value}%\\\"',\n        'ends_with': 'LIKE \\\"%${value}\\\"'\n    },\n    'date': NUMBER_MAP,\n    'boolean': {\n        'equal': '= \\\"${value}\\\"'\n    },\n    'array': {\n        'is': 'LIKE %\\\"${value}\\\"%'\n    },\n    'enum': {\n        'equal': '= \\\"${value}\\\"',\n        'not_equal': '!= \\\"${value}\\\"',\n        'contains': 'LIKE \\\"%${value}%\\\"',\n        'begins_with': 'LIKE \\\"${value}%\\\"',\n        'ends_with': 'LIKE \\\"%${value}\\\"'\n    }\n};\n\nvar QB_OPERATOR_MAP = {\n    '=': 'equal',\n    '!=': 'not_equal',\n    '<': 'less',\n    '<=': 'less_or_equal',\n    '>': 'greater',\n    '>=': 'greater_or_equal'\n};\n\nfunction createFilter(filterObj) {\n    return _lodash2.default.map(filterObj.rules, function (rule) {\n        if (rule.condition) {\n            return '(' + createFilter(rule) + ')';\n        }\n        var val = VALUE_MAP[rule.type][rule.operator].replace('${value}', rule.value);\n        return [rule.id, val].join(' ');\n    }).join(' ' + filterObj.condition + ' ');\n}\n\nfunction parseFilter(filterStr, specialRules) {\n    var counter = 0,\n        deepRules = [],\n        startIndex = null,\n        rules = null,\n        rulesObj = {\n        condition: '',\n        rules: null\n    };\n\n    var parsed = _lodash2.default.map(filterStr, function (c, i) {\n        if (c === '(') {\n            counter++;\n            if (_lodash2.default.isNull(startIndex)) {\n                startIndex = i;\n                return c;\n            }\n        } else if (c === ')') {\n            counter--;\n            if (counter === 0) {\n                deepRules.push(parseFilter(filterStr.substring(startIndex + 1, i)));\n                startIndex = null;\n                return c;\n            }\n        }\n        return counter > 0 ? '*' : c;\n    }).join('');\n\n    if (AND_CONDITION_RX.test(parsed) || !OR_CONDITION_RX.test(parsed)) {\n        rules = parsed.split(AND_CONDITION_RX);\n        rulesObj.condition = 'AND';\n    } else {\n        rules = parsed.split(OR_CONDITION_RX);\n        rulesObj.condition = 'OR';\n    }\n\n    counter = 0;\n    rulesObj.rules = _lodash2.default.map(rules, function (cond) {\n\n        if (IS_WRAPPED_RX.test(cond)) {\n            return deepRules[counter++];\n        }\n        var exp = cond.match(EXPRESSION_RX),\n            id = exp[1],\n            operator = exp[2],\n            value = exp[3].match(REMOVE_QUOTES_RX);\n\n        value = value && value[0] || exp[3];\n        if (specialRules[id].necktie && specialRules[id].necktie.unix) {\n            value = new window.DateFormatter().formatDate(new Date(value * 1000), specialRules[id].plugin.format);\n        }\n\n        if (operator === 'LIKE') {\n            var index = value.indexOf('%');\n            if (index === -1) {\n                operator = 'contains';\n            } else {\n                operator = 'begins_with';\n                if (index === 0) {\n                    operator = 'ends_with';\n                    if (value[value.length - 1] === '%') {\n                        operator = 'contains';\n                        if (value[index + 1] === '\"') {\n                            operator = 'is';\n                        }\n                    }\n                }\n            }\n            value = value.match(REMOVE_LIKE_SIGN_RX)[0];\n        } else {\n            operator = QB_OPERATOR_MAP[operator];\n        }\n\n        return { id: id, operator: operator, value: value };\n    });\n    return rulesObj;\n}\n\nfunction modifyRules(rules, filters) {\n    var modified = _jquery2.default.extend({}, rules);\n    _lodash2.default.each(modified.rules, function (rule) {\n        if (filters[rule.id].necktie && filters[rule.id].necktie.unix) {\n            var date = new window.DateFormatter().parseDate(rule.value, filters[rule.id].plugin.format),\n                timeZone = -date.getTimezoneOffset() * 60; //in seconds (do not remove -)\n\n            rule.value = Math.floor(date.getTime() / 1000) + timeZone;\n        } else if (rule.type === 'date') {\n            rule.value = '\"' + rule.value + '\"';\n        } else if (rule.value[0] === '\\\"' && rule.value[rule.value.length - 1] === '\\\"' || rule.value[0] === '\\'' && rule.value[rule.value.length - 1] === '\\'') {\n            rule.value = rule.value.substring(1, rule.value.length - 1);\n        }\n    });\n    return modified;\n}\n\nvar GridQueryBuilder = function (_React$Component) {\n    _inherits(GridQueryBuilder, _React$Component);\n\n    function GridQueryBuilder() {\n        _classCallCheck(this, GridQueryBuilder);\n\n        return _possibleConstructorReturn(this, (GridQueryBuilder.__proto__ || Object.getPrototypeOf(GridQueryBuilder)).apply(this, arguments));\n    }\n\n    _createClass(GridQueryBuilder, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            var specialRules = {};\n            _lodash2.default.each(this.props.rules, function (r) {\n                return specialRules[r.id] = { plugin: r.plugin_config, necktie: r.necktie_config };\n            });\n\n            var initialRules = this.props.filter ? parseFilter(this.props.filter, specialRules) : undefined;\n\n            // Clear element\n            this.__builder.innerHTML = '';\n            // Attach query builder\n            (0, _jquery2.default)(this.__builder).queryBuilder({\n                filters: this.props.rules,\n                rules: initialRules,\n                operators: ['equal', 'not_equal', 'less', 'less_or_equal', 'greater', 'greater_or_equal', 'contains', 'begins_with', 'ends_with', {\n                    type: 'is',\n                    nb_inputs: 1,\n                    apply_to: ['array']\n                }],\n                icons: {\n                    add_group: 'trinity-plus',\n                    add_rule: 'trinity-plus',\n                    remove_group: 'trinity-minus',\n                    remove_rule: 'trinity-minus',\n                    error: 'trinity-warning'\n                }\n            });\n\n            // Attach listener\n            this.unlistenSearch = _Events2.default.listen(this.__searchBtn, 'click', function (e) {\n                e.preventDefault();\n\n                if (!_this2.__builder.queryBuilder.validate()) {\n                    return false;\n                }\n                _this2.props.onSearch(createFilter(modifyRules(_this2.__builder.queryBuilder.getRules(), specialRules)));\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.unlistenSearch();\n            this.__builder.queryBuilder.destroy();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            return _react2.default.createElement(\n                'form',\n                { className: this.props.className, style: this.props.style },\n                _react2.default.createElement(\n                    'div',\n                    { ref: function ref(el) {\n                            return _this3.__builder = el;\n                        }, style: { textAlign: 'initial' } },\n                    'loading...'\n                )\n            );\n        }\n    }]);\n\n    return GridQueryBuilder;\n}(_react2.default.Component);\n\nexports.default = GridQueryBuilder;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL3NlYXJjaC9HcmlkUXVlcnlCdWlsZGVyLmpzeD82ZmJlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBodHRwOi8vcXVlcnlidWlsZGVyLmpzLm9yZy9cbiAqL1xuXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCAnLi4vLi4vLi4vRXh0ZW5zaW9ucy9FeHRlbmRlZFF1ZXJ5QnVpbGRlcic7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEV2ZW50cyBmcm9tICd0cmluaXR5L3V0aWxzL0V2ZW50cyc7XG5cbmNvbnN0IE5VTUJFUl9NQVAgPSB7XG4gICAgJ2VxdWFsJzogJz0gJHt2YWx1ZX0nLFxuICAgICdub3RfZXF1YWwnOiAnIT0gJHt2YWx1ZX0nLFxuICAgICdsZXNzJzogJzwgJHt2YWx1ZX0nLFxuICAgICdsZXNzX29yX2VxdWFsJzogJzw9ICR7dmFsdWV9JyxcbiAgICAnZ3JlYXRlcic6ICc+ICR7dmFsdWV9JyxcbiAgICAnZ3JlYXRlcl9vcl9lcXVhbCc6ICc+PSAke3ZhbHVlfSdcbn07XG5cbmNvbnN0IEVYUFJFU1NJT05fUlggPSAvXihbXlxccyg8Pj0hXSspXFxzKigoPzpbPD4hXT89fFs8Pl0pfExJS0UpXFxzKihcXFwiW15cXC5cIildK1xcXCJ8W15cXHMpXSspLztcbmNvbnN0IEFORF9DT05ESVRJT05fUlggPSAvXFxzK0FORFxccysvO1xuY29uc3QgT1JfQ09ORElUSU9OX1JYID0gL1xccytPUlxccysvO1xuY29uc3QgSVNfV1JBUFBFRF9SWCA9IC9eXFwoLipcXCkkLztcbmNvbnN0IFJFTU9WRV9RVU9URVNfUlggPSAvW14nXCJdLitbXidcIl0vO1xuY29uc3QgUkVNT1ZFX0xJS0VfU0lHTl9SWCA9IC9bXiVcIiddKy87XG5cblxuY29uc3QgVkFMVUVfTUFQID0ge1xuICAgICdpbnRlZ2VyJzogTlVNQkVSX01BUCxcbiAgICAnZG91YmxlJzogTlVNQkVSX01BUCxcbiAgICAnc3RyaW5nJzoge1xuICAgICAgICAnZXF1YWwnOiAnPSBcXFwiJHt2YWx1ZX1cXFwiJyxcbiAgICAgICAgJ25vdF9lcXVhbCc6ICchPSBcXFwiJHt2YWx1ZX1cXFwiJyxcbiAgICAgICAgJ2NvbnRhaW5zJzogJ0xJS0UgXFxcIiUke3ZhbHVlfSVcXFwiJyxcbiAgICAgICAgJ2JlZ2luc193aXRoJzogJ0xJS0UgXFxcIiR7dmFsdWV9JVxcXCInLFxuICAgICAgICAnZW5kc193aXRoJzogJ0xJS0UgXFxcIiUke3ZhbHVlfVxcXCInXG4gICAgfSxcbiAgICAnZGF0ZSc6IE5VTUJFUl9NQVAsXG4gICAgJ2Jvb2xlYW4nOiB7XG4gICAgICAgICdlcXVhbCc6ICc9IFxcXCIke3ZhbHVlfVxcXCInXG4gICAgfSxcbiAgICAnYXJyYXknOiB7XG4gICAgICAgICdpcyc6ICdMSUtFICVcXFwiJHt2YWx1ZX1cXFwiJSdcbiAgICB9LFxuICAgICdlbnVtJzoge1xuICAgICAgICAnZXF1YWwnOiAnPSBcXFwiJHt2YWx1ZX1cXFwiJyxcbiAgICAgICAgJ25vdF9lcXVhbCc6ICchPSBcXFwiJHt2YWx1ZX1cXFwiJyxcbiAgICAgICAgJ2NvbnRhaW5zJzogJ0xJS0UgXFxcIiUke3ZhbHVlfSVcXFwiJyxcbiAgICAgICAgJ2JlZ2luc193aXRoJzogJ0xJS0UgXFxcIiR7dmFsdWV9JVxcXCInLFxuICAgICAgICAnZW5kc193aXRoJzogJ0xJS0UgXFxcIiUke3ZhbHVlfVxcXCInXG4gICAgfVxufTtcblxuXG5jb25zdCBRQl9PUEVSQVRPUl9NQVAgPSB7XG4gICAgJz0nOiAnZXF1YWwnLFxuICAgICchPSc6ICdub3RfZXF1YWwnLFxuICAgICc8JzogJ2xlc3MnLFxuICAgICc8PSc6ICdsZXNzX29yX2VxdWFsJyxcbiAgICAnPic6ICdncmVhdGVyJyxcbiAgICAnPj0nOiAnZ3JlYXRlcl9vcl9lcXVhbCdcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpbHRlcihmaWx0ZXJPYmopIHtcbiAgICByZXR1cm4gXy5tYXAoZmlsdGVyT2JqLnJ1bGVzLCAocnVsZSk9PiB7XG4gICAgICAgIGlmIChydWxlLmNvbmRpdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuICcoJyArIGNyZWF0ZUZpbHRlcihydWxlKSArICcpJztcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsID0gVkFMVUVfTUFQW3J1bGUudHlwZV1bcnVsZS5vcGVyYXRvcl0ucmVwbGFjZSgnJHt2YWx1ZX0nLCBydWxlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIFtydWxlLmlkLCB2YWxdLmpvaW4oJyAnKTtcbiAgICB9KS5qb2luKCcgJyArIGZpbHRlck9iai5jb25kaXRpb24gKyAnICcpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUZpbHRlcihmaWx0ZXJTdHIsIHNwZWNpYWxSdWxlcykge1xuICAgIGxldCBjb3VudGVyID0gMCxcbiAgICAgICAgZGVlcFJ1bGVzID0gW10sXG4gICAgICAgIHN0YXJ0SW5kZXggPSBudWxsLFxuICAgICAgICBydWxlcyA9IG51bGwsXG4gICAgICAgIHJ1bGVzT2JqID0ge1xuICAgICAgICAgICAgY29uZGl0aW9uOiAnJyxcbiAgICAgICAgICAgIHJ1bGVzOiBudWxsXG4gICAgICAgIH07XG5cbiAgICBsZXQgcGFyc2VkID0gXy5tYXAoZmlsdGVyU3RyLCAoYywgaSk9PiB7XG4gICAgICAgIGlmIChjID09PSAnKCcpIHtcbiAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgICAgIGlmIChfLmlzTnVsbChzdGFydEluZGV4KSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICcpJykge1xuICAgICAgICAgICAgY291bnRlci0tO1xuICAgICAgICAgICAgaWYgKGNvdW50ZXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkZWVwUnVsZXMucHVzaChwYXJzZUZpbHRlcihmaWx0ZXJTdHIuc3Vic3RyaW5nKHN0YXJ0SW5kZXggKyAxLCBpKSkpO1xuICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3VudGVyID4gMCA/ICcqJyA6IGM7XG4gICAgfSkuam9pbignJyk7XG5cbiAgICBpZiAoQU5EX0NPTkRJVElPTl9SWC50ZXN0KHBhcnNlZCkgfHwgIU9SX0NPTkRJVElPTl9SWC50ZXN0KHBhcnNlZCkpIHtcbiAgICAgICAgcnVsZXMgPSBwYXJzZWQuc3BsaXQoQU5EX0NPTkRJVElPTl9SWCk7XG4gICAgICAgIHJ1bGVzT2JqLmNvbmRpdGlvbiA9ICdBTkQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJ1bGVzID0gcGFyc2VkLnNwbGl0KE9SX0NPTkRJVElPTl9SWCk7XG4gICAgICAgIHJ1bGVzT2JqLmNvbmRpdGlvbiA9ICdPUic7XG4gICAgfVxuXG4gICAgY291bnRlciA9IDA7XG4gICAgcnVsZXNPYmoucnVsZXMgPSBfLm1hcChydWxlcywgKGNvbmQpPT4ge1xuXG4gICAgICAgIGlmIChJU19XUkFQUEVEX1JYLnRlc3QoY29uZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWVwUnVsZXNbY291bnRlcisrXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZXhwID0gY29uZC5tYXRjaChFWFBSRVNTSU9OX1JYKSxcbiAgICAgICAgICAgIGlkID0gZXhwWzFdLFxuICAgICAgICAgICAgb3BlcmF0b3IgPSBleHBbMl0sXG4gICAgICAgICAgICB2YWx1ZSA9IGV4cFszXS5tYXRjaChSRU1PVkVfUVVPVEVTX1JYKTtcblxuICAgICAgICB2YWx1ZSA9IHZhbHVlICYmIHZhbHVlWzBdIHx8IGV4cFszXTtcbiAgICAgICAgaWYgKHNwZWNpYWxSdWxlc1tpZF0ubmVja3RpZSAmJiBzcGVjaWFsUnVsZXNbaWRdLm5lY2t0aWUudW5peCkge1xuICAgICAgICAgICAgdmFsdWUgPSAobmV3IHdpbmRvdy5EYXRlRm9ybWF0dGVyKCkpLmZvcm1hdERhdGUobmV3IERhdGUodmFsdWUgKiAxMDAwKSwgc3BlY2lhbFJ1bGVzW2lkXS5wbHVnaW4uZm9ybWF0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVyYXRvciA9PT0gJ0xJS0UnKSB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSB2YWx1ZS5pbmRleE9mKCclJyk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgb3BlcmF0b3IgPSAnY29udGFpbnMnO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wZXJhdG9yID0gJ2JlZ2luc193aXRoJztcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IgPSAnZW5kc193aXRoJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdID09PSAnJScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yID0gJ2NvbnRhaW5zJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVsoaW5kZXggKyAxKV0gPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvciA9ICdpcyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLm1hdGNoKFJFTU9WRV9MSUtFX1NJR05fUlgpWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3BlcmF0b3IgPSBRQl9PUEVSQVRPUl9NQVBbb3BlcmF0b3JdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtpZCwgb3BlcmF0b3IsIHZhbHVlfTtcbiAgICB9KTtcbiAgICByZXR1cm4gcnVsZXNPYmo7XG59XG5cbmZ1bmN0aW9uIG1vZGlmeVJ1bGVzKHJ1bGVzLCBmaWx0ZXJzKSB7XG4gICAgbGV0IG1vZGlmaWVkID0gJC5leHRlbmQoe30sIHJ1bGVzKTtcbiAgICBfLmVhY2gobW9kaWZpZWQucnVsZXMsIHJ1bGU9PiB7XG4gICAgICAgIGlmIChmaWx0ZXJzW3J1bGUuaWRdLm5lY2t0aWUgJiYgZmlsdGVyc1tydWxlLmlkXS5uZWNrdGllLnVuaXgpIHtcbiAgICAgICAgICAgIGxldCBkYXRlID0gKG5ldyB3aW5kb3cuRGF0ZUZvcm1hdHRlcigpKS5wYXJzZURhdGUocnVsZS52YWx1ZSwgZmlsdGVyc1tydWxlLmlkXS5wbHVnaW4uZm9ybWF0KSxcbiAgICAgICAgICAgICAgICB0aW1lWm9uZSA9IC1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MDsgLy9pbiBzZWNvbmRzIChkbyBub3QgcmVtb3ZlIC0pXG5cbiAgICAgICAgICAgIHJ1bGUudmFsdWUgPSBNYXRoLmZsb29yKChkYXRlLmdldFRpbWUoKSAvIDEwMDApKSArIHRpbWVab25lO1xuICAgICAgICB9IGVsc2UgaWYgKHJ1bGUudHlwZSA9PT0gJ2RhdGUnKSB7XG4gICAgICAgICAgICBydWxlLnZhbHVlID0gYFwiJHtydWxlLnZhbHVlfVwiYDtcbiAgICAgICAgfWVsc2UgaWYgKFxuICAgICAgICAgICAgKHJ1bGUudmFsdWVbMF0gPT09ICdcXFwiJyAmJiBydWxlLnZhbHVlW3J1bGUudmFsdWUubGVuZ3RoIC0gMV0gPT09ICdcXFwiJykgfHxcbiAgICAgICAgICAgIChydWxlLnZhbHVlWzBdID09PSAnXFwnJyAmJiBydWxlLnZhbHVlW3J1bGUudmFsdWUubGVuZ3RoIC0gMV0gPT09ICdcXCcnKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJ1bGUudmFsdWUgPSBydWxlLnZhbHVlLnN1YnN0cmluZygxLCBydWxlLnZhbHVlLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG5cbiAgICB9KTtcbiAgICByZXR1cm4gbW9kaWZpZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRRdWVyeUJ1aWxkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBsZXQgc3BlY2lhbFJ1bGVzID0ge307XG4gICAgICAgIF8uZWFjaCh0aGlzLnByb3BzLnJ1bGVzLCByID0+IHtcbiAgICAgICAgICAgIHJldHVybiBzcGVjaWFsUnVsZXNbci5pZF0gPSB7cGx1Z2luOiByLnBsdWdpbl9jb25maWcsIG5lY2t0aWU6IHIubmVja3RpZV9jb25maWd9O1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgaW5pdGlhbFJ1bGVzID0gdGhpcy5wcm9wcy5maWx0ZXIgPyBwYXJzZUZpbHRlcih0aGlzLnByb3BzLmZpbHRlciwgc3BlY2lhbFJ1bGVzKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBDbGVhciBlbGVtZW50XG4gICAgICAgIHRoaXMuX19idWlsZGVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAvLyBBdHRhY2ggcXVlcnkgYnVpbGRlclxuICAgICAgICAkKHRoaXMuX19idWlsZGVyKS5xdWVyeUJ1aWxkZXIoe1xuICAgICAgICAgICAgZmlsdGVyczogdGhpcy5wcm9wcy5ydWxlcyxcbiAgICAgICAgICAgIHJ1bGVzOiBpbml0aWFsUnVsZXMsXG4gICAgICAgICAgICBvcGVyYXRvcnM6IFtcbiAgICAgICAgICAgICAgICAnZXF1YWwnLCAnbm90X2VxdWFsJyxcbiAgICAgICAgICAgICAgICAnbGVzcycsICdsZXNzX29yX2VxdWFsJyxcbiAgICAgICAgICAgICAgICAnZ3JlYXRlcicsICdncmVhdGVyX29yX2VxdWFsJyxcbiAgICAgICAgICAgICAgICAnY29udGFpbnMnLCAnYmVnaW5zX3dpdGgnLCAnZW5kc193aXRoJyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpcycsXG4gICAgICAgICAgICAgICAgICAgIG5iX2lucHV0czogMSxcbiAgICAgICAgICAgICAgICAgICAgYXBwbHlfdG86IFsnYXJyYXknXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBpY29uczoge1xuICAgICAgICAgICAgICAgIGFkZF9ncm91cDogJ3RyaW5pdHktcGx1cycsXG4gICAgICAgICAgICAgICAgYWRkX3J1bGU6ICd0cmluaXR5LXBsdXMnLFxuICAgICAgICAgICAgICAgIHJlbW92ZV9ncm91cDogJ3RyaW5pdHktbWludXMnLFxuICAgICAgICAgICAgICAgIHJlbW92ZV9ydWxlOiAndHJpbml0eS1taW51cycsXG4gICAgICAgICAgICAgICAgZXJyb3I6ICd0cmluaXR5LXdhcm5pbmcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEF0dGFjaCBsaXN0ZW5lclxuICAgICAgICB0aGlzLnVubGlzdGVuU2VhcmNoID0gRXZlbnRzLmxpc3Rlbih0aGlzLl9fc2VhcmNoQnRuLCAnY2xpY2snLFxuICAgICAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX19idWlsZGVyLnF1ZXJ5QnVpbGRlci52YWxpZGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblNlYXJjaChjcmVhdGVGaWx0ZXIobW9kaWZ5UnVsZXModGhpcy5fX2J1aWxkZXIucXVlcnlCdWlsZGVyLmdldFJ1bGVzKCksIHNwZWNpYWxSdWxlcykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy51bmxpc3RlblNlYXJjaCgpO1xuICAgICAgICB0aGlzLl9fYnVpbGRlci5xdWVyeUJ1aWxkZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxmb3JtIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9IHN0eWxlPXt0aGlzLnByb3BzLnN0eWxlfT5cbiAgICAgICAgICAgICAgICA8ZGl2IHJlZj17ZWwgPT4gdGhpcy5fX2J1aWxkZXIgPSBlbH0gc3R5bGU9e3t0ZXh0QWxpZ246ICdpbml0aWFsJ319PlxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nLi4uXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgey8qPGRpdiBjbGFzc05hbWU9XCJwYWRkaW5nLTEwXCI+Ki99XG4gICAgICAgICAgICAgICAgICAgIHsvKjxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImJ1dHRvbi1tZWRpdW0gYnV0dG9uLXNlYXJjaFwiIHJlZj17ZWwgPT4gdGhpcy5fX3NlYXJjaEJ0biA9IGVsfT4qL31cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKkFkdmFuY2VkIHNlYXJjaCovfVxuICAgICAgICAgICAgICAgICAgICAgICAgey8qPGkgY2xhc3NOYW1lPVwidHJpbml0eS1zZWFyY2ggcHVsbC1yaWdodFwiLz4qL31cbiAgICAgICAgICAgICAgICAgICAgey8qPC9idXR0b24+Ki99XG4gICAgICAgICAgICAgICAgICAgIHsvKnsgdGhpcy5wcm9wcy5vbkNsb3NlID8qL31cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKjxhIGNsYXNzTmFtZT1cImJ1dHRvbi1zbWFsbFwiIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DbG9zZX0+Ki99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qQ2xvc2UqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKjwvYT4gOiBmYWxzZSovfVxuICAgICAgICAgICAgICAgICAgICB7Lyp9Ki99XG4gICAgICAgICAgICAgICAgey8qPC9kaXY+Ki99XG4gICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi8uLi92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9zZWFyY2gvR3JpZFF1ZXJ5QnVpbGRlci5qc3giXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQUlBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBakJBO0FBQ0E7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFkQTtBQUNBO0FBc0JBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQWlCQTs7OztBQXhFQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 506:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\n__webpack_require__(507);\n\n__webpack_require__(508);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar QueryBuilder = _jquery2.default.fn.queryBuilder.constructor;\n\nvar types = {\n  'number': 'string',\n  'enum': 'string',\n  'array': 'string'\n};\n\nQueryBuilder.types = _lodash2.default.extend(QueryBuilder.types, types);\n\nQueryBuilder.templates.group = '\\\n<dl id=\"{{= it.group_id }}\" class=\"rules-group-container\"> \\\n  <dt class=\"rules-group-header\"> \\\n    <div class=\"btn-group pull-right group-actions\"> \\\n      <button type=\"button\" class=\"btn btn-xs btn-success button button-small button-primary margin-none-all\" data-add=\"rule\"> \\\n        <i class=\"{{= it.icons.add_rule }}\"></i> {{= it.lang.add_rule }} \\\n      </button> \\\n      {{? it.settings.allow_groups===-1 || it.settings.allow_groups>=it.level }} \\\n        <button type=\"button\" class=\"btn btn-xs btn-success button button-small button-primary margin-none-all\" data-add=\"group\"> \\\n          <i class=\"{{= it.icons.add_group }}\"></i> {{= it.lang.add_group }} \\\n        </button> \\\n      {{?}} \\\n      {{? it.level>1 }} \\\n        <button type=\"button\" class=\"btn btn-xs btn-danger button button-small button-danger margin-none-all\" data-delete=\"group\"> \\\n          <i class=\"{{= it.icons.remove_group }} padding-right-5\"></i> {{= it.lang.delete_group }} \\\n        </button> \\\n      {{?}} \\\n    </div> \\\n    <div class=\"btn-group group-conditions\"> \\\n      {{~ it.conditions: condition }} \\\n        <label class=\"btn btn-xs btn-primary\"> \\\n          <input type=\"radio\" name=\"{{= it.group_id }}_cond\" value=\"{{= condition }}\"> {{= it.lang.conditions[condition] || condition }} \\\n        </label> \\\n      {{~}} \\\n    </div> \\\n    {{? it.settings.display_errors }} \\\n      <div class=\"error-container\"><i class=\"{{= it.icons.error }}\"></i></div> \\\n    {{?}} \\\n  </dt> \\\n  <dd class=rules-group-body> \\\n    <ul class=rules-list></ul> \\\n  </dd> \\\n</dl>';\n\nQueryBuilder.templates.rule = '\\\n<li id=\"{{= it.rule_id }}\" class=\"rule-container\"> \\\n  <div class=\"rule-header\"> \\\n    <div class=\"btn-group pull-right rule-actions\"> \\\n      <button type=\"button\" class=\"btn btn-xs btn-danger button-small\" data-delete=\"rule\"> \\\n        <i class=\"{{= it.icons.remove_rule }} padding-right-5\"></i> {{= it.lang.delete_rule }} \\\n      </button> \\\n    </div> \\\n  </div> \\\n  {{? it.settings.display_errors }} \\\n    <div class=\"error-container\"><i class=\"{{= it.icons.error }}\"></i></div> \\\n  {{?}} \\\n  <div class=\"rule-filter-container\"></div> \\\n  <div class=\"rule-operator-container\"></div> \\\n  <div class=\"rule-value-container\"></div> \\\n</li>';\n\nQueryBuilder.templates.filterSelect = '\\\n{{ var optgroup = null; }} \\\n<div class=\"select-style form-control edit-form\">\\\n<select class=\"form-control\" name=\"{{= it.rule.id }}_filter\"> \\\n  {{? it.settings.display_empty_filter }} \\\n    <option value=\"-1\">{{= it.settings.select_placeholder }}</option> \\\n  {{?}} \\\n  {{~ it.filters: filter }} \\\n    {{? optgroup !== filter.optgroup }} \\\n      {{? optgroup !== null }}</optgroup>{{?}} \\\n      {{? (optgroup = filter.optgroup) !== null }} \\\n        <optgroup label=\"{{= it.translate(it.settings.optgroups[optgroup]) }}\"> \\\n      {{?}} \\\n    {{?}} \\\n    <option value=\"{{= filter.id }}\">{{= it.translate(filter.label) }}</option> \\\n  {{~}} \\\n  {{? optgroup !== null }}</optgroup>{{?}} \\\n</select>\\\n</div>';\n\nQueryBuilder.templates.operatorSelect = '\\\n{{ var optgroup = null; }} \\\n<div class=\"select-style form-control edit-form\">\\\n<select class=\"form-control\" name=\"{{= it.rule.id }}_operator\"> \\\n  {{~ it.operators: operator }} \\\n    {{? optgroup !== operator.optgroup }} \\\n      {{? optgroup !== null }}</optgroup>{{?}} \\\n      {{? (optgroup = operator.optgroup) !== null }} \\\n        <optgroup label=\"{{= it.translate(it.settings.optgroups[optgroup]) }}\"> \\\n      {{?}} \\\n    {{?}} \\\n    <option value=\"{{= operator.type }}\">{{= it.lang.operators[operator.type] || operator.type }}</option> \\\n  {{~}} \\\n  {{? optgroup !== null }}</optgroup>{{?}} \\\n</select>\\\n</div>';\n\nexports.default = QueryBuilder;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvRXh0ZW5zaW9ucy9FeHRlbmRlZFF1ZXJ5QnVpbGRlci5qcz82YzQ4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgJy4uLy4uL2xpYi9xdWVyeS1idWlsZGVyLmpzJztcbmltcG9ydCAnLi4vLi4vbGliL3F1ZXJ5LWJ1aWxkZXIuY3NzJztcblxuY29uc3QgUXVlcnlCdWlsZGVyID0gJC5mbi5xdWVyeUJ1aWxkZXIuY29uc3RydWN0b3I7XG5cbmxldCB0eXBlcyA9IHtcbiAgICAnbnVtYmVyJzogJ3N0cmluZycsXG4gICAgJ2VudW0nOiAnc3RyaW5nJyxcbiAgICAnYXJyYXknOiAnc3RyaW5nJ1xufTtcblxuUXVlcnlCdWlsZGVyLnR5cGVzID0gXy5leHRlbmQoUXVlcnlCdWlsZGVyLnR5cGVzLCB0eXBlcyk7XG5cblF1ZXJ5QnVpbGRlci50ZW1wbGF0ZXMuZ3JvdXAgPSAnXFxcbjxkbCBpZD1cInt7PSBpdC5ncm91cF9pZCB9fVwiIGNsYXNzPVwicnVsZXMtZ3JvdXAtY29udGFpbmVyXCI+IFxcXG4gIDxkdCBjbGFzcz1cInJ1bGVzLWdyb3VwLWhlYWRlclwiPiBcXFxuICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgcHVsbC1yaWdodCBncm91cC1hY3Rpb25zXCI+IFxcXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLXN1Y2Nlc3MgYnV0dG9uIGJ1dHRvbi1zbWFsbCBidXR0b24tcHJpbWFyeSBtYXJnaW4tbm9uZS1hbGxcIiBkYXRhLWFkZD1cInJ1bGVcIj4gXFxcbiAgICAgICAgPGkgY2xhc3M9XCJ7ez0gaXQuaWNvbnMuYWRkX3J1bGUgfX1cIj48L2k+IHt7PSBpdC5sYW5nLmFkZF9ydWxlIH19IFxcXG4gICAgICA8L2J1dHRvbj4gXFxcbiAgICAgIHt7PyBpdC5zZXR0aW5ncy5hbGxvd19ncm91cHM9PT0tMSB8fCBpdC5zZXR0aW5ncy5hbGxvd19ncm91cHM+PWl0LmxldmVsIH19IFxcXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2VzcyBidXR0b24gYnV0dG9uLXNtYWxsIGJ1dHRvbi1wcmltYXJ5IG1hcmdpbi1ub25lLWFsbFwiIGRhdGEtYWRkPVwiZ3JvdXBcIj4gXFxcbiAgICAgICAgICA8aSBjbGFzcz1cInt7PSBpdC5pY29ucy5hZGRfZ3JvdXAgfX1cIj48L2k+IHt7PSBpdC5sYW5nLmFkZF9ncm91cCB9fSBcXFxuICAgICAgICA8L2J1dHRvbj4gXFxcbiAgICAgIHt7P319IFxcXG4gICAgICB7ez8gaXQubGV2ZWw+MSB9fSBcXFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLWRhbmdlciBidXR0b24gYnV0dG9uLXNtYWxsIGJ1dHRvbi1kYW5nZXIgbWFyZ2luLW5vbmUtYWxsXCIgZGF0YS1kZWxldGU9XCJncm91cFwiPiBcXFxuICAgICAgICAgIDxpIGNsYXNzPVwie3s9IGl0Lmljb25zLnJlbW92ZV9ncm91cCB9fSBwYWRkaW5nLXJpZ2h0LTVcIj48L2k+IHt7PSBpdC5sYW5nLmRlbGV0ZV9ncm91cCB9fSBcXFxuICAgICAgICA8L2J1dHRvbj4gXFxcbiAgICAgIHt7P319IFxcXG4gICAgPC9kaXY+IFxcXG4gICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBncm91cC1jb25kaXRpb25zXCI+IFxcXG4gICAgICB7e34gaXQuY29uZGl0aW9uczogY29uZGl0aW9uIH19IFxcXG4gICAgICAgIDxsYWJlbCBjbGFzcz1cImJ0biBidG4teHMgYnRuLXByaW1hcnlcIj4gXFxcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInt7PSBpdC5ncm91cF9pZCB9fV9jb25kXCIgdmFsdWU9XCJ7ez0gY29uZGl0aW9uIH19XCI+IHt7PSBpdC5sYW5nLmNvbmRpdGlvbnNbY29uZGl0aW9uXSB8fCBjb25kaXRpb24gfX0gXFxcbiAgICAgICAgPC9sYWJlbD4gXFxcbiAgICAgIHt7fn19IFxcXG4gICAgPC9kaXY+IFxcXG4gICAge3s/IGl0LnNldHRpbmdzLmRpc3BsYXlfZXJyb3JzIH19IFxcXG4gICAgICA8ZGl2IGNsYXNzPVwiZXJyb3ItY29udGFpbmVyXCI+PGkgY2xhc3M9XCJ7ez0gaXQuaWNvbnMuZXJyb3IgfX1cIj48L2k+PC9kaXY+IFxcXG4gICAge3s/fX0gXFxcbiAgPC9kdD4gXFxcbiAgPGRkIGNsYXNzPXJ1bGVzLWdyb3VwLWJvZHk+IFxcXG4gICAgPHVsIGNsYXNzPXJ1bGVzLWxpc3Q+PC91bD4gXFxcbiAgPC9kZD4gXFxcbjwvZGw+JztcblxuXG5RdWVyeUJ1aWxkZXIudGVtcGxhdGVzLnJ1bGUgPSAnXFxcbjxsaSBpZD1cInt7PSBpdC5ydWxlX2lkIH19XCIgY2xhc3M9XCJydWxlLWNvbnRhaW5lclwiPiBcXFxuICA8ZGl2IGNsYXNzPVwicnVsZS1oZWFkZXJcIj4gXFxcbiAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIHB1bGwtcmlnaHQgcnVsZS1hY3Rpb25zXCI+IFxcXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLWRhbmdlciBidXR0b24tc21hbGxcIiBkYXRhLWRlbGV0ZT1cInJ1bGVcIj4gXFxcbiAgICAgICAgPGkgY2xhc3M9XCJ7ez0gaXQuaWNvbnMucmVtb3ZlX3J1bGUgfX0gcGFkZGluZy1yaWdodC01XCI+PC9pPiB7ez0gaXQubGFuZy5kZWxldGVfcnVsZSB9fSBcXFxuICAgICAgPC9idXR0b24+IFxcXG4gICAgPC9kaXY+IFxcXG4gIDwvZGl2PiBcXFxuICB7ez8gaXQuc2V0dGluZ3MuZGlzcGxheV9lcnJvcnMgfX0gXFxcbiAgICA8ZGl2IGNsYXNzPVwiZXJyb3ItY29udGFpbmVyXCI+PGkgY2xhc3M9XCJ7ez0gaXQuaWNvbnMuZXJyb3IgfX1cIj48L2k+PC9kaXY+IFxcXG4gIHt7P319IFxcXG4gIDxkaXYgY2xhc3M9XCJydWxlLWZpbHRlci1jb250YWluZXJcIj48L2Rpdj4gXFxcbiAgPGRpdiBjbGFzcz1cInJ1bGUtb3BlcmF0b3ItY29udGFpbmVyXCI+PC9kaXY+IFxcXG4gIDxkaXYgY2xhc3M9XCJydWxlLXZhbHVlLWNvbnRhaW5lclwiPjwvZGl2PiBcXFxuPC9saT4nO1xuXG5RdWVyeUJ1aWxkZXIudGVtcGxhdGVzLmZpbHRlclNlbGVjdCA9ICdcXFxue3sgdmFyIG9wdGdyb3VwID0gbnVsbDsgfX0gXFxcbjxkaXYgY2xhc3M9XCJzZWxlY3Qtc3R5bGUgZm9ybS1jb250cm9sIGVkaXQtZm9ybVwiPlxcXG48c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cInt7PSBpdC5ydWxlLmlkIH19X2ZpbHRlclwiPiBcXFxuICB7ez8gaXQuc2V0dGluZ3MuZGlzcGxheV9lbXB0eV9maWx0ZXIgfX0gXFxcbiAgICA8b3B0aW9uIHZhbHVlPVwiLTFcIj57ez0gaXQuc2V0dGluZ3Muc2VsZWN0X3BsYWNlaG9sZGVyIH19PC9vcHRpb24+IFxcXG4gIHt7P319IFxcXG4gIHt7fiBpdC5maWx0ZXJzOiBmaWx0ZXIgfX0gXFxcbiAgICB7ez8gb3B0Z3JvdXAgIT09IGZpbHRlci5vcHRncm91cCB9fSBcXFxuICAgICAge3s/IG9wdGdyb3VwICE9PSBudWxsIH19PC9vcHRncm91cD57ez99fSBcXFxuICAgICAge3s/IChvcHRncm91cCA9IGZpbHRlci5vcHRncm91cCkgIT09IG51bGwgfX0gXFxcbiAgICAgICAgPG9wdGdyb3VwIGxhYmVsPVwie3s9IGl0LnRyYW5zbGF0ZShpdC5zZXR0aW5ncy5vcHRncm91cHNbb3B0Z3JvdXBdKSB9fVwiPiBcXFxuICAgICAge3s/fX0gXFxcbiAgICB7ez99fSBcXFxuICAgIDxvcHRpb24gdmFsdWU9XCJ7ez0gZmlsdGVyLmlkIH19XCI+e3s9IGl0LnRyYW5zbGF0ZShmaWx0ZXIubGFiZWwpIH19PC9vcHRpb24+IFxcXG4gIHt7fn19IFxcXG4gIHt7PyBvcHRncm91cCAhPT0gbnVsbCB9fTwvb3B0Z3JvdXA+e3s/fX0gXFxcbjwvc2VsZWN0PlxcXG48L2Rpdj4nO1xuXG5RdWVyeUJ1aWxkZXIudGVtcGxhdGVzLm9wZXJhdG9yU2VsZWN0ID0gJ1xcXG57eyB2YXIgb3B0Z3JvdXAgPSBudWxsOyB9fSBcXFxuPGRpdiBjbGFzcz1cInNlbGVjdC1zdHlsZSBmb3JtLWNvbnRyb2wgZWRpdC1mb3JtXCI+XFxcbjxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwie3s9IGl0LnJ1bGUuaWQgfX1fb3BlcmF0b3JcIj4gXFxcbiAge3t+IGl0Lm9wZXJhdG9yczogb3BlcmF0b3IgfX0gXFxcbiAgICB7ez8gb3B0Z3JvdXAgIT09IG9wZXJhdG9yLm9wdGdyb3VwIH19IFxcXG4gICAgICB7ez8gb3B0Z3JvdXAgIT09IG51bGwgfX08L29wdGdyb3VwPnt7P319IFxcXG4gICAgICB7ez8gKG9wdGdyb3VwID0gb3BlcmF0b3Iub3B0Z3JvdXApICE9PSBudWxsIH19IFxcXG4gICAgICAgIDxvcHRncm91cCBsYWJlbD1cInt7PSBpdC50cmFuc2xhdGUoaXQuc2V0dGluZ3Mub3B0Z3JvdXBzW29wdGdyb3VwXSkgfX1cIj4gXFxcbiAgICAgIHt7P319IFxcXG4gICAge3s/fX0gXFxcbiAgICA8b3B0aW9uIHZhbHVlPVwie3s9IG9wZXJhdG9yLnR5cGUgfX1cIj57ez0gaXQubGFuZy5vcGVyYXRvcnNbb3BlcmF0b3IudHlwZV0gfHwgb3BlcmF0b3IudHlwZSB9fTwvb3B0aW9uPiBcXFxuICB7e359fSBcXFxuICB7ez8gb3B0Z3JvdXAgIT09IG51bGwgfX08L29wdGdyb3VwPnt7P319IFxcXG48L3NlbGVjdD5cXFxuPC9kaXY+JztcblxuZXhwb3J0IGRlZmF1bHQgUXVlcnlCdWlsZGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi8uLi92ZW5pY2UtanMvTGlicmFyaWVzL0V4dGVuc2lvbnMvRXh0ZW5kZWRRdWVyeUJ1aWxkZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQWtDQTs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQWdCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQW1CQTs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQWdCQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 507:
/***/ function(module, exports, __webpack_require__) {

	eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * jQuery.extendext 0.1.1\n *\n * Copyright 2014 Damien \"Mistic\" Sorel (http://www.strangeplanet.fr)\n * Licensed under MIT (http://opensource.org/licenses/MIT)\n * \n * Based on jQuery.extend by jQuery Foundation, Inc. and other contributors\n */\n\n// // Imported by Fisa\nvar $ = __webpack_require__(24);\n\n\n/**\n * EXTEDN DEXT FOR JQUERY\n */\n(function(root, factory) {\n    factory($); // MODIFIED\n    // if (typeof define === 'function' && define.amd) {\n    //     define('jQuery.extendext', ['jquery'], factory);\n    // }\n    // else {\n    //     factory(root.jQuery);\n    // }\n}(this, function($) {\n  \"use strict\";\n\n  $.extendext = function() {\n    var options, name, src, copy, copyIsArray, clone,\n      target = arguments[0] || {},\n      i = 1,\n      length = arguments.length,\n      deep = false,\n      arrayMode = 'default';\n\n    // Handle a deep copy situation\n    if ( typeof target === \"boolean\" ) {\n      deep = target;\n\n      // Skip the boolean and the target\n      target = arguments[ i++ ] || {};\n    }\n\n    // Handle array mode parameter\n    if ( typeof target === \"string\" ) {\n      // arrayMode = $([target.toLowerCase(), 'default']).filter(['default','concat','replace','extend'])[0];\n      arrayMode = $([target.toLowerCase(), 'default']).filter(function(key, val){\n          return ['default','concat','replace','extend'].indexOf(val) > -1;\n      })[0];\n\n\n      // Skip the string param\n      target = arguments[ i++ ] || {};\n    }\n\n    // Handle case when target is a string or something (possible in deep copy)\n    if ( typeof target !== \"object\" && !$.isFunction(target) ) {\n      target = {};\n    }\n\n    // Extend jQuery itself if only one argument is passed\n    if ( i === length ) {\n      target = this;\n      i--;\n    }\n\n    for ( ; i < length; i++ ) {\n      // Only deal with non-null/undefined values\n      if ( (options = arguments[ i ]) !== null ) {\n        // Special operations for arrays\n        if ($.isArray(options) && arrayMode !== 'default') {\n          clone = target && $.isArray(target) ? target : [];\n          switch (arrayMode) {\n          case 'concat':\n            target = clone.concat( $.extend( deep, [], options ) );\n            break;\n\n          case 'replace':\n            target = $.extend( deep, [], options );\n            break;\n\n          case 'extend':\n            options.forEach(function(e, i) {\n              if (typeof e === 'object') {\n                var type = $.isArray(e) ? [] : {};\n                clone[i] = $.extendext( deep, arrayMode, clone[i] || type, e );\n\n              } else if (clone.indexOf(e) === -1) {\n                clone.push(e);\n              }\n            });\n\n            target = clone;\n            break;\n          }\n        } else {\n          // Extend the base object\n          for ( name in options ) {\n            src = target[ name ];\n            copy = options[ name ];\n\n            // Prevent never-ending loop\n            if ( target === copy ) {\n              continue;\n            }\n\n            // Recurse if we're merging plain objects or arrays\n            if ( deep && copy && ( $.isPlainObject(copy) ||\n              (copyIsArray = $.isArray(copy)) ) ) {\n\n              if ( copyIsArray ) {\n                copyIsArray = false;\n                clone = src && $.isArray(src) ? src : [];\n\n              } else {\n                clone = src && $.isPlainObject(src) ? src : {};\n              }\n\n              // Never move original objects, clone them\n              target[ name ] = $.extendext( deep, arrayMode, clone, copy );\n\n            // Don't bring in undefined values\n            } else if ( copy !== undefined ) {\n              target[ name ] = copy;\n            }\n          }\n        }\n      }\n    }\n\n    // Return the modified object\n    return target;\n  };\n}));\n\n/**\n * doT JS\n */\n// doT.js\n// 2011-2014, Laura Doktorova, https://github.com/olado/doT\n// Licensed under the MIT license.\nvar GLOBALS = {\n    jQuery: $\n};\n(function() {\n\t\"use strict\";\n\n    var doT = {\n\t\tversion: \"1.0.3\",\n\t\ttemplateSettings: {\n\t\t\tevaluate:    /\\{\\{([\\s\\S]+?(\\}?)+)\\}\\}/g,\n\t\t\tinterpolate: /\\{\\{=([\\s\\S]+?)\\}\\}/g,\n\t\t\tencode:      /\\{\\{!([\\s\\S]+?)\\}\\}/g,\n\t\t\tuse:         /\\{\\{#([\\s\\S]+?)\\}\\}/g,\n\t\t\tuseParams:   /(^|[^\\w$])def(?:\\.|\\[[\\'\\\"])([\\w$\\.]+)(?:[\\'\\\"]\\])?\\s*\\:\\s*([\\w$\\.]+|\\\"[^\\\"]+\\\"|\\'[^\\']+\\'|\\{[^\\}]+\\})/g,\n\t\t\tdefine:      /\\{\\{##\\s*([\\w\\.$]+)\\s*(\\:|=)([\\s\\S]+?)#\\}\\}/g,\n\t\t\tdefineParams:/^\\s*([\\w$]+):([\\s\\S]+)/,\n\t\t\tconditional: /\\{\\{\\?(\\?)?\\s*([\\s\\S]*?)\\s*\\}\\}/g,\n\t\t\titerate:     /\\{\\{~\\s*(?:\\}\\}|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+))?\\s*\\}\\})/g,\n\t\t\tvarname:\t\"it\",\n\t\t\tstrip:\t\ttrue,\n\t\t\tappend:\t\ttrue,\n\t\t\tselfcontained: false,\n\t\t\tdoNotSkipEncoded: false\n\t\t},\n\t\ttemplate: undefined, //fn, compile template\n\t\tcompile:  undefined  //fn, for express\n\t};\n    var _globals;\n\n\tdoT.encodeHTMLSource = function(doNotSkipEncoded) {\n\t\tvar encodeHTMLRules = { \"&\": \"&#38;\", \"<\": \"&#60;\", \">\": \"&#62;\", '\"': \"&#34;\", \"'\": \"&#39;\", \"/\": \"&#47;\" },\n\t\t\tmatchHTML = doNotSkipEncoded ? /[&<>\"'\\/]/g : /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\t\treturn function(code) {\n\t\t\treturn code ? code.toString().replace(matchHTML, function(m) {return encodeHTMLRules[m] || m;}) : \"\";\n\t\t};\n\t};\n\n\t_globals = (function(){ return this || (0,eval)(\"this\"); }());\n\n\tif (typeof module !== \"undefined\" && module.exports) {\n\t\tmodule.exports = doT;\n\t} else if (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function(){return doT;}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {\n\t\t_globals.doT = doT;\n\t}\n\n\tvar startend = {\n\t\tappend: { start: \"'+(\",      end: \")+'\",      startencode: \"'+encodeHTML(\" },\n\t\tsplit:  { start: \"';out+=(\", end: \");out+='\", startencode: \"';out+=encodeHTML(\" }\n\t}, skip = /$^/;\n\n\tfunction resolveDefs(c, block, def) {\n\t\treturn ((typeof block === \"string\") ? block : block.toString())\n\t\t.replace(c.define || skip, function(m, code, assign, value) {\n\t\t\tif (code.indexOf(\"def.\") === 0) {\n\t\t\t\tcode = code.substring(4);\n\t\t\t}\n\t\t\tif (!(code in def)) {\n\t\t\t\tif (assign === \":\") {\n\t\t\t\t\tif (c.defineParams) value.replace(c.defineParams, function(m, param, v) {\n\t\t\t\t\t\tdef[code] = {arg: param, text: v};\n\t\t\t\t\t});\n\t\t\t\t\tif (!(code in def)) def[code]= value;\n\t\t\t\t} else {\n\t\t\t\t\tnew Function(\"def\", \"def['\"+code+\"']=\" + value)(def);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn \"\";\n\t\t})\n\t\t.replace(c.use || skip, function(m, code) {\n\t\t\tif (c.useParams) code = code.replace(c.useParams, function(m, s, d, param) {\n\t\t\t\tif (def[d] && def[d].arg && param) {\n\t\t\t\t\tvar rw = (d+\":\"+param).replace(/'|\\\\/g, \"_\");\n\t\t\t\t\tdef.__exp = def.__exp || {};\n\t\t\t\t\tdef.__exp[rw] = def[d].text.replace(new RegExp(\"(^|[^\\\\w$])\" + def[d].arg + \"([^\\\\w$])\", \"g\"), \"$1\" + param + \"$2\");\n\t\t\t\t\treturn s + \"def.__exp['\"+rw+\"']\";\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar v = new Function(\"def\", \"return \" + code)(def);\n\t\t\treturn v ? resolveDefs(c, v, def) : v;\n\t\t});\n\t}\n\n\tfunction unescape(code) {\n\t\treturn code.replace(/\\\\('|\\\\)/g, \"$1\").replace(/[\\r\\t\\n]/g, \" \");\n\t}\n\n\tdoT.template = function(tmpl, c, def) {\n\t\tc = c || doT.templateSettings;\n\t\tvar cse = c.append ? startend.append : startend.split, needhtmlencode, sid = 0, indv,\n\t\t\tstr  = (c.use || c.define) ? resolveDefs(c, tmpl, def || {}) : tmpl;\n\n\t\tstr = (\"var out='\" + (c.strip ? str.replace(/(^|\\r|\\n)\\t* +| +\\t*(\\r|\\n|$)/g,\" \")\n\t\t\t\t\t.replace(/\\r|\\n|\\t|\\/\\*[\\s\\S]*?\\*\\//g,\"\"): str)\n\t\t\t.replace(/'|\\\\/g, \"\\\\$&\")\n\t\t\t.replace(c.interpolate || skip, function(m, code) {\n\t\t\t\treturn cse.start + unescape(code) + cse.end;\n\t\t\t})\n\t\t\t.replace(c.encode || skip, function(m, code) {\n\t\t\t\tneedhtmlencode = true;\n\t\t\t\treturn cse.startencode + unescape(code) + cse.end;\n\t\t\t})\n\t\t\t.replace(c.conditional || skip, function(m, elsecase, code) {\n\t\t\t\treturn elsecase ?\n\t\t\t\t\t(code ? \"';}else if(\" + unescape(code) + \"){out+='\" : \"';}else{out+='\") :\n\t\t\t\t\t(code ? \"';if(\" + unescape(code) + \"){out+='\" : \"';}out+='\");\n\t\t\t})\n\t\t\t.replace(c.iterate || skip, function(m, iterate, vname, iname) {\n\t\t\t\tif (!iterate) return \"';} } out+='\";\n\t\t\t\tsid+=1; indv=iname || \"i\"+sid; iterate=unescape(iterate);\n\t\t\t\treturn \"';var arr\"+sid+\"=\"+iterate+\";if(arr\"+sid+\"){var \"+vname+\",\"+indv+\"=-1,l\"+sid+\"=arr\"+sid+\".length-1;while(\"+indv+\"<l\"+sid+\"){\"\n\t\t\t\t\t+vname+\"=arr\"+sid+\"[\"+indv+\"+=1];out+='\";\n\t\t\t})\n\t\t\t.replace(c.evaluate || skip, function(m, code) {\n\t\t\t\treturn \"';\" + unescape(code) + \"out+='\";\n\t\t\t})\n\t\t\t+ \"';return out;\")\n\t\t\t.replace(/\\n/g, \"\\\\n\").replace(/\\t/g, '\\\\t').replace(/\\r/g, \"\\\\r\")\n\t\t\t.replace(/(\\s|;|\\}|^|\\{)out\\+='';/g, '$1').replace(/\\+''/g, \"\");\n\t\t\t//.replace(/(\\s|;|\\}|^|\\{)out\\+=''\\+/g,'$1out+=');\n\n\t\tif (needhtmlencode) {\n\t\t\tif (!c.selfcontained && _globals && !_globals._encodeHTML) _globals._encodeHTML = doT.encodeHTMLSource(c.doNotSkipEncoded);\n\t\t\tstr = \"var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : (\"\n\t\t\t\t+ doT.encodeHTMLSource.toString() + \"(\" + (c.doNotSkipEncoded || '') + \"));\"\n\t\t\t\t+ str;\n\t\t}\n\t\ttry {\n\t\t\treturn new Function(c.varname, str);\n\t\t} catch (e) {\n\t\t\tif (typeof console !== \"undefined\") console.log(\"Could not create a template function: \" + str);\n\t\t\tthrow e;\n\t\t}\n\t};\n\n\tdoT.compile = function(tmpl, def) {\n\t\treturn doT.template(tmpl, null, def);\n\t};\n    GLOBALS.doT = doT;\n}());\n\n/*!\n * jQuery QueryBuilder 2.3.3\n * Copyright 2014-2016 Damien \"Mistic\" Sorel (http://www.strangeplanet.fr)\n * Licensed under MIT (http://opensource.org/licenses/MIT)\n */\n\n// Languages: en\n// Plugins: bt-checkbox, bt-selectpicker, bt-tooltip-errors, change-filters, filter-description, invert, mongodb-support, sortable, sql-support, unique-filter\n(function(root, factory) {\n    // if (typeof define == 'function' && define.amd) {\n    //     define('query-builder', ['jquery', 'doT', 'jQuery.extendext'], factory);\n    // }\n    // else {\n        factory(root.jQuery, root.doT);\n    // }\n}(GLOBALS, function($, doT) {\n\"use strict\";\n\n// CLASS DEFINITION\n// ===============================\nvar QueryBuilder = function($el, options) {\n    this.init($el, options);\n};\n\n// EVENTS SYSTEM\n// ===============================\n$.extend(QueryBuilder.prototype, {\n    change: function(type, value) {\n        var event = new $.Event(type + '.queryBuilder.filter', {\n            builder: this,\n            value: value\n        });\n\n        this.$el.triggerHandler(event, Array.prototype.slice.call(arguments, 2));\n\n        return event.value;\n    },\n\n    trigger: function(type) {\n        var event = new $.Event(type + '.queryBuilder', {\n            builder: this\n        });\n\n        this.$el.triggerHandler(event, Array.prototype.slice.call(arguments, 1));\n\n        return event;\n    },\n\n    on: function(type, cb) {\n        this.$el.on(type + '.queryBuilder', cb);\n        return this;\n    },\n\n    off: function(type, cb) {\n        this.$el.off(type + '.queryBuilder', cb);\n        return this;\n    },\n\n    once: function(type, cb) {\n        this.$el.one(type + '.queryBuilder', cb);\n        return this;\n    }\n});\n\n\n// PLUGINS SYSTEM\n// ===============================\nQueryBuilder.plugins = {};\n\n/**\n * Get or extend the default configuration\n * @param options {object,optional} new configuration, leave undefined to get the default config\n * @return {undefined|object} nothing or configuration object (copy)\n */\nQueryBuilder.defaults = function(options) {\n    if (typeof options == 'object') {\n        $.extendext(true, 'replace', QueryBuilder.DEFAULTS, options);\n    }\n    else if (typeof options == 'string') {\n        if (typeof QueryBuilder.DEFAULTS[options] == 'object') {\n            return $.extend(true, {}, QueryBuilder.DEFAULTS[options]);\n        }\n        else {\n            return QueryBuilder.DEFAULTS[options];\n        }\n    }\n    else {\n        return $.extend(true, {}, QueryBuilder.DEFAULTS);\n    }\n};\n\n/**\n * Define a new plugin\n * @param name {string}\n * @param fct {function}\n * @param  def {object,optional} default configuration\n */\nQueryBuilder.define = function(name, fct, def) {\n    QueryBuilder.plugins[name] = {\n        fct: fct,\n        def: def || {}\n    };\n};\n\n/**\n * Add new methods\n * @param {object}\n */\nQueryBuilder.extend = function(methods) {\n    $.extend(QueryBuilder.prototype, methods);\n};\n\n/**\n * Init plugins for an instance\n * @throws ConfigError\n */\nQueryBuilder.prototype.initPlugins = function() {\n    if (!this.plugins) {\n        return;\n    }\n\n    if ($.isArray(this.plugins)) {\n        var tmp = {};\n        this.plugins.forEach(function(plugin) {\n            tmp[plugin] = null;\n        });\n        this.plugins = tmp;\n    }\n\n    Object.keys(this.plugins).forEach(function(plugin) {\n        if (plugin in QueryBuilder.plugins) {\n            this.plugins[plugin] = $.extend(true, {},\n                QueryBuilder.plugins[plugin].def,\n                this.plugins[plugin] || {}\n            );\n\n            QueryBuilder.plugins[plugin].fct.call(this, this.plugins[plugin]);\n        }\n        else {\n            Utils.error('Config', 'Unable to find plugin \"{0}\"', plugin);\n        }\n    }, this);\n};\n\n\n/**\n * Allowed types and their internal representation\n */\nQueryBuilder.types = {\n    'string':   'string',\n    'integer':  'number',\n    'double':   'number',\n    'number':   'number',\n    'date':     'datetime',\n    'time':     'datetime',\n    'datetime': 'datetime',\n    'boolean':  'boolean'\n};\n\n/**\n * Allowed inputs\n */\nQueryBuilder.inputs = [\n    'text',\n    'textarea',\n    'radio',\n    'checkbox',\n    'select'\n];\n\n/**\n * Runtime modifiable options with `setOptions` method\n */\nQueryBuilder.modifiable_options = [\n    'display_errors',\n    'allow_groups',\n    'allow_empty',\n    'default_condition',\n    'default_filter'\n];\n\n/**\n * CSS selectors for common components\n */\nvar Selectors = QueryBuilder.selectors = {\n    group_container:      '.rules-group-container',\n    rule_container:       '.rule-container',\n    filter_container:     '.rule-filter-container',\n    operator_container:   '.rule-operator-container',\n    value_container:      '.rule-value-container',\n    error_container:      '.error-container',\n    condition_container:  '.rules-group-header .group-conditions',\n\n    rule_header:          '.rule-header',\n    group_header:         '.rules-group-header',\n    group_actions:        '.group-actions',\n    rule_actions:         '.rule-actions',\n\n    rules_list:           '.rules-group-body>.rules-list',\n\n    group_condition:      '.rules-group-header [name$=_cond]',\n    rule_filter:          '.rule-filter-container [name$=_filter]',\n    rule_operator:        '.rule-operator-container [name$=_operator]',\n    rule_value:           '.rule-value-container [name*=_value_]',\n\n    add_rule:             '[data-add=rule]',\n    delete_rule:          '[data-delete=rule]',\n    add_group:            '[data-add=group]',\n    delete_group:         '[data-delete=group]'\n};\n\n/**\n * Template strings (see `template.js`)\n */\nQueryBuilder.templates = {};\n\n/**\n * Localized strings (see `i18n/`)\n */\nQueryBuilder.regional = {};\n\n/**\n * Default operators\n */\nQueryBuilder.OPERATORS = {\n    equal:            { type: 'equal',            nb_inputs: 1, multiple: false, apply_to: ['string', 'number', 'datetime', 'boolean'] },\n    not_equal:        { type: 'not_equal',        nb_inputs: 1, multiple: false, apply_to: ['string', 'number', 'datetime', 'boolean'] },\n    in:               { type: 'in',               nb_inputs: 1, multiple: true,  apply_to: ['string', 'number', 'datetime'] },\n    not_in:           { type: 'not_in',           nb_inputs: 1, multiple: true,  apply_to: ['string', 'number', 'datetime'] },\n    less:             { type: 'less',             nb_inputs: 1, multiple: false, apply_to: ['number', 'datetime'] },\n    less_or_equal:    { type: 'less_or_equal',    nb_inputs: 1, multiple: false, apply_to: ['number', 'datetime'] },\n    greater:          { type: 'greater',          nb_inputs: 1, multiple: false, apply_to: ['number', 'datetime'] },\n    greater_or_equal: { type: 'greater_or_equal', nb_inputs: 1, multiple: false, apply_to: ['number', 'datetime'] },\n    between:          { type: 'between',          nb_inputs: 2, multiple: false, apply_to: ['number', 'datetime'] },\n    not_between:      { type: 'not_between',      nb_inputs: 2, multiple: false, apply_to: ['number', 'datetime'] },\n    begins_with:      { type: 'begins_with',      nb_inputs: 1, multiple: false, apply_to: ['string'] },\n    not_begins_with:  { type: 'not_begins_with',  nb_inputs: 1, multiple: false, apply_to: ['string'] },\n    contains:         { type: 'contains',         nb_inputs: 1, multiple: false, apply_to: ['string'] },\n    not_contains:     { type: 'not_contains',     nb_inputs: 1, multiple: false, apply_to: ['string'] },\n    ends_with:        { type: 'ends_with',        nb_inputs: 1, multiple: false, apply_to: ['string'] },\n    not_ends_with:    { type: 'not_ends_with',    nb_inputs: 1, multiple: false, apply_to: ['string'] },\n    is_empty:         { type: 'is_empty',         nb_inputs: 0, multiple: false, apply_to: ['string'] },\n    is_not_empty:     { type: 'is_not_empty',     nb_inputs: 0, multiple: false, apply_to: ['string'] },\n    is_null:          { type: 'is_null',          nb_inputs: 0, multiple: false, apply_to: ['string', 'number', 'datetime', 'boolean'] },\n    is_not_null:      { type: 'is_not_null',      nb_inputs: 0, multiple: false, apply_to: ['string', 'number', 'datetime', 'boolean'] }\n};\n\n/**\n * Default configuration\n */\nQueryBuilder.DEFAULTS = {\n    filters: [],\n    plugins: [],\n\n    sort_filters: false,\n    display_errors: true,\n    allow_groups: -1,\n    allow_empty: false,\n    conditions: ['AND', 'OR'],\n    default_condition: 'AND',\n    inputs_separator: ' , ',\n    select_placeholder: '------',\n    display_empty_filter: true,\n    default_filter: null,\n    optgroups: {},\n\n    default_rule_flags: {\n        filter_readonly: false,\n        operator_readonly: false,\n        value_readonly: false,\n        no_delete: false\n    },\n\n    default_group_flags: {\n        condition_readonly: false,\n        no_delete: false\n    },\n\n    templates: {\n        group: null,\n        rule: null,\n        filterSelect: null,\n        operatorSelect: null\n    },\n\n    lang_code: 'en',\n    lang: {},\n\n    operators: [\n        'equal',\n        'not_equal',\n        'in',\n        'not_in',\n        'less',\n        'less_or_equal',\n        'greater',\n        'greater_or_equal',\n        'between',\n        'not_between',\n        'begins_with',\n        'not_begins_with',\n        'contains',\n        'not_contains',\n        'ends_with',\n        'not_ends_with',\n        'is_empty',\n        'is_not_empty',\n        'is_null',\n        'is_not_null'\n    ],\n\n    icons: {\n        add_group:    'glyphicon glyphicon-plus-sign',\n        add_rule:     'glyphicon glyphicon-plus',\n        remove_group: 'glyphicon glyphicon-remove',\n        remove_rule:  'glyphicon glyphicon-remove',\n        error:        'glyphicon glyphicon-warning-sign'\n    }\n};\n\n\n/**\n * Init the builder\n */\nQueryBuilder.prototype.init = function($el, options) {\n    $el[0].queryBuilder = this;\n    this.$el = $el;\n\n    // PROPERTIES\n    this.settings = $.extendext(true, 'replace', {}, QueryBuilder.DEFAULTS, options);\n    this.model = new Model();\n    this.status = {\n        group_id: 0,\n        rule_id: 0,\n        generated_id: false,\n        has_optgroup: false,\n        has_operator_oprgroup: false,\n        id: null,\n        updating_value: false\n    };\n\n    // \"allow_groups\" can be boolean or int\n    if (this.settings.allow_groups === false) {\n        this.settings.allow_groups = 0;\n    }\n    else if (this.settings.allow_groups === true) {\n        this.settings.allow_groups = -1;\n    }\n\n    // SETTINGS SHORTCUTS\n    this.filters = this.settings.filters;\n    this.icons = this.settings.icons;\n    this.operators = this.settings.operators;\n    this.templates = this.settings.templates;\n    this.plugins = this.settings.plugins;\n\n    // translations : english << 'lang_code' << custom\n    if (QueryBuilder.regional['en'] === undefined) {\n        Utils.error('Config', '\"i18n/en.js\" not loaded.');\n    }\n    this.lang = $.extendext(true, 'replace', {}, QueryBuilder.regional['en'], QueryBuilder.regional[this.settings.lang_code], this.settings.lang);\n\n    // init templates\n    Object.keys(this.templates).forEach(function(tpl) {\n        if (!this.templates[tpl]) {\n            this.templates[tpl] = QueryBuilder.templates[tpl];\n        }\n        if (typeof this.templates[tpl] == 'string') {\n            this.templates[tpl] = doT.template(this.templates[tpl]);\n        }\n    }, this);\n\n    // ensure we have a container id\n    if (!this.$el.attr('id')) {\n        this.$el.attr('id', 'qb_' + Math.floor(Math.random() * 99999));\n        this.status.generated_id = true;\n    }\n    this.status.id = this.$el.attr('id');\n\n    // INIT\n    this.$el.addClass('query-builder form-inline');\n\n    this.filters = this.checkFilters(this.filters);\n    this.operators = this.checkOperators(this.operators);\n    this.bindEvents();\n    this.initPlugins();\n\n    this.trigger('afterInit');\n\n    if (options.rules) {\n        this.setRules(options.rules);\n        delete this.settings.rules;\n    }\n    else {\n        this.setRoot(true);\n    }\n};\n\n/**\n * Checks the configuration of each filter\n * @throws ConfigError\n */\nQueryBuilder.prototype.checkFilters = function(filters) {\n    var definedFilters = [];\n\n    if (!filters || filters.length === 0) {\n        Utils.error('Config', 'Missing filters list');\n    }\n\n    filters.forEach(function(filter, i) {\n        if (!filter.id) {\n            Utils.error('Config', 'Missing filter {0} id', i);\n        }\n        if (definedFilters.indexOf(filter.id) != -1) {\n            Utils.error('Config', 'Filter \"{0}\" already defined', filter.id);\n        }\n        definedFilters.push(filter.id);\n\n        if (!filter.type) {\n            filter.type = 'string';\n        }\n        else if (!QueryBuilder.types[filter.type]) {\n            Utils.error('Config', 'Invalid type \"{0}\"', filter.type);\n        }\n\n        if (!filter.input) {\n            filter.input = 'text';\n        }\n        else if (typeof filter.input != 'function' && QueryBuilder.inputs.indexOf(filter.input) == -1) {\n            Utils.error('Config', 'Invalid input \"{0}\"', filter.input);\n        }\n\n        if (filter.operators) {\n            filter.operators.forEach(function(operator) {\n                if (typeof operator != 'string') {\n                    Utils.error('Config', 'Filter operators must be global operators types (string)');\n                }\n            });\n        }\n\n        if (!filter.field) {\n            filter.field = filter.id;\n        }\n        if (!filter.label) {\n            filter.label = filter.field;\n        }\n\n        if (!filter.optgroup) {\n            filter.optgroup = null;\n        }\n        else {\n            this.status.has_optgroup = true;\n\n            // register optgroup if needed\n            if (!this.settings.optgroups[filter.optgroup]) {\n                this.settings.optgroups[filter.optgroup] = filter.optgroup;\n            }\n        }\n\n        switch (filter.input) {\n            case 'radio': case 'checkbox':\n                if (!filter.values || filter.values.length < 1) {\n                    Utils.error('Config', 'Missing filter \"{0}\" values', filter.id);\n                }\n                break;\n\n            case 'select':\n                if (filter.placeholder) {\n                    if (filter.placeholder_value === undefined) {\n                        filter.placeholder_value = -1;\n                    }\n                    Utils.iterateOptions(filter.values, function(key) {\n                        if (key == filter.placeholder_value) {\n                            Utils.error('Config', 'Placeholder of filter \"{0}\" overlaps with one of its values', filter.id);\n                        }\n                    });\n                }\n                break;\n        }\n    }, this);\n\n    if (this.settings.sort_filters) {\n        if (typeof this.settings.sort_filters == 'function') {\n            filters.sort(this.settings.sort_filters);\n        }\n        else {\n            var self = this;\n            filters.sort(function(a, b) {\n                return self.translateLabel(a.label).localeCompare(self.translateLabel(b.label));\n            });\n        }\n    }\n\n    if (this.status.has_optgroup) {\n        filters = Utils.groupSort(filters, 'optgroup');\n    }\n\n    return filters;\n};\n\n/**\n * Checks the configuration of each operator\n * @throws ConfigError\n */\nQueryBuilder.prototype.checkOperators = function(operators) {\n    var definedOperators = [];\n\n    operators.forEach(function(operator, i) {\n        if (typeof operator == 'string') {\n            if (!QueryBuilder.OPERATORS[operator]) {\n                Utils.error('Config', 'Unknown operator \"{0}\"', operator);\n            }\n\n            operators[i] = operator = $.extendext(true, 'replace', {}, QueryBuilder.OPERATORS[operator]);\n        }\n        else {\n            if (!operator.type) {\n                Utils.error('Config', 'Missing \"type\" for operator {0}', i);\n            }\n\n            if (QueryBuilder.OPERATORS[operator.type]) {\n                operators[i] = operator = $.extendext(true, 'replace', {}, QueryBuilder.OPERATORS[operator.type], operator);\n            }\n\n            if (operator.nb_inputs === undefined || operator.apply_to === undefined) {\n                Utils.error('Config', 'Missing \"nb_inputs\" and/or \"apply_to\" for operator \"{0}\"', operator.type);\n            }\n        }\n\n        if (definedOperators.indexOf(operator.type) != -1) {\n            Utils.error('Config', 'Operator \"{0}\" already defined', operator.type);\n        }\n        definedOperators.push(operator.type);\n\n        if (!operator.optgroup) {\n            operator.optgroup = null;\n        }\n        else {\n            this.status.has_operator_optgroup = true;\n\n            // register optgroup if needed\n            if (!this.settings.optgroups[operator.optgroup]) {\n                this.settings.optgroups[operator.optgroup] = operator.optgroup;\n            }\n        }\n    }, this);\n\n    if (this.status.has_operator_optgroup) {\n        operators = Utils.groupSort(operators, 'optgroup');\n    }\n\n    return operators;\n};\n\n/**\n * Add all events listeners\n */\nQueryBuilder.prototype.bindEvents = function() {\n    var self = this;\n\n    // group condition change\n    this.$el.on('change.queryBuilder', Selectors.group_condition, function() {\n        if ($(this).is(':checked')) {\n            var $group = $(this).closest(Selectors.group_container);\n            Model($group).condition = $(this).val();\n        }\n    });\n\n    // rule filter change\n    this.$el.on('change.queryBuilder', Selectors.rule_filter, function() {\n        var $rule = $(this).closest(Selectors.rule_container);\n        Model($rule).filter = self.getFilterById($(this).val());\n    });\n\n    // rule operator change\n    this.$el.on('change.queryBuilder', Selectors.rule_operator, function() {\n        var $rule = $(this).closest(Selectors.rule_container);\n        Model($rule).operator = self.getOperatorByType($(this).val());\n    });\n\n    // add rule button\n    this.$el.on('click.queryBuilder', Selectors.add_rule, function() {\n        var $group = $(this).closest(Selectors.group_container);\n        self.addRule(Model($group));\n    });\n\n    // delete rule button\n    this.$el.on('click.queryBuilder', Selectors.delete_rule, function() {\n        var $rule = $(this).closest(Selectors.rule_container);\n        self.deleteRule(Model($rule));\n    });\n\n    if (this.settings.allow_groups !== 0) {\n        // add group button\n        this.$el.on('click.queryBuilder', Selectors.add_group, function() {\n            var $group = $(this).closest(Selectors.group_container);\n            self.addGroup(Model($group));\n        });\n\n        // delete group button\n        this.$el.on('click.queryBuilder', Selectors.delete_group, function() {\n            var $group = $(this).closest(Selectors.group_container);\n            self.deleteGroup(Model($group));\n        });\n    }\n\n    // model events\n    this.model.on({\n        'drop': function(e, node) {\n            node.$el.remove();\n            self.refreshGroupsConditions();\n        },\n        'add': function(e, node, index) {\n            if (index === 0) {\n                node.$el.prependTo(node.parent.$el.find('>' + Selectors.rules_list));\n            }\n            else {\n                node.$el.insertAfter(node.parent.rules[index - 1].$el);\n            }\n            self.refreshGroupsConditions();\n        },\n        'move': function(e, node, group, index) {\n            node.$el.detach();\n\n            if (index === 0) {\n                node.$el.prependTo(group.$el.find('>' + Selectors.rules_list));\n            }\n            else {\n                node.$el.insertAfter(group.rules[index - 1].$el);\n            }\n            self.refreshGroupsConditions();\n        },\n        'update': function(e, node, field, value, oldValue) {\n            if (node instanceof Rule) {\n                switch (field) {\n                    case 'error':\n                        self.displayError(node);\n                        break;\n\n                    case 'flags':\n                        self.applyRuleFlags(node);\n                        break;\n\n                    case 'filter':\n                        self.updateRuleFilter(node);\n                        break;\n\n                    case 'operator':\n                        self.updateRuleOperator(node, oldValue);\n                        break;\n\n                    case 'value':\n                        self.updateRuleValue(node);\n                        break;\n                }\n            }\n            else {\n                switch (field) {\n                    case 'error':\n                        self.displayError(node);\n                        break;\n\n                    case 'flags':\n                        self.applyGroupFlags(node);\n                        break;\n\n                    case 'condition':\n                        self.updateGroupCondition(node);\n                        break;\n                }\n            }\n        }\n    });\n};\n\n/**\n * Create the root group\n * @param addRule {bool,optional} add a default empty rule\n * @param data {mixed,optional} group custom data\n * @param flags {object,optional} flags to apply to the group\n * @return group {Root}\n */\nQueryBuilder.prototype.setRoot = function(addRule, data, flags) {\n    addRule = (addRule === undefined || addRule === true);\n\n    var group_id = this.nextGroupId();\n    var $group = $(this.getGroupTemplate(group_id, 1));\n\n    this.$el.append($group);\n    this.model.root = new Group(null, $group);\n    this.model.root.model = this.model;\n\n    this.model.root.data = data;\n    this.model.root.flags = $.extend({}, this.settings.default_group_flags, flags);\n\n    this.trigger('afterAddGroup', this.model.root);\n\n    this.model.root.condition = this.settings.default_condition;\n\n    if (addRule) {\n        this.addRule(this.model.root);\n    }\n\n    return this.model.root;\n};\n\n/**\n * Add a new group\n * @param parent {Group}\n * @param addRule {bool,optional} add a default empty rule\n * @param data {mixed,optional} group custom data\n * @param flags {object,optional} flags to apply to the group\n * @return group {Group}\n */\nQueryBuilder.prototype.addGroup = function(parent, addRule, data, flags) {\n    addRule = (addRule === undefined || addRule === true);\n\n    var level = parent.level + 1;\n\n    var e = this.trigger('beforeAddGroup', parent, addRule, level);\n    if (e.isDefaultPrevented()) {\n        return null;\n    }\n\n    var group_id = this.nextGroupId();\n    var $group = $(this.getGroupTemplate(group_id, level));\n    var model = parent.addGroup($group);\n\n    model.data = data;\n    model.flags = $.extend({}, this.settings.default_group_flags, flags);\n\n    this.trigger('afterAddGroup', model);\n\n    model.condition = this.settings.default_condition;\n\n    if (addRule) {\n        this.addRule(model);\n    }\n\n    return model;\n};\n\n/**\n * Tries to delete a group. The group is not deleted if at least one rule is no_delete.\n * @param group {Group}\n * @return {boolean} true if the group has been deleted\n */\nQueryBuilder.prototype.deleteGroup = function(group) {\n    if (group.isRoot()) {\n        return false;\n    }\n\n    var e = this.trigger('beforeDeleteGroup', group);\n    if (e.isDefaultPrevented()) {\n        return false;\n    }\n\n    var del = true;\n\n    group.each('reverse', function(rule) {\n        del&= this.deleteRule(rule);\n    }, function(group) {\n        del&= this.deleteGroup(group);\n    }, this);\n\n    if (del) {\n        group.drop();\n        this.trigger('afterDeleteGroup');\n    }\n\n    return del;\n};\n\n/**\n * Changes the condition of a group\n * @param group {Group}\n */\nQueryBuilder.prototype.updateGroupCondition = function(group) {\n    group.$el.find('>' + Selectors.group_condition).each(function() {\n        var $this = $(this);\n        $this.prop('checked', $this.val() === group.condition);\n        $this.parent().toggleClass('active', $this.val() === group.condition);\n    });\n\n    this.trigger('afterUpdateGroupCondition', group);\n};\n\n/**\n * Update visibility of conditions based on number of rules inside each group\n */\nQueryBuilder.prototype.refreshGroupsConditions = function() {\n    (function walk(group) {\n        if (!group.flags || (group.flags && !group.flags.condition_readonly)) {\n            group.$el.find('>' + Selectors.group_condition).prop('disabled', group.rules.length <= 1)\n                .parent().toggleClass('disabled', group.rules.length <= 1);\n        }\n\n        group.each(function(rule) {}, function(group) {\n            walk(group);\n        }, this);\n    }(this.model.root));\n};\n\n/**\n * Add a new rule\n * @param parent {Group}\n * @param data {mixed,optional} rule custom data\n * @param flags {object,optional} flags to apply to the rule\n * @return rule {Rule}\n */\nQueryBuilder.prototype.addRule = function(parent, data, flags) {\n    var e = this.trigger('beforeAddRule', parent);\n    if (e.isDefaultPrevented()) {\n        return null;\n    }\n\n    var rule_id = this.nextRuleId();\n    var $rule = $(this.getRuleTemplate(rule_id));\n    var model = parent.addRule($rule);\n\n    if (data !== undefined) {\n        model.data = data;\n    }\n\n    model.flags = $.extend({}, this.settings.default_rule_flags, flags);\n\n    this.trigger('afterAddRule', model);\n\n    this.createRuleFilters(model);\n\n    if (this.settings.default_filter || !this.settings.display_empty_filter) {\n        model.filter = this.getFilterById(this.settings.default_filter || this.filters[0].id);\n    }\n\n    return model;\n};\n\n/**\n * Delete a rule.\n * @param rule {Rule}\n * @return {boolean} true if the rule has been deleted\n */\nQueryBuilder.prototype.deleteRule = function(rule) {\n    if (rule.flags.no_delete) {\n        return false;\n    }\n\n    var e = this.trigger('beforeDeleteRule', rule);\n    if (e.isDefaultPrevented()) {\n        return false;\n    }\n\n    rule.drop();\n\n    this.trigger('afterDeleteRule');\n\n    return true;\n};\n\n/**\n * Create the filters <select> for a rule\n * @param rule {Rule}\n */\nQueryBuilder.prototype.createRuleFilters = function(rule) {\n    var filters = this.change('getRuleFilters', this.filters, rule);\n    var $filterSelect = $(this.getRuleFilterSelect(rule, filters));\n\n    rule.$el.find(Selectors.filter_container).html($filterSelect);\n\n    this.trigger('afterCreateRuleFilters', rule);\n};\n\n/**\n * Create the operators <select> for a rule and init the rule operator\n * @param rule {Rule}\n */\nQueryBuilder.prototype.createRuleOperators = function(rule) {\n    var $operatorContainer = rule.$el.find(Selectors.operator_container).empty();\n\n    if (!rule.filter) {\n        return;\n    }\n\n    var operators = this.getOperators(rule.filter);\n    var $operatorSelect = $(this.getRuleOperatorSelect(rule, operators));\n\n    $operatorContainer.html($operatorSelect);\n\n    // set the operator without triggering update event\n    rule.__.operator = operators[0];\n\n    this.trigger('afterCreateRuleOperators', rule, operators);\n};\n\n/**\n * Create the main input for a rule\n * @param rule {Rule}\n */\nQueryBuilder.prototype.createRuleInput = function(rule) {\n    var $valueContainer = rule.$el.find(Selectors.value_container).empty();\n\n    rule.__.value = undefined;\n\n    if (!rule.filter || !rule.operator || rule.operator.nb_inputs === 0) {\n        return;\n    }\n\n    var self = this;\n    var $inputs = $();\n    var filter = rule.filter;\n\n    for (var i = 0; i < rule.operator.nb_inputs; i++) {\n        var $ruleInput = $(this.getRuleInput(rule, i));\n        if (i > 0) $valueContainer.append(this.settings.inputs_separator);\n        $valueContainer.append($ruleInput);\n        $inputs = $inputs.add($ruleInput);\n    }\n\n    $valueContainer.show();\n\n    $inputs.on('change ' + (filter.input_event || ''), function() {\n        self.status.updating_value = true;\n        rule.value = self.getRuleValue(rule);\n        self.status.updating_value = false;\n    });\n\n    if (filter.plugin) {\n        $inputs[filter.plugin](filter.plugin_config || {});\n    }\n\n    this.trigger('afterCreateRuleInput', rule);\n\n    if (filter.default_value !== undefined) {\n        rule.value = filter.default_value;\n    }\n    else {\n        self.status.updating_value = true;\n        rule.value = self.getRuleValue(rule);\n        self.status.updating_value = false;\n    }\n};\n\n/**\n * Perform action when rule's filter is changed\n * @param rule {Rule}\n */\nQueryBuilder.prototype.updateRuleFilter = function(rule) {\n    this.createRuleOperators(rule);\n    this.createRuleInput(rule);\n\n    rule.$el.find(Selectors.rule_filter).val(rule.filter ? rule.filter.id : '-1');\n\n    this.trigger('afterUpdateRuleFilter', rule);\n};\n\n/**\n * Update main <input> visibility when rule operator changes\n * @param rule {Rule}\n * @param previousOperator {object}\n */\nQueryBuilder.prototype.updateRuleOperator = function(rule, previousOperator) {\n    var $valueContainer = rule.$el.find(Selectors.value_container);\n\n    if (!rule.operator || rule.operator.nb_inputs === 0) {\n        $valueContainer.hide();\n\n        rule.__.value = undefined;\n    }\n    else {\n        $valueContainer.show();\n\n        if ($valueContainer.is(':empty') || rule.operator.nb_inputs !== previousOperator.nb_inputs) {\n            this.createRuleInput(rule);\n        }\n    }\n\n    if (rule.operator) {\n        rule.$el.find(Selectors.rule_operator).val(rule.operator.type);\n    }\n\n    this.trigger('afterUpdateRuleOperator', rule);\n};\n\n/**\n * Perform action when rule's value is changed\n * @param rule {Rule}\n */\nQueryBuilder.prototype.updateRuleValue = function(rule) {\n    if (!this.status.updating_value) {\n        this.setRuleValue(rule, rule.value);\n    }\n\n    this.trigger('afterUpdateRuleValue', rule);\n};\n\n/**\n * Change rules properties depending on flags.\n * @param rule {Rule}\n */\nQueryBuilder.prototype.applyRuleFlags = function(rule) {\n    var flags = rule.flags;\n\n    if (flags.filter_readonly) {\n        rule.$el.find(Selectors.rule_filter).prop('disabled', true);\n    }\n    if (flags.operator_readonly) {\n        rule.$el.find(Selectors.rule_operator).prop('disabled', true);\n    }\n    if (flags.value_readonly) {\n        rule.$el.find(Selectors.rule_value).prop('disabled', true);\n    }\n    if (flags.no_delete) {\n        rule.$el.find(Selectors.delete_rule).remove();\n    }\n\n    this.trigger('afterApplyRuleFlags', rule);\n};\n\n/**\n * Change group properties depending on flags.\n * @param group {Group}\n */\nQueryBuilder.prototype.applyGroupFlags = function(group) {\n    var flags = group.flags;\n\n    if (flags.condition_readonly) {\n        group.$el.find('>' + Selectors.group_condition).prop('disabled', true)\n            .parent().addClass('readonly');\n    }\n    if (flags.no_delete) {\n        group.$el.find(Selectors.delete_group).remove();\n    }\n\n    this.trigger('afterApplyGroupFlags', group);\n};\n\n/**\n * Clear all errors markers\n * @param node {Node,optional} default is root Group\n */\nQueryBuilder.prototype.clearErrors = function(node) {\n    node = node || this.model.root;\n\n    if (!node) {\n        return;\n    }\n\n    node.error = null;\n\n    if (node instanceof Group) {\n        node.each(function(rule) {\n            rule.error = null;\n        }, function(group) {\n            this.clearErrors(group);\n        }, this);\n    }\n};\n\n/**\n * Add/Remove class .has-error and update error title\n * @param node {Node}\n */\nQueryBuilder.prototype.displayError = function(node) {\n    if (this.settings.display_errors) {\n        if (node.error === null) {\n            node.$el.removeClass('has-error');\n        }\n        else {\n            // translate the text without modifying event array\n            var error = $.extend([], node.error, [\n                this.lang.errors[node.error[0]] || node.error[0]\n            ]);\n\n            node.$el.addClass('has-error')\n              .find(Selectors.error_container).eq(0)\n                .attr('title', Utils.fmt.apply(null, error));\n        }\n    }\n};\n\n/**\n * Trigger a validation error event\n * @param node {Node}\n * @param error {array}\n * @param value {mixed}\n */\nQueryBuilder.prototype.triggerValidationError = function(node, error, value) {\n    if (!$.isArray(error)) {\n        error = [error];\n    }\n\n    var e = this.trigger('validationError', node, error, value);\n    if (!e.isDefaultPrevented()) {\n        node.error = error;\n    }\n};\n\n\n/**\n * Destroy the plugin\n */\nQueryBuilder.prototype.destroy = function() {\n    this.trigger('beforeDestroy');\n\n    if (this.status.generated_id) {\n        this.$el.removeAttr('id');\n    }\n\n    this.clear();\n    this.model = null;\n\n    this.$el\n        .off('.queryBuilder')\n        .removeClass('query-builder')\n        .removeData('queryBuilder');\n\n    delete this.$el[0].queryBuilder;\n};\n\n/**\n * Reset the plugin\n */\nQueryBuilder.prototype.reset = function() {\n    this.status.group_id = 1;\n    this.status.rule_id = 0;\n\n    this.model.root.empty();\n\n    this.addRule(this.model.root);\n\n    this.trigger('afterReset');\n};\n\n/**\n * Clear the plugin\n */\nQueryBuilder.prototype.clear = function() {\n    this.status.group_id = 0;\n    this.status.rule_id = 0;\n\n    if (this.model.root) {\n        this.model.root.drop();\n        this.model.root = null;\n    }\n\n    this.trigger('afterClear');\n};\n\n/**\n * Modify the builder configuration\n * Only options defined in QueryBuilder.modifiable_options are modifiable\n * @param {object}\n */\nQueryBuilder.prototype.setOptions = function(options) {\n    // use jQuery utils to filter options keys\n    $.makeArray($(Object.keys(options)).filter(QueryBuilder.modifiable_options))\n        .forEach(function(opt) {\n            this.settings[opt] = options[opt];\n        }, this);\n};\n\n/**\n * Return the model associated to a DOM object, or root model\n * @param {jQuery,optional}\n * @return {Node}\n */\nQueryBuilder.prototype.getModel = function(target) {\n    return !target ? this.model.root : Model(target);\n};\n\n/**\n * Validate the whole builder\n * @return {boolean}\n */\nQueryBuilder.prototype.validate = function() {\n    this.clearErrors();\n\n    var self = this;\n\n    var valid = (function parse(group) {\n        var done = 0;\n        var errors = 0;\n\n        group.each(function(rule) {\n            if (!rule.filter) {\n                self.triggerValidationError(rule, 'no_filter', null);\n                errors++;\n                return;\n            }\n\n            if (rule.operator.nb_inputs !== 0) {\n                var valid = self.validateValue(rule, rule.value);\n\n                if (valid !== true) {\n                    self.triggerValidationError(rule, valid, rule.value);\n                    errors++;\n                    return;\n                }\n            }\n\n            done++;\n\n        }, function(group) {\n            if (parse(group)) {\n                done++;\n            }\n            else {\n                errors++;\n            }\n        });\n\n        if (errors > 0) {\n            return false;\n        }\n        else if (done === 0 && (!self.settings.allow_empty || !group.isRoot())) {\n            self.triggerValidationError(group, 'empty_group', null);\n            return false;\n        }\n\n        return true;\n\n    }(this.model.root));\n\n    return this.change('validate', valid);\n};\n\n/**\n * Get an object representing current rules\n * @param {object} options\n *      - get_flags: false[default] | true(only changes from default flags) | 'all'\n * @return {object}\n */\nQueryBuilder.prototype.getRules = function(options) {\n    options = $.extend({\n        get_flags: false\n    }, options);\n\n    if (!this.validate()) {\n        return {};\n    }\n\n    var self = this;\n\n    var out = (function parse(group) {\n        var data = {\n            condition: group.condition,\n            rules: []\n        };\n\n        if (group.data) {\n            data.data = $.extendext(true, 'replace', {}, group.data);\n        }\n\n        if (options.get_flags) {\n            var flags = self.getGroupFlags(group.flags, options.get_flags === 'all');\n            if (!$.isEmptyObject(flags)) {\n                data.flags = flags;\n            }\n        }\n\n        group.each(function(model) {\n            var value = null;\n            if (model.operator.nb_inputs !== 0) {\n                value = model.value;\n            }\n\n            var rule = {\n                id: model.filter.id,\n                field: model.filter.field,\n                type: model.filter.type,\n                input: model.filter.input,\n                operator: model.operator.type,\n                value: value\n            };\n\n            if (model.filter.data || model.data) {\n                rule.data = $.extendext(true, 'replace', {}, model.filter.data, model.data);\n            }\n\n            if (options.get_flags) {\n                var flags = self.getRuleFlags(model.flags, options.get_flags === 'all');\n                if (!$.isEmptyObject(flags)) {\n                    rule.flags = flags;\n                }\n            }\n\n            data.rules.push(rule);\n\n        }, function(model) {\n            data.rules.push(parse(model));\n        });\n\n        return data;\n\n    }(this.model.root));\n\n    return this.change('getRules', out);\n};\n\n/**\n * Set rules from object\n * @throws RulesError, UndefinedConditionError\n * @param data {object}\n */\nQueryBuilder.prototype.setRules = function(data) {\n    if ($.isArray(data)) {\n        data = {\n            condition: this.settings.default_condition,\n            rules: data\n        };\n    }\n\n    if (!data || !data.rules || (data.rules.length === 0 && !this.settings.allow_empty)) {\n        Utils.error('RulesParse', 'Incorrect data object passed');\n    }\n\n    this.clear();\n    this.setRoot(false, data.data, this.parseGroupFlags(data));\n\n    data = this.change('setRules', data);\n\n    var self = this;\n\n    (function add(data, group) {\n        if (group === null) {\n            return;\n        }\n\n        if (data.condition === undefined) {\n            data.condition = self.settings.default_condition;\n        }\n        else if (self.settings.conditions.indexOf(data.condition) == -1) {\n            Utils.error('UndefinedCondition', 'Invalid condition \"{0}\"', data.condition);\n        }\n\n        group.condition = data.condition;\n\n        data.rules.forEach(function(item) {\n            var model;\n            if (item.rules && item.rules.length > 0) {\n                if (self.settings.allow_groups !== -1 && self.settings.allow_groups < group.level) {\n                    self.reset();\n                    Utils.error('RulesParse', 'No more than {0} groups are allowed', self.settings.allow_groups);\n                }\n                else {\n                    model = self.addGroup(group, false, item.data, self.parseGroupFlags(item));\n                    if (model === null) {\n                        return;\n                    }\n\n                    add(item, model);\n                }\n            }\n            else {\n                if (item.id === undefined) {\n                    Utils.error('RulesParse', 'Missing rule field id');\n                }\n                if (item.operator === undefined) {\n                    item.operator = 'equal';\n                }\n\n                model = self.addRule(group, item.data);\n                if (model === null) {\n                    return;\n                }\n\n                model.filter = self.getFilterById(item.id);\n                model.operator = self.getOperatorByType(item.operator);\n                model.flags = self.parseRuleFlags(item);\n\n                if (model.operator.nb_inputs !== 0 && item.value !== undefined) {\n                    model.value = item.value;\n                }\n            }\n        });\n\n    }(data, this.model.root));\n};\n\n\n/**\n * Check if a value is correct for a filter\n * @param rule {Rule}\n * @param value {string|string[]|undefined}\n * @return {array|true}\n */\nQueryBuilder.prototype.validateValue = function(rule, value) {\n    var validation = rule.filter.validation || {};\n    var result = true;\n\n    if (validation.callback) {\n        result = validation.callback.call(this, value, rule);\n    }\n    else {\n        result = this.validateValueInternal(rule, value);\n    }\n\n    return this.change('validateValue', result, value, rule);\n};\n\n/**\n * Default validation function\n * @throws ConfigError\n * @param rule {Rule}\n * @param value {string|string[]|undefined}\n * @return {array|true}\n */\nQueryBuilder.prototype.validateValueInternal = function(rule, value) {\n    var filter = rule.filter;\n    var operator = rule.operator;\n    var validation = filter.validation || {};\n    var result = true;\n    var tmp;\n\n    if (rule.operator.nb_inputs === 1) {\n        value = [value];\n    }\n    else {\n        value = value;\n    }\n\n    for (var i = 0; i < operator.nb_inputs; i++) {\n        switch (filter.input) {\n            case 'radio':\n                if (value[i] === undefined) {\n                    result = ['radio_empty'];\n                    break;\n                }\n                break;\n\n            case 'checkbox':\n                if (value[i] === undefined || value[i].length === 0) {\n                    result = ['checkbox_empty'];\n                    break;\n                }\n                else if (!operator.multiple && value[i].length > 1) {\n                    result = ['operator_not_multiple', operator.type];\n                    break;\n                }\n                break;\n\n            case 'select':\n                if (filter.multiple) {\n                    if (value[i] === undefined || value[i].length === 0 || (filter.placeholder && value[i] == filter.placeholder_value)) {\n                        result = ['select_empty'];\n                        break;\n                    }\n                    else if (!operator.multiple && value[i].length > 1) {\n                        result = ['operator_not_multiple', operator.type];\n                        break;\n                    }\n                }\n                else {\n                    if (value[i] === undefined || (filter.placeholder && value[i] == filter.placeholder_value)) {\n                        result = ['select_empty'];\n                        break;\n                    }\n                }\n                break;\n\n            default:\n                switch (QueryBuilder.types[filter.type]) {\n                    case 'string':\n                        if (value[i] === undefined || value[i].length === 0) {\n                            result = ['string_empty'];\n                            break;\n                        }\n                        if (validation.min !== undefined) {\n                            if (value[i].length < parseInt(validation.min)) {\n                                result = ['string_exceed_min_length', validation.min];\n                                break;\n                            }\n                        }\n                        if (validation.max !== undefined) {\n                            if (value[i].length > parseInt(validation.max)) {\n                                result = ['string_exceed_max_length', validation.max];\n                                break;\n                            }\n                        }\n                        if (validation.format) {\n                            if (typeof validation.format == 'string') {\n                                validation.format = new RegExp(validation.format);\n                            }\n                            if (!validation.format.test(value[i])) {\n                                result = ['string_invalid_format', validation.format];\n                                break;\n                            }\n                        }\n                        break;\n\n                    case 'number':\n                        if (value[i] === undefined || isNaN(value[i])) {\n                            result = ['number_nan'];\n                            break;\n                        }\n                        if (filter.type == 'integer') {\n                            if (parseInt(value[i]) != value[i]) {\n                                result = ['number_not_integer'];\n                                break;\n                            }\n                        }\n                        else {\n                            if (parseFloat(value[i]) != value[i]) {\n                                result = ['number_not_double'];\n                                break;\n                            }\n                        }\n                        if (validation.min !== undefined) {\n                            if (value[i] < parseFloat(validation.min)) {\n                                result = ['number_exceed_min', validation.min];\n                                break;\n                            }\n                        }\n                        if (validation.max !== undefined) {\n                            if (value[i] > parseFloat(validation.max)) {\n                                result = ['number_exceed_max', validation.max];\n                                break;\n                            }\n                        }\n                        if (validation.step !== undefined && validation.step !== 'any') {\n                            var v = (value[i] / validation.step).toPrecision(14);\n                            if (parseInt(v) != v) {\n                                result = ['number_wrong_step', validation.step];\n                                break;\n                            }\n                        }\n                        break;\n\n                    case 'datetime':\n                        if (value[i] === undefined || value[i].length === 0) {\n                            result = ['datetime_empty'];\n                            break;\n                        }\n\n                        // we need MomentJS\n                        if (validation.format) {\n                            if (!('moment' in window)) {\n                                Utils.error('MissingLibrary', 'MomentJS is required for Date/Time validation. Get it here http://momentjs.com');\n                            }\n\n                            var datetime = moment(value[i], validation.format);\n                            if (!datetime.isValid()) {\n                                result = ['datetime_invalid', validation.format];\n                                break;\n                            }\n                            else {\n                                if (validation.min) {\n                                    if (datetime < moment(validation.min, validation.format)) {\n                                        result = ['datetime_exceed_min', validation.min];\n                                        break;\n                                    }\n                                }\n                                if (validation.max) {\n                                    if (datetime > moment(validation.max, validation.format)) {\n                                        result = ['datetime_exceed_max', validation.max];\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                        break;\n\n                    case 'boolean':\n                        tmp = value[i].trim().toLowerCase();\n                        if (tmp !== 'true' && tmp !== 'false' && tmp !== '1' && tmp !== '0' && value[i] !== 1 && value[i] !== 0) {\n                            result = ['boolean_not_valid'];\n                            break;\n                        }\n                }\n        }\n\n        if (result !== true) {\n            break;\n        }\n    }\n\n    return result;\n};\n\n/**\n * Returns an incremented group ID\n * @return {string}\n */\nQueryBuilder.prototype.nextGroupId = function() {\n    return this.status.id + '_group_' + (this.status.group_id++);\n};\n\n/**\n * Returns an incremented rule ID\n * @return {string}\n */\nQueryBuilder.prototype.nextRuleId = function() {\n    return this.status.id + '_rule_' + (this.status.rule_id++);\n};\n\n/**\n * Returns the operators for a filter\n * @param filter {string|object} (filter id name or filter object)\n * @return {object[]}\n */\nQueryBuilder.prototype.getOperators = function(filter) {\n    if (typeof filter == 'string') {\n        filter = this.getFilterById(filter);\n    }\n\n    var result = [];\n\n    for (var i = 0, l = this.operators.length; i < l; i++) {\n        // filter operators check\n        if (filter.operators) {\n            if (filter.operators.indexOf(this.operators[i].type) == -1) {\n                continue;\n            }\n        }\n        // type check\n        else if (this.operators[i].apply_to.indexOf(QueryBuilder.types[filter.type]) == -1) {\n            continue;\n        }\n\n        result.push(this.operators[i]);\n    }\n\n    // keep sort order defined for the filter\n    if (filter.operators) {\n        result.sort(function(a, b) {\n            return filter.operators.indexOf(a.type) - filter.operators.indexOf(b.type);\n        });\n    }\n\n    return this.change('getOperators', result, filter);\n};\n\n/**\n * Returns a particular filter by its id\n * @throws UndefinedFilterError\n * @param filterId {string}\n * @return {object|null}\n */\nQueryBuilder.prototype.getFilterById = function(id) {\n    if (id == '-1') {\n        return null;\n    }\n\n    for (var i = 0, l = this.filters.length; i < l; i++) {\n        if (this.filters[i].id == id) {\n            return this.filters[i];\n        }\n    }\n\n    Utils.error('UndefinedFilter', 'Undefined filter \"{0}\"', id);\n};\n\n/**\n * Return a particular operator by its type\n * @throws UndefinedOperatorError\n * @param type {string}\n * @return {object|null}\n */\nQueryBuilder.prototype.getOperatorByType = function(type) {\n    if (type == '-1') {\n        return null;\n    }\n\n    for (var i = 0, l = this.operators.length; i < l; i++) {\n        if (this.operators[i].type == type) {\n            return this.operators[i];\n        }\n    }\n\n    Utils.error('UndefinedOperator', 'Undefined operator \"{0}\"', type);\n};\n\n/**\n * Returns rule value\n * @param rule {Rule}\n * @return {mixed}\n */\nQueryBuilder.prototype.getRuleValue = function(rule) {\n    var filter = rule.filter;\n    var operator = rule.operator;\n    var value = [];\n\n    if (filter.valueGetter) {\n        value = filter.valueGetter.call(this, rule);\n    }\n    else {\n        var $value = rule.$el.find(Selectors.value_container);\n\n        for (var i = 0; i < operator.nb_inputs; i++) {\n            var name = Utils.escapeElementId(rule.id + '_value_' + i);\n            var tmp;\n\n            switch (filter.input) {\n                case 'radio':\n                    value.push($value.find('[name=' + name + ']:checked').val());\n                    break;\n\n                case 'checkbox':\n                    tmp = [];\n                    $value.find('[name=' + name + ']:checked').each(function() {\n                        tmp.push($(this).val());\n                    });\n                    value.push(tmp);\n                    break;\n\n                case 'select':\n                    if (filter.multiple) {\n                        tmp = [];\n                        $value.find('[name=' + name + '] option:selected').each(function() {\n                            tmp.push($(this).val());\n                        });\n                        value.push(tmp);\n                    }\n                    else {\n                        value.push($value.find('[name=' + name + '] option:selected').val());\n                    }\n                    break;\n\n                default:\n                    value.push($value.find('[name=' + name + ']').val());\n            }\n        }\n\n        if (operator.nb_inputs === 1) {\n            value = value[0];\n        }\n\n        // @deprecated\n        if (filter.valueParser) {\n            value = filter.valueParser.call(this, rule, value);\n        }\n    }\n\n    return this.change('getRuleValue', value, rule);\n};\n\n/**\n * Sets the value of a rule.\n * @param rule {Rule}\n * @param value {mixed}\n */\nQueryBuilder.prototype.setRuleValue = function(rule, value) {\n    var filter = rule.filter;\n    var operator = rule.operator;\n\n    if (filter.valueSetter) {\n        filter.valueSetter.call(this, rule, value);\n    }\n    else {\n        var $value = rule.$el.find(Selectors.value_container);\n\n        if (operator.nb_inputs == 1) {\n            value = [value];\n        }\n        else {\n            value = value;\n        }\n\n        for (var i = 0; i < operator.nb_inputs; i++) {\n            var name = Utils.escapeElementId(rule.id + '_value_' + i);\n\n            switch (filter.input) {\n                case 'radio':\n                    $value.find('[name=' + name + '][value=\"' + value[i] + '\"]').prop('checked', true).trigger('change');\n                    break;\n\n                case 'checkbox':\n                    if (!$.isArray(value[i])) {\n                        value[i] = [value[i]];\n                    }\n                    value[i].forEach(function(value) {\n                        $value.find('[name=' + name + '][value=\"' + value + '\"]').prop('checked', true).trigger('change');\n                    });\n                    break;\n\n                default:\n                    $value.find('[name=' + name + ']').val(value[i]).trigger('change');\n                    break;\n            }\n        }\n    }\n};\n\n/**\n * Clean rule flags.\n * @param rule {object}\n * @return {object}\n */\nQueryBuilder.prototype.parseRuleFlags = function(rule) {\n    var flags = $.extend({}, this.settings.default_rule_flags);\n\n    if (rule.readonly) {\n        $.extend(flags, {\n            filter_readonly: true,\n            operator_readonly: true,\n            value_readonly: true,\n            no_delete: true\n        });\n    }\n\n    if (rule.flags) {\n        $.extend(flags, rule.flags);\n    }\n\n    return this.change('parseRuleFlags', flags, rule);\n};\n\n/**\n * Get a copy of flags of a rule.\n * @param {object} flags\n * @param {boolean} all - true to return all flags, false to return only changes from default\n * @returns {object}\n */\nQueryBuilder.prototype.getRuleFlags = function(flags, all) {\n    if (all) {\n        return $.extend({}, flags);\n    }\n    else {\n        var ret = {};\n        $.each(this.settings.default_rule_flags, function(key, value) {\n            if (flags[key] !== value) {\n                ret[key] = flags[key];\n            }\n        });\n        return ret;\n    }\n};\n\n/**\n * Clean group flags.\n * @param group {object}\n * @return {object}\n */\nQueryBuilder.prototype.parseGroupFlags = function(group) {\n    var flags = $.extend({}, this.settings.default_group_flags);\n\n    if (group.readonly) {\n        $.extend(flags, {\n            condition_readonly: true,\n            no_delete: true\n        });\n    }\n\n    if (group.flags) {\n        $.extend(flags, group.flags);\n    }\n\n    return this.change('parseGroupFlags', flags, group);\n};\n\n/**\n * Get a copy of flags of a group.\n * @param {object} flags\n * @param {boolean} all - true to return all flags, false to return only changes from default\n * @returns {object}\n */\nQueryBuilder.prototype.getGroupFlags = function(flags, all) {\n    if (all) {\n        return $.extend({}, flags);\n    }\n    else {\n        var ret = {};\n        $.each(this.settings.default_group_flags, function(key, value) {\n            if (flags[key] !== value) {\n                ret[key] = flags[key];\n            }\n        });\n        return ret;\n    }\n};\n\n/**\n * Translate a label\n * @param label {string|object}\n * @return string\n */\nQueryBuilder.prototype.translateLabel = function(label) {\n    return typeof label == 'object' ? (label[this.settings.lang_code] || label['en']) : label;\n};\n\n\nQueryBuilder.templates.group = '\\\n<dl id=\"{{= it.group_id }}\" class=\"rules-group-container\"> \\\n  <dt class=\"rules-group-header\"> \\\n    <div class=\"btn-group pull-right group-actions\"> \\\n      <button type=\"button\" class=\"btn btn-xs btn-success\" data-add=\"rule\"> \\\n        <i class=\"{{= it.icons.add_rule }}\"></i> {{= it.lang.add_rule }} \\\n      </button> \\\n      {{? it.settings.allow_groups===-1 || it.settings.allow_groups>=it.level }} \\\n        <button type=\"button\" class=\"btn btn-xs btn-success\" data-add=\"group\"> \\\n          <i class=\"{{= it.icons.add_group }}\"></i> {{= it.lang.add_group }} \\\n        </button> \\\n      {{?}} \\\n      {{? it.level>1 }} \\\n        <button type=\"button\" class=\"btn btn-xs btn-danger\" data-delete=\"group\"> \\\n          <i class=\"{{= it.icons.remove_group }}\"></i> {{= it.lang.delete_group }} \\\n        </button> \\\n      {{?}} \\\n    </div> \\\n    <div class=\"btn-group group-conditions\"> \\\n      {{~ it.conditions: condition }} \\\n        <label class=\"btn btn-xs btn-primary\"> \\\n          <input type=\"radio\" name=\"{{= it.group_id }}_cond\" value=\"{{= condition }}\"> {{= it.lang.conditions[condition] || condition }} \\\n        </label> \\\n      {{~}} \\\n    </div> \\\n    {{? it.settings.display_errors }} \\\n      <div class=\"error-container\"><i class=\"{{= it.icons.error }}\"></i></div> \\\n    {{?}} \\\n  </dt> \\\n  <dd class=rules-group-body> \\\n    <ul class=rules-list></ul> \\\n  </dd> \\\n</dl>';\n\nQueryBuilder.templates.rule = '\\\n<li id=\"{{= it.rule_id }}\" class=\"rule-container\"> \\\n  <div class=\"rule-header\"> \\\n    <div class=\"btn-group pull-right rule-actions\"> \\\n      <button type=\"button\" class=\"btn btn-xs btn-danger\" data-delete=\"rule\"> \\\n        <i class=\"{{= it.icons.remove_rule }}\"></i> {{= it.lang.delete_rule }} \\\n      </button> \\\n    </div> \\\n  </div> \\\n  {{? it.settings.display_errors }} \\\n    <div class=\"error-container\"><i class=\"{{= it.icons.error }}\"></i></div> \\\n  {{?}} \\\n  <div class=\"rule-filter-container\"></div> \\\n  <div class=\"rule-operator-container\"></div> \\\n  <div class=\"rule-value-container\"></div> \\\n</li>';\n\nQueryBuilder.templates.filterSelect = '\\\n{{ var optgroup = null; }} \\\n<select class=\"form-control\" name=\"{{= it.rule.id }}_filter\"> \\\n  {{? it.settings.display_empty_filter }} \\\n    <option value=\"-1\">{{= it.settings.select_placeholder }}</option> \\\n  {{?}} \\\n  {{~ it.filters: filter }} \\\n    {{? optgroup !== filter.optgroup }} \\\n      {{? optgroup !== null }}</optgroup>{{?}} \\\n      {{? (optgroup = filter.optgroup) !== null }} \\\n        <optgroup label=\"{{= it.translate(it.settings.optgroups[optgroup]) }}\"> \\\n      {{?}} \\\n    {{?}} \\\n    <option value=\"{{= filter.id }}\">{{= it.translate(filter.label) }}</option> \\\n  {{~}} \\\n  {{? optgroup !== null }}</optgroup>{{?}} \\\n</select>';\n\nQueryBuilder.templates.operatorSelect = '\\\n{{ var optgroup = null; }} \\\n<select class=\"form-control\" name=\"{{= it.rule.id }}_operator\"> \\\n  {{~ it.operators: operator }} \\\n    {{? optgroup !== operator.optgroup }} \\\n      {{? optgroup !== null }}</optgroup>{{?}} \\\n      {{? (optgroup = operator.optgroup) !== null }} \\\n        <optgroup label=\"{{= it.translate(it.settings.optgroups[optgroup]) }}\"> \\\n      {{?}} \\\n    {{?}} \\\n    <option value=\"{{= operator.type }}\">{{= it.lang.operators[operator.type] || operator.type }}</option> \\\n  {{~}} \\\n  {{? optgroup !== null }}</optgroup>{{?}} \\\n</select>';\n\n/**\n * Returns group HTML\n * @param group_id {string}\n * @param level {int}\n * @return {string}\n */\nQueryBuilder.prototype.getGroupTemplate = function(group_id, level) {\n    var h = this.templates.group({\n        builder: this,\n        group_id: group_id,\n        level: level,\n        conditions: this.settings.conditions,\n        icons: this.icons,\n        lang: this.lang,\n        settings: this.settings\n    });\n\n    return this.change('getGroupTemplate', h, level);\n};\n\n/**\n * Returns rule HTML\n * @param rule_id {string}\n * @return {string}\n */\nQueryBuilder.prototype.getRuleTemplate = function(rule_id) {\n    var h = this.templates.rule({\n        builder: this,\n        rule_id: rule_id,\n        icons: this.icons,\n        lang: this.lang,\n        settings: this.settings\n    });\n\n    return this.change('getRuleTemplate', h);\n};\n\n/**\n * Returns rule filter <select> HTML\n * @param rule {Rule}\n * @param filters {array}\n * @return {string}\n */\nQueryBuilder.prototype.getRuleFilterSelect = function(rule, filters) {\n    var h = this.templates.filterSelect({\n        builder: this,\n        rule: rule,\n        filters: filters,\n        icons: this.icons,\n        lang: this.lang,\n        settings: this.settings,\n        translate: this.translateLabel\n    });\n\n    return this.change('getRuleFilterSelect', h, rule);\n};\n\n/**\n * Returns rule operator <select> HTML\n * @param rule {Rule}\n * @param operators {object}\n * @return {string}\n */\nQueryBuilder.prototype.getRuleOperatorSelect = function(rule, operators) {\n    var h = this.templates.operatorSelect({\n        builder: this,\n        rule: rule,\n        operators: operators,\n        icons: this.icons,\n        lang: this.lang,\n        settings: this.settings,\n        translate: this.translateLabel\n    });\n\n    return this.change('getRuleOperatorSelect', h, rule);\n};\n\n/**\n * Return the rule value HTML\n * @param rule {Rule}\n * @param filter {object}\n * @param value_id {int}\n * @return {string}\n */\nQueryBuilder.prototype.getRuleInput = function(rule, value_id) {\n    var filter = rule.filter;\n    var validation = rule.filter.validation || {};\n    var name = rule.id + '_value_' + value_id;\n    var c = filter.vertical ? ' class=block' : '';\n    var h = '';\n\n    if (typeof filter.input == 'function') {\n        h = filter.input.call(this, rule, name);\n    }\n    else {\n        switch (filter.input) {\n            case 'radio': case 'checkbox':\n                Utils.iterateOptions(filter.values, function(key, val) {\n                    h+= '<label' + c + '><input type=\"' + filter.input + '\" name=\"' + name + '\" value=\"' + key + '\"> ' + val + '</label> ';\n                });\n                break;\n\n            case 'select':\n                h+= '<select class=\"form-control\" name=\"' + name + '\"' + (filter.multiple ? ' multiple' : '') + '>';\n                if (filter.placeholder) {\n                    h+= '<option value=\"' + filter.placeholder_value + '\" disabled selected>' + filter.placeholder + '</option>';\n                }\n                Utils.iterateOptions(filter.values, function(key, val) {\n                    h+= '<option value=\"' + key + '\">' + val + '</option> ';\n                });\n                h+= '</select>';\n                break;\n\n            case 'textarea':\n                h+= '<textarea class=\"form-control\" name=\"' + name + '\"';\n                if (filter.size) h+= ' cols=\"' + filter.size + '\"';\n                if (filter.rows) h+= ' rows=\"' + filter.rows + '\"';\n                if (validation.min !== undefined) h+= ' minlength=\"' + validation.min + '\"';\n                if (validation.max !== undefined) h+= ' maxlength=\"' + validation.max + '\"';\n                if (filter.placeholder) h+= ' placeholder=\"' + filter.placeholder + '\"';\n                h+= '></textarea>';\n                break;\n\n            default:\n                switch (QueryBuilder.types[filter.type]) {\n                    case 'number':\n                        h+= '<input class=\"form-control\" type=\"number\" name=\"' + name + '\"';\n                        if (validation.step !== undefined) h+= ' step=\"' + validation.step + '\"';\n                        if (validation.min !== undefined) h+= ' min=\"' + validation.min + '\"';\n                        if (validation.max !== undefined) h+= ' max=\"' + validation.max + '\"';\n                        if (filter.placeholder) h+= ' placeholder=\"' + filter.placeholder + '\"';\n                        if (filter.size) h+= ' size=\"' + filter.size + '\"';\n                        h+= '>';\n                        break;\n\n                    default:\n                        h+= '<input class=\"form-control\" type=\"text\" name=\"' + name + '\"';\n                        if (filter.placeholder) h+= ' placeholder=\"' + filter.placeholder + '\"';\n                        if (filter.type === 'string' && validation.min !== undefined) h+= ' minlength=\"' + validation.min + '\"';\n                        if (filter.type === 'string' && validation.max !== undefined) h+= ' maxlength=\"' + validation.max + '\"';\n                        if (filter.size) h+= ' size=\"' + filter.size + '\"';\n                        h+= '>';\n                }\n        }\n    }\n\n    return this.change('getRuleInput', h, rule, name);\n};\n\n\n// Model CLASS\n// ===============================\n/**\n * Main object storing data model and emitting events\n * ---------\n * Access Node object stored in jQuery objects\n * @param el {jQuery|Node}\n * @return {Node}\n */\nfunction Model(el) {\n    if (!(this instanceof Model)) {\n        return Model.getModel(el);\n    }\n\n    this.root = null;\n    this.$ = $(this);\n}\n\n$.extend(Model.prototype, {\n    trigger: function(type) {\n        this.$.triggerHandler(type, Array.prototype.slice.call(arguments, 1));\n        return this;\n    },\n\n    on: function() {\n        this.$.on.apply(this.$, Array.prototype.slice.call(arguments));\n        return this;\n    },\n\n    off: function() {\n        this.$.off.apply(this.$, Array.prototype.slice.call(arguments));\n        return this;\n    },\n\n    once: function() {\n        this.$.one.apply(this.$, Array.prototype.slice.call(arguments));\n        return this;\n    }\n});\n\n/**\n * Access Node object stored in jQuery objects\n * @param el {jQuery|Node}\n * @return {Node}\n */\nModel.getModel = function(el) {\n    if (!el) {\n        return null;\n    }\n    else if (el instanceof Node) {\n        return el;\n    }\n    else {\n        return $(el).data('queryBuilderModel');\n    }\n};\n\n/*\n * Define Node properties with getter and setter\n * Update events are emitted in the setter through root Model (if any)\n */\nfunction defineModelProperties(obj, fields) {\n    fields.forEach(function(field) {\n        Object.defineProperty(obj.prototype, field, {\n            enumerable: true,\n            get: function() {\n                return this.__[field];\n            },\n            set: function(value) {\n                var oldValue = (this.__[field] !== null && typeof this.__[field] == 'object') ?\n                  $.extend({}, this.__[field]) :\n                  this.__[field];\n\n                this.__[field] = value;\n\n                if (this.model !== null) {\n                    this.model.trigger('update', this, field, value, oldValue);\n                }\n            }\n        });\n    });\n}\n\n\n// Node abstract CLASS\n// ===============================\n/**\n * @param {Node}\n * @param {jQuery}\n */\nvar Node = function(parent, $el) {\n    if (!(this instanceof Node)) {\n        return new Node();\n    }\n\n    Object.defineProperty(this, '__', { value: {} });\n\n    $el.data('queryBuilderModel', this);\n\n    this.__.level = 1;\n    this.__.error = null;\n    this.__.data = undefined;\n    this.$el = $el;\n    this.id = $el[0].id;\n    this.model = null;\n    this.parent = parent;\n};\n\ndefineModelProperties(Node, ['level', 'error', 'data', 'flags']);\n\nObject.defineProperty(Node.prototype, 'parent', {\n    enumerable: true,\n    get: function() {\n        return this.__.parent;\n    },\n    set: function(value) {\n        this.__.parent = value;\n        this.level = value === null ? 1 : value.level + 1;\n        this.model = value === null ? null : value.model;\n    }\n});\n\n/**\n * Check if this Node is the root\n * @return {boolean}\n */\nNode.prototype.isRoot = function() {\n    return (this.level === 1);\n};\n\n/**\n * Return node position inside parent\n * @return {int}\n */\nNode.prototype.getPos = function() {\n    if (this.isRoot()) {\n        return -1;\n    }\n    else {\n        return this.parent.getNodePos(this);\n    }\n};\n\n/**\n * Delete self\n */\nNode.prototype.drop = function() {\n    var model = this.model;\n\n    if (!this.isRoot()) {\n        this.parent._removeNode(this);\n    }\n\n    if (model !== null) {\n        model.trigger('drop', this);\n    }\n};\n\n/**\n * Move itself after another Node\n * @param {Node}\n * @return {Node} self\n */\nNode.prototype.moveAfter = function(node) {\n    if (this.isRoot()) return;\n\n    this._move(node.parent, node.getPos() + 1);\n\n    return this;\n};\n\n/**\n * Move itself at the beginning of parent or another Group\n * @param {Group,optional}\n * @return {Node} self\n */\nNode.prototype.moveAtBegin = function(target) {\n    if (this.isRoot()) return;\n\n    if (target === undefined) {\n        target = this.parent;\n    }\n\n    this._move(target, 0);\n\n    return this;\n};\n\n/**\n * Move itself at the end of parent or another Group\n * @param {Group,optional}\n * @return {Node} self\n */\nNode.prototype.moveAtEnd = function(target) {\n    if (this.isRoot()) return;\n\n    if (target === undefined) {\n        target = this.parent;\n    }\n\n    this._move(target, target.length() - 1);\n\n    return this;\n};\n\n/**\n * Move itself at specific position of Group\n * @param {Group}\n * @param {int}\n */\nNode.prototype._move = function(group, index) {\n    this.parent._removeNode(this);\n    group._appendNode(this, index, false);\n\n    if (this.model !== null) {\n        this.model.trigger('move', this, group, index);\n    }\n};\n\n\n// GROUP CLASS\n// ===============================\n/**\n * @param {Group}\n * @param {jQuery}\n */\nvar Group = function(parent, $el) {\n    if (!(this instanceof Group)) {\n        return new Group(parent, $el);\n    }\n\n    Node.call(this, parent, $el);\n\n    this.rules = [];\n    this.__.condition = null;\n};\n\nGroup.prototype = Object.create(Node.prototype);\nGroup.prototype.constructor = Group;\n\ndefineModelProperties(Group, ['condition']);\n\n/**\n * Empty the Group\n */\nGroup.prototype.empty = function() {\n    this.each('reverse', function(rule) {\n        rule.drop();\n    }, function(group) {\n        group.drop();\n    });\n};\n\n/**\n * Delete self\n */\nGroup.prototype.drop = function() {\n    this.empty();\n    Node.prototype.drop.call(this);\n};\n\n/**\n * Return the number of children\n * @return {int}\n */\nGroup.prototype.length = function() {\n    return this.rules.length;\n};\n\n/**\n * Add a Node at specified index\n * @param {Node}\n * @param {int,optional}\n * @param {boolean,optional}\n * @return {Node} the inserted node\n */\nGroup.prototype._appendNode = function(node, index, trigger) {\n    if (index === undefined) {\n        index = this.length();\n    }\n\n    this.rules.splice(index, 0, node);\n    node.parent = this;\n\n    if (trigger && this.model !== null) {\n        this.model.trigger('add', node, index);\n    }\n\n    return node;\n};\n\n/**\n * Add a Group by jQuery element at specified index\n * @param {jQuery}\n * @param {int,optional}\n * @return {Group} the inserted group\n */\nGroup.prototype.addGroup = function($el, index) {\n    return this._appendNode(new Group(this, $el), index, true);\n};\n\n/**\n * Add a Rule by jQuery element at specified index\n * @param {jQuery}\n * @param {int,optional}\n * @return {Rule} the inserted rule\n */\nGroup.prototype.addRule = function($el, index) {\n    return this._appendNode(new Rule(this, $el), index, true);\n};\n\n/**\n * Delete a specific Node\n * @param {Node}\n * @return {Group} self\n */\nGroup.prototype._removeNode = function(node) {\n    var index = this.getNodePos(node);\n    if (index !== -1) {\n        node.parent = null;\n        this.rules.splice(index, 1);\n    }\n\n    return this;\n};\n\n/**\n * Return position of a child Node\n * @param {Node}\n * @return {int}\n */\nGroup.prototype.getNodePos = function(node) {\n    return this.rules.indexOf(node);\n};\n\n/**\n * Iterate over all Nodes\n * @param {boolean,optional} iterate in reverse order, required if you delete nodes\n * @param {function} callback for Rules\n * @param {function,optional} callback for Groups\n * @return {boolean}\n */\nGroup.prototype.each = function(reverse, cbRule, cbGroup, context) {\n    if (typeof reverse == 'function') {\n        context = cbGroup;\n        cbGroup = cbRule;\n        cbRule = reverse;\n        reverse = false;\n    }\n    context = context === undefined ? null : context;\n\n    var i = reverse ? this.rules.length - 1 : 0;\n    var l = reverse ? 0 : this.rules.length - 1;\n    var c = reverse ? -1 : 1;\n    var next = function() { return reverse ? i >= l : i <= l; };\n    var stop = false;\n\n    for (; next(); i+= c) {\n        if (this.rules[i] instanceof Group) {\n            if (cbGroup !== undefined) {\n                stop = cbGroup.call(context, this.rules[i]) === false;\n            }\n        }\n        else {\n            stop = cbRule.call(context, this.rules[i]) === false;\n        }\n\n        if (stop) {\n            break;\n        }\n    }\n\n    return !stop;\n};\n\n/**\n * Return true if the group contains a particular Node\n * @param {Node}\n * @param {boolean,optional} recursive search\n * @return {boolean}\n */\nGroup.prototype.contains = function(node, deep) {\n    if (this.getNodePos(node) !== -1) {\n        return true;\n    }\n    else if (!deep) {\n        return false;\n    }\n    else {\n        // the loop will return with false as soon as the Node is found\n        return !this.each(function(rule) {\n            return true;\n        }, function(group) {\n            return !group.contains(node, true);\n        });\n    }\n};\n\n\n// RULE CLASS\n// ===============================\n/**\n * @param {Group}\n * @param {jQuery}\n */\nvar Rule = function(parent, $el) {\n    if (!(this instanceof Rule)) {\n        return new Rule(parent, $el);\n    }\n\n    Node.call(this, parent, $el);\n\n    this.__.filter = null;\n    this.__.operator = null;\n    this.__.flags = {};\n    this.__.value = undefined;\n};\n\nRule.prototype = Object.create(Node.prototype);\nRule.prototype.constructor = Rule;\n\ndefineModelProperties(Rule, ['filter', 'operator', 'value']);\n\n\n// EXPORT\n// ===============================\nQueryBuilder.Group = Group;\nQueryBuilder.Rule = Rule;\n\n\nvar Utils = QueryBuilder.utils = {};\n\n/**\n * Utility to iterate over radio/checkbox/selection options.\n * it accept three formats: array of values, map, array of 1-element maps\n *\n * @param options {object|array}\n * @param tpl {callable} (takes key and text)\n */\nUtils.iterateOptions = function(options, tpl) {\n    if (options) {\n        if ($.isArray(options)) {\n            options.forEach(function(entry) {\n                // array of one-element maps\n                if ($.isPlainObject(entry)) {\n                    $.each(entry, function(key, val) {\n                        tpl(key, val);\n                        return false; // break after first entry\n                    });\n                }\n                // array of values\n                else {\n                    tpl(entry, entry);\n                }\n            });\n        }\n        // unordered map\n        else {\n            $.each(options, function(key, val) {\n                tpl(key, val);\n            });\n        }\n    }\n};\n\n/**\n * Replaces {0}, {1}, ... in a string\n * @param str {string}\n * @param args,... {mixed}\n * @return {string}\n */\nUtils.fmt = function(str/*, args*/) {\n    var args = Array.prototype.slice.call(arguments, 1);\n\n    return str.replace(/{([0-9]+)}/g, function(m, i) {\n        return args[parseInt(i)];\n    });\n};\n\n/**\n * Throw an Error object with custom name\n * @param type {string}\n * @param message {string}\n * @param args,... {mixed}\n */\nUtils.error = function(type, message/*, args*/) {\n    var err = new Error(Utils.fmt.apply(null, Array.prototype.slice.call(arguments, 1)));\n    err.name = type + 'Error';\n    err.args = Array.prototype.slice.call(arguments, 2);\n    throw err;\n};\n\n/**\n * Change type of a value to int or float\n * @param value {mixed}\n * @param type {string} 'integer', 'double' or anything else\n * @param boolAsInt {boolean} return 0 or 1 for booleans\n * @return {mixed}\n */\nUtils.changeType = function(value, type, boolAsInt) {\n    switch (type) {\n        case 'integer': return parseInt(value);\n        case 'double': return parseFloat(value);\n        case 'boolean':\n            var bool = value.trim().toLowerCase() === 'true' || value.trim() === '1' || value === 1;\n            return boolAsInt ? (bool ? 1 : 0) : bool;\n        default: return value;\n    }\n};\n\n/**\n * Escape string like mysql_real_escape_string\n * @param value {string}\n * @return {string}\n */\nUtils.escapeString = function(value) {\n    if (typeof value != 'string') {\n        return value;\n    }\n\n    return value\n      .replace(/[\\0\\n\\r\\b\\\\\\'\\\"]/g, function(s) {\n          switch (s) {\n              case '\\0': return '\\\\0';\n              case '\\n': return '\\\\n';\n              case '\\r': return '\\\\r';\n              case '\\b': return '\\\\b';\n              default:   return '\\\\' + s;\n          }\n      })\n      // uglify compliant\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\x1a/g, '\\\\Z');\n};\n\n/**\n * Escape value for use in regex\n * @param value {string}\n * @return {string}\n */\nUtils.escapeRegExp = function(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n};\n\n/**\n * Escape HTML element id\n * @param value {string}\n * @return {string}\n */\nUtils.escapeElementId = function(str) {\n    // Regex based on that suggested by:\n    // https://learn.jquery.com/using-jquery-core/faq/how-do-i-select-an-element-by-an-id-that-has-characters-used-in-css-notation/\n    // - escapes : . [ ] ,\n    // - avoids escaping already escaped values\n    return (str) ? str.replace(/(\\\\)?([:.\\[\\],])/g,\n            function( $0, $1, $2 ) { return $1 ? $0 : '\\\\' + $2; }) : str;\n};\n\n/**\n * Sort objects by grouping them by {key}, preserving initial order when possible\n * @param {object[]} items\n * @param {string} key\n * @returns {object[]}\n */\nUtils.groupSort = function(items, key) {\n    var optgroups = [];\n    var newItems = [];\n\n    items.forEach(function(item) {\n        var idx;\n\n        if (item[key]) {\n            idx = optgroups.lastIndexOf(item[key]);\n\n            if (idx == -1) {\n                idx = optgroups.length;\n            }\n            else {\n                idx++;\n            }\n        }\n        else {\n            idx = optgroups.length;\n        }\n\n        optgroups.splice(idx, 0, item[key]);\n        newItems.splice(idx, 0, item);\n    });\n\n    return newItems;\n};\n\n\n$.fn.queryBuilder = function(option) {\n    if (this.length > 1) {\n        Utils.error('Config', 'Unable to initialize on multiple target');\n    }\n\n    var data = this.data('queryBuilder');\n    var options = (typeof option == 'object' && option) || {};\n\n    if (!data && option == 'destroy') {\n        return this;\n    }\n    if (!data) {\n        this.data('queryBuilder', new QueryBuilder(this, options));\n    }\n    if (typeof option == 'string') {\n        return data[option].apply(data, Array.prototype.slice.call(arguments, 1));\n    }\n\n    return this;\n};\n\n$.fn.queryBuilder.constructor = QueryBuilder;\n$.fn.queryBuilder.defaults = QueryBuilder.defaults;\n$.fn.queryBuilder.extend = QueryBuilder.extend;\n$.fn.queryBuilder.define = QueryBuilder.define;\n$.fn.queryBuilder.regional = QueryBuilder.regional;\n\n\n/*!\n * jQuery QueryBuilder Awesome Bootstrap Checkbox\n * Applies Awesome Bootstrap Checkbox for checkbox and radio inputs.\n */\n\nQueryBuilder.define('bt-checkbox', function(options) {\n    if (options.font == 'glyphicons') {\n        var injectCSS = document.createElement('style');\n        injectCSS.innerHTML = '\\\n.checkbox input[type=checkbox]:checked + label:after { \\\n    font-family: \"Glyphicons Halflings\"; \\\n    content: \"\\\\e013\"; \\\n} \\\n.checkbox label:after { \\\n    padding-left: 4px; \\\n    padding-top: 2px; \\\n    font-size: 9px; \\\n}';\n        document.body.appendChild(injectCSS);\n    }\n\n    this.on('getRuleInput.filter', function(h, rule, name) {\n        var filter = rule.filter;\n\n        if ((filter.input === 'radio' || filter.input === 'checkbox') && !filter.plugin) {\n            h.value = '';\n\n            if (!filter.colors) {\n                filter.colors = {};\n            }\n            if (filter.color) {\n                filter.colors._def_ = filter.color;\n            }\n\n            var style = filter.vertical ? ' style=\"display:block\"' : '';\n            var i = 0;\n\n            Utils.iterateOptions(filter.values, function(key, val) {\n                var color = filter.colors[key] || filter.colors._def_ || options.color;\n                var id = name + '_' + (i++);\n\n                h.value+= '\\\n<div' + style + ' class=\"' + filter.input + ' ' + filter.input + '-' + color + '\"> \\\n  <input type=\"' + filter.input + '\" name=\"' + name + '\" id=\"' + id + '\" value=\"' + key + '\"> \\\n  <label for=\"' + id + '\">' + val + '</label> \\\n</div>';\n            });\n        }\n    });\n}, {\n    font: 'glyphicons',\n    color: 'default'\n});\n\n\n/*!\n * jQuery QueryBuilder Bootstrap Selectpicker\n * Applies Bootstrap Select on filters and operators combo-boxes.\n */\n\n/**\n * @throws ConfigError\n */\nQueryBuilder.define('bt-selectpicker', function(options) {\n    if (!$.fn.selectpicker || !$.fn.selectpicker.Constructor) {\n        Utils.error('MissingLibrary', 'Bootstrap Select is required to use \"bt-selectpicker\" plugin. Get it here: http://silviomoreto.github.io/bootstrap-select');\n    }\n\n    // init selectpicker\n    this.on('afterCreateRuleFilters', function(e, rule) {\n        rule.$el.find(Selectors.rule_filter).removeClass('form-control').selectpicker(options);\n    });\n\n    this.on('afterCreateRuleOperators', function(e, rule) {\n        rule.$el.find(Selectors.rule_operator).removeClass('form-control').selectpicker(options);\n    });\n\n    // update selectpicker on change\n    this.on('afterUpdateRuleFilter', function(e, rule) {\n        rule.$el.find(Selectors.rule_filter).selectpicker('render');\n    });\n\n    this.on('afterUpdateRuleOperator', function(e, rule) {\n        rule.$el.find(Selectors.rule_operator).selectpicker('render');\n    });\n}, {\n    container: 'body',\n    style: 'btn-inverse btn-xs',\n    width: 'auto',\n    showIcon: false\n});\n\n\n/*!\n * jQuery QueryBuilder Bootstrap Tooltip errors\n * Applies Bootstrap Tooltips on validation error messages.\n */\n\n/**\n * @throws ConfigError\n */\nQueryBuilder.define('bt-tooltip-errors', function(options) {\n    if (!$.fn.tooltip || !$.fn.tooltip.Constructor || !$.fn.tooltip.Constructor.prototype.fixTitle) {\n        Utils.error('MissingLibrary', 'Bootstrap Tooltip is required to use \"bt-tooltip-errors\" plugin. Get it here: http://getbootstrap.com');\n    }\n\n    var self = this;\n\n    // add BT Tooltip data\n    this.on('getRuleTemplate.filter getGroupTemplate.filter', function(h) {\n        var $h = $(h.value);\n        $h.find(Selectors.error_container).attr('data-toggle', 'tooltip');\n        h.value = $h.prop('outerHTML');\n    });\n\n    // init/refresh tooltip when title changes\n    this.model.on('update', function(e, node, field) {\n        if (field == 'error' && self.settings.display_errors) {\n            node.$el.find(Selectors.error_container).eq(0)\n              .tooltip(options)\n              .tooltip('hide')\n              .tooltip('fixTitle');\n        }\n    });\n}, {\n    placement: 'right'\n});\n\n\n/*!\n * jQuery QueryBuilder Change Filters\n * Allows to change available filters after plugin initialization.\n */\n\nQueryBuilder.extend({\n    /**\n     * Change the filters of the builder\n     * @throws ChangeFilterError\n     * @param {boolean,optional} delete rules using old filters\n     * @param {object[]} new filters\n     */\n    setFilters: function(delete_orphans, filters) {\n        var self = this;\n\n        if (filters === undefined) {\n            filters = delete_orphans;\n            delete_orphans = false;\n        }\n\n        filters = this.checkFilters(filters);\n        filters = this.change('setFilters', filters);\n\n        var filtersIds = filters.map(function(filter) {\n            return filter.id;\n        });\n\n        // check for orphans\n        if (!delete_orphans) {\n            (function checkOrphans(node) {\n                node.each(\n                    function(rule) {\n                        if (rule.filter && filtersIds.indexOf(rule.filter.id) === -1) {\n                            Utils.error('ChangeFilter', 'A rule is using filter \"{0}\"', rule.filter.id);\n                        }\n                    },\n                    checkOrphans\n                );\n            }(this.model.root));\n        }\n\n        // replace filters\n        this.filters = filters;\n\n        // apply on existing DOM\n        (function updateBuilder(node) {\n            node.each(true,\n              function(rule) {\n                  if (rule.filter && filtersIds.indexOf(rule.filter.id) === -1) {\n                      rule.drop();\n                  }\n                  else {\n                      self.createRuleFilters(rule);\n\n                      rule.$el.find(Selectors.rule_filter).val(rule.filter ? rule.filter.id : '-1');\n                  }\n              },\n              updateBuilder\n            );\n        }(this.model.root));\n\n        // update plugins\n        if (this.settings.plugins) {\n            if (this.settings.plugins['unique-filter']) {\n                this.updateDisabledFilters();\n            }\n            if (this.settings.plugins['bt-selectpicker']) {\n                this.$el.find(Selectors.rule_filter).selectpicker('render');\n            }\n        }\n\n        // reset the default_filter if does not exist anymore\n        if (this.settings.default_filter) {\n            try {\n                this.getFilterById(this.settings.default_filter);\n            }\n            catch (e) {\n                this.settings.default_filter = null;\n            }\n        }\n\n        this.trigger('afterSetFilters', filters);\n    },\n\n    /**\n     * Adds a new filter to the builder\n     * @param {object|object[]} the new filter\n     * @param {mixed,optional} numeric index or '#start' or '#end'\n     */\n    addFilter: function(new_filters, position) {\n        if (position === undefined || position == '#end') {\n            position = this.filters.length;\n        }\n        else if (position == '#start') {\n            position = 0;\n        }\n\n        if (!$.isArray(new_filters)) {\n            new_filters = [new_filters];\n        }\n\n        var filters = $.extend(true, [], this.filters);\n\n        // numeric position\n        if (parseInt(position) == position) {\n            Array.prototype.splice.apply(filters, [position, 0].concat(new_filters));\n        }\n        else {\n            // after filter by its id\n            if (this.filters.some(function(filter, index) {\n                if (filter.id == position) {\n                    position = index + 1;\n                    return true;\n                }\n            })) {\n                Array.prototype.splice.apply(filters, [position, 0].concat(new_filters));\n            }\n            // defaults to end of list\n            else {\n                Array.prototype.push.apply(filters, new_filters);\n            }\n        }\n\n        this.setFilters(filters);\n    },\n\n    /**\n     * Removes a filter from the builder\n     * @param {string|string[]} the filter id\n     * @param {boolean,optional} delete rules using old filters\n     */\n    removeFilter: function(filter_ids, delete_orphans) {\n        var filters = $.extend(true, [], this.filters);\n        if (typeof filter_ids === 'string') {\n            filter_ids = [filter_ids];\n        }\n\n        filters = filters.filter(function(filter) {\n            return filter_ids.indexOf(filter.id) === -1;\n        });\n\n        this.setFilters(delete_orphans, filters);\n    }\n});\n\n\n/*!\n * jQuery QueryBuilder Filter Description\n * Provides three ways to display a description about a filter: inline, Bootsrap Popover or Bootbox.\n */\n\n/**\n * @throws ConfigError\n */\nQueryBuilder.define('filter-description', function(options) {\n    /**\n     * INLINE\n     */\n    if (options.mode === 'inline') {\n        this.on('afterUpdateRuleFilter', function(e, rule) {\n            var $p = rule.$el.find('p.filter-description');\n\n            if (!rule.filter || !rule.filter.description) {\n                $p.hide();\n            }\n            else {\n                if ($p.length === 0) {\n                    $p = $('<p class=\"filter-description\"></p>');\n                    $p.appendTo(rule.$el);\n                }\n                else {\n                    $p.show();\n                }\n\n                $p.html('<i class=\"' + options.icon + '\"></i> ' + rule.filter.description);\n            }\n        });\n    }\n    /**\n     * POPOVER\n     */\n    else if (options.mode === 'popover') {\n        if (!$.fn.popover || !$.fn.popover.Constructor || !$.fn.popover.Constructor.prototype.fixTitle) {\n            Utils.error('MissingLibrary', 'Bootstrap Popover is required to use \"filter-description\" plugin. Get it here: http://getbootstrap.com');\n        }\n\n        this.on('afterUpdateRuleFilter', function(e, rule) {\n            var $b = rule.$el.find('button.filter-description');\n\n            if (!rule.filter || !rule.filter.description) {\n                $b.hide();\n\n                if ($b.data('bs.popover')) {\n                    $b.popover('hide');\n                }\n            }\n            else {\n                if ($b.length === 0) {\n                    $b = $('<button type=\"button\" class=\"btn btn-xs btn-info filter-description\" data-toggle=\"popover\"><i class=\"' + options.icon + '\"></i></button>');\n                    $b.prependTo(rule.$el.find(Selectors.rule_actions));\n\n                    $b.popover({\n                        placement: 'left',\n                        container: 'body',\n                        html: true\n                    });\n\n                    $b.on('mouseout', function() {\n                        $b.popover('hide');\n                    });\n                }\n                else {\n                    $b.show();\n                }\n\n                $b.data('bs.popover').options.content = rule.filter.description;\n\n                if ($b.attr('aria-describedby')) {\n                    $b.popover('show');\n                }\n            }\n        });\n    }\n    /**\n     * BOOTBOX\n     */\n    else if (options.mode === 'bootbox') {\n        if (!('bootbox' in window)) {\n            Utils.error('MissingLibrary', 'Bootbox is required to use \"filter-description\" plugin. Get it here: http://bootboxjs.com');\n        }\n\n        this.on('afterUpdateRuleFilter', function(e, rule) {\n            var $b = rule.$el.find('button.filter-description');\n\n            if (!rule.filter || !rule.filter.description) {\n                $b.hide();\n            }\n            else {\n                if ($b.length === 0) {\n                    $b = $('<button type=\"button\" class=\"btn btn-xs btn-info filter-description\" data-toggle=\"bootbox\"><i class=\"' + options.icon + '\"></i></button>');\n                    $b.prependTo(rule.$el.find(Selectors.rule_actions));\n\n                    $b.on('click', function() {\n                        bootbox.alert($b.data('description'));\n                    });\n                }\n\n                $b.data('description', rule.filter.description);\n            }\n        });\n    }\n}, {\n    icon: 'glyphicon glyphicon-info-sign',\n    mode: 'popover'\n});\n\n\n/*!\n * jQuery QueryBuilder Invert\n * Allows to invert a rule operator, a group condition or the entire builder.\n */\n\nQueryBuilder.defaults({\n    operatorOpposites: {\n        'equal':            'not_equal',\n        'not_equal':        'equal',\n        'in':               'not_in',\n        'not_in':           'in',\n        'less':             'greater_or_equal',\n        'less_or_equal':    'greater',\n        'greater':          'less_or_equal',\n        'greater_or_equal': 'less',\n        'between':          'not_between',\n        'not_between':      'between',\n        'begins_with':      'not_begins_with',\n        'not_begins_with':  'begins_with',\n        'contains':         'not_contains',\n        'not_contains':     'contains',\n        'ends_with':        'not_ends_with',\n        'not_ends_with':    'ends_with',\n        'is_empty':         'is_not_empty',\n        'is_not_empty':     'is_empty',\n        'is_null':          'is_not_null',\n        'is_not_null':      'is_null'\n    },\n\n    conditionOpposites: {\n        'AND': 'OR',\n        'OR': 'AND'\n    }\n});\n\nQueryBuilder.define('invert', function(options) {\n    var self = this;\n\n    /**\n     * Bind events\n     */\n    this.on('afterInit', function() {\n        self.$el.on('click.queryBuilder', '[data-invert=group]', function() {\n            var $group = $(this).closest(Selectors.group_container);\n            self.invert(Model($group), options);\n        });\n\n        if (options.display_rules_button && options.invert_rules) {\n            self.$el.on('click.queryBuilder', '[data-invert=rule]', function() {\n                var $rule = $(this).closest(Selectors.rule_container);\n                self.invert(Model($rule), options);\n            });\n        }\n    });\n\n    /**\n     * Modify templates\n     */\n    this.on('getGroupTemplate.filter', function(h, level) {\n        var $h = $(h.value);\n        $h.find(Selectors.condition_container).after('<button type=\"button\" class=\"btn btn-xs btn-default\" data-invert=\"group\"><i class=\"' + options.icon + '\"></i> ' + self.lang.invert + '</button>');\n        h.value = $h.prop('outerHTML');\n    });\n\n    if (options.display_rules_button && options.invert_rules) {\n        this.on('getRuleTemplate.filter', function(h) {\n            var $h = $(h.value);\n            $h.find(Selectors.rule_actions).prepend('<button type=\"button\" class=\"btn btn-xs btn-default\" data-invert=\"rule\"><i class=\"' + options.icon + '\"></i> ' + self.lang.invert + '</button>');\n            h.value = $h.prop('outerHTML');\n        });\n    }\n}, {\n    icon: 'glyphicon glyphicon-random',\n    recursive: true,\n    invert_rules: true,\n    display_rules_button: false,\n    silent_fail: false\n});\n\nQueryBuilder.extend({\n    /**\n     * Invert a Group, a Rule or the whole builder\n     * @throws InvertConditionError, InvertOperatorError\n     * @param {Node,optional}\n     * @param {object,optional}\n     */\n    invert: function(node, options) {\n        if (!(node instanceof Node)) {\n            if (!this.model.root) return;\n            options = node;\n            node = this.model.root;\n        }\n\n        if (typeof options != 'object') options = {};\n        if (options.recursive === undefined) options.recursive = true;\n        if (options.invert_rules === undefined) options.invert_rules = true;\n        if (options.silent_fail === undefined) options.silent_fail = false;\n        if (options.trigger === undefined) options.trigger = true;\n\n        if (node instanceof Group) {\n            // invert group condition\n            if (this.settings.conditionOpposites[node.condition]) {\n                node.condition = this.settings.conditionOpposites[node.condition];\n            }\n            else if (!options.silent_fail) {\n                Utils.error('InvertCondition', 'Unknown inverse of condition \"{0}\"', node.condition);\n            }\n\n            // recursive call\n            if (options.recursive) {\n                var tempOpts = $.extend({}, options, { trigger: false });\n                node.each(function(rule) {\n                    if (options.invert_rules) {\n                        this.invert(rule, tempOpts);\n                    }\n                }, function(group) {\n                    this.invert(group, tempOpts);\n                }, this);\n            }\n        }\n        else if (node instanceof Rule) {\n            if (node.operator && !node.filter.no_invert) {\n                // invert rule operator\n                if (this.settings.operatorOpposites[node.operator.type]) {\n                    var invert = this.settings.operatorOpposites[node.operator.type];\n                    // check if the invert is \"authorized\"\n                    if (!node.filter.operators || node.filter.operators.indexOf(invert) != -1) {\n                        node.operator = this.getOperatorByType(invert);\n                    }\n                }\n                else if (!options.silent_fail) {\n                    Utils.error('InvertOperator', 'Unknown inverse of operator \"{0}\"', node.operator.type);\n                }\n            }\n        }\n\n        if (options.trigger) {\n            this.trigger('afterInvert', node, options);\n        }\n    }\n});\n\n\n/*!\n * jQuery QueryBuilder MongoDB Support\n * Allows to export rules as a MongoDB find object as well as populating the builder from a MongoDB object.\n */\n\n// DEFAULT CONFIG\n// ===============================\nQueryBuilder.defaults({\n    mongoOperators: {\n        equal:            function(v) { return v[0]; },\n        not_equal:        function(v) { return { '$ne': v[0] }; },\n        in:               function(v) { return { '$in': v }; },\n        not_in:           function(v) { return { '$nin': v }; },\n        less:             function(v) { return { '$lt': v[0] }; },\n        less_or_equal:    function(v) { return { '$lte': v[0] }; },\n        greater:          function(v) { return { '$gt': v[0] }; },\n        greater_or_equal: function(v) { return { '$gte': v[0] }; },\n        between:          function(v) { return { '$gte': v[0], '$lte': v[1] }; },\n        not_between:      function(v) { return { '$lt': v[0], '$gt': v[1] }; },\n        begins_with:      function(v) { return { '$regex': '^' + Utils.escapeRegExp(v[0]) }; },\n        not_begins_with:  function(v) { return { '$regex': '^(?!' + Utils.escapeRegExp(v[0]) + ')' }; },\n        contains:         function(v) { return { '$regex': Utils.escapeRegExp(v[0]) }; },\n        not_contains:     function(v) { return { '$regex': '^((?!' + Utils.escapeRegExp(v[0]) + ').)*$', '$options': 's' }; },\n        ends_with:        function(v) { return { '$regex': Utils.escapeRegExp(v[0]) + '$' }; },\n        not_ends_with:    function(v) { return { '$regex': '(?<!' + Utils.escapeRegExp(v[0]) + ')$' }; },\n        is_empty:         function(v) { return ''; },\n        is_not_empty:     function(v) { return { '$ne': '' }; },\n        is_null:          function(v) { return null; },\n        is_not_null:      function(v) { return { '$ne': null }; }\n    },\n\n    mongoRuleOperators: {\n        $ne: function(v) {\n            v = v.$ne;\n            return {\n                'val': v,\n                'op': v === null ? 'is_not_null' : (v === '' ? 'is_not_empty' : 'not_equal')\n            };\n        },\n        eq: function(v) {\n            return {\n                'val': v,\n                'op': v === null ? 'is_null' : (v === '' ? 'is_empty' : 'equal')\n            };\n        },\n        $regex: function(v) {\n            v = v.$regex;\n            if (v.slice(0, 4) == '^(?!' && v.slice(-1) == ')') {\n                return { 'val': v.slice(4, -1), 'op': 'not_begins_with' };\n            }\n            else if (v.slice(0, 5) == '^((?!' && v.slice(-5) == ').)*$') {\n                return { 'val': v.slice(5, -5), 'op': 'not_contains' };\n            }\n            else if (v.slice(0, 4) == '(?<!' && v.slice(-2) == ')$') {\n                return { 'val': v.slice(4, -2), 'op': 'not_ends_with' };\n            }\n            else if (v.slice(-1) == '$') {\n                return { 'val': v.slice(0, -1), 'op': 'ends_with' };\n            }\n            else if (v.slice(0, 1) == '^') {\n                return { 'val': v.slice(1), 'op': 'begins_with' };\n            }\n            else {\n                return { 'val': v, 'op': 'contains' };\n            }\n        },\n        between:     function(v) { return { 'val': [v.$gte, v.$lte], 'op': 'between' }; },\n        not_between: function(v) { return { 'val': [v.$lt, v.$gt], 'op': 'not_between' }; },\n        $in:  function(v) { return { 'val': v.$in, 'op': 'in' }; },\n        $nin: function(v) { return { 'val': v.$nin, 'op': 'not_in' }; },\n        $lt:  function(v) { return { 'val': v.$lt, 'op': 'less' }; },\n        $lte: function(v) { return { 'val': v.$lte, 'op': 'less_or_equal' }; },\n        $gt:  function(v) { return { 'val': v.$gt, 'op': 'greater' }; },\n        $gte: function(v) { return { 'val': v.$gte, 'op': 'greater_or_equal' }; }\n    }\n});\n\n\n// PUBLIC METHODS\n// ===============================\nQueryBuilder.extend({\n    /**\n     * Get rules as MongoDB query\n     * @throws UndefinedMongoConditionError, UndefinedMongoOperatorError\n     * @param data {object} (optional) rules\n     * @return {object}\n     */\n    getMongo: function(data) {\n        data = (data === undefined) ? this.getRules() : data;\n\n        var self = this;\n\n        return (function parse(data) {\n            if (!data.condition) {\n                data.condition = self.settings.default_condition;\n            }\n            if (['AND', 'OR'].indexOf(data.condition.toUpperCase()) === -1) {\n                Utils.error('UndefinedMongoCondition', 'Unable to build MongoDB query with condition \"{0}\"', data.condition);\n            }\n\n            if (!data.rules) {\n                return {};\n            }\n\n            var parts = [];\n\n            data.rules.forEach(function(rule) {\n                if (rule.rules && rule.rules.length > 0) {\n                    parts.push(parse(rule));\n                }\n                else {\n                    var mdb = self.settings.mongoOperators[rule.operator];\n                    var ope = self.getOperatorByType(rule.operator);\n                    var values = [];\n\n                    if (mdb === undefined) {\n                        Utils.error('UndefinedMongoOperator', 'Unknown MongoDB operation for operator \"{0}\"', rule.operator);\n                    }\n\n                    if (ope.nb_inputs !== 0) {\n                        if (!(rule.value instanceof Array)) {\n                            rule.value = [rule.value];\n                        }\n\n                        rule.value.forEach(function(v) {\n                            values.push(Utils.changeType(v, rule.type, false));\n                        });\n                    }\n\n                    var part = {};\n                    part[rule.field] = mdb.call(self, values);\n                    parts.push(part);\n                }\n            });\n\n            var res = {};\n            if (parts.length > 0) {\n                res['$' + data.condition.toLowerCase()] = parts;\n            }\n            return res;\n        }(data));\n    },\n\n    /**\n     * Convert MongoDB object to rules\n     * @throws MongoParseError, UndefinedMongoConditionError, UndefinedMongoOperatorError\n     * @param data {object} query object\n     * @return {object}\n     */\n    getRulesFromMongo: function(data) {\n        if (data === undefined || data === null) {\n            return null;\n        }\n\n        var self = this;\n        var conditions = {\n            '$and': 'AND',\n            '$or': 'OR'\n        };\n\n        return (function parse(data) {\n            var topKeys = Object.keys(data);\n\n            if (topKeys.length > 1) {\n                Utils.error('MongoParse', 'Invalid MongoDB query format');\n            }\n            if (!conditions[topKeys[0].toLowerCase()]) {\n                Utils.error('UndefinedMongoCondition', 'Unable to build MongoDB query with condition \"{0}\"', topKeys[0]);\n            }\n\n            var rules = data[topKeys[0]];\n            var parts = [];\n\n            rules.forEach(function(rule) {\n                var keys = Object.keys(rule);\n\n                if (conditions[keys[0].toLowerCase()]) {\n                    parts.push(parse(rule));\n                }\n                else {\n                    var field = keys[0];\n                    var value = rule[field];\n\n                    var operator = determineMongoOperator(value, field);\n                    if (operator === undefined) {\n                        Utils.error('MongoParse', 'Invalid MongoDB query format');\n                    }\n\n                    var mdbrl = self.settings.mongoRuleOperators[operator];\n                    if (mdbrl === undefined) {\n                        Utils.error('UndefinedMongoOperator', 'JSON Rule operation unknown for operator \"{0}\"', operator);\n                    }\n\n                    var opVal = mdbrl.call(self, value);\n                    parts.push({\n                        id: self.change('getMongoDBFieldID', field, value),\n                        field: field,\n                        operator: opVal.op,\n                        value: opVal.val\n                    });\n                }\n            });\n\n            var res = {};\n            if (parts.length > 0) {\n                res.condition = conditions[topKeys[0].toLowerCase()];\n                res.rules = parts;\n            }\n            return res;\n        }(data));\n    },\n\n    /**\n     * Set rules from MongoDB object\n     * @param data {object}\n     */\n    setRulesFromMongo: function(data) {\n        this.setRules(this.getRulesFromMongo(data));\n    }\n});\n\n/**\n * Find which operator is used in a MongoDB sub-object\n * @param {mixed} value\n * @param {string} field\n * @return {string|undefined}\n */\nfunction determineMongoOperator(value, field) {\n    if (value !== null && typeof value == 'object') {\n        var subkeys = Object.keys(value);\n\n        if (subkeys.length === 1) {\n            return subkeys[0];\n        }\n        else {\n            if (value.$gte !== undefined && value.$lte !== undefined) {\n                return 'between';\n            }\n            if (value.$lt !== undefined && value.$gt !== undefined) {\n                return 'not_between';\n            }\n            else if (value.$regex !== undefined) { // optional $options\n                return '$regex';\n            }\n            else {\n                return;\n            }\n        }\n    }\n    else {\n        return 'eq';\n    }\n}\n\n\n/*!\n * jQuery QueryBuilder Sortable\n * Enables drag & drop sort of rules.\n */\n\nSelectors.rule_and_group_containers = Selectors.rule_container + ', ' + Selectors.group_container;\n\nQueryBuilder.define('sortable', function(options) {\n    /**\n     * Init HTML5 drag and drop\n     */\n    this.on('afterInit', function(e) {\n        // configure jQuery to use dataTransfer\n        $.event.props.push('dataTransfer');\n\n        var placeholder;\n        var src;\n        var self = e.builder;\n\n        // only add \"draggable\" attribute when hovering drag handle\n        // preventing text select bug in Firefox\n        self.$el.on('mouseover.queryBuilder', '.drag-handle', function() {\n            self.$el.find(Selectors.rule_and_group_containers).attr('draggable', true);\n        });\n        self.$el.on('mouseout.queryBuilder', '.drag-handle', function() {\n            self.$el.find(Selectors.rule_and_group_containers).removeAttr('draggable');\n        });\n\n        // dragstart: create placeholder and hide current element\n        self.$el.on('dragstart.queryBuilder', '[draggable]', function(e) {\n            e.stopPropagation();\n\n            // notify drag and drop (only dummy text)\n            e.dataTransfer.setData('text', 'drag');\n\n            src = Model(e.target);\n\n            // Chrome glitchs\n            // - helper invisible if hidden immediately\n            // - \"dragend\" is called immediately if we modify the DOM directly\n            setTimeout(function() {\n                var ph = $('<div class=\"rule-placeholder\">&nbsp;</div>');\n                ph.css('min-height', src.$el.height());\n\n                placeholder = src.parent.addRule(ph, src.getPos());\n\n                src.$el.hide();\n            }, 0);\n        });\n\n        // dragenter: move the placeholder\n        self.$el.on('dragenter.queryBuilder', '[draggable]', function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            if (placeholder) {\n                moveSortableToTarget(placeholder, $(e.target));\n            }\n        });\n\n        // dragover: prevent glitches\n        self.$el.on('dragover.queryBuilder', '[draggable]', function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n        });\n\n        // drop: move current element\n        self.$el.on('drop.queryBuilder', function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            moveSortableToTarget(src, $(e.target));\n        });\n\n        // dragend: show current element and delete placeholder\n        self.$el.on('dragend.queryBuilder', '[draggable]', function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            src.$el.show();\n            placeholder.drop();\n\n            self.$el.find(Selectors.rule_and_group_containers).removeAttr('draggable');\n\n            self.trigger('afterMove', src);\n\n            src = placeholder = null;\n        });\n    });\n\n    /**\n     * Remove drag handle from non-sortable rules\n     */\n    this.on('parseRuleFlags.filter', function(flags) {\n        if (flags.value.no_sortable === undefined) {\n            flags.value.no_sortable = options.default_no_sortable;\n        }\n    });\n\n    this.on('afterApplyRuleFlags', function(e, rule) {\n        if (rule.flags.no_sortable) {\n            rule.$el.find('.drag-handle').remove();\n        }\n    });\n\n    /**\n     * Remove drag handle from non-sortable groups\n     */\n    this.on('parseGroupFlags.filter', function(flags) {\n        if (flags.value.no_sortable === undefined) {\n            flags.value.no_sortable = options.default_no_sortable;\n        }\n    });\n\n    this.on('afterApplyGroupFlags', function(e, group) {\n        if (group.flags.no_sortable) {\n            group.$el.find('.drag-handle').remove();\n        }\n    });\n\n    /**\n     * Modify templates\n     */\n    this.on('getGroupTemplate.filter', function(h, level) {\n        if (level > 1) {\n            var $h = $(h.value);\n            $h.find(Selectors.condition_container).after('<div class=\"drag-handle\"><i class=\"' + options.icon + '\"></i></div>');\n            h.value = $h.prop('outerHTML');\n        }\n    });\n\n    this.on('getRuleTemplate.filter', function(h) {\n        var $h = $(h.value);\n        $h.find(Selectors.rule_header).after('<div class=\"drag-handle\"><i class=\"' + options.icon + '\"></i></div>');\n        h.value = $h.prop('outerHTML');\n    });\n}, {\n    default_no_sortable: false,\n    icon: 'glyphicon glyphicon-sort'\n});\n\n/**\n * Move an element (placeholder or actual object) depending on active target\n * @param {Node}\n * @param {jQuery}\n */\nfunction moveSortableToTarget(element, target) {\n    var parent;\n\n    // on rule\n    parent = target.closest(Selectors.rule_container);\n    if (parent.length) {\n        element.moveAfter(Model(parent));\n        return;\n    }\n\n    // on group header\n    parent = target.closest(Selectors.group_header);\n    if (parent.length) {\n        parent = target.closest(Selectors.group_container);\n        element.moveAtBegin(Model(parent));\n        return;\n    }\n\n    // on group\n    parent = target.closest(Selectors.group_container);\n    if (parent.length) {\n        element.moveAtEnd(Model(parent));\n        return;\n    }\n}\n\n\n/*!\n * jQuery QueryBuilder SQL Support\n * Allows to export rules as a SQL WHERE statement as well as populating the builder from an SQL query.\n */\n\n// DEFAULT CONFIG\n// ===============================\nQueryBuilder.defaults({\n    /* operators for internal -> SQL conversion */\n    sqlOperators: {\n        equal:            { op: '= ?' },\n        not_equal:        { op: '!= ?' },\n        in:               { op: 'IN(?)',          sep: ', ' },\n        not_in:           { op: 'NOT IN(?)',      sep: ', ' },\n        less:             { op: '< ?' },\n        less_or_equal:    { op: '<= ?' },\n        greater:          { op: '> ?' },\n        greater_or_equal: { op: '>= ?' },\n        between:          { op: 'BETWEEN ?',      sep: ' AND ' },\n        not_between:      { op: 'NOT BETWEEN ?',  sep: ' AND ' },\n        begins_with:      { op: 'LIKE(?)',        mod: '{0}%' },\n        not_begins_with:  { op: 'NOT LIKE(?)',    mod: '{0}%' },\n        contains:         { op: 'LIKE(?)',        mod: '%{0}%' },\n        not_contains:     { op: 'NOT LIKE(?)',    mod: '%{0}%' },\n        ends_with:        { op: 'LIKE(?)',        mod: '%{0}' },\n        not_ends_with:    { op: 'NOT LIKE(?)',    mod: '%{0}' },\n        is_empty:         { op: '= \\'\\'' },\n        is_not_empty:     { op: '!= \\'\\'' },\n        is_null:          { op: 'IS NULL' },\n        is_not_null:      { op: 'IS NOT NULL' }\n    },\n\n    /* operators for SQL -> internal conversion */\n    sqlRuleOperator: {\n        '=': function(v) {\n            return {\n                val: v,\n                op: v === '' ? 'is_empty' : 'equal'\n            };\n        },\n        '!=': function(v) {\n            return {\n                val: v,\n                op: v === '' ? 'is_not_empty' : 'not_equal'\n            };\n        },\n        'LIKE': function(v) {\n            if (v.slice(0, 1) == '%' && v.slice(-1) == '%') {\n                return {\n                    val: v.slice(1, -1),\n                    op: 'contains'\n                };\n            }\n            else if (v.slice(0, 1) == '%') {\n                return {\n                    val: v.slice(1),\n                    op: 'ends_with'\n                };\n            }\n            else if (v.slice(-1) == '%') {\n                return {\n                    val: v.slice(0, -1),\n                    op: 'begins_with'\n                };\n            }\n            else {\n                Utils.error('SQLParse', 'Invalid value for LIKE operator \"{0}\"', v);\n            }\n        },\n        'IN':           function(v) { return { val: v, op: 'in' }; },\n        'NOT IN':       function(v) { return { val: v, op: 'not_in' }; },\n        '<':            function(v) { return { val: v, op: 'less' }; },\n        '<=':           function(v) { return { val: v, op: 'less_or_equal' }; },\n        '>':            function(v) { return { val: v, op: 'greater' }; },\n        '>=':           function(v) { return { val: v, op: 'greater_or_equal' }; },\n        'BETWEEN':      function(v) { return { val: v, op: 'between' }; },\n        'NOT BETWEEN':  function(v) { return { val: v, op: 'not_between' }; },\n        'IS': function(v) {\n            if (v !== null) {\n                Utils.error('SQLParse', 'Invalid value for IS operator');\n            }\n            return { val: null, op: 'is_null' };\n        },\n        'IS NOT': function(v) {\n            if (v !== null) {\n                Utils.error('SQLParse', 'Invalid value for IS operator');\n            }\n            return { val: null, op: 'is_not_null' };\n        }\n    },\n\n    /* statements for internal -> SQL conversion */\n    sqlStatements: {\n        'question_mark': function() {\n            var params = [];\n            return {\n                add: function(rule, value) {\n                    params.push(value);\n                    return '?';\n                },\n                run: function() {\n                    return params;\n                }\n            };\n        },\n\n        'numbered': function(char) {\n            if (!char || char.length > 1) char = '$';\n            var index = 0;\n            var params = [];\n            return {\n                add: function(rule, value) {\n                    params.push(value);\n                    index++;\n                    return char + index;\n                },\n                run: function() {\n                    return params;\n                }\n            };\n        },\n\n        'named': function(char) {\n            if (!char || char.length > 1) char = ':';\n            var indexes = {};\n            var params = {};\n            return {\n                add: function(rule, value) {\n                    if (!indexes[rule.field]) indexes[rule.field] = 1;\n                    var key = rule.field + '_' + (indexes[rule.field]++);\n                    params[key] = value;\n                    return char + key;\n                },\n                run: function() {\n                    return params;\n                }\n            };\n        }\n    },\n\n    /* statements for SQL -> internal conversion */\n    sqlRuleStatement: {\n        'question_mark': function(values) {\n            var index = 0;\n            return {\n                parse: function(v) {\n                    return v == '?' ? values[index++] : v;\n                },\n                esc: function(sql) {\n                    return sql.replace(/\\?/g, '\\'?\\'');\n                }\n            };\n        },\n\n        'numbered': function(values, char) {\n            if (!char || char.length > 1) char = '$';\n            var regex1 = new RegExp('^\\\\' + char + '[0-9]+$');\n            var regex2 = new RegExp('\\\\' + char + '([0-9]+)', 'g');\n            return {\n                parse: function(v) {\n                    return regex1.test(v) ? values[v.slice(1) - 1] : v;\n                },\n                esc: function(sql) {\n                    return sql.replace(regex2, '\\'' + (char == '$' ? '$$' : char) + '$1\\'');\n                }\n            };\n        },\n\n        'named': function(values, char) {\n            if (!char || char.length > 1) char = ':';\n            var regex1 = new RegExp('^\\\\' + char);\n            var regex2 = new RegExp('\\\\' + char + '(' + Object.keys(values).join('|') + ')', 'g');\n            return {\n                parse: function(v) {\n                    return regex1.test(v) ? values[v.slice(1)] : v;\n                },\n                esc: function(sql) {\n                    return sql.replace(regex2, '\\'' + (char == '$' ? '$$' : char) + '$1\\'');\n                }\n            };\n        }\n    }\n});\n\n\n// PUBLIC METHODS\n// ===============================\nQueryBuilder.extend({\n    /**\n     * Get rules as SQL query\n     * @throws UndefinedSQLConditionError, UndefinedSQLOperatorError\n     * @param stmt {boolean|string} use prepared statements - false, 'question_mark', 'numbered', 'numbered(@)', 'named', 'named(@)'\n     * @param nl {bool} output with new lines\n     * @param data {object} (optional) rules\n     * @return {object}\n     */\n    getSQL: function(stmt, nl, data) {\n        data = (data === undefined) ? this.getRules() : data;\n        nl = (nl === true) ? '\\n' : ' ';\n\n        if (stmt === true) stmt = 'question_mark';\n        if (typeof stmt == 'string') {\n            var config = getStmtConfig(stmt);\n            stmt = this.settings.sqlStatements[config[1]](config[2]);\n        }\n\n        var self = this;\n\n        var sql = (function parse(data) {\n            if (!data.condition) {\n                data.condition = self.settings.default_condition;\n            }\n            if (['AND', 'OR'].indexOf(data.condition.toUpperCase()) === -1) {\n                Utils.error('UndefinedSQLCondition', 'Unable to build SQL query with condition \"{0}\"', data.condition);\n            }\n\n            if (!data.rules) {\n                return '';\n            }\n\n            var parts = [];\n\n            data.rules.forEach(function(rule) {\n                if (rule.rules && rule.rules.length > 0) {\n                    parts.push('(' + nl + parse(rule) + nl + ')' + nl);\n                }\n                else {\n                    var sql = self.settings.sqlOperators[rule.operator];\n                    var ope = self.getOperatorByType(rule.operator);\n                    var value = '';\n\n                    if (sql === undefined) {\n                        Utils.error('UndefinedSQLOperator', 'Unknown SQL operation for operator \"{0}\"', rule.operator);\n                    }\n\n                    if (ope.nb_inputs !== 0) {\n                        if (!(rule.value instanceof Array)) {\n                            rule.value = [rule.value];\n                        }\n\n                        rule.value.forEach(function(v, i) {\n                            if (i > 0) {\n                                value+= sql.sep;\n                            }\n\n                            if (rule.type == 'integer' || rule.type == 'double' || rule.type == 'boolean') {\n                                v = Utils.changeType(v, rule.type, true);\n                            }\n                            else if (!stmt) {\n                                v = Utils.escapeString(v);\n                            }\n\n                            if (sql.mod) {\n                                v = Utils.fmt(sql.mod, v);\n                            }\n\n                            if (stmt) {\n                                value+= stmt.add(rule, v);\n                            }\n                            else {\n                                if (typeof v == 'string') {\n                                    v = '\\'' + v + '\\'';\n                                }\n\n                                value+= v;\n                            }\n                        });\n                    }\n\n                    parts.push(rule.field + ' ' + sql.op.replace(/\\?/, value));\n                }\n            });\n\n            return parts.join(' ' + data.condition + nl);\n        }(data));\n\n        if (stmt) {\n            return {\n                sql: sql,\n                params: stmt.run()\n            };\n        }\n        else {\n            return {\n                sql: sql\n            };\n        }\n    },\n\n    /**\n     * Convert SQL to rules\n     * @throws ConfigError, SQLParseError, UndefinedSQLOperatorError\n     * @param data {object} query object\n     * @param stmt {boolean|string} use prepared statements - false, 'question_mark', 'numbered', 'numbered(@)', 'named', 'named(@)'\n     * @return {object}\n     */\n    getRulesFromSQL: function(data, stmt) {\n        if (!('SQLParser' in window)) {\n            Utils.error('MissingLibrary', 'SQLParser is required to parse SQL queries. Get it here https://github.com/mistic100/sql-parser');\n        }\n\n        var self = this;\n\n        if (typeof data == 'string') {\n            data = { sql: data };\n        }\n\n        if (stmt === true) stmt = 'question_mark';\n        if (typeof stmt == 'string') {\n            var config = getStmtConfig(stmt);\n            stmt = this.settings.sqlRuleStatement[config[1]](data.params, config[2]);\n        }\n\n        if (stmt) {\n            data.sql = stmt.esc(data.sql);\n        }\n\n        if (data.sql.toUpperCase().indexOf('SELECT') !== 0) {\n            data.sql = 'SELECT * FROM table WHERE ' + data.sql;\n        }\n\n        var parsed = SQLParser.parse(data.sql);\n\n        if (!parsed.where) {\n            Utils.error('SQLParse', 'No WHERE clause found');\n        }\n\n        var out = {\n            condition: this.settings.default_condition,\n            rules: []\n        };\n        var curr = out;\n\n        (function flatten(data, i) {\n            // it's a node\n            if (['AND', 'OR'].indexOf(data.operation.toUpperCase()) !== -1) {\n                // create a sub-group if the condition is not the same and it's not the first level\n                if (i > 0 && curr.condition != data.operation.toUpperCase()) {\n                    curr.rules.push({\n                        condition: self.settings.default_condition,\n                        rules: []\n                    });\n\n                    curr = curr.rules[curr.rules.length - 1];\n                }\n\n                curr.condition = data.operation.toUpperCase();\n                i++;\n\n                // some magic !\n                var next = curr;\n                flatten(data.left, i);\n\n                curr = next;\n                flatten(data.right, i);\n            }\n            // it's a leaf\n            else {\n                if (data.left.value === undefined || data.right.value === undefined) {\n                    Utils.error('SQLParse', 'Missing field and/or value');\n                }\n\n                if ($.isPlainObject(data.right.value)) {\n                    Utils.error('SQLParse', 'Value format not supported for {0}.', data.left.value);\n                }\n\n                // convert array\n                var value;\n                if ($.isArray(data.right.value)) {\n                    value = data.right.value.map(function(v) {\n                        return v.value;\n                    });\n                }\n                else {\n                    value = data.right.value;\n                }\n\n                // get actual values\n                if (stmt) {\n                    if ($.isArray(value)) {\n                        value = value.map(stmt.parse);\n                    }\n                    else {\n                        value = stmt.parse(value);\n                    }\n                }\n\n                // convert operator\n                var operator = data.operation.toUpperCase();\n                if (operator == '<>') operator = '!=';\n\n                var sqlrl;\n                if (operator == 'NOT LIKE') {\n                    sqlrl = self.settings.sqlRuleOperator['LIKE'];\n                }\n                else {\n                    sqlrl = self.settings.sqlRuleOperator[operator];\n                }\n\n                if (sqlrl === undefined) {\n                    Utils.error('UndefinedSQLOperator', 'Invalid SQL operation \"{0}\".', data.operation);\n                }\n\n                var opVal = sqlrl.call(this, value, data.operation);\n                if (operator == 'NOT LIKE') opVal.op = 'not_' + opVal.op;\n\n                var left_value = data.left.values.join('.');\n\n                curr.rules.push({\n                    id: self.change('getSQLFieldID', left_value, value),\n                    field: left_value,\n                    operator: opVal.op,\n                    value: opVal.val\n                });\n            }\n        }(parsed.where.conditions, 0));\n\n        return out;\n    },\n\n    /**\n     * Set rules from SQL\n     * @param data {object}\n     */\n    setRulesFromSQL: function(data, stmt) {\n        this.setRules(this.getRulesFromSQL(data, stmt));\n    }\n});\n\nfunction getStmtConfig(stmt) {\n    var config = stmt.match(/(question_mark|numbered|named)(?:\\((.)\\))?/);\n    if (!config) config = [null, 'question_mark', undefined];\n    return config;\n}\n\n\n/*!\n * jQuery QueryBuilder Unique Filter\n * Allows to define some filters as \"unique\": ie which can be used for only one rule, globally or in the same group.\n */\n\nQueryBuilder.define('unique-filter', function() {\n    this.status.used_filters = {};\n\n    this.on('afterUpdateRuleFilter', this.updateDisabledFilters);\n    this.on('afterDeleteRule', this.updateDisabledFilters);\n    this.on('afterCreateRuleFilters', this.applyDisabledFilters);\n    this.on('afterReset', this.clearDisabledFilters);\n    this.on('afterClear', this.clearDisabledFilters);\n});\n\nQueryBuilder.extend({\n    updateDisabledFilters: function(e) {\n        var self = e ? e.builder : this;\n\n        self.status.used_filters = {};\n\n        if (!self.model) {\n            return;\n        }\n\n        // get used filters\n        (function walk(group) {\n            group.each(function(rule) {\n                if (rule.filter && rule.filter.unique) {\n                    if (!self.status.used_filters[rule.filter.id]) {\n                        self.status.used_filters[rule.filter.id] = [];\n                    }\n                    if (rule.filter.unique == 'group') {\n                        self.status.used_filters[rule.filter.id].push(rule.parent);\n                    }\n                }\n            }, function(group) {\n                walk(group);\n            });\n        }(self.model.root));\n\n        self.applyDisabledFilters(e);\n    },\n\n    clearDisabledFilters: function(e) {\n        var self = e ? e.builder : this;\n\n        self.status.used_filters = {};\n\n        self.applyDisabledFilters(e);\n    },\n\n    applyDisabledFilters: function(e) {\n        var self = e ? e.builder : this;\n\n        // re-enable everything\n        self.$el.find(Selectors.filter_container + ' option').prop('disabled', false);\n\n        // disable some\n        $.each(self.status.used_filters, function(filterId, groups) {\n            if (groups.length === 0) {\n                self.$el.find(Selectors.filter_container + ' option[value=\"' + filterId + '\"]:not(:selected)').prop('disabled', true);\n            }\n            else {\n                groups.forEach(function(group) {\n                    group.each(function(rule) {\n                        rule.$el.find(Selectors.filter_container + ' option[value=\"' + filterId + '\"]:not(:selected)').prop('disabled', true);\n                    });\n                });\n            }\n        });\n\n        // update Selectpicker\n        if (self.settings.plugins && self.settings.plugins['bt-selectpicker']) {\n            self.$el.find(Selectors.rule_filter).selectpicker('render');\n        }\n    }\n});\n\n\n/*!\n * jQuery QueryBuilder 2.3.3\n * Locale: English (en)\n * Author: Damien \"Mistic\" Sorel, http://www.strangeplanet.fr\n * Licensed under MIT (http://opensource.org/licenses/MIT)\n */\n\nQueryBuilder.regional['en'] = {\n  \"__locale\": \"English (en)\",\n  \"__author\": \"Damien \\\"Mistic\\\" Sorel, http://www.strangeplanet.fr\",\n  \"add_rule\": \"Add rule\",\n  \"add_group\": \"Add group\",\n  \"delete_rule\": \"Delete\",\n  \"delete_group\": \"Delete\",\n  \"conditions\": {\n    \"AND\": \"AND\",\n    \"OR\": \"OR\"\n  },\n  \"operators\": {\n    \"equal\": \"equal\",\n    \"not_equal\": \"not equal\",\n    \"in\": \"in\",\n    \"not_in\": \"not in\",\n    \"less\": \"less\",\n    \"less_or_equal\": \"less or equal\",\n    \"greater\": \"greater\",\n    \"greater_or_equal\": \"greater or equal\",\n    \"between\": \"between\",\n    \"not_between\": \"not between\",\n    \"begins_with\": \"begins with\",\n    \"not_begins_with\": \"doesn't begin with\",\n    \"contains\": \"contains\",\n    \"not_contains\": \"doesn't contain\",\n    \"ends_with\": \"ends with\",\n    \"not_ends_with\": \"doesn't end with\",\n    \"is_empty\": \"is empty\",\n    \"is_not_empty\": \"is not empty\",\n    \"is_null\": \"is null\",\n    \"is_not_null\": \"is not null\"\n  },\n  \"errors\": {\n    \"no_filter\": \"No filter selected\",\n    \"empty_group\": \"The group is empty\",\n    \"radio_empty\": \"No value selected\",\n    \"checkbox_empty\": \"No value selected\",\n    \"select_empty\": \"No value selected\",\n    \"string_empty\": \"Empty value\",\n    \"string_exceed_min_length\": \"Must contain at least {0} characters\",\n    \"string_exceed_max_length\": \"Must not contain more than {0} characters\",\n    \"string_invalid_format\": \"Invalid format ({0})\",\n    \"number_nan\": \"Not a number\",\n    \"number_not_integer\": \"Not an integer\",\n    \"number_not_double\": \"Not a real number\",\n    \"number_exceed_min\": \"Must be greater than {0}\",\n    \"number_exceed_max\": \"Must be lower than {0}\",\n    \"number_wrong_step\": \"Must be a multiple of {0}\",\n    \"datetime_empty\": \"Empty value\",\n    \"datetime_invalid\": \"Invalid date format ({0})\",\n    \"datetime_exceed_min\": \"Must be after {0}\",\n    \"datetime_exceed_max\": \"Must be before {0}\",\n    \"boolean_not_valid\": \"Not a boolean\",\n    \"operator_not_multiple\": \"Operator {0} cannot accept multiple values\"\n  },\n  \"invert\": \"Invert\"\n};\n\nQueryBuilder.defaults({ lang_code: 'en' });\n}));//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9qYWt1YmZhamt1cy9Eb2N1bWVudHMvcHJhY2UvdmVuaWNlLWRlbW8vdmVuaWNlLWpzL2xpYi9xdWVyeS1idWlsZGVyLmpzP2U0YmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBqUXVlcnkuZXh0ZW5kZXh0IDAuMS4xXG4gKlxuICogQ29weXJpZ2h0IDIwMTQgRGFtaWVuIFwiTWlzdGljXCIgU29yZWwgKGh0dHA6Ly93d3cuc3RyYW5nZXBsYW5ldC5mcilcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVClcbiAqIFxuICogQmFzZWQgb24galF1ZXJ5LmV4dGVuZCBieSBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKi9cblxuLy8gLy8gSW1wb3J0ZWQgYnkgRmlzYVxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcblxuXG4vKipcbiAqIEVYVEVETiBERVhUIEZPUiBKUVVFUllcbiAqL1xuKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBmYWN0b3J5KCQpOyAvLyBNT0RJRklFRFxuICAgIC8vIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyAgICAgZGVmaW5lKCdqUXVlcnkuZXh0ZW5kZXh0JywgWydqcXVlcnknXSwgZmFjdG9yeSk7XG4gICAgLy8gfVxuICAgIC8vIGVsc2Uge1xuICAgIC8vICAgICBmYWN0b3J5KHJvb3QualF1ZXJ5KTtcbiAgICAvLyB9XG59KHRoaXMsIGZ1bmN0aW9uKCQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgJC5leHRlbmRleHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG4gICAgICB0YXJnZXQgPSBhcmd1bWVudHNbMF0gfHwge30sXG4gICAgICBpID0gMSxcbiAgICAgIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICBkZWVwID0gZmFsc2UsXG4gICAgICBhcnJheU1vZGUgPSAnZGVmYXVsdCc7XG5cbiAgICAvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG4gICAgaWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcbiAgICAgIGRlZXAgPSB0YXJnZXQ7XG5cbiAgICAgIC8vIFNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcbiAgICAgIHRhcmdldCA9IGFyZ3VtZW50c1sgaSsrIF0gfHwge307XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGFycmF5IG1vZGUgcGFyYW1ldGVyXG4gICAgaWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcInN0cmluZ1wiICkge1xuICAgICAgLy8gYXJyYXlNb2RlID0gJChbdGFyZ2V0LnRvTG93ZXJDYXNlKCksICdkZWZhdWx0J10pLmZpbHRlcihbJ2RlZmF1bHQnLCdjb25jYXQnLCdyZXBsYWNlJywnZXh0ZW5kJ10pWzBdO1xuICAgICAgYXJyYXlNb2RlID0gJChbdGFyZ2V0LnRvTG93ZXJDYXNlKCksICdkZWZhdWx0J10pLmZpbHRlcihmdW5jdGlvbihrZXksIHZhbCl7XG4gICAgICAgICAgcmV0dXJuIFsnZGVmYXVsdCcsJ2NvbmNhdCcsJ3JlcGxhY2UnLCdleHRlbmQnXS5pbmRleE9mKHZhbCkgPiAtMTtcbiAgICAgIH0pWzBdO1xuXG5cbiAgICAgIC8vIFNraXAgdGhlIHN0cmluZyBwYXJhbVxuICAgICAgdGFyZ2V0ID0gYXJndW1lbnRzWyBpKysgXSB8fCB7fTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSlcbiAgICBpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgISQuaXNGdW5jdGlvbih0YXJnZXQpICkge1xuICAgICAgdGFyZ2V0ID0ge307XG4gICAgfVxuXG4gICAgLy8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXG4gICAgaWYgKCBpID09PSBsZW5ndGggKSB7XG4gICAgICB0YXJnZXQgPSB0aGlzO1xuICAgICAgaS0tO1xuICAgIH1cblxuICAgIGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuICAgICAgLy8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgaWYgKCAob3B0aW9ucyA9IGFyZ3VtZW50c1sgaSBdKSAhPT0gbnVsbCApIHtcbiAgICAgICAgLy8gU3BlY2lhbCBvcGVyYXRpb25zIGZvciBhcnJheXNcbiAgICAgICAgaWYgKCQuaXNBcnJheShvcHRpb25zKSAmJiBhcnJheU1vZGUgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgIGNsb25lID0gdGFyZ2V0ICYmICQuaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0IDogW107XG4gICAgICAgICAgc3dpdGNoIChhcnJheU1vZGUpIHtcbiAgICAgICAgICBjYXNlICdjb25jYXQnOlxuICAgICAgICAgICAgdGFyZ2V0ID0gY2xvbmUuY29uY2F0KCAkLmV4dGVuZCggZGVlcCwgW10sIG9wdGlvbnMgKSApO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdyZXBsYWNlJzpcbiAgICAgICAgICAgIHRhcmdldCA9ICQuZXh0ZW5kKCBkZWVwLCBbXSwgb3B0aW9ucyApO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdleHRlbmQnOlxuICAgICAgICAgICAgb3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGUsIGkpIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gJC5pc0FycmF5KGUpID8gW10gOiB7fTtcbiAgICAgICAgICAgICAgICBjbG9uZVtpXSA9ICQuZXh0ZW5kZXh0KCBkZWVwLCBhcnJheU1vZGUsIGNsb25lW2ldIHx8IHR5cGUsIGUgKTtcblxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNsb25lLmluZGV4T2YoZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgY2xvbmUucHVzaChlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRhcmdldCA9IGNsb25lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3RcbiAgICAgICAgICBmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG4gICAgICAgICAgICBzcmMgPSB0YXJnZXRbIG5hbWUgXTtcbiAgICAgICAgICAgIGNvcHkgPSBvcHRpb25zWyBuYW1lIF07XG5cbiAgICAgICAgICAgIC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3BcbiAgICAgICAgICAgIGlmICggdGFyZ2V0ID09PSBjb3B5ICkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXG4gICAgICAgICAgICBpZiAoIGRlZXAgJiYgY29weSAmJiAoICQuaXNQbGFpbk9iamVjdChjb3B5KSB8fFxuICAgICAgICAgICAgICAoY29weUlzQXJyYXkgPSAkLmlzQXJyYXkoY29weSkpICkgKSB7XG5cbiAgICAgICAgICAgICAgaWYgKCBjb3B5SXNBcnJheSApIHtcbiAgICAgICAgICAgICAgICBjb3B5SXNBcnJheSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNsb25lID0gc3JjICYmICQuaXNBcnJheShzcmMpID8gc3JjIDogW107XG5cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbG9uZSA9IHNyYyAmJiAkLmlzUGxhaW5PYmplY3Qoc3JjKSA/IHNyYyA6IHt9O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG4gICAgICAgICAgICAgIHRhcmdldFsgbmFtZSBdID0gJC5leHRlbmRleHQoIGRlZXAsIGFycmF5TW9kZSwgY2xvbmUsIGNvcHkgKTtcblxuICAgICAgICAgICAgLy8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICAgICAgfSBlbHNlIGlmICggY29weSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgICB0YXJnZXRbIG5hbWUgXSA9IGNvcHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3RcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xufSkpO1xuXG4vKipcbiAqIGRvVCBKU1xuICovXG4vLyBkb1QuanNcbi8vIDIwMTEtMjAxNCwgTGF1cmEgRG9rdG9yb3ZhLCBodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG52YXIgR0xPQkFMUyA9IHtcbiAgICBqUXVlcnk6ICRcbn07XG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIGRvVCA9IHtcblx0XHR2ZXJzaW9uOiBcIjEuMC4zXCIsXG5cdFx0dGVtcGxhdGVTZXR0aW5nczoge1xuXHRcdFx0ZXZhbHVhdGU6ICAgIC9cXHtcXHsoW1xcc1xcU10rPyhcXH0/KSspXFx9XFx9L2csXG5cdFx0XHRpbnRlcnBvbGF0ZTogL1xce1xcez0oW1xcc1xcU10rPylcXH1cXH0vZyxcblx0XHRcdGVuY29kZTogICAgICAvXFx7XFx7IShbXFxzXFxTXSs/KVxcfVxcfS9nLFxuXHRcdFx0dXNlOiAgICAgICAgIC9cXHtcXHsjKFtcXHNcXFNdKz8pXFx9XFx9L2csXG5cdFx0XHR1c2VQYXJhbXM6ICAgLyhefFteXFx3JF0pZGVmKD86XFwufFxcW1tcXCdcXFwiXSkoW1xcdyRcXC5dKykoPzpbXFwnXFxcIl1cXF0pP1xccypcXDpcXHMqKFtcXHckXFwuXSt8XFxcIlteXFxcIl0rXFxcInxcXCdbXlxcJ10rXFwnfFxce1teXFx9XStcXH0pL2csXG5cdFx0XHRkZWZpbmU6ICAgICAgL1xce1xceyMjXFxzKihbXFx3XFwuJF0rKVxccyooXFw6fD0pKFtcXHNcXFNdKz8pI1xcfVxcfS9nLFxuXHRcdFx0ZGVmaW5lUGFyYW1zOi9eXFxzKihbXFx3JF0rKTooW1xcc1xcU10rKS8sXG5cdFx0XHRjb25kaXRpb25hbDogL1xce1xce1xcPyhcXD8pP1xccyooW1xcc1xcU10qPylcXHMqXFx9XFx9L2csXG5cdFx0XHRpdGVyYXRlOiAgICAgL1xce1xce35cXHMqKD86XFx9XFx9fChbXFxzXFxTXSs/KVxccypcXDpcXHMqKFtcXHckXSspXFxzKig/OlxcOlxccyooW1xcdyRdKykpP1xccypcXH1cXH0pL2csXG5cdFx0XHR2YXJuYW1lOlx0XCJpdFwiLFxuXHRcdFx0c3RyaXA6XHRcdHRydWUsXG5cdFx0XHRhcHBlbmQ6XHRcdHRydWUsXG5cdFx0XHRzZWxmY29udGFpbmVkOiBmYWxzZSxcblx0XHRcdGRvTm90U2tpcEVuY29kZWQ6IGZhbHNlXG5cdFx0fSxcblx0XHR0ZW1wbGF0ZTogdW5kZWZpbmVkLCAvL2ZuLCBjb21waWxlIHRlbXBsYXRlXG5cdFx0Y29tcGlsZTogIHVuZGVmaW5lZCAgLy9mbiwgZm9yIGV4cHJlc3Ncblx0fTtcbiAgICB2YXIgX2dsb2JhbHM7XG5cblx0ZG9ULmVuY29kZUhUTUxTb3VyY2UgPSBmdW5jdGlvbihkb05vdFNraXBFbmNvZGVkKSB7XG5cdFx0dmFyIGVuY29kZUhUTUxSdWxlcyA9IHsgXCImXCI6IFwiJiMzODtcIiwgXCI8XCI6IFwiJiM2MDtcIiwgXCI+XCI6IFwiJiM2MjtcIiwgJ1wiJzogXCImIzM0O1wiLCBcIidcIjogXCImIzM5O1wiLCBcIi9cIjogXCImIzQ3O1wiIH0sXG5cdFx0XHRtYXRjaEhUTUwgPSBkb05vdFNraXBFbmNvZGVkID8gL1smPD5cIidcXC9dL2cgOiAvJig/ISM/XFx3KzspfDx8PnxcInwnfFxcLy9nO1xuXHRcdHJldHVybiBmdW5jdGlvbihjb2RlKSB7XG5cdFx0XHRyZXR1cm4gY29kZSA/IGNvZGUudG9TdHJpbmcoKS5yZXBsYWNlKG1hdGNoSFRNTCwgZnVuY3Rpb24obSkge3JldHVybiBlbmNvZGVIVE1MUnVsZXNbbV0gfHwgbTt9KSA6IFwiXCI7XG5cdFx0fTtcblx0fTtcblxuXHRfZ2xvYmFscyA9IChmdW5jdGlvbigpeyByZXR1cm4gdGhpcyB8fCAoMCxldmFsKShcInRoaXNcIik7IH0oKSk7XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGRvVDtcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZSgnZG9UJywgZnVuY3Rpb24oKXtyZXR1cm4gZG9UO30pO1xuXHR9IGVsc2Uge1xuXHRcdF9nbG9iYWxzLmRvVCA9IGRvVDtcblx0fVxuXG5cdHZhciBzdGFydGVuZCA9IHtcblx0XHRhcHBlbmQ6IHsgc3RhcnQ6IFwiJysoXCIsICAgICAgZW5kOiBcIikrJ1wiLCAgICAgIHN0YXJ0ZW5jb2RlOiBcIicrZW5jb2RlSFRNTChcIiB9LFxuXHRcdHNwbGl0OiAgeyBzdGFydDogXCInO291dCs9KFwiLCBlbmQ6IFwiKTtvdXQrPSdcIiwgc3RhcnRlbmNvZGU6IFwiJztvdXQrPWVuY29kZUhUTUwoXCIgfVxuXHR9LCBza2lwID0gLyReLztcblxuXHRmdW5jdGlvbiByZXNvbHZlRGVmcyhjLCBibG9jaywgZGVmKSB7XG5cdFx0cmV0dXJuICgodHlwZW9mIGJsb2NrID09PSBcInN0cmluZ1wiKSA/IGJsb2NrIDogYmxvY2sudG9TdHJpbmcoKSlcblx0XHQucmVwbGFjZShjLmRlZmluZSB8fCBza2lwLCBmdW5jdGlvbihtLCBjb2RlLCBhc3NpZ24sIHZhbHVlKSB7XG5cdFx0XHRpZiAoY29kZS5pbmRleE9mKFwiZGVmLlwiKSA9PT0gMCkge1xuXHRcdFx0XHRjb2RlID0gY29kZS5zdWJzdHJpbmcoNCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIShjb2RlIGluIGRlZikpIHtcblx0XHRcdFx0aWYgKGFzc2lnbiA9PT0gXCI6XCIpIHtcblx0XHRcdFx0XHRpZiAoYy5kZWZpbmVQYXJhbXMpIHZhbHVlLnJlcGxhY2UoYy5kZWZpbmVQYXJhbXMsIGZ1bmN0aW9uKG0sIHBhcmFtLCB2KSB7XG5cdFx0XHRcdFx0XHRkZWZbY29kZV0gPSB7YXJnOiBwYXJhbSwgdGV4dDogdn07XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKCEoY29kZSBpbiBkZWYpKSBkZWZbY29kZV09IHZhbHVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ldyBGdW5jdGlvbihcImRlZlwiLCBcImRlZlsnXCIrY29kZStcIiddPVwiICsgdmFsdWUpKGRlZik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH0pXG5cdFx0LnJlcGxhY2UoYy51c2UgfHwgc2tpcCwgZnVuY3Rpb24obSwgY29kZSkge1xuXHRcdFx0aWYgKGMudXNlUGFyYW1zKSBjb2RlID0gY29kZS5yZXBsYWNlKGMudXNlUGFyYW1zLCBmdW5jdGlvbihtLCBzLCBkLCBwYXJhbSkge1xuXHRcdFx0XHRpZiAoZGVmW2RdICYmIGRlZltkXS5hcmcgJiYgcGFyYW0pIHtcblx0XHRcdFx0XHR2YXIgcncgPSAoZCtcIjpcIitwYXJhbSkucmVwbGFjZSgvJ3xcXFxcL2csIFwiX1wiKTtcblx0XHRcdFx0XHRkZWYuX19leHAgPSBkZWYuX19leHAgfHwge307XG5cdFx0XHRcdFx0ZGVmLl9fZXhwW3J3XSA9IGRlZltkXS50ZXh0LnJlcGxhY2UobmV3IFJlZ0V4cChcIihefFteXFxcXHckXSlcIiArIGRlZltkXS5hcmcgKyBcIihbXlxcXFx3JF0pXCIsIFwiZ1wiKSwgXCIkMVwiICsgcGFyYW0gKyBcIiQyXCIpO1xuXHRcdFx0XHRcdHJldHVybiBzICsgXCJkZWYuX19leHBbJ1wiK3J3K1wiJ11cIjtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgdiA9IG5ldyBGdW5jdGlvbihcImRlZlwiLCBcInJldHVybiBcIiArIGNvZGUpKGRlZik7XG5cdFx0XHRyZXR1cm4gdiA/IHJlc29sdmVEZWZzKGMsIHYsIGRlZikgOiB2O1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gdW5lc2NhcGUoY29kZSkge1xuXHRcdHJldHVybiBjb2RlLnJlcGxhY2UoL1xcXFwoJ3xcXFxcKS9nLCBcIiQxXCIpLnJlcGxhY2UoL1tcXHJcXHRcXG5dL2csIFwiIFwiKTtcblx0fVxuXG5cdGRvVC50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHRtcGwsIGMsIGRlZikge1xuXHRcdGMgPSBjIHx8IGRvVC50ZW1wbGF0ZVNldHRpbmdzO1xuXHRcdHZhciBjc2UgPSBjLmFwcGVuZCA/IHN0YXJ0ZW5kLmFwcGVuZCA6IHN0YXJ0ZW5kLnNwbGl0LCBuZWVkaHRtbGVuY29kZSwgc2lkID0gMCwgaW5kdixcblx0XHRcdHN0ciAgPSAoYy51c2UgfHwgYy5kZWZpbmUpID8gcmVzb2x2ZURlZnMoYywgdG1wbCwgZGVmIHx8IHt9KSA6IHRtcGw7XG5cblx0XHRzdHIgPSAoXCJ2YXIgb3V0PSdcIiArIChjLnN0cmlwID8gc3RyLnJlcGxhY2UoLyhefFxccnxcXG4pXFx0KiArfCArXFx0KihcXHJ8XFxufCQpL2csXCIgXCIpXG5cdFx0XHRcdFx0LnJlcGxhY2UoL1xccnxcXG58XFx0fFxcL1xcKltcXHNcXFNdKj9cXCpcXC8vZyxcIlwiKTogc3RyKVxuXHRcdFx0LnJlcGxhY2UoLyd8XFxcXC9nLCBcIlxcXFwkJlwiKVxuXHRcdFx0LnJlcGxhY2UoYy5pbnRlcnBvbGF0ZSB8fCBza2lwLCBmdW5jdGlvbihtLCBjb2RlKSB7XG5cdFx0XHRcdHJldHVybiBjc2Uuc3RhcnQgKyB1bmVzY2FwZShjb2RlKSArIGNzZS5lbmQ7XG5cdFx0XHR9KVxuXHRcdFx0LnJlcGxhY2UoYy5lbmNvZGUgfHwgc2tpcCwgZnVuY3Rpb24obSwgY29kZSkge1xuXHRcdFx0XHRuZWVkaHRtbGVuY29kZSA9IHRydWU7XG5cdFx0XHRcdHJldHVybiBjc2Uuc3RhcnRlbmNvZGUgKyB1bmVzY2FwZShjb2RlKSArIGNzZS5lbmQ7XG5cdFx0XHR9KVxuXHRcdFx0LnJlcGxhY2UoYy5jb25kaXRpb25hbCB8fCBza2lwLCBmdW5jdGlvbihtLCBlbHNlY2FzZSwgY29kZSkge1xuXHRcdFx0XHRyZXR1cm4gZWxzZWNhc2UgP1xuXHRcdFx0XHRcdChjb2RlID8gXCInO31lbHNlIGlmKFwiICsgdW5lc2NhcGUoY29kZSkgKyBcIil7b3V0Kz0nXCIgOiBcIic7fWVsc2V7b3V0Kz0nXCIpIDpcblx0XHRcdFx0XHQoY29kZSA/IFwiJztpZihcIiArIHVuZXNjYXBlKGNvZGUpICsgXCIpe291dCs9J1wiIDogXCInO31vdXQrPSdcIik7XG5cdFx0XHR9KVxuXHRcdFx0LnJlcGxhY2UoYy5pdGVyYXRlIHx8IHNraXAsIGZ1bmN0aW9uKG0sIGl0ZXJhdGUsIHZuYW1lLCBpbmFtZSkge1xuXHRcdFx0XHRpZiAoIWl0ZXJhdGUpIHJldHVybiBcIic7fSB9IG91dCs9J1wiO1xuXHRcdFx0XHRzaWQrPTE7IGluZHY9aW5hbWUgfHwgXCJpXCIrc2lkOyBpdGVyYXRlPXVuZXNjYXBlKGl0ZXJhdGUpO1xuXHRcdFx0XHRyZXR1cm4gXCInO3ZhciBhcnJcIitzaWQrXCI9XCIraXRlcmF0ZStcIjtpZihhcnJcIitzaWQrXCIpe3ZhciBcIit2bmFtZStcIixcIitpbmR2K1wiPS0xLGxcIitzaWQrXCI9YXJyXCIrc2lkK1wiLmxlbmd0aC0xO3doaWxlKFwiK2luZHYrXCI8bFwiK3NpZCtcIil7XCJcblx0XHRcdFx0XHQrdm5hbWUrXCI9YXJyXCIrc2lkK1wiW1wiK2luZHYrXCIrPTFdO291dCs9J1wiO1xuXHRcdFx0fSlcblx0XHRcdC5yZXBsYWNlKGMuZXZhbHVhdGUgfHwgc2tpcCwgZnVuY3Rpb24obSwgY29kZSkge1xuXHRcdFx0XHRyZXR1cm4gXCInO1wiICsgdW5lc2NhcGUoY29kZSkgKyBcIm91dCs9J1wiO1xuXHRcdFx0fSlcblx0XHRcdCsgXCInO3JldHVybiBvdXQ7XCIpXG5cdFx0XHQucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIikucmVwbGFjZSgvXFx0L2csICdcXFxcdCcpLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpXG5cdFx0XHQucmVwbGFjZSgvKFxcc3w7fFxcfXxefFxceylvdXRcXCs9Jyc7L2csICckMScpLnJlcGxhY2UoL1xcKycnL2csIFwiXCIpO1xuXHRcdFx0Ly8ucmVwbGFjZSgvKFxcc3w7fFxcfXxefFxceylvdXRcXCs9JydcXCsvZywnJDFvdXQrPScpO1xuXG5cdFx0aWYgKG5lZWRodG1sZW5jb2RlKSB7XG5cdFx0XHRpZiAoIWMuc2VsZmNvbnRhaW5lZCAmJiBfZ2xvYmFscyAmJiAhX2dsb2JhbHMuX2VuY29kZUhUTUwpIF9nbG9iYWxzLl9lbmNvZGVIVE1MID0gZG9ULmVuY29kZUhUTUxTb3VyY2UoYy5kb05vdFNraXBFbmNvZGVkKTtcblx0XHRcdHN0ciA9IFwidmFyIGVuY29kZUhUTUwgPSB0eXBlb2YgX2VuY29kZUhUTUwgIT09ICd1bmRlZmluZWQnID8gX2VuY29kZUhUTUwgOiAoXCJcblx0XHRcdFx0KyBkb1QuZW5jb2RlSFRNTFNvdXJjZS50b1N0cmluZygpICsgXCIoXCIgKyAoYy5kb05vdFNraXBFbmNvZGVkIHx8ICcnKSArIFwiKSk7XCJcblx0XHRcdFx0KyBzdHI7XG5cdFx0fVxuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gbmV3IEZ1bmN0aW9uKGMudmFybmFtZSwgc3RyKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIGNvbnNvbGUubG9nKFwiQ291bGQgbm90IGNyZWF0ZSBhIHRlbXBsYXRlIGZ1bmN0aW9uOiBcIiArIHN0cik7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0fTtcblxuXHRkb1QuY29tcGlsZSA9IGZ1bmN0aW9uKHRtcGwsIGRlZikge1xuXHRcdHJldHVybiBkb1QudGVtcGxhdGUodG1wbCwgbnVsbCwgZGVmKTtcblx0fTtcbiAgICBHTE9CQUxTLmRvVCA9IGRvVDtcbn0oKSk7XG5cbi8qIVxuICogalF1ZXJ5IFF1ZXJ5QnVpbGRlciAyLjMuM1xuICogQ29weXJpZ2h0IDIwMTQtMjAxNiBEYW1pZW4gXCJNaXN0aWNcIiBTb3JlbCAoaHR0cDovL3d3dy5zdHJhbmdlcGxhbmV0LmZyKVxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUKVxuICovXG5cbi8vIExhbmd1YWdlczogZW5cbi8vIFBsdWdpbnM6IGJ0LWNoZWNrYm94LCBidC1zZWxlY3RwaWNrZXIsIGJ0LXRvb2x0aXAtZXJyb3JzLCBjaGFuZ2UtZmlsdGVycywgZmlsdGVyLWRlc2NyaXB0aW9uLCBpbnZlcnQsIG1vbmdvZGItc3VwcG9ydCwgc29ydGFibGUsIHNxbC1zdXBwb3J0LCB1bmlxdWUtZmlsdGVyXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICAgIC8vIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vICAgICBkZWZpbmUoJ3F1ZXJ5LWJ1aWxkZXInLCBbJ2pxdWVyeScsICdkb1QnLCAnalF1ZXJ5LmV4dGVuZGV4dCddLCBmYWN0b3J5KTtcbiAgICAvLyB9XG4gICAgLy8gZWxzZSB7XG4gICAgICAgIGZhY3Rvcnkocm9vdC5qUXVlcnksIHJvb3QuZG9UKTtcbiAgICAvLyB9XG59KEdMT0JBTFMsIGZ1bmN0aW9uKCQsIGRvVCkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIENMQVNTIERFRklOSVRJT05cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbnZhciBRdWVyeUJ1aWxkZXIgPSBmdW5jdGlvbigkZWwsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmluaXQoJGVsLCBvcHRpb25zKTtcbn07XG5cbi8vIEVWRU5UUyBTWVNURU1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiQuZXh0ZW5kKFF1ZXJ5QnVpbGRlci5wcm90b3R5cGUsIHtcbiAgICBjaGFuZ2U6IGZ1bmN0aW9uKHR5cGUsIHZhbHVlKSB7XG4gICAgICAgIHZhciBldmVudCA9IG5ldyAkLkV2ZW50KHR5cGUgKyAnLnF1ZXJ5QnVpbGRlci5maWx0ZXInLCB7XG4gICAgICAgICAgICBidWlsZGVyOiB0aGlzLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJGVsLnRyaWdnZXJIYW5kbGVyKGV2ZW50LCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKTtcblxuICAgICAgICByZXR1cm4gZXZlbnQudmFsdWU7XG4gICAgfSxcblxuICAgIHRyaWdnZXI6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gbmV3ICQuRXZlbnQodHlwZSArICcucXVlcnlCdWlsZGVyJywge1xuICAgICAgICAgICAgYnVpbGRlcjogdGhpc1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiRlbC50cmlnZ2VySGFuZGxlcihldmVudCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG5cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH0sXG5cbiAgICBvbjogZnVuY3Rpb24odHlwZSwgY2IpIHtcbiAgICAgICAgdGhpcy4kZWwub24odHlwZSArICcucXVlcnlCdWlsZGVyJywgY2IpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgb2ZmOiBmdW5jdGlvbih0eXBlLCBjYikge1xuICAgICAgICB0aGlzLiRlbC5vZmYodHlwZSArICcucXVlcnlCdWlsZGVyJywgY2IpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgb25jZTogZnVuY3Rpb24odHlwZSwgY2IpIHtcbiAgICAgICAgdGhpcy4kZWwub25lKHR5cGUgKyAnLnF1ZXJ5QnVpbGRlcicsIGNiKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufSk7XG5cblxuLy8gUExVR0lOUyBTWVNURU1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblF1ZXJ5QnVpbGRlci5wbHVnaW5zID0ge307XG5cbi8qKlxuICogR2V0IG9yIGV4dGVuZCB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uXG4gKiBAcGFyYW0gb3B0aW9ucyB7b2JqZWN0LG9wdGlvbmFsfSBuZXcgY29uZmlndXJhdGlvbiwgbGVhdmUgdW5kZWZpbmVkIHRvIGdldCB0aGUgZGVmYXVsdCBjb25maWdcbiAqIEByZXR1cm4ge3VuZGVmaW5lZHxvYmplY3R9IG5vdGhpbmcgb3IgY29uZmlndXJhdGlvbiBvYmplY3QgKGNvcHkpXG4gKi9cblF1ZXJ5QnVpbGRlci5kZWZhdWx0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgJC5leHRlbmRleHQodHJ1ZSwgJ3JlcGxhY2UnLCBRdWVyeUJ1aWxkZXIuREVGQVVMVFMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAodHlwZW9mIFF1ZXJ5QnVpbGRlci5ERUZBVUxUU1tvcHRpb25zXSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHRydWUsIHt9LCBRdWVyeUJ1aWxkZXIuREVGQVVMVFNbb3B0aW9uc10pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFF1ZXJ5QnVpbGRlci5ERUZBVUxUU1tvcHRpb25zXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHRydWUsIHt9LCBRdWVyeUJ1aWxkZXIuREVGQVVMVFMpO1xuICAgIH1cbn07XG5cbi8qKlxuICogRGVmaW5lIGEgbmV3IHBsdWdpblxuICogQHBhcmFtIG5hbWUge3N0cmluZ31cbiAqIEBwYXJhbSBmY3Qge2Z1bmN0aW9ufVxuICogQHBhcmFtICBkZWYge29iamVjdCxvcHRpb25hbH0gZGVmYXVsdCBjb25maWd1cmF0aW9uXG4gKi9cblF1ZXJ5QnVpbGRlci5kZWZpbmUgPSBmdW5jdGlvbihuYW1lLCBmY3QsIGRlZikge1xuICAgIFF1ZXJ5QnVpbGRlci5wbHVnaW5zW25hbWVdID0ge1xuICAgICAgICBmY3Q6IGZjdCxcbiAgICAgICAgZGVmOiBkZWYgfHwge31cbiAgICB9O1xufTtcblxuLyoqXG4gKiBBZGQgbmV3IG1ldGhvZHNcbiAqIEBwYXJhbSB7b2JqZWN0fVxuICovXG5RdWVyeUJ1aWxkZXIuZXh0ZW5kID0gZnVuY3Rpb24obWV0aG9kcykge1xuICAgICQuZXh0ZW5kKFF1ZXJ5QnVpbGRlci5wcm90b3R5cGUsIG1ldGhvZHMpO1xufTtcblxuLyoqXG4gKiBJbml0IHBsdWdpbnMgZm9yIGFuIGluc3RhbmNlXG4gKiBAdGhyb3dzIENvbmZpZ0Vycm9yXG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuaW5pdFBsdWdpbnMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMucGx1Z2lucykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCQuaXNBcnJheSh0aGlzLnBsdWdpbnMpKSB7XG4gICAgICAgIHZhciB0bXAgPSB7fTtcbiAgICAgICAgdGhpcy5wbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICAgICAgICB0bXBbcGx1Z2luXSA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBsdWdpbnMgPSB0bXA7XG4gICAgfVxuXG4gICAgT2JqZWN0LmtleXModGhpcy5wbHVnaW5zKS5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgICBpZiAocGx1Z2luIGluIFF1ZXJ5QnVpbGRlci5wbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbcGx1Z2luXSA9ICQuZXh0ZW5kKHRydWUsIHt9LFxuICAgICAgICAgICAgICAgIFF1ZXJ5QnVpbGRlci5wbHVnaW5zW3BsdWdpbl0uZGVmLFxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luc1twbHVnaW5dIHx8IHt9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBRdWVyeUJ1aWxkZXIucGx1Z2luc1twbHVnaW5dLmZjdC5jYWxsKHRoaXMsIHRoaXMucGx1Z2luc1twbHVnaW5dKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFV0aWxzLmVycm9yKCdDb25maWcnLCAnVW5hYmxlIHRvIGZpbmQgcGx1Z2luIFwiezB9XCInLCBwbHVnaW4pO1xuICAgICAgICB9XG4gICAgfSwgdGhpcyk7XG59O1xuXG5cbi8qKlxuICogQWxsb3dlZCB0eXBlcyBhbmQgdGhlaXIgaW50ZXJuYWwgcmVwcmVzZW50YXRpb25cbiAqL1xuUXVlcnlCdWlsZGVyLnR5cGVzID0ge1xuICAgICdzdHJpbmcnOiAgICdzdHJpbmcnLFxuICAgICdpbnRlZ2VyJzogICdudW1iZXInLFxuICAgICdkb3VibGUnOiAgICdudW1iZXInLFxuICAgICdudW1iZXInOiAgICdudW1iZXInLFxuICAgICdkYXRlJzogICAgICdkYXRldGltZScsXG4gICAgJ3RpbWUnOiAgICAgJ2RhdGV0aW1lJyxcbiAgICAnZGF0ZXRpbWUnOiAnZGF0ZXRpbWUnLFxuICAgICdib29sZWFuJzogICdib29sZWFuJ1xufTtcblxuLyoqXG4gKiBBbGxvd2VkIGlucHV0c1xuICovXG5RdWVyeUJ1aWxkZXIuaW5wdXRzID0gW1xuICAgICd0ZXh0JyxcbiAgICAndGV4dGFyZWEnLFxuICAgICdyYWRpbycsXG4gICAgJ2NoZWNrYm94JyxcbiAgICAnc2VsZWN0J1xuXTtcblxuLyoqXG4gKiBSdW50aW1lIG1vZGlmaWFibGUgb3B0aW9ucyB3aXRoIGBzZXRPcHRpb25zYCBtZXRob2RcbiAqL1xuUXVlcnlCdWlsZGVyLm1vZGlmaWFibGVfb3B0aW9ucyA9IFtcbiAgICAnZGlzcGxheV9lcnJvcnMnLFxuICAgICdhbGxvd19ncm91cHMnLFxuICAgICdhbGxvd19lbXB0eScsXG4gICAgJ2RlZmF1bHRfY29uZGl0aW9uJyxcbiAgICAnZGVmYXVsdF9maWx0ZXInXG5dO1xuXG4vKipcbiAqIENTUyBzZWxlY3RvcnMgZm9yIGNvbW1vbiBjb21wb25lbnRzXG4gKi9cbnZhciBTZWxlY3RvcnMgPSBRdWVyeUJ1aWxkZXIuc2VsZWN0b3JzID0ge1xuICAgIGdyb3VwX2NvbnRhaW5lcjogICAgICAnLnJ1bGVzLWdyb3VwLWNvbnRhaW5lcicsXG4gICAgcnVsZV9jb250YWluZXI6ICAgICAgICcucnVsZS1jb250YWluZXInLFxuICAgIGZpbHRlcl9jb250YWluZXI6ICAgICAnLnJ1bGUtZmlsdGVyLWNvbnRhaW5lcicsXG4gICAgb3BlcmF0b3JfY29udGFpbmVyOiAgICcucnVsZS1vcGVyYXRvci1jb250YWluZXInLFxuICAgIHZhbHVlX2NvbnRhaW5lcjogICAgICAnLnJ1bGUtdmFsdWUtY29udGFpbmVyJyxcbiAgICBlcnJvcl9jb250YWluZXI6ICAgICAgJy5lcnJvci1jb250YWluZXInLFxuICAgIGNvbmRpdGlvbl9jb250YWluZXI6ICAnLnJ1bGVzLWdyb3VwLWhlYWRlciAuZ3JvdXAtY29uZGl0aW9ucycsXG5cbiAgICBydWxlX2hlYWRlcjogICAgICAgICAgJy5ydWxlLWhlYWRlcicsXG4gICAgZ3JvdXBfaGVhZGVyOiAgICAgICAgICcucnVsZXMtZ3JvdXAtaGVhZGVyJyxcbiAgICBncm91cF9hY3Rpb25zOiAgICAgICAgJy5ncm91cC1hY3Rpb25zJyxcbiAgICBydWxlX2FjdGlvbnM6ICAgICAgICAgJy5ydWxlLWFjdGlvbnMnLFxuXG4gICAgcnVsZXNfbGlzdDogICAgICAgICAgICcucnVsZXMtZ3JvdXAtYm9keT4ucnVsZXMtbGlzdCcsXG5cbiAgICBncm91cF9jb25kaXRpb246ICAgICAgJy5ydWxlcy1ncm91cC1oZWFkZXIgW25hbWUkPV9jb25kXScsXG4gICAgcnVsZV9maWx0ZXI6ICAgICAgICAgICcucnVsZS1maWx0ZXItY29udGFpbmVyIFtuYW1lJD1fZmlsdGVyXScsXG4gICAgcnVsZV9vcGVyYXRvcjogICAgICAgICcucnVsZS1vcGVyYXRvci1jb250YWluZXIgW25hbWUkPV9vcGVyYXRvcl0nLFxuICAgIHJ1bGVfdmFsdWU6ICAgICAgICAgICAnLnJ1bGUtdmFsdWUtY29udGFpbmVyIFtuYW1lKj1fdmFsdWVfXScsXG5cbiAgICBhZGRfcnVsZTogICAgICAgICAgICAgJ1tkYXRhLWFkZD1ydWxlXScsXG4gICAgZGVsZXRlX3J1bGU6ICAgICAgICAgICdbZGF0YS1kZWxldGU9cnVsZV0nLFxuICAgIGFkZF9ncm91cDogICAgICAgICAgICAnW2RhdGEtYWRkPWdyb3VwXScsXG4gICAgZGVsZXRlX2dyb3VwOiAgICAgICAgICdbZGF0YS1kZWxldGU9Z3JvdXBdJ1xufTtcblxuLyoqXG4gKiBUZW1wbGF0ZSBzdHJpbmdzIChzZWUgYHRlbXBsYXRlLmpzYClcbiAqL1xuUXVlcnlCdWlsZGVyLnRlbXBsYXRlcyA9IHt9O1xuXG4vKipcbiAqIExvY2FsaXplZCBzdHJpbmdzIChzZWUgYGkxOG4vYClcbiAqL1xuUXVlcnlCdWlsZGVyLnJlZ2lvbmFsID0ge307XG5cbi8qKlxuICogRGVmYXVsdCBvcGVyYXRvcnNcbiAqL1xuUXVlcnlCdWlsZGVyLk9QRVJBVE9SUyA9IHtcbiAgICBlcXVhbDogICAgICAgICAgICB7IHR5cGU6ICdlcXVhbCcsICAgICAgICAgICAgbmJfaW5wdXRzOiAxLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ3N0cmluZycsICdudW1iZXInLCAnZGF0ZXRpbWUnLCAnYm9vbGVhbiddIH0sXG4gICAgbm90X2VxdWFsOiAgICAgICAgeyB0eXBlOiAnbm90X2VxdWFsJywgICAgICAgIG5iX2lucHV0czogMSwgbXVsdGlwbGU6IGZhbHNlLCBhcHBseV90bzogWydzdHJpbmcnLCAnbnVtYmVyJywgJ2RhdGV0aW1lJywgJ2Jvb2xlYW4nXSB9LFxuICAgIGluOiAgICAgICAgICAgICAgIHsgdHlwZTogJ2luJywgICAgICAgICAgICAgICBuYl9pbnB1dHM6IDEsIG11bHRpcGxlOiB0cnVlLCAgYXBwbHlfdG86IFsnc3RyaW5nJywgJ251bWJlcicsICdkYXRldGltZSddIH0sXG4gICAgbm90X2luOiAgICAgICAgICAgeyB0eXBlOiAnbm90X2luJywgICAgICAgICAgIG5iX2lucHV0czogMSwgbXVsdGlwbGU6IHRydWUsICBhcHBseV90bzogWydzdHJpbmcnLCAnbnVtYmVyJywgJ2RhdGV0aW1lJ10gfSxcbiAgICBsZXNzOiAgICAgICAgICAgICB7IHR5cGU6ICdsZXNzJywgICAgICAgICAgICAgbmJfaW5wdXRzOiAxLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ251bWJlcicsICdkYXRldGltZSddIH0sXG4gICAgbGVzc19vcl9lcXVhbDogICAgeyB0eXBlOiAnbGVzc19vcl9lcXVhbCcsICAgIG5iX2lucHV0czogMSwgbXVsdGlwbGU6IGZhbHNlLCBhcHBseV90bzogWydudW1iZXInLCAnZGF0ZXRpbWUnXSB9LFxuICAgIGdyZWF0ZXI6ICAgICAgICAgIHsgdHlwZTogJ2dyZWF0ZXInLCAgICAgICAgICBuYl9pbnB1dHM6IDEsIG11bHRpcGxlOiBmYWxzZSwgYXBwbHlfdG86IFsnbnVtYmVyJywgJ2RhdGV0aW1lJ10gfSxcbiAgICBncmVhdGVyX29yX2VxdWFsOiB7IHR5cGU6ICdncmVhdGVyX29yX2VxdWFsJywgbmJfaW5wdXRzOiAxLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ251bWJlcicsICdkYXRldGltZSddIH0sXG4gICAgYmV0d2VlbjogICAgICAgICAgeyB0eXBlOiAnYmV0d2VlbicsICAgICAgICAgIG5iX2lucHV0czogMiwgbXVsdGlwbGU6IGZhbHNlLCBhcHBseV90bzogWydudW1iZXInLCAnZGF0ZXRpbWUnXSB9LFxuICAgIG5vdF9iZXR3ZWVuOiAgICAgIHsgdHlwZTogJ25vdF9iZXR3ZWVuJywgICAgICBuYl9pbnB1dHM6IDIsIG11bHRpcGxlOiBmYWxzZSwgYXBwbHlfdG86IFsnbnVtYmVyJywgJ2RhdGV0aW1lJ10gfSxcbiAgICBiZWdpbnNfd2l0aDogICAgICB7IHR5cGU6ICdiZWdpbnNfd2l0aCcsICAgICAgbmJfaW5wdXRzOiAxLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ3N0cmluZyddIH0sXG4gICAgbm90X2JlZ2luc193aXRoOiAgeyB0eXBlOiAnbm90X2JlZ2luc193aXRoJywgIG5iX2lucHV0czogMSwgbXVsdGlwbGU6IGZhbHNlLCBhcHBseV90bzogWydzdHJpbmcnXSB9LFxuICAgIGNvbnRhaW5zOiAgICAgICAgIHsgdHlwZTogJ2NvbnRhaW5zJywgICAgICAgICBuYl9pbnB1dHM6IDEsIG11bHRpcGxlOiBmYWxzZSwgYXBwbHlfdG86IFsnc3RyaW5nJ10gfSxcbiAgICBub3RfY29udGFpbnM6ICAgICB7IHR5cGU6ICdub3RfY29udGFpbnMnLCAgICAgbmJfaW5wdXRzOiAxLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ3N0cmluZyddIH0sXG4gICAgZW5kc193aXRoOiAgICAgICAgeyB0eXBlOiAnZW5kc193aXRoJywgICAgICAgIG5iX2lucHV0czogMSwgbXVsdGlwbGU6IGZhbHNlLCBhcHBseV90bzogWydzdHJpbmcnXSB9LFxuICAgIG5vdF9lbmRzX3dpdGg6ICAgIHsgdHlwZTogJ25vdF9lbmRzX3dpdGgnLCAgICBuYl9pbnB1dHM6IDEsIG11bHRpcGxlOiBmYWxzZSwgYXBwbHlfdG86IFsnc3RyaW5nJ10gfSxcbiAgICBpc19lbXB0eTogICAgICAgICB7IHR5cGU6ICdpc19lbXB0eScsICAgICAgICAgbmJfaW5wdXRzOiAwLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ3N0cmluZyddIH0sXG4gICAgaXNfbm90X2VtcHR5OiAgICAgeyB0eXBlOiAnaXNfbm90X2VtcHR5JywgICAgIG5iX2lucHV0czogMCwgbXVsdGlwbGU6IGZhbHNlLCBhcHBseV90bzogWydzdHJpbmcnXSB9LFxuICAgIGlzX251bGw6ICAgICAgICAgIHsgdHlwZTogJ2lzX251bGwnLCAgICAgICAgICBuYl9pbnB1dHM6IDAsIG11bHRpcGxlOiBmYWxzZSwgYXBwbHlfdG86IFsnc3RyaW5nJywgJ251bWJlcicsICdkYXRldGltZScsICdib29sZWFuJ10gfSxcbiAgICBpc19ub3RfbnVsbDogICAgICB7IHR5cGU6ICdpc19ub3RfbnVsbCcsICAgICAgbmJfaW5wdXRzOiAwLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ3N0cmluZycsICdudW1iZXInLCAnZGF0ZXRpbWUnLCAnYm9vbGVhbiddIH1cbn07XG5cbi8qKlxuICogRGVmYXVsdCBjb25maWd1cmF0aW9uXG4gKi9cblF1ZXJ5QnVpbGRlci5ERUZBVUxUUyA9IHtcbiAgICBmaWx0ZXJzOiBbXSxcbiAgICBwbHVnaW5zOiBbXSxcblxuICAgIHNvcnRfZmlsdGVyczogZmFsc2UsXG4gICAgZGlzcGxheV9lcnJvcnM6IHRydWUsXG4gICAgYWxsb3dfZ3JvdXBzOiAtMSxcbiAgICBhbGxvd19lbXB0eTogZmFsc2UsXG4gICAgY29uZGl0aW9uczogWydBTkQnLCAnT1InXSxcbiAgICBkZWZhdWx0X2NvbmRpdGlvbjogJ0FORCcsXG4gICAgaW5wdXRzX3NlcGFyYXRvcjogJyAsICcsXG4gICAgc2VsZWN0X3BsYWNlaG9sZGVyOiAnLS0tLS0tJyxcbiAgICBkaXNwbGF5X2VtcHR5X2ZpbHRlcjogdHJ1ZSxcbiAgICBkZWZhdWx0X2ZpbHRlcjogbnVsbCxcbiAgICBvcHRncm91cHM6IHt9LFxuXG4gICAgZGVmYXVsdF9ydWxlX2ZsYWdzOiB7XG4gICAgICAgIGZpbHRlcl9yZWFkb25seTogZmFsc2UsXG4gICAgICAgIG9wZXJhdG9yX3JlYWRvbmx5OiBmYWxzZSxcbiAgICAgICAgdmFsdWVfcmVhZG9ubHk6IGZhbHNlLFxuICAgICAgICBub19kZWxldGU6IGZhbHNlXG4gICAgfSxcblxuICAgIGRlZmF1bHRfZ3JvdXBfZmxhZ3M6IHtcbiAgICAgICAgY29uZGl0aW9uX3JlYWRvbmx5OiBmYWxzZSxcbiAgICAgICAgbm9fZGVsZXRlOiBmYWxzZVxuICAgIH0sXG5cbiAgICB0ZW1wbGF0ZXM6IHtcbiAgICAgICAgZ3JvdXA6IG51bGwsXG4gICAgICAgIHJ1bGU6IG51bGwsXG4gICAgICAgIGZpbHRlclNlbGVjdDogbnVsbCxcbiAgICAgICAgb3BlcmF0b3JTZWxlY3Q6IG51bGxcbiAgICB9LFxuXG4gICAgbGFuZ19jb2RlOiAnZW4nLFxuICAgIGxhbmc6IHt9LFxuXG4gICAgb3BlcmF0b3JzOiBbXG4gICAgICAgICdlcXVhbCcsXG4gICAgICAgICdub3RfZXF1YWwnLFxuICAgICAgICAnaW4nLFxuICAgICAgICAnbm90X2luJyxcbiAgICAgICAgJ2xlc3MnLFxuICAgICAgICAnbGVzc19vcl9lcXVhbCcsXG4gICAgICAgICdncmVhdGVyJyxcbiAgICAgICAgJ2dyZWF0ZXJfb3JfZXF1YWwnLFxuICAgICAgICAnYmV0d2VlbicsXG4gICAgICAgICdub3RfYmV0d2VlbicsXG4gICAgICAgICdiZWdpbnNfd2l0aCcsXG4gICAgICAgICdub3RfYmVnaW5zX3dpdGgnLFxuICAgICAgICAnY29udGFpbnMnLFxuICAgICAgICAnbm90X2NvbnRhaW5zJyxcbiAgICAgICAgJ2VuZHNfd2l0aCcsXG4gICAgICAgICdub3RfZW5kc193aXRoJyxcbiAgICAgICAgJ2lzX2VtcHR5JyxcbiAgICAgICAgJ2lzX25vdF9lbXB0eScsXG4gICAgICAgICdpc19udWxsJyxcbiAgICAgICAgJ2lzX25vdF9udWxsJ1xuICAgIF0sXG5cbiAgICBpY29uczoge1xuICAgICAgICBhZGRfZ3JvdXA6ICAgICdnbHlwaGljb24gZ2x5cGhpY29uLXBsdXMtc2lnbicsXG4gICAgICAgIGFkZF9ydWxlOiAgICAgJ2dseXBoaWNvbiBnbHlwaGljb24tcGx1cycsXG4gICAgICAgIHJlbW92ZV9ncm91cDogJ2dseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlJyxcbiAgICAgICAgcmVtb3ZlX3J1bGU6ICAnZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmUnLFxuICAgICAgICBlcnJvcjogICAgICAgICdnbHlwaGljb24gZ2x5cGhpY29uLXdhcm5pbmctc2lnbidcbiAgICB9XG59O1xuXG5cbi8qKlxuICogSW5pdCB0aGUgYnVpbGRlclxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigkZWwsIG9wdGlvbnMpIHtcbiAgICAkZWxbMF0ucXVlcnlCdWlsZGVyID0gdGhpcztcbiAgICB0aGlzLiRlbCA9ICRlbDtcblxuICAgIC8vIFBST1BFUlRJRVNcbiAgICB0aGlzLnNldHRpbmdzID0gJC5leHRlbmRleHQodHJ1ZSwgJ3JlcGxhY2UnLCB7fSwgUXVlcnlCdWlsZGVyLkRFRkFVTFRTLCBvcHRpb25zKTtcbiAgICB0aGlzLm1vZGVsID0gbmV3IE1vZGVsKCk7XG4gICAgdGhpcy5zdGF0dXMgPSB7XG4gICAgICAgIGdyb3VwX2lkOiAwLFxuICAgICAgICBydWxlX2lkOiAwLFxuICAgICAgICBnZW5lcmF0ZWRfaWQ6IGZhbHNlLFxuICAgICAgICBoYXNfb3B0Z3JvdXA6IGZhbHNlLFxuICAgICAgICBoYXNfb3BlcmF0b3Jfb3ByZ3JvdXA6IGZhbHNlLFxuICAgICAgICBpZDogbnVsbCxcbiAgICAgICAgdXBkYXRpbmdfdmFsdWU6IGZhbHNlXG4gICAgfTtcblxuICAgIC8vIFwiYWxsb3dfZ3JvdXBzXCIgY2FuIGJlIGJvb2xlYW4gb3IgaW50XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuYWxsb3dfZ3JvdXBzID09PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmFsbG93X2dyb3VwcyA9IDA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuYWxsb3dfZ3JvdXBzID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuYWxsb3dfZ3JvdXBzID0gLTE7XG4gICAgfVxuXG4gICAgLy8gU0VUVElOR1MgU0hPUlRDVVRTXG4gICAgdGhpcy5maWx0ZXJzID0gdGhpcy5zZXR0aW5ncy5maWx0ZXJzO1xuICAgIHRoaXMuaWNvbnMgPSB0aGlzLnNldHRpbmdzLmljb25zO1xuICAgIHRoaXMub3BlcmF0b3JzID0gdGhpcy5zZXR0aW5ncy5vcGVyYXRvcnM7XG4gICAgdGhpcy50ZW1wbGF0ZXMgPSB0aGlzLnNldHRpbmdzLnRlbXBsYXRlcztcbiAgICB0aGlzLnBsdWdpbnMgPSB0aGlzLnNldHRpbmdzLnBsdWdpbnM7XG5cbiAgICAvLyB0cmFuc2xhdGlvbnMgOiBlbmdsaXNoIDw8ICdsYW5nX2NvZGUnIDw8IGN1c3RvbVxuICAgIGlmIChRdWVyeUJ1aWxkZXIucmVnaW9uYWxbJ2VuJ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBVdGlscy5lcnJvcignQ29uZmlnJywgJ1wiaTE4bi9lbi5qc1wiIG5vdCBsb2FkZWQuJyk7XG4gICAgfVxuICAgIHRoaXMubGFuZyA9ICQuZXh0ZW5kZXh0KHRydWUsICdyZXBsYWNlJywge30sIFF1ZXJ5QnVpbGRlci5yZWdpb25hbFsnZW4nXSwgUXVlcnlCdWlsZGVyLnJlZ2lvbmFsW3RoaXMuc2V0dGluZ3MubGFuZ19jb2RlXSwgdGhpcy5zZXR0aW5ncy5sYW5nKTtcblxuICAgIC8vIGluaXQgdGVtcGxhdGVzXG4gICAgT2JqZWN0LmtleXModGhpcy50ZW1wbGF0ZXMpLmZvckVhY2goZnVuY3Rpb24odHBsKSB7XG4gICAgICAgIGlmICghdGhpcy50ZW1wbGF0ZXNbdHBsXSkge1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZXNbdHBsXSA9IFF1ZXJ5QnVpbGRlci50ZW1wbGF0ZXNbdHBsXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMudGVtcGxhdGVzW3RwbF0gPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGVzW3RwbF0gPSBkb1QudGVtcGxhdGUodGhpcy50ZW1wbGF0ZXNbdHBsXSk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIC8vIGVuc3VyZSB3ZSBoYXZlIGEgY29udGFpbmVyIGlkXG4gICAgaWYgKCF0aGlzLiRlbC5hdHRyKCdpZCcpKSB7XG4gICAgICAgIHRoaXMuJGVsLmF0dHIoJ2lkJywgJ3FiXycgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA5OTk5OSkpO1xuICAgICAgICB0aGlzLnN0YXR1cy5nZW5lcmF0ZWRfaWQgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLnN0YXR1cy5pZCA9IHRoaXMuJGVsLmF0dHIoJ2lkJyk7XG5cbiAgICAvLyBJTklUXG4gICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ3F1ZXJ5LWJ1aWxkZXIgZm9ybS1pbmxpbmUnKTtcblxuICAgIHRoaXMuZmlsdGVycyA9IHRoaXMuY2hlY2tGaWx0ZXJzKHRoaXMuZmlsdGVycyk7XG4gICAgdGhpcy5vcGVyYXRvcnMgPSB0aGlzLmNoZWNrT3BlcmF0b3JzKHRoaXMub3BlcmF0b3JzKTtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICB0aGlzLmluaXRQbHVnaW5zKCk7XG5cbiAgICB0aGlzLnRyaWdnZXIoJ2FmdGVySW5pdCcpO1xuXG4gICAgaWYgKG9wdGlvbnMucnVsZXMpIHtcbiAgICAgICAgdGhpcy5zZXRSdWxlcyhvcHRpb25zLnJ1bGVzKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuc2V0dGluZ3MucnVsZXM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnNldFJvb3QodHJ1ZSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDaGVja3MgdGhlIGNvbmZpZ3VyYXRpb24gb2YgZWFjaCBmaWx0ZXJcbiAqIEB0aHJvd3MgQ29uZmlnRXJyb3JcbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5jaGVja0ZpbHRlcnMgPSBmdW5jdGlvbihmaWx0ZXJzKSB7XG4gICAgdmFyIGRlZmluZWRGaWx0ZXJzID0gW107XG5cbiAgICBpZiAoIWZpbHRlcnMgfHwgZmlsdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdNaXNzaW5nIGZpbHRlcnMgbGlzdCcpO1xuICAgIH1cblxuICAgIGZpbHRlcnMuZm9yRWFjaChmdW5jdGlvbihmaWx0ZXIsIGkpIHtcbiAgICAgICAgaWYgKCFmaWx0ZXIuaWQpIHtcbiAgICAgICAgICAgIFV0aWxzLmVycm9yKCdDb25maWcnLCAnTWlzc2luZyBmaWx0ZXIgezB9IGlkJywgaSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmluZWRGaWx0ZXJzLmluZGV4T2YoZmlsdGVyLmlkKSAhPSAtMSkge1xuICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdGaWx0ZXIgXCJ7MH1cIiBhbHJlYWR5IGRlZmluZWQnLCBmaWx0ZXIuaWQpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmluZWRGaWx0ZXJzLnB1c2goZmlsdGVyLmlkKTtcblxuICAgICAgICBpZiAoIWZpbHRlci50eXBlKSB7XG4gICAgICAgICAgICBmaWx0ZXIudHlwZSA9ICdzdHJpbmcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFRdWVyeUJ1aWxkZXIudHlwZXNbZmlsdGVyLnR5cGVdKSB7XG4gICAgICAgICAgICBVdGlscy5lcnJvcignQ29uZmlnJywgJ0ludmFsaWQgdHlwZSBcInswfVwiJywgZmlsdGVyLnR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmaWx0ZXIuaW5wdXQpIHtcbiAgICAgICAgICAgIGZpbHRlci5pbnB1dCA9ICd0ZXh0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZmlsdGVyLmlucHV0ICE9ICdmdW5jdGlvbicgJiYgUXVlcnlCdWlsZGVyLmlucHV0cy5pbmRleE9mKGZpbHRlci5pbnB1dCkgPT0gLTEpIHtcbiAgICAgICAgICAgIFV0aWxzLmVycm9yKCdDb25maWcnLCAnSW52YWxpZCBpbnB1dCBcInswfVwiJywgZmlsdGVyLmlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXIub3BlcmF0b3JzKSB7XG4gICAgICAgICAgICBmaWx0ZXIub3BlcmF0b3JzLmZvckVhY2goZnVuY3Rpb24ob3BlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wZXJhdG9yICE9ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdDb25maWcnLCAnRmlsdGVyIG9wZXJhdG9ycyBtdXN0IGJlIGdsb2JhbCBvcGVyYXRvcnMgdHlwZXMgKHN0cmluZyknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZmlsdGVyLmZpZWxkKSB7XG4gICAgICAgICAgICBmaWx0ZXIuZmllbGQgPSBmaWx0ZXIuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmaWx0ZXIubGFiZWwpIHtcbiAgICAgICAgICAgIGZpbHRlci5sYWJlbCA9IGZpbHRlci5maWVsZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZmlsdGVyLm9wdGdyb3VwKSB7XG4gICAgICAgICAgICBmaWx0ZXIub3B0Z3JvdXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMuaGFzX29wdGdyb3VwID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gcmVnaXN0ZXIgb3B0Z3JvdXAgaWYgbmVlZGVkXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3Mub3B0Z3JvdXBzW2ZpbHRlci5vcHRncm91cF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLm9wdGdyb3Vwc1tmaWx0ZXIub3B0Z3JvdXBdID0gZmlsdGVyLm9wdGdyb3VwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChmaWx0ZXIuaW5wdXQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzogY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgIGlmICghZmlsdGVyLnZhbHVlcyB8fCBmaWx0ZXIudmFsdWVzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdNaXNzaW5nIGZpbHRlciBcInswfVwiIHZhbHVlcycsIGZpbHRlci5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIucGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5wbGFjZWhvbGRlcl92YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIucGxhY2Vob2xkZXJfdmFsdWUgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBVdGlscy5pdGVyYXRlT3B0aW9ucyhmaWx0ZXIudmFsdWVzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gZmlsdGVyLnBsYWNlaG9sZGVyX3ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdQbGFjZWhvbGRlciBvZiBmaWx0ZXIgXCJ7MH1cIiBvdmVybGFwcyB3aXRoIG9uZSBvZiBpdHMgdmFsdWVzJywgZmlsdGVyLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5zb3J0X2ZpbHRlcnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLnNvcnRfZmlsdGVycyA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBmaWx0ZXJzLnNvcnQodGhpcy5zZXR0aW5ncy5zb3J0X2ZpbHRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgZmlsdGVycy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi50cmFuc2xhdGVMYWJlbChhLmxhYmVsKS5sb2NhbGVDb21wYXJlKHNlbGYudHJhbnNsYXRlTGFiZWwoYi5sYWJlbCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0dXMuaGFzX29wdGdyb3VwKSB7XG4gICAgICAgIGZpbHRlcnMgPSBVdGlscy5ncm91cFNvcnQoZmlsdGVycywgJ29wdGdyb3VwJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbHRlcnM7XG59O1xuXG4vKipcbiAqIENoZWNrcyB0aGUgY29uZmlndXJhdGlvbiBvZiBlYWNoIG9wZXJhdG9yXG4gKiBAdGhyb3dzIENvbmZpZ0Vycm9yXG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuY2hlY2tPcGVyYXRvcnMgPSBmdW5jdGlvbihvcGVyYXRvcnMpIHtcbiAgICB2YXIgZGVmaW5lZE9wZXJhdG9ycyA9IFtdO1xuXG4gICAgb3BlcmF0b3JzLmZvckVhY2goZnVuY3Rpb24ob3BlcmF0b3IsIGkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcGVyYXRvciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKCFRdWVyeUJ1aWxkZXIuT1BFUkFUT1JTW29wZXJhdG9yXSkge1xuICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdDb25maWcnLCAnVW5rbm93biBvcGVyYXRvciBcInswfVwiJywgb3BlcmF0b3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcGVyYXRvcnNbaV0gPSBvcGVyYXRvciA9ICQuZXh0ZW5kZXh0KHRydWUsICdyZXBsYWNlJywge30sIFF1ZXJ5QnVpbGRlci5PUEVSQVRPUlNbb3BlcmF0b3JdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghb3BlcmF0b3IudHlwZSkge1xuICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdDb25maWcnLCAnTWlzc2luZyBcInR5cGVcIiBmb3Igb3BlcmF0b3IgezB9JywgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChRdWVyeUJ1aWxkZXIuT1BFUkFUT1JTW29wZXJhdG9yLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgb3BlcmF0b3JzW2ldID0gb3BlcmF0b3IgPSAkLmV4dGVuZGV4dCh0cnVlLCAncmVwbGFjZScsIHt9LCBRdWVyeUJ1aWxkZXIuT1BFUkFUT1JTW29wZXJhdG9yLnR5cGVdLCBvcGVyYXRvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcGVyYXRvci5uYl9pbnB1dHMgPT09IHVuZGVmaW5lZCB8fCBvcGVyYXRvci5hcHBseV90byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdNaXNzaW5nIFwibmJfaW5wdXRzXCIgYW5kL29yIFwiYXBwbHlfdG9cIiBmb3Igb3BlcmF0b3IgXCJ7MH1cIicsIG9wZXJhdG9yLnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZmluZWRPcGVyYXRvcnMuaW5kZXhPZihvcGVyYXRvci50eXBlKSAhPSAtMSkge1xuICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdPcGVyYXRvciBcInswfVwiIGFscmVhZHkgZGVmaW5lZCcsIG9wZXJhdG9yLnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmluZWRPcGVyYXRvcnMucHVzaChvcGVyYXRvci50eXBlKTtcblxuICAgICAgICBpZiAoIW9wZXJhdG9yLm9wdGdyb3VwKSB7XG4gICAgICAgICAgICBvcGVyYXRvci5vcHRncm91cCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cy5oYXNfb3BlcmF0b3Jfb3B0Z3JvdXAgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyByZWdpc3RlciBvcHRncm91cCBpZiBuZWVkZWRcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5vcHRncm91cHNbb3BlcmF0b3Iub3B0Z3JvdXBdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5vcHRncm91cHNbb3BlcmF0b3Iub3B0Z3JvdXBdID0gb3BlcmF0b3Iub3B0Z3JvdXA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIGlmICh0aGlzLnN0YXR1cy5oYXNfb3BlcmF0b3Jfb3B0Z3JvdXApIHtcbiAgICAgICAgb3BlcmF0b3JzID0gVXRpbHMuZ3JvdXBTb3J0KG9wZXJhdG9ycywgJ29wdGdyb3VwJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wZXJhdG9ycztcbn07XG5cbi8qKlxuICogQWRkIGFsbCBldmVudHMgbGlzdGVuZXJzXG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIGdyb3VwIGNvbmRpdGlvbiBjaGFuZ2VcbiAgICB0aGlzLiRlbC5vbignY2hhbmdlLnF1ZXJ5QnVpbGRlcicsIFNlbGVjdG9ycy5ncm91cF9jb25kaXRpb24sIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgICAgdmFyICRncm91cCA9ICQodGhpcykuY2xvc2VzdChTZWxlY3RvcnMuZ3JvdXBfY29udGFpbmVyKTtcbiAgICAgICAgICAgIE1vZGVsKCRncm91cCkuY29uZGl0aW9uID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gcnVsZSBmaWx0ZXIgY2hhbmdlXG4gICAgdGhpcy4kZWwub24oJ2NoYW5nZS5xdWVyeUJ1aWxkZXInLCBTZWxlY3RvcnMucnVsZV9maWx0ZXIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHJ1bGUgPSAkKHRoaXMpLmNsb3Nlc3QoU2VsZWN0b3JzLnJ1bGVfY29udGFpbmVyKTtcbiAgICAgICAgTW9kZWwoJHJ1bGUpLmZpbHRlciA9IHNlbGYuZ2V0RmlsdGVyQnlJZCgkKHRoaXMpLnZhbCgpKTtcbiAgICB9KTtcblxuICAgIC8vIHJ1bGUgb3BlcmF0b3IgY2hhbmdlXG4gICAgdGhpcy4kZWwub24oJ2NoYW5nZS5xdWVyeUJ1aWxkZXInLCBTZWxlY3RvcnMucnVsZV9vcGVyYXRvciwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkcnVsZSA9ICQodGhpcykuY2xvc2VzdChTZWxlY3RvcnMucnVsZV9jb250YWluZXIpO1xuICAgICAgICBNb2RlbCgkcnVsZSkub3BlcmF0b3IgPSBzZWxmLmdldE9wZXJhdG9yQnlUeXBlKCQodGhpcykudmFsKCkpO1xuICAgIH0pO1xuXG4gICAgLy8gYWRkIHJ1bGUgYnV0dG9uXG4gICAgdGhpcy4kZWwub24oJ2NsaWNrLnF1ZXJ5QnVpbGRlcicsIFNlbGVjdG9ycy5hZGRfcnVsZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkZ3JvdXAgPSAkKHRoaXMpLmNsb3Nlc3QoU2VsZWN0b3JzLmdyb3VwX2NvbnRhaW5lcik7XG4gICAgICAgIHNlbGYuYWRkUnVsZShNb2RlbCgkZ3JvdXApKTtcbiAgICB9KTtcblxuICAgIC8vIGRlbGV0ZSBydWxlIGJ1dHRvblxuICAgIHRoaXMuJGVsLm9uKCdjbGljay5xdWVyeUJ1aWxkZXInLCBTZWxlY3RvcnMuZGVsZXRlX3J1bGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHJ1bGUgPSAkKHRoaXMpLmNsb3Nlc3QoU2VsZWN0b3JzLnJ1bGVfY29udGFpbmVyKTtcbiAgICAgICAgc2VsZi5kZWxldGVSdWxlKE1vZGVsKCRydWxlKSk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5hbGxvd19ncm91cHMgIT09IDApIHtcbiAgICAgICAgLy8gYWRkIGdyb3VwIGJ1dHRvblxuICAgICAgICB0aGlzLiRlbC5vbignY2xpY2sucXVlcnlCdWlsZGVyJywgU2VsZWN0b3JzLmFkZF9ncm91cCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJGdyb3VwID0gJCh0aGlzKS5jbG9zZXN0KFNlbGVjdG9ycy5ncm91cF9jb250YWluZXIpO1xuICAgICAgICAgICAgc2VsZi5hZGRHcm91cChNb2RlbCgkZ3JvdXApKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZGVsZXRlIGdyb3VwIGJ1dHRvblxuICAgICAgICB0aGlzLiRlbC5vbignY2xpY2sucXVlcnlCdWlsZGVyJywgU2VsZWN0b3JzLmRlbGV0ZV9ncm91cCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJGdyb3VwID0gJCh0aGlzKS5jbG9zZXN0KFNlbGVjdG9ycy5ncm91cF9jb250YWluZXIpO1xuICAgICAgICAgICAgc2VsZi5kZWxldGVHcm91cChNb2RlbCgkZ3JvdXApKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gbW9kZWwgZXZlbnRzXG4gICAgdGhpcy5tb2RlbC5vbih7XG4gICAgICAgICdkcm9wJzogZnVuY3Rpb24oZSwgbm9kZSkge1xuICAgICAgICAgICAgbm9kZS4kZWwucmVtb3ZlKCk7XG4gICAgICAgICAgICBzZWxmLnJlZnJlc2hHcm91cHNDb25kaXRpb25zKCk7XG4gICAgICAgIH0sXG4gICAgICAgICdhZGQnOiBmdW5jdGlvbihlLCBub2RlLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbm9kZS4kZWwucHJlcGVuZFRvKG5vZGUucGFyZW50LiRlbC5maW5kKCc+JyArIFNlbGVjdG9ycy5ydWxlc19saXN0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlLiRlbC5pbnNlcnRBZnRlcihub2RlLnBhcmVudC5ydWxlc1tpbmRleCAtIDFdLiRlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLnJlZnJlc2hHcm91cHNDb25kaXRpb25zKCk7XG4gICAgICAgIH0sXG4gICAgICAgICdtb3ZlJzogZnVuY3Rpb24oZSwgbm9kZSwgZ3JvdXAsIGluZGV4KSB7XG4gICAgICAgICAgICBub2RlLiRlbC5kZXRhY2goKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbm9kZS4kZWwucHJlcGVuZFRvKGdyb3VwLiRlbC5maW5kKCc+JyArIFNlbGVjdG9ycy5ydWxlc19saXN0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlLiRlbC5pbnNlcnRBZnRlcihncm91cC5ydWxlc1tpbmRleCAtIDFdLiRlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLnJlZnJlc2hHcm91cHNDb25kaXRpb25zKCk7XG4gICAgICAgIH0sXG4gICAgICAgICd1cGRhdGUnOiBmdW5jdGlvbihlLCBub2RlLCBmaWVsZCwgdmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFJ1bGUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGlzcGxheUVycm9yKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZmxhZ3MnOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hcHBseVJ1bGVGbGFncyhub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbHRlcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZVJ1bGVGaWx0ZXIobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdvcGVyYXRvcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZVJ1bGVPcGVyYXRvcihub2RlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZVJ1bGVWYWx1ZShub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kaXNwbGF5RXJyb3Iobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmbGFncyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFwcGx5R3JvdXBGbGFncyhub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbmRpdGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZUdyb3VwQ29uZGl0aW9uKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSB0aGUgcm9vdCBncm91cFxuICogQHBhcmFtIGFkZFJ1bGUge2Jvb2wsb3B0aW9uYWx9IGFkZCBhIGRlZmF1bHQgZW1wdHkgcnVsZVxuICogQHBhcmFtIGRhdGEge21peGVkLG9wdGlvbmFsfSBncm91cCBjdXN0b20gZGF0YVxuICogQHBhcmFtIGZsYWdzIHtvYmplY3Qsb3B0aW9uYWx9IGZsYWdzIHRvIGFwcGx5IHRvIHRoZSBncm91cFxuICogQHJldHVybiBncm91cCB7Um9vdH1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5zZXRSb290ID0gZnVuY3Rpb24oYWRkUnVsZSwgZGF0YSwgZmxhZ3MpIHtcbiAgICBhZGRSdWxlID0gKGFkZFJ1bGUgPT09IHVuZGVmaW5lZCB8fCBhZGRSdWxlID09PSB0cnVlKTtcblxuICAgIHZhciBncm91cF9pZCA9IHRoaXMubmV4dEdyb3VwSWQoKTtcbiAgICB2YXIgJGdyb3VwID0gJCh0aGlzLmdldEdyb3VwVGVtcGxhdGUoZ3JvdXBfaWQsIDEpKTtcblxuICAgIHRoaXMuJGVsLmFwcGVuZCgkZ3JvdXApO1xuICAgIHRoaXMubW9kZWwucm9vdCA9IG5ldyBHcm91cChudWxsLCAkZ3JvdXApO1xuICAgIHRoaXMubW9kZWwucm9vdC5tb2RlbCA9IHRoaXMubW9kZWw7XG5cbiAgICB0aGlzLm1vZGVsLnJvb3QuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5tb2RlbC5yb290LmZsYWdzID0gJC5leHRlbmQoe30sIHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9ncm91cF9mbGFncywgZmxhZ3MpO1xuXG4gICAgdGhpcy50cmlnZ2VyKCdhZnRlckFkZEdyb3VwJywgdGhpcy5tb2RlbC5yb290KTtcblxuICAgIHRoaXMubW9kZWwucm9vdC5jb25kaXRpb24gPSB0aGlzLnNldHRpbmdzLmRlZmF1bHRfY29uZGl0aW9uO1xuXG4gICAgaWYgKGFkZFJ1bGUpIHtcbiAgICAgICAgdGhpcy5hZGRSdWxlKHRoaXMubW9kZWwucm9vdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubW9kZWwucm9vdDtcbn07XG5cbi8qKlxuICogQWRkIGEgbmV3IGdyb3VwXG4gKiBAcGFyYW0gcGFyZW50IHtHcm91cH1cbiAqIEBwYXJhbSBhZGRSdWxlIHtib29sLG9wdGlvbmFsfSBhZGQgYSBkZWZhdWx0IGVtcHR5IHJ1bGVcbiAqIEBwYXJhbSBkYXRhIHttaXhlZCxvcHRpb25hbH0gZ3JvdXAgY3VzdG9tIGRhdGFcbiAqIEBwYXJhbSBmbGFncyB7b2JqZWN0LG9wdGlvbmFsfSBmbGFncyB0byBhcHBseSB0byB0aGUgZ3JvdXBcbiAqIEByZXR1cm4gZ3JvdXAge0dyb3VwfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmFkZEdyb3VwID0gZnVuY3Rpb24ocGFyZW50LCBhZGRSdWxlLCBkYXRhLCBmbGFncykge1xuICAgIGFkZFJ1bGUgPSAoYWRkUnVsZSA9PT0gdW5kZWZpbmVkIHx8IGFkZFJ1bGUgPT09IHRydWUpO1xuXG4gICAgdmFyIGxldmVsID0gcGFyZW50LmxldmVsICsgMTtcblxuICAgIHZhciBlID0gdGhpcy50cmlnZ2VyKCdiZWZvcmVBZGRHcm91cCcsIHBhcmVudCwgYWRkUnVsZSwgbGV2ZWwpO1xuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBncm91cF9pZCA9IHRoaXMubmV4dEdyb3VwSWQoKTtcbiAgICB2YXIgJGdyb3VwID0gJCh0aGlzLmdldEdyb3VwVGVtcGxhdGUoZ3JvdXBfaWQsIGxldmVsKSk7XG4gICAgdmFyIG1vZGVsID0gcGFyZW50LmFkZEdyb3VwKCRncm91cCk7XG5cbiAgICBtb2RlbC5kYXRhID0gZGF0YTtcbiAgICBtb2RlbC5mbGFncyA9ICQuZXh0ZW5kKHt9LCB0aGlzLnNldHRpbmdzLmRlZmF1bHRfZ3JvdXBfZmxhZ3MsIGZsYWdzKTtcblxuICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJBZGRHcm91cCcsIG1vZGVsKTtcblxuICAgIG1vZGVsLmNvbmRpdGlvbiA9IHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9jb25kaXRpb247XG5cbiAgICBpZiAoYWRkUnVsZSkge1xuICAgICAgICB0aGlzLmFkZFJ1bGUobW9kZWwpO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbn07XG5cbi8qKlxuICogVHJpZXMgdG8gZGVsZXRlIGEgZ3JvdXAuIFRoZSBncm91cCBpcyBub3QgZGVsZXRlZCBpZiBhdCBsZWFzdCBvbmUgcnVsZSBpcyBub19kZWxldGUuXG4gKiBAcGFyYW0gZ3JvdXAge0dyb3VwfVxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgZ3JvdXAgaGFzIGJlZW4gZGVsZXRlZFxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUdyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICBpZiAoZ3JvdXAuaXNSb290KCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBlID0gdGhpcy50cmlnZ2VyKCdiZWZvcmVEZWxldGVHcm91cCcsIGdyb3VwKTtcbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGRlbCA9IHRydWU7XG5cbiAgICBncm91cC5lYWNoKCdyZXZlcnNlJywgZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICBkZWwmPSB0aGlzLmRlbGV0ZVJ1bGUocnVsZSk7XG4gICAgfSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgZGVsJj0gdGhpcy5kZWxldGVHcm91cChncm91cCk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICBpZiAoZGVsKSB7XG4gICAgICAgIGdyb3VwLmRyb3AoKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdhZnRlckRlbGV0ZUdyb3VwJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbDtcbn07XG5cbi8qKlxuICogQ2hhbmdlcyB0aGUgY29uZGl0aW9uIG9mIGEgZ3JvdXBcbiAqIEBwYXJhbSBncm91cCB7R3JvdXB9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUudXBkYXRlR3JvdXBDb25kaXRpb24gPSBmdW5jdGlvbihncm91cCkge1xuICAgIGdyb3VwLiRlbC5maW5kKCc+JyArIFNlbGVjdG9ycy5ncm91cF9jb25kaXRpb24pLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICR0aGlzLnByb3AoJ2NoZWNrZWQnLCAkdGhpcy52YWwoKSA9PT0gZ3JvdXAuY29uZGl0aW9uKTtcbiAgICAgICAgJHRoaXMucGFyZW50KCkudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScsICR0aGlzLnZhbCgpID09PSBncm91cC5jb25kaXRpb24pO1xuICAgIH0pO1xuXG4gICAgdGhpcy50cmlnZ2VyKCdhZnRlclVwZGF0ZUdyb3VwQ29uZGl0aW9uJywgZ3JvdXApO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgdmlzaWJpbGl0eSBvZiBjb25kaXRpb25zIGJhc2VkIG9uIG51bWJlciBvZiBydWxlcyBpbnNpZGUgZWFjaCBncm91cFxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnJlZnJlc2hHcm91cHNDb25kaXRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgKGZ1bmN0aW9uIHdhbGsoZ3JvdXApIHtcbiAgICAgICAgaWYgKCFncm91cC5mbGFncyB8fCAoZ3JvdXAuZmxhZ3MgJiYgIWdyb3VwLmZsYWdzLmNvbmRpdGlvbl9yZWFkb25seSkpIHtcbiAgICAgICAgICAgIGdyb3VwLiRlbC5maW5kKCc+JyArIFNlbGVjdG9ycy5ncm91cF9jb25kaXRpb24pLnByb3AoJ2Rpc2FibGVkJywgZ3JvdXAucnVsZXMubGVuZ3RoIDw9IDEpXG4gICAgICAgICAgICAgICAgLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsIGdyb3VwLnJ1bGVzLmxlbmd0aCA8PSAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdyb3VwLmVhY2goZnVuY3Rpb24ocnVsZSkge30sIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgICB3YWxrKGdyb3VwKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfSh0aGlzLm1vZGVsLnJvb3QpKTtcbn07XG5cbi8qKlxuICogQWRkIGEgbmV3IHJ1bGVcbiAqIEBwYXJhbSBwYXJlbnQge0dyb3VwfVxuICogQHBhcmFtIGRhdGEge21peGVkLG9wdGlvbmFsfSBydWxlIGN1c3RvbSBkYXRhXG4gKiBAcGFyYW0gZmxhZ3Mge29iamVjdCxvcHRpb25hbH0gZmxhZ3MgdG8gYXBwbHkgdG8gdGhlIHJ1bGVcbiAqIEByZXR1cm4gcnVsZSB7UnVsZX1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5hZGRSdWxlID0gZnVuY3Rpb24ocGFyZW50LCBkYXRhLCBmbGFncykge1xuICAgIHZhciBlID0gdGhpcy50cmlnZ2VyKCdiZWZvcmVBZGRSdWxlJywgcGFyZW50KTtcbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgcnVsZV9pZCA9IHRoaXMubmV4dFJ1bGVJZCgpO1xuICAgIHZhciAkcnVsZSA9ICQodGhpcy5nZXRSdWxlVGVtcGxhdGUocnVsZV9pZCkpO1xuICAgIHZhciBtb2RlbCA9IHBhcmVudC5hZGRSdWxlKCRydWxlKTtcblxuICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbW9kZWwuZGF0YSA9IGRhdGE7XG4gICAgfVxuXG4gICAgbW9kZWwuZmxhZ3MgPSAkLmV4dGVuZCh7fSwgdGhpcy5zZXR0aW5ncy5kZWZhdWx0X3J1bGVfZmxhZ3MsIGZsYWdzKTtcblxuICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJBZGRSdWxlJywgbW9kZWwpO1xuXG4gICAgdGhpcy5jcmVhdGVSdWxlRmlsdGVycyhtb2RlbCk7XG5cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWZhdWx0X2ZpbHRlciB8fCAhdGhpcy5zZXR0aW5ncy5kaXNwbGF5X2VtcHR5X2ZpbHRlcikge1xuICAgICAgICBtb2RlbC5maWx0ZXIgPSB0aGlzLmdldEZpbHRlckJ5SWQodGhpcy5zZXR0aW5ncy5kZWZhdWx0X2ZpbHRlciB8fCB0aGlzLmZpbHRlcnNbMF0uaWQpO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbn07XG5cbi8qKlxuICogRGVsZXRlIGEgcnVsZS5cbiAqIEBwYXJhbSBydWxlIHtSdWxlfVxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgcnVsZSBoYXMgYmVlbiBkZWxldGVkXG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZGVsZXRlUnVsZSA9IGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICBpZiAocnVsZS5mbGFncy5ub19kZWxldGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBlID0gdGhpcy50cmlnZ2VyKCdiZWZvcmVEZWxldGVSdWxlJywgcnVsZSk7XG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJ1bGUuZHJvcCgpO1xuXG4gICAgdGhpcy50cmlnZ2VyKCdhZnRlckRlbGV0ZVJ1bGUnKTtcblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgdGhlIGZpbHRlcnMgPHNlbGVjdD4gZm9yIGEgcnVsZVxuICogQHBhcmFtIHJ1bGUge1J1bGV9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuY3JlYXRlUnVsZUZpbHRlcnMgPSBmdW5jdGlvbihydWxlKSB7XG4gICAgdmFyIGZpbHRlcnMgPSB0aGlzLmNoYW5nZSgnZ2V0UnVsZUZpbHRlcnMnLCB0aGlzLmZpbHRlcnMsIHJ1bGUpO1xuICAgIHZhciAkZmlsdGVyU2VsZWN0ID0gJCh0aGlzLmdldFJ1bGVGaWx0ZXJTZWxlY3QocnVsZSwgZmlsdGVycykpO1xuXG4gICAgcnVsZS4kZWwuZmluZChTZWxlY3RvcnMuZmlsdGVyX2NvbnRhaW5lcikuaHRtbCgkZmlsdGVyU2VsZWN0KTtcblxuICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJDcmVhdGVSdWxlRmlsdGVycycsIHJ1bGUpO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgdGhlIG9wZXJhdG9ycyA8c2VsZWN0PiBmb3IgYSBydWxlIGFuZCBpbml0IHRoZSBydWxlIG9wZXJhdG9yXG4gKiBAcGFyYW0gcnVsZSB7UnVsZX1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5jcmVhdGVSdWxlT3BlcmF0b3JzID0gZnVuY3Rpb24ocnVsZSkge1xuICAgIHZhciAkb3BlcmF0b3JDb250YWluZXIgPSBydWxlLiRlbC5maW5kKFNlbGVjdG9ycy5vcGVyYXRvcl9jb250YWluZXIpLmVtcHR5KCk7XG5cbiAgICBpZiAoIXJ1bGUuZmlsdGVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgb3BlcmF0b3JzID0gdGhpcy5nZXRPcGVyYXRvcnMocnVsZS5maWx0ZXIpO1xuICAgIHZhciAkb3BlcmF0b3JTZWxlY3QgPSAkKHRoaXMuZ2V0UnVsZU9wZXJhdG9yU2VsZWN0KHJ1bGUsIG9wZXJhdG9ycykpO1xuXG4gICAgJG9wZXJhdG9yQ29udGFpbmVyLmh0bWwoJG9wZXJhdG9yU2VsZWN0KTtcblxuICAgIC8vIHNldCB0aGUgb3BlcmF0b3Igd2l0aG91dCB0cmlnZ2VyaW5nIHVwZGF0ZSBldmVudFxuICAgIHJ1bGUuX18ub3BlcmF0b3IgPSBvcGVyYXRvcnNbMF07XG5cbiAgICB0aGlzLnRyaWdnZXIoJ2FmdGVyQ3JlYXRlUnVsZU9wZXJhdG9ycycsIHJ1bGUsIG9wZXJhdG9ycyk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSB0aGUgbWFpbiBpbnB1dCBmb3IgYSBydWxlXG4gKiBAcGFyYW0gcnVsZSB7UnVsZX1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5jcmVhdGVSdWxlSW5wdXQgPSBmdW5jdGlvbihydWxlKSB7XG4gICAgdmFyICR2YWx1ZUNvbnRhaW5lciA9IHJ1bGUuJGVsLmZpbmQoU2VsZWN0b3JzLnZhbHVlX2NvbnRhaW5lcikuZW1wdHkoKTtcblxuICAgIHJ1bGUuX18udmFsdWUgPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAoIXJ1bGUuZmlsdGVyIHx8ICFydWxlLm9wZXJhdG9yIHx8IHJ1bGUub3BlcmF0b3IubmJfaW5wdXRzID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyICRpbnB1dHMgPSAkKCk7XG4gICAgdmFyIGZpbHRlciA9IHJ1bGUuZmlsdGVyO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlLm9wZXJhdG9yLm5iX2lucHV0czsgaSsrKSB7XG4gICAgICAgIHZhciAkcnVsZUlucHV0ID0gJCh0aGlzLmdldFJ1bGVJbnB1dChydWxlLCBpKSk7XG4gICAgICAgIGlmIChpID4gMCkgJHZhbHVlQ29udGFpbmVyLmFwcGVuZCh0aGlzLnNldHRpbmdzLmlucHV0c19zZXBhcmF0b3IpO1xuICAgICAgICAkdmFsdWVDb250YWluZXIuYXBwZW5kKCRydWxlSW5wdXQpO1xuICAgICAgICAkaW5wdXRzID0gJGlucHV0cy5hZGQoJHJ1bGVJbnB1dCk7XG4gICAgfVxuXG4gICAgJHZhbHVlQ29udGFpbmVyLnNob3coKTtcblxuICAgICRpbnB1dHMub24oJ2NoYW5nZSAnICsgKGZpbHRlci5pbnB1dF9ldmVudCB8fCAnJyksIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLnN0YXR1cy51cGRhdGluZ192YWx1ZSA9IHRydWU7XG4gICAgICAgIHJ1bGUudmFsdWUgPSBzZWxmLmdldFJ1bGVWYWx1ZShydWxlKTtcbiAgICAgICAgc2VsZi5zdGF0dXMudXBkYXRpbmdfdmFsdWUgPSBmYWxzZTtcbiAgICB9KTtcblxuICAgIGlmIChmaWx0ZXIucGx1Z2luKSB7XG4gICAgICAgICRpbnB1dHNbZmlsdGVyLnBsdWdpbl0oZmlsdGVyLnBsdWdpbl9jb25maWcgfHwge30pO1xuICAgIH1cblxuICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJDcmVhdGVSdWxlSW5wdXQnLCBydWxlKTtcblxuICAgIGlmIChmaWx0ZXIuZGVmYXVsdF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJ1bGUudmFsdWUgPSBmaWx0ZXIuZGVmYXVsdF92YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNlbGYuc3RhdHVzLnVwZGF0aW5nX3ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgcnVsZS52YWx1ZSA9IHNlbGYuZ2V0UnVsZVZhbHVlKHJ1bGUpO1xuICAgICAgICBzZWxmLnN0YXR1cy51cGRhdGluZ192YWx1ZSA9IGZhbHNlO1xuICAgIH1cbn07XG5cbi8qKlxuICogUGVyZm9ybSBhY3Rpb24gd2hlbiBydWxlJ3MgZmlsdGVyIGlzIGNoYW5nZWRcbiAqIEBwYXJhbSBydWxlIHtSdWxlfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnVwZGF0ZVJ1bGVGaWx0ZXIgPSBmdW5jdGlvbihydWxlKSB7XG4gICAgdGhpcy5jcmVhdGVSdWxlT3BlcmF0b3JzKHJ1bGUpO1xuICAgIHRoaXMuY3JlYXRlUnVsZUlucHV0KHJ1bGUpO1xuXG4gICAgcnVsZS4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9maWx0ZXIpLnZhbChydWxlLmZpbHRlciA/IHJ1bGUuZmlsdGVyLmlkIDogJy0xJyk7XG5cbiAgICB0aGlzLnRyaWdnZXIoJ2FmdGVyVXBkYXRlUnVsZUZpbHRlcicsIHJ1bGUpO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgbWFpbiA8aW5wdXQ+IHZpc2liaWxpdHkgd2hlbiBydWxlIG9wZXJhdG9yIGNoYW5nZXNcbiAqIEBwYXJhbSBydWxlIHtSdWxlfVxuICogQHBhcmFtIHByZXZpb3VzT3BlcmF0b3Ige29iamVjdH1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS51cGRhdGVSdWxlT3BlcmF0b3IgPSBmdW5jdGlvbihydWxlLCBwcmV2aW91c09wZXJhdG9yKSB7XG4gICAgdmFyICR2YWx1ZUNvbnRhaW5lciA9IHJ1bGUuJGVsLmZpbmQoU2VsZWN0b3JzLnZhbHVlX2NvbnRhaW5lcik7XG5cbiAgICBpZiAoIXJ1bGUub3BlcmF0b3IgfHwgcnVsZS5vcGVyYXRvci5uYl9pbnB1dHMgPT09IDApIHtcbiAgICAgICAgJHZhbHVlQ29udGFpbmVyLmhpZGUoKTtcblxuICAgICAgICBydWxlLl9fLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgJHZhbHVlQ29udGFpbmVyLnNob3coKTtcblxuICAgICAgICBpZiAoJHZhbHVlQ29udGFpbmVyLmlzKCc6ZW1wdHknKSB8fCBydWxlLm9wZXJhdG9yLm5iX2lucHV0cyAhPT0gcHJldmlvdXNPcGVyYXRvci5uYl9pbnB1dHMpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUnVsZUlucHV0KHJ1bGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJ1bGUub3BlcmF0b3IpIHtcbiAgICAgICAgcnVsZS4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9vcGVyYXRvcikudmFsKHJ1bGUub3BlcmF0b3IudHlwZSk7XG4gICAgfVxuXG4gICAgdGhpcy50cmlnZ2VyKCdhZnRlclVwZGF0ZVJ1bGVPcGVyYXRvcicsIHJ1bGUpO1xufTtcblxuLyoqXG4gKiBQZXJmb3JtIGFjdGlvbiB3aGVuIHJ1bGUncyB2YWx1ZSBpcyBjaGFuZ2VkXG4gKiBAcGFyYW0gcnVsZSB7UnVsZX1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS51cGRhdGVSdWxlVmFsdWUgPSBmdW5jdGlvbihydWxlKSB7XG4gICAgaWYgKCF0aGlzLnN0YXR1cy51cGRhdGluZ192YWx1ZSkge1xuICAgICAgICB0aGlzLnNldFJ1bGVWYWx1ZShydWxlLCBydWxlLnZhbHVlKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyaWdnZXIoJ2FmdGVyVXBkYXRlUnVsZVZhbHVlJywgcnVsZSk7XG59O1xuXG4vKipcbiAqIENoYW5nZSBydWxlcyBwcm9wZXJ0aWVzIGRlcGVuZGluZyBvbiBmbGFncy5cbiAqIEBwYXJhbSBydWxlIHtSdWxlfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmFwcGx5UnVsZUZsYWdzID0gZnVuY3Rpb24ocnVsZSkge1xuICAgIHZhciBmbGFncyA9IHJ1bGUuZmxhZ3M7XG5cbiAgICBpZiAoZmxhZ3MuZmlsdGVyX3JlYWRvbmx5KSB7XG4gICAgICAgIHJ1bGUuJGVsLmZpbmQoU2VsZWN0b3JzLnJ1bGVfZmlsdGVyKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoZmxhZ3Mub3BlcmF0b3JfcmVhZG9ubHkpIHtcbiAgICAgICAgcnVsZS4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9vcGVyYXRvcikucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKGZsYWdzLnZhbHVlX3JlYWRvbmx5KSB7XG4gICAgICAgIHJ1bGUuJGVsLmZpbmQoU2VsZWN0b3JzLnJ1bGVfdmFsdWUpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChmbGFncy5ub19kZWxldGUpIHtcbiAgICAgICAgcnVsZS4kZWwuZmluZChTZWxlY3RvcnMuZGVsZXRlX3J1bGUpLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJBcHBseVJ1bGVGbGFncycsIHJ1bGUpO1xufTtcblxuLyoqXG4gKiBDaGFuZ2UgZ3JvdXAgcHJvcGVydGllcyBkZXBlbmRpbmcgb24gZmxhZ3MuXG4gKiBAcGFyYW0gZ3JvdXAge0dyb3VwfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmFwcGx5R3JvdXBGbGFncyA9IGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgdmFyIGZsYWdzID0gZ3JvdXAuZmxhZ3M7XG5cbiAgICBpZiAoZmxhZ3MuY29uZGl0aW9uX3JlYWRvbmx5KSB7XG4gICAgICAgIGdyb3VwLiRlbC5maW5kKCc+JyArIFNlbGVjdG9ycy5ncm91cF9jb25kaXRpb24pLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSlcbiAgICAgICAgICAgIC5wYXJlbnQoKS5hZGRDbGFzcygncmVhZG9ubHknKTtcbiAgICB9XG4gICAgaWYgKGZsYWdzLm5vX2RlbGV0ZSkge1xuICAgICAgICBncm91cC4kZWwuZmluZChTZWxlY3RvcnMuZGVsZXRlX2dyb3VwKS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyaWdnZXIoJ2FmdGVyQXBwbHlHcm91cEZsYWdzJywgZ3JvdXApO1xufTtcblxuLyoqXG4gKiBDbGVhciBhbGwgZXJyb3JzIG1hcmtlcnNcbiAqIEBwYXJhbSBub2RlIHtOb2RlLG9wdGlvbmFsfSBkZWZhdWx0IGlzIHJvb3QgR3JvdXBcbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5jbGVhckVycm9ycyA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICBub2RlID0gbm9kZSB8fCB0aGlzLm1vZGVsLnJvb3Q7XG5cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5vZGUuZXJyb3IgPSBudWxsO1xuXG4gICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBHcm91cCkge1xuICAgICAgICBub2RlLmVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgcnVsZS5lcnJvciA9IG51bGw7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRXJyb3JzKGdyb3VwKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBZGQvUmVtb3ZlIGNsYXNzIC5oYXMtZXJyb3IgYW5kIHVwZGF0ZSBlcnJvciB0aXRsZVxuICogQHBhcmFtIG5vZGUge05vZGV9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZGlzcGxheUVycm9yID0gZnVuY3Rpb24obm9kZSkge1xuICAgIGlmICh0aGlzLnNldHRpbmdzLmRpc3BsYXlfZXJyb3JzKSB7XG4gICAgICAgIGlmIChub2RlLmVycm9yID09PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlLiRlbC5yZW1vdmVDbGFzcygnaGFzLWVycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0cmFuc2xhdGUgdGhlIHRleHQgd2l0aG91dCBtb2RpZnlpbmcgZXZlbnQgYXJyYXlcbiAgICAgICAgICAgIHZhciBlcnJvciA9ICQuZXh0ZW5kKFtdLCBub2RlLmVycm9yLCBbXG4gICAgICAgICAgICAgICAgdGhpcy5sYW5nLmVycm9yc1tub2RlLmVycm9yWzBdXSB8fCBub2RlLmVycm9yWzBdXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgbm9kZS4kZWwuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpXG4gICAgICAgICAgICAgIC5maW5kKFNlbGVjdG9ycy5lcnJvcl9jb250YWluZXIpLmVxKDApXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RpdGxlJywgVXRpbHMuZm10LmFwcGx5KG51bGwsIGVycm9yKSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFRyaWdnZXIgYSB2YWxpZGF0aW9uIGVycm9yIGV2ZW50XG4gKiBAcGFyYW0gbm9kZSB7Tm9kZX1cbiAqIEBwYXJhbSBlcnJvciB7YXJyYXl9XG4gKiBAcGFyYW0gdmFsdWUge21peGVkfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnRyaWdnZXJWYWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbihub2RlLCBlcnJvciwgdmFsdWUpIHtcbiAgICBpZiAoISQuaXNBcnJheShlcnJvcikpIHtcbiAgICAgICAgZXJyb3IgPSBbZXJyb3JdO1xuICAgIH1cblxuICAgIHZhciBlID0gdGhpcy50cmlnZ2VyKCd2YWxpZGF0aW9uRXJyb3InLCBub2RlLCBlcnJvciwgdmFsdWUpO1xuICAgIGlmICghZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICBub2RlLmVycm9yID0gZXJyb3I7XG4gICAgfVxufTtcblxuXG4vKipcbiAqIERlc3Ryb3kgdGhlIHBsdWdpblxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRyaWdnZXIoJ2JlZm9yZURlc3Ryb3knKTtcblxuICAgIGlmICh0aGlzLnN0YXR1cy5nZW5lcmF0ZWRfaWQpIHtcbiAgICAgICAgdGhpcy4kZWwucmVtb3ZlQXR0cignaWQnKTtcbiAgICB9XG5cbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5tb2RlbCA9IG51bGw7XG5cbiAgICB0aGlzLiRlbFxuICAgICAgICAub2ZmKCcucXVlcnlCdWlsZGVyJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdxdWVyeS1idWlsZGVyJylcbiAgICAgICAgLnJlbW92ZURhdGEoJ3F1ZXJ5QnVpbGRlcicpO1xuXG4gICAgZGVsZXRlIHRoaXMuJGVsWzBdLnF1ZXJ5QnVpbGRlcjtcbn07XG5cbi8qKlxuICogUmVzZXQgdGhlIHBsdWdpblxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdGF0dXMuZ3JvdXBfaWQgPSAxO1xuICAgIHRoaXMuc3RhdHVzLnJ1bGVfaWQgPSAwO1xuXG4gICAgdGhpcy5tb2RlbC5yb290LmVtcHR5KCk7XG5cbiAgICB0aGlzLmFkZFJ1bGUodGhpcy5tb2RlbC5yb290KTtcblxuICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJSZXNldCcpO1xufTtcblxuLyoqXG4gKiBDbGVhciB0aGUgcGx1Z2luXG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0YXR1cy5ncm91cF9pZCA9IDA7XG4gICAgdGhpcy5zdGF0dXMucnVsZV9pZCA9IDA7XG5cbiAgICBpZiAodGhpcy5tb2RlbC5yb290KSB7XG4gICAgICAgIHRoaXMubW9kZWwucm9vdC5kcm9wKCk7XG4gICAgICAgIHRoaXMubW9kZWwucm9vdCA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy50cmlnZ2VyKCdhZnRlckNsZWFyJyk7XG59O1xuXG4vKipcbiAqIE1vZGlmeSB0aGUgYnVpbGRlciBjb25maWd1cmF0aW9uXG4gKiBPbmx5IG9wdGlvbnMgZGVmaW5lZCBpbiBRdWVyeUJ1aWxkZXIubW9kaWZpYWJsZV9vcHRpb25zIGFyZSBtb2RpZmlhYmxlXG4gKiBAcGFyYW0ge29iamVjdH1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIC8vIHVzZSBqUXVlcnkgdXRpbHMgdG8gZmlsdGVyIG9wdGlvbnMga2V5c1xuICAgICQubWFrZUFycmF5KCQoT2JqZWN0LmtleXMob3B0aW9ucykpLmZpbHRlcihRdWVyeUJ1aWxkZXIubW9kaWZpYWJsZV9vcHRpb25zKSlcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24ob3B0KSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzW29wdF0gPSBvcHRpb25zW29wdF07XG4gICAgICAgIH0sIHRoaXMpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG1vZGVsIGFzc29jaWF0ZWQgdG8gYSBET00gb2JqZWN0LCBvciByb290IG1vZGVsXG4gKiBAcGFyYW0ge2pRdWVyeSxvcHRpb25hbH1cbiAqIEByZXR1cm4ge05vZGV9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZ2V0TW9kZWwgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICByZXR1cm4gIXRhcmdldCA/IHRoaXMubW9kZWwucm9vdCA6IE1vZGVsKHRhcmdldCk7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlIHRoZSB3aG9sZSBidWlsZGVyXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jbGVhckVycm9ycygpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHZhbGlkID0gKGZ1bmN0aW9uIHBhcnNlKGdyb3VwKSB7XG4gICAgICAgIHZhciBkb25lID0gMDtcbiAgICAgICAgdmFyIGVycm9ycyA9IDA7XG5cbiAgICAgICAgZ3JvdXAuZWFjaChmdW5jdGlvbihydWxlKSB7XG4gICAgICAgICAgICBpZiAoIXJ1bGUuZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi50cmlnZ2VyVmFsaWRhdGlvbkVycm9yKHJ1bGUsICdub19maWx0ZXInLCBudWxsKTtcbiAgICAgICAgICAgICAgICBlcnJvcnMrKztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChydWxlLm9wZXJhdG9yLm5iX2lucHV0cyAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWxpZCA9IHNlbGYudmFsaWRhdGVWYWx1ZShydWxlLCBydWxlLnZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnRyaWdnZXJWYWxpZGF0aW9uRXJyb3IocnVsZSwgdmFsaWQsIHJ1bGUudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMrKztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZG9uZSsrO1xuXG4gICAgICAgIH0sIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgICBpZiAocGFyc2UoZ3JvdXApKSB7XG4gICAgICAgICAgICAgICAgZG9uZSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChlcnJvcnMgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9uZSA9PT0gMCAmJiAoIXNlbGYuc2V0dGluZ3MuYWxsb3dfZW1wdHkgfHwgIWdyb3VwLmlzUm9vdCgpKSkge1xuICAgICAgICAgICAgc2VsZi50cmlnZ2VyVmFsaWRhdGlvbkVycm9yKGdyb3VwLCAnZW1wdHlfZ3JvdXAnLCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgfSh0aGlzLm1vZGVsLnJvb3QpKTtcblxuICAgIHJldHVybiB0aGlzLmNoYW5nZSgndmFsaWRhdGUnLCB2YWxpZCk7XG59O1xuXG4vKipcbiAqIEdldCBhbiBvYmplY3QgcmVwcmVzZW50aW5nIGN1cnJlbnQgcnVsZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiAgICAgIC0gZ2V0X2ZsYWdzOiBmYWxzZVtkZWZhdWx0XSB8IHRydWUob25seSBjaGFuZ2VzIGZyb20gZGVmYXVsdCBmbGFncykgfCAnYWxsJ1xuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmdldFJ1bGVzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7XG4gICAgICAgIGdldF9mbGFnczogZmFsc2VcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIGlmICghdGhpcy52YWxpZGF0ZSgpKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgb3V0ID0gKGZ1bmN0aW9uIHBhcnNlKGdyb3VwKSB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgY29uZGl0aW9uOiBncm91cC5jb25kaXRpb24sXG4gICAgICAgICAgICBydWxlczogW11cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ3JvdXAuZGF0YSkge1xuICAgICAgICAgICAgZGF0YS5kYXRhID0gJC5leHRlbmRleHQodHJ1ZSwgJ3JlcGxhY2UnLCB7fSwgZ3JvdXAuZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5nZXRfZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciBmbGFncyA9IHNlbGYuZ2V0R3JvdXBGbGFncyhncm91cC5mbGFncywgb3B0aW9ucy5nZXRfZmxhZ3MgPT09ICdhbGwnKTtcbiAgICAgICAgICAgIGlmICghJC5pc0VtcHR5T2JqZWN0KGZsYWdzKSkge1xuICAgICAgICAgICAgICAgIGRhdGEuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdyb3VwLmVhY2goZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAobW9kZWwub3BlcmF0b3IubmJfaW5wdXRzICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBtb2RlbC52YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJ1bGUgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1vZGVsLmZpbHRlci5pZCxcbiAgICAgICAgICAgICAgICBmaWVsZDogbW9kZWwuZmlsdGVyLmZpZWxkLFxuICAgICAgICAgICAgICAgIHR5cGU6IG1vZGVsLmZpbHRlci50eXBlLFxuICAgICAgICAgICAgICAgIGlucHV0OiBtb2RlbC5maWx0ZXIuaW5wdXQsXG4gICAgICAgICAgICAgICAgb3BlcmF0b3I6IG1vZGVsLm9wZXJhdG9yLnR5cGUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAobW9kZWwuZmlsdGVyLmRhdGEgfHwgbW9kZWwuZGF0YSkge1xuICAgICAgICAgICAgICAgIHJ1bGUuZGF0YSA9ICQuZXh0ZW5kZXh0KHRydWUsICdyZXBsYWNlJywge30sIG1vZGVsLmZpbHRlci5kYXRhLCBtb2RlbC5kYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZ2V0X2ZsYWdzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZsYWdzID0gc2VsZi5nZXRSdWxlRmxhZ3MobW9kZWwuZmxhZ3MsIG9wdGlvbnMuZ2V0X2ZsYWdzID09PSAnYWxsJyk7XG4gICAgICAgICAgICAgICAgaWYgKCEkLmlzRW1wdHlPYmplY3QoZmxhZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGEucnVsZXMucHVzaChydWxlKTtcblxuICAgICAgICB9LCBmdW5jdGlvbihtb2RlbCkge1xuICAgICAgICAgICAgZGF0YS5ydWxlcy5wdXNoKHBhcnNlKG1vZGVsKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuXG4gICAgfSh0aGlzLm1vZGVsLnJvb3QpKTtcblxuICAgIHJldHVybiB0aGlzLmNoYW5nZSgnZ2V0UnVsZXMnLCBvdXQpO1xufTtcblxuLyoqXG4gKiBTZXQgcnVsZXMgZnJvbSBvYmplY3RcbiAqIEB0aHJvd3MgUnVsZXNFcnJvciwgVW5kZWZpbmVkQ29uZGl0aW9uRXJyb3JcbiAqIEBwYXJhbSBkYXRhIHtvYmplY3R9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuc2V0UnVsZXMgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgaWYgKCQuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgY29uZGl0aW9uOiB0aGlzLnNldHRpbmdzLmRlZmF1bHRfY29uZGl0aW9uLFxuICAgICAgICAgICAgcnVsZXM6IGRhdGFcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoIWRhdGEgfHwgIWRhdGEucnVsZXMgfHwgKGRhdGEucnVsZXMubGVuZ3RoID09PSAwICYmICF0aGlzLnNldHRpbmdzLmFsbG93X2VtcHR5KSkge1xuICAgICAgICBVdGlscy5lcnJvcignUnVsZXNQYXJzZScsICdJbmNvcnJlY3QgZGF0YSBvYmplY3QgcGFzc2VkJyk7XG4gICAgfVxuXG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHRoaXMuc2V0Um9vdChmYWxzZSwgZGF0YS5kYXRhLCB0aGlzLnBhcnNlR3JvdXBGbGFncyhkYXRhKSk7XG5cbiAgICBkYXRhID0gdGhpcy5jaGFuZ2UoJ3NldFJ1bGVzJywgZGF0YSk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAoZnVuY3Rpb24gYWRkKGRhdGEsIGdyb3VwKSB7XG4gICAgICAgIGlmIChncm91cCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuY29uZGl0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGEuY29uZGl0aW9uID0gc2VsZi5zZXR0aW5ncy5kZWZhdWx0X2NvbmRpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzZWxmLnNldHRpbmdzLmNvbmRpdGlvbnMuaW5kZXhPZihkYXRhLmNvbmRpdGlvbikgPT0gLTEpIHtcbiAgICAgICAgICAgIFV0aWxzLmVycm9yKCdVbmRlZmluZWRDb25kaXRpb24nLCAnSW52YWxpZCBjb25kaXRpb24gXCJ7MH1cIicsIGRhdGEuY29uZGl0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdyb3VwLmNvbmRpdGlvbiA9IGRhdGEuY29uZGl0aW9uO1xuXG4gICAgICAgIGRhdGEucnVsZXMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICB2YXIgbW9kZWw7XG4gICAgICAgICAgICBpZiAoaXRlbS5ydWxlcyAmJiBpdGVtLnJ1bGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5zZXR0aW5ncy5hbGxvd19ncm91cHMgIT09IC0xICYmIHNlbGYuc2V0dGluZ3MuYWxsb3dfZ3JvdXBzIDwgZ3JvdXAubGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignUnVsZXNQYXJzZScsICdObyBtb3JlIHRoYW4gezB9IGdyb3VwcyBhcmUgYWxsb3dlZCcsIHNlbGYuc2V0dGluZ3MuYWxsb3dfZ3JvdXBzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsID0gc2VsZi5hZGRHcm91cChncm91cCwgZmFsc2UsIGl0ZW0uZGF0YSwgc2VsZi5wYXJzZUdyb3VwRmxhZ3MoaXRlbSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGFkZChpdGVtLCBtb2RlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignUnVsZXNQYXJzZScsICdNaXNzaW5nIHJ1bGUgZmllbGQgaWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ub3BlcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLm9wZXJhdG9yID0gJ2VxdWFsJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtb2RlbCA9IHNlbGYuYWRkUnVsZShncm91cCwgaXRlbS5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAobW9kZWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG1vZGVsLmZpbHRlciA9IHNlbGYuZ2V0RmlsdGVyQnlJZChpdGVtLmlkKTtcbiAgICAgICAgICAgICAgICBtb2RlbC5vcGVyYXRvciA9IHNlbGYuZ2V0T3BlcmF0b3JCeVR5cGUoaXRlbS5vcGVyYXRvcik7XG4gICAgICAgICAgICAgICAgbW9kZWwuZmxhZ3MgPSBzZWxmLnBhcnNlUnVsZUZsYWdzKGl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1vZGVsLm9wZXJhdG9yLm5iX2lucHV0cyAhPT0gMCAmJiBpdGVtLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwudmFsdWUgPSBpdGVtLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9KGRhdGEsIHRoaXMubW9kZWwucm9vdCkpO1xufTtcblxuXG4vKipcbiAqIENoZWNrIGlmIGEgdmFsdWUgaXMgY29ycmVjdCBmb3IgYSBmaWx0ZXJcbiAqIEBwYXJhbSBydWxlIHtSdWxlfVxuICogQHBhcmFtIHZhbHVlIHtzdHJpbmd8c3RyaW5nW118dW5kZWZpbmVkfVxuICogQHJldHVybiB7YXJyYXl8dHJ1ZX1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS52YWxpZGF0ZVZhbHVlID0gZnVuY3Rpb24ocnVsZSwgdmFsdWUpIHtcbiAgICB2YXIgdmFsaWRhdGlvbiA9IHJ1bGUuZmlsdGVyLnZhbGlkYXRpb24gfHwge307XG4gICAgdmFyIHJlc3VsdCA9IHRydWU7XG5cbiAgICBpZiAodmFsaWRhdGlvbi5jYWxsYmFjaykge1xuICAgICAgICByZXN1bHQgPSB2YWxpZGF0aW9uLmNhbGxiYWNrLmNhbGwodGhpcywgdmFsdWUsIHJ1bGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy52YWxpZGF0ZVZhbHVlSW50ZXJuYWwocnVsZSwgdmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNoYW5nZSgndmFsaWRhdGVWYWx1ZScsIHJlc3VsdCwgdmFsdWUsIHJ1bGUpO1xufTtcblxuLyoqXG4gKiBEZWZhdWx0IHZhbGlkYXRpb24gZnVuY3Rpb25cbiAqIEB0aHJvd3MgQ29uZmlnRXJyb3JcbiAqIEBwYXJhbSBydWxlIHtSdWxlfVxuICogQHBhcmFtIHZhbHVlIHtzdHJpbmd8c3RyaW5nW118dW5kZWZpbmVkfVxuICogQHJldHVybiB7YXJyYXl8dHJ1ZX1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS52YWxpZGF0ZVZhbHVlSW50ZXJuYWwgPSBmdW5jdGlvbihydWxlLCB2YWx1ZSkge1xuICAgIHZhciBmaWx0ZXIgPSBydWxlLmZpbHRlcjtcbiAgICB2YXIgb3BlcmF0b3IgPSBydWxlLm9wZXJhdG9yO1xuICAgIHZhciB2YWxpZGF0aW9uID0gZmlsdGVyLnZhbGlkYXRpb24gfHwge307XG4gICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgdmFyIHRtcDtcblxuICAgIGlmIChydWxlLm9wZXJhdG9yLm5iX2lucHV0cyA9PT0gMSkge1xuICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlcmF0b3IubmJfaW5wdXRzOyBpKyspIHtcbiAgICAgICAgc3dpdGNoIChmaWx0ZXIuaW5wdXQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ3JhZGlvX2VtcHR5J107XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlW2ldLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ2NoZWNrYm94X2VtcHR5J107XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghb3BlcmF0b3IubXVsdGlwbGUgJiYgdmFsdWVbaV0ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ29wZXJhdG9yX25vdF9tdWx0aXBsZScsIG9wZXJhdG9yLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlci5tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gPT09IHVuZGVmaW5lZCB8fCB2YWx1ZVtpXS5sZW5ndGggPT09IDAgfHwgKGZpbHRlci5wbGFjZWhvbGRlciAmJiB2YWx1ZVtpXSA9PSBmaWx0ZXIucGxhY2Vob2xkZXJfdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ3NlbGVjdF9lbXB0eSddO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIW9wZXJhdG9yLm11bHRpcGxlICYmIHZhbHVlW2ldLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsnb3BlcmF0b3Jfbm90X211bHRpcGxlJywgb3BlcmF0b3IudHlwZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldID09PSB1bmRlZmluZWQgfHwgKGZpbHRlci5wbGFjZWhvbGRlciAmJiB2YWx1ZVtpXSA9PSBmaWx0ZXIucGxhY2Vob2xkZXJfdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ3NlbGVjdF9lbXB0eSddO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgc3dpdGNoIChRdWVyeUJ1aWxkZXIudHlwZXNbZmlsdGVyLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gPT09IHVuZGVmaW5lZCB8fCB2YWx1ZVtpXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ3N0cmluZ19lbXB0eSddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24ubWluICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0ubGVuZ3RoIDwgcGFyc2VJbnQodmFsaWRhdGlvbi5taW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsnc3RyaW5nX2V4Y2VlZF9taW5fbGVuZ3RoJywgdmFsaWRhdGlvbi5taW5dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5tYXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXS5sZW5ndGggPiBwYXJzZUludCh2YWxpZGF0aW9uLm1heCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gWydzdHJpbmdfZXhjZWVkX21heF9sZW5ndGgnLCB2YWxpZGF0aW9uLm1heF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsaWRhdGlvbi5mb3JtYXQgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbi5mb3JtYXQgPSBuZXcgUmVnRXhwKHZhbGlkYXRpb24uZm9ybWF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0aW9uLmZvcm1hdC50ZXN0KHZhbHVlW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ3N0cmluZ19pbnZhbGlkX2Zvcm1hdCcsIHZhbGlkYXRpb24uZm9ybWF0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKHZhbHVlW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsnbnVtYmVyX25hbiddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci50eXBlID09ICdpbnRlZ2VyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludCh2YWx1ZVtpXSkgIT0gdmFsdWVbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gWydudW1iZXJfbm90X2ludGVnZXInXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlRmxvYXQodmFsdWVbaV0pICE9IHZhbHVlW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsnbnVtYmVyX25vdF9kb3VibGUnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24ubWluICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gPCBwYXJzZUZsb2F0KHZhbGlkYXRpb24ubWluKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ251bWJlcl9leGNlZWRfbWluJywgdmFsaWRhdGlvbi5taW5dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5tYXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSA+IHBhcnNlRmxvYXQodmFsaWRhdGlvbi5tYXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsnbnVtYmVyX2V4Y2VlZF9tYXgnLCB2YWxpZGF0aW9uLm1heF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uLnN0ZXAgIT09IHVuZGVmaW5lZCAmJiB2YWxpZGF0aW9uLnN0ZXAgIT09ICdhbnknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSAodmFsdWVbaV0gLyB2YWxpZGF0aW9uLnN0ZXApLnRvUHJlY2lzaW9uKDE0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQodikgIT0gdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ251bWJlcl93cm9uZ19zdGVwJywgdmFsaWRhdGlvbi5zdGVwXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF0ZXRpbWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldID09PSB1bmRlZmluZWQgfHwgdmFsdWVbaV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gWydkYXRldGltZV9lbXB0eSddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIE1vbWVudEpTXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISgnbW9tZW50JyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdNaXNzaW5nTGlicmFyeScsICdNb21lbnRKUyBpcyByZXF1aXJlZCBmb3IgRGF0ZS9UaW1lIHZhbGlkYXRpb24uIEdldCBpdCBoZXJlIGh0dHA6Ly9tb21lbnRqcy5jb20nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZXRpbWUgPSBtb21lbnQodmFsdWVbaV0sIHZhbGlkYXRpb24uZm9ybWF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGV0aW1lLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ2RhdGV0aW1lX2ludmFsaWQnLCB2YWxpZGF0aW9uLmZvcm1hdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24ubWluKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZXRpbWUgPCBtb21lbnQodmFsaWRhdGlvbi5taW4sIHZhbGlkYXRpb24uZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsnZGF0ZXRpbWVfZXhjZWVkX21pbicsIHZhbGlkYXRpb24ubWluXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5tYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRldGltZSA+IG1vbWVudCh2YWxpZGF0aW9uLm1heCwgdmFsaWRhdGlvbi5mb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gWydkYXRldGltZV9leGNlZWRfbWF4JywgdmFsaWRhdGlvbi5tYXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSB2YWx1ZVtpXS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXAgIT09ICd0cnVlJyAmJiB0bXAgIT09ICdmYWxzZScgJiYgdG1wICE9PSAnMScgJiYgdG1wICE9PSAnMCcgJiYgdmFsdWVbaV0gIT09IDEgJiYgdmFsdWVbaV0gIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ2Jvb2xlYW5fbm90X3ZhbGlkJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGluY3JlbWVudGVkIGdyb3VwIElEXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUubmV4dEdyb3VwSWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXMuaWQgKyAnX2dyb3VwXycgKyAodGhpcy5zdGF0dXMuZ3JvdXBfaWQrKyk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gaW5jcmVtZW50ZWQgcnVsZSBJRFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLm5leHRSdWxlSWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXMuaWQgKyAnX3J1bGVfJyArICh0aGlzLnN0YXR1cy5ydWxlX2lkKyspO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvcGVyYXRvcnMgZm9yIGEgZmlsdGVyXG4gKiBAcGFyYW0gZmlsdGVyIHtzdHJpbmd8b2JqZWN0fSAoZmlsdGVyIGlkIG5hbWUgb3IgZmlsdGVyIG9iamVjdClcbiAqIEByZXR1cm4ge29iamVjdFtdfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmdldE9wZXJhdG9ycyA9IGZ1bmN0aW9uKGZpbHRlcikge1xuICAgIGlmICh0eXBlb2YgZmlsdGVyID09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZpbHRlciA9IHRoaXMuZ2V0RmlsdGVyQnlJZChmaWx0ZXIpO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5vcGVyYXRvcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIC8vIGZpbHRlciBvcGVyYXRvcnMgY2hlY2tcbiAgICAgICAgaWYgKGZpbHRlci5vcGVyYXRvcnMpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIub3BlcmF0b3JzLmluZGV4T2YodGhpcy5vcGVyYXRvcnNbaV0udHlwZSkgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0eXBlIGNoZWNrXG4gICAgICAgIGVsc2UgaWYgKHRoaXMub3BlcmF0b3JzW2ldLmFwcGx5X3RvLmluZGV4T2YoUXVlcnlCdWlsZGVyLnR5cGVzW2ZpbHRlci50eXBlXSkgPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0LnB1c2godGhpcy5vcGVyYXRvcnNbaV0pO1xuICAgIH1cblxuICAgIC8vIGtlZXAgc29ydCBvcmRlciBkZWZpbmVkIGZvciB0aGUgZmlsdGVyXG4gICAgaWYgKGZpbHRlci5vcGVyYXRvcnMpIHtcbiAgICAgICAgcmVzdWx0LnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlci5vcGVyYXRvcnMuaW5kZXhPZihhLnR5cGUpIC0gZmlsdGVyLm9wZXJhdG9ycy5pbmRleE9mKGIudHlwZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNoYW5nZSgnZ2V0T3BlcmF0b3JzJywgcmVzdWx0LCBmaWx0ZXIpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgcGFydGljdWxhciBmaWx0ZXIgYnkgaXRzIGlkXG4gKiBAdGhyb3dzIFVuZGVmaW5lZEZpbHRlckVycm9yXG4gKiBAcGFyYW0gZmlsdGVySWQge3N0cmluZ31cbiAqIEByZXR1cm4ge29iamVjdHxudWxsfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmdldEZpbHRlckJ5SWQgPSBmdW5jdGlvbihpZCkge1xuICAgIGlmIChpZCA9PSAnLTEnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5maWx0ZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5maWx0ZXJzW2ldLmlkID09IGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJzW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgVXRpbHMuZXJyb3IoJ1VuZGVmaW5lZEZpbHRlcicsICdVbmRlZmluZWQgZmlsdGVyIFwiezB9XCInLCBpZCk7XG59O1xuXG4vKipcbiAqIFJldHVybiBhIHBhcnRpY3VsYXIgb3BlcmF0b3IgYnkgaXRzIHR5cGVcbiAqIEB0aHJvd3MgVW5kZWZpbmVkT3BlcmF0b3JFcnJvclxuICogQHBhcmFtIHR5cGUge3N0cmluZ31cbiAqIEByZXR1cm4ge29iamVjdHxudWxsfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmdldE9wZXJhdG9yQnlUeXBlID0gZnVuY3Rpb24odHlwZSkge1xuICAgIGlmICh0eXBlID09ICctMScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLm9wZXJhdG9ycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMub3BlcmF0b3JzW2ldLnR5cGUgPT0gdHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3BlcmF0b3JzW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgVXRpbHMuZXJyb3IoJ1VuZGVmaW5lZE9wZXJhdG9yJywgJ1VuZGVmaW5lZCBvcGVyYXRvciBcInswfVwiJywgdHlwZSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgcnVsZSB2YWx1ZVxuICogQHBhcmFtIHJ1bGUge1J1bGV9XG4gKiBAcmV0dXJuIHttaXhlZH1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5nZXRSdWxlVmFsdWUgPSBmdW5jdGlvbihydWxlKSB7XG4gICAgdmFyIGZpbHRlciA9IHJ1bGUuZmlsdGVyO1xuICAgIHZhciBvcGVyYXRvciA9IHJ1bGUub3BlcmF0b3I7XG4gICAgdmFyIHZhbHVlID0gW107XG5cbiAgICBpZiAoZmlsdGVyLnZhbHVlR2V0dGVyKSB7XG4gICAgICAgIHZhbHVlID0gZmlsdGVyLnZhbHVlR2V0dGVyLmNhbGwodGhpcywgcnVsZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgJHZhbHVlID0gcnVsZS4kZWwuZmluZChTZWxlY3RvcnMudmFsdWVfY29udGFpbmVyKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wZXJhdG9yLm5iX2lucHV0czsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IFV0aWxzLmVzY2FwZUVsZW1lbnRJZChydWxlLmlkICsgJ192YWx1ZV8nICsgaSk7XG4gICAgICAgICAgICB2YXIgdG1wO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGZpbHRlci5pbnB1dCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUucHVzaCgkdmFsdWUuZmluZCgnW25hbWU9JyArIG5hbWUgKyAnXTpjaGVja2VkJykudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gW107XG4gICAgICAgICAgICAgICAgICAgICR2YWx1ZS5maW5kKCdbbmFtZT0nICsgbmFtZSArICddOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wLnB1c2goJCh0aGlzKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKHRtcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAkdmFsdWUuZmluZCgnW25hbWU9JyArIG5hbWUgKyAnXSBvcHRpb246c2VsZWN0ZWQnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wdXNoKCQodGhpcykudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKHRtcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKCR2YWx1ZS5maW5kKCdbbmFtZT0nICsgbmFtZSArICddIG9wdGlvbjpzZWxlY3RlZCcpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2goJHZhbHVlLmZpbmQoJ1tuYW1lPScgKyBuYW1lICsgJ10nKS52YWwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlcmF0b3IubmJfaW5wdXRzID09PSAxKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQGRlcHJlY2F0ZWRcbiAgICAgICAgaWYgKGZpbHRlci52YWx1ZVBhcnNlcikge1xuICAgICAgICAgICAgdmFsdWUgPSBmaWx0ZXIudmFsdWVQYXJzZXIuY2FsbCh0aGlzLCBydWxlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jaGFuZ2UoJ2dldFJ1bGVWYWx1ZScsIHZhbHVlLCBydWxlKTtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgb2YgYSBydWxlLlxuICogQHBhcmFtIHJ1bGUge1J1bGV9XG4gKiBAcGFyYW0gdmFsdWUge21peGVkfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnNldFJ1bGVWYWx1ZSA9IGZ1bmN0aW9uKHJ1bGUsIHZhbHVlKSB7XG4gICAgdmFyIGZpbHRlciA9IHJ1bGUuZmlsdGVyO1xuICAgIHZhciBvcGVyYXRvciA9IHJ1bGUub3BlcmF0b3I7XG5cbiAgICBpZiAoZmlsdGVyLnZhbHVlU2V0dGVyKSB7XG4gICAgICAgIGZpbHRlci52YWx1ZVNldHRlci5jYWxsKHRoaXMsIHJ1bGUsIHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciAkdmFsdWUgPSBydWxlLiRlbC5maW5kKFNlbGVjdG9ycy52YWx1ZV9jb250YWluZXIpO1xuXG4gICAgICAgIGlmIChvcGVyYXRvci5uYl9pbnB1dHMgPT0gMSkge1xuICAgICAgICAgICAgdmFsdWUgPSBbdmFsdWVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlcmF0b3IubmJfaW5wdXRzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gVXRpbHMuZXNjYXBlRWxlbWVudElkKHJ1bGUuaWQgKyAnX3ZhbHVlXycgKyBpKTtcblxuICAgICAgICAgICAgc3dpdGNoIChmaWx0ZXIuaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgICAgICAgICAgICR2YWx1ZS5maW5kKCdbbmFtZT0nICsgbmFtZSArICddW3ZhbHVlPVwiJyArIHZhbHVlW2ldICsgJ1wiXScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgICAgIGlmICghJC5pc0FycmF5KHZhbHVlW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbaV0gPSBbdmFsdWVbaV1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlW2ldLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR2YWx1ZS5maW5kKCdbbmFtZT0nICsgbmFtZSArICddW3ZhbHVlPVwiJyArIHZhbHVlICsgJ1wiXScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgJHZhbHVlLmZpbmQoJ1tuYW1lPScgKyBuYW1lICsgJ10nKS52YWwodmFsdWVbaV0pLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogQ2xlYW4gcnVsZSBmbGFncy5cbiAqIEBwYXJhbSBydWxlIHtvYmplY3R9XG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUucGFyc2VSdWxlRmxhZ3MgPSBmdW5jdGlvbihydWxlKSB7XG4gICAgdmFyIGZsYWdzID0gJC5leHRlbmQoe30sIHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9ydWxlX2ZsYWdzKTtcblxuICAgIGlmIChydWxlLnJlYWRvbmx5KSB7XG4gICAgICAgICQuZXh0ZW5kKGZsYWdzLCB7XG4gICAgICAgICAgICBmaWx0ZXJfcmVhZG9ubHk6IHRydWUsXG4gICAgICAgICAgICBvcGVyYXRvcl9yZWFkb25seTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlX3JlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgbm9fZGVsZXRlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChydWxlLmZsYWdzKSB7XG4gICAgICAgICQuZXh0ZW5kKGZsYWdzLCBydWxlLmZsYWdzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jaGFuZ2UoJ3BhcnNlUnVsZUZsYWdzJywgZmxhZ3MsIHJ1bGUpO1xufTtcblxuLyoqXG4gKiBHZXQgYSBjb3B5IG9mIGZsYWdzIG9mIGEgcnVsZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBmbGFnc1xuICogQHBhcmFtIHtib29sZWFufSBhbGwgLSB0cnVlIHRvIHJldHVybiBhbGwgZmxhZ3MsIGZhbHNlIHRvIHJldHVybiBvbmx5IGNoYW5nZXMgZnJvbSBkZWZhdWx0XG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmdldFJ1bGVGbGFncyA9IGZ1bmN0aW9uKGZsYWdzLCBhbGwpIHtcbiAgICBpZiAoYWxsKSB7XG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh7fSwgZmxhZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHJldCA9IHt9O1xuICAgICAgICAkLmVhY2godGhpcy5zZXR0aW5ncy5kZWZhdWx0X3J1bGVfZmxhZ3MsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChmbGFnc1trZXldICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldFtrZXldID0gZmxhZ3Nba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDbGVhbiBncm91cCBmbGFncy5cbiAqIEBwYXJhbSBncm91cCB7b2JqZWN0fVxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnBhcnNlR3JvdXBGbGFncyA9IGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgdmFyIGZsYWdzID0gJC5leHRlbmQoe30sIHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9ncm91cF9mbGFncyk7XG5cbiAgICBpZiAoZ3JvdXAucmVhZG9ubHkpIHtcbiAgICAgICAgJC5leHRlbmQoZmxhZ3MsIHtcbiAgICAgICAgICAgIGNvbmRpdGlvbl9yZWFkb25seTogdHJ1ZSxcbiAgICAgICAgICAgIG5vX2RlbGV0ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZ3JvdXAuZmxhZ3MpIHtcbiAgICAgICAgJC5leHRlbmQoZmxhZ3MsIGdyb3VwLmZsYWdzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jaGFuZ2UoJ3BhcnNlR3JvdXBGbGFncycsIGZsYWdzLCBncm91cCk7XG59O1xuXG4vKipcbiAqIEdldCBhIGNvcHkgb2YgZmxhZ3Mgb2YgYSBncm91cC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBmbGFnc1xuICogQHBhcmFtIHtib29sZWFufSBhbGwgLSB0cnVlIHRvIHJldHVybiBhbGwgZmxhZ3MsIGZhbHNlIHRvIHJldHVybiBvbmx5IGNoYW5nZXMgZnJvbSBkZWZhdWx0XG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmdldEdyb3VwRmxhZ3MgPSBmdW5jdGlvbihmbGFncywgYWxsKSB7XG4gICAgaWYgKGFsbCkge1xuICAgICAgICByZXR1cm4gJC5leHRlbmQoe30sIGZsYWdzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciByZXQgPSB7fTtcbiAgICAgICAgJC5lYWNoKHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9ncm91cF9mbGFncywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGZsYWdzW2tleV0gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0W2tleV0gPSBmbGFnc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRyYW5zbGF0ZSBhIGxhYmVsXG4gKiBAcGFyYW0gbGFiZWwge3N0cmluZ3xvYmplY3R9XG4gKiBAcmV0dXJuIHN0cmluZ1xuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnRyYW5zbGF0ZUxhYmVsID0gZnVuY3Rpb24obGFiZWwpIHtcbiAgICByZXR1cm4gdHlwZW9mIGxhYmVsID09ICdvYmplY3QnID8gKGxhYmVsW3RoaXMuc2V0dGluZ3MubGFuZ19jb2RlXSB8fCBsYWJlbFsnZW4nXSkgOiBsYWJlbDtcbn07XG5cblxuUXVlcnlCdWlsZGVyLnRlbXBsYXRlcy5ncm91cCA9ICdcXFxuPGRsIGlkPVwie3s9IGl0Lmdyb3VwX2lkIH19XCIgY2xhc3M9XCJydWxlcy1ncm91cC1jb250YWluZXJcIj4gXFxcbiAgPGR0IGNsYXNzPVwicnVsZXMtZ3JvdXAtaGVhZGVyXCI+IFxcXG4gICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBwdWxsLXJpZ2h0IGdyb3VwLWFjdGlvbnNcIj4gXFxcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIGRhdGEtYWRkPVwicnVsZVwiPiBcXFxuICAgICAgICA8aSBjbGFzcz1cInt7PSBpdC5pY29ucy5hZGRfcnVsZSB9fVwiPjwvaT4ge3s9IGl0LmxhbmcuYWRkX3J1bGUgfX0gXFxcbiAgICAgIDwvYnV0dG9uPiBcXFxuICAgICAge3s/IGl0LnNldHRpbmdzLmFsbG93X2dyb3Vwcz09PS0xIHx8IGl0LnNldHRpbmdzLmFsbG93X2dyb3Vwcz49aXQubGV2ZWwgfX0gXFxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1zdWNjZXNzXCIgZGF0YS1hZGQ9XCJncm91cFwiPiBcXFxuICAgICAgICAgIDxpIGNsYXNzPVwie3s9IGl0Lmljb25zLmFkZF9ncm91cCB9fVwiPjwvaT4ge3s9IGl0LmxhbmcuYWRkX2dyb3VwIH19IFxcXG4gICAgICAgIDwvYnV0dG9uPiBcXFxuICAgICAge3s/fX0gXFxcbiAgICAgIHt7PyBpdC5sZXZlbD4xIH19IFxcXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tZGFuZ2VyXCIgZGF0YS1kZWxldGU9XCJncm91cFwiPiBcXFxuICAgICAgICAgIDxpIGNsYXNzPVwie3s9IGl0Lmljb25zLnJlbW92ZV9ncm91cCB9fVwiPjwvaT4ge3s9IGl0LmxhbmcuZGVsZXRlX2dyb3VwIH19IFxcXG4gICAgICAgIDwvYnV0dG9uPiBcXFxuICAgICAge3s/fX0gXFxcbiAgICA8L2Rpdj4gXFxcbiAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIGdyb3VwLWNvbmRpdGlvbnNcIj4gXFxcbiAgICAgIHt7fiBpdC5jb25kaXRpb25zOiBjb25kaXRpb24gfX0gXFxcbiAgICAgICAgPGxhYmVsIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tcHJpbWFyeVwiPiBcXFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwie3s9IGl0Lmdyb3VwX2lkIH19X2NvbmRcIiB2YWx1ZT1cInt7PSBjb25kaXRpb24gfX1cIj4ge3s9IGl0LmxhbmcuY29uZGl0aW9uc1tjb25kaXRpb25dIHx8IGNvbmRpdGlvbiB9fSBcXFxuICAgICAgICA8L2xhYmVsPiBcXFxuICAgICAge3t+fX0gXFxcbiAgICA8L2Rpdj4gXFxcbiAgICB7ez8gaXQuc2V0dGluZ3MuZGlzcGxheV9lcnJvcnMgfX0gXFxcbiAgICAgIDxkaXYgY2xhc3M9XCJlcnJvci1jb250YWluZXJcIj48aSBjbGFzcz1cInt7PSBpdC5pY29ucy5lcnJvciB9fVwiPjwvaT48L2Rpdj4gXFxcbiAgICB7ez99fSBcXFxuICA8L2R0PiBcXFxuICA8ZGQgY2xhc3M9cnVsZXMtZ3JvdXAtYm9keT4gXFxcbiAgICA8dWwgY2xhc3M9cnVsZXMtbGlzdD48L3VsPiBcXFxuICA8L2RkPiBcXFxuPC9kbD4nO1xuXG5RdWVyeUJ1aWxkZXIudGVtcGxhdGVzLnJ1bGUgPSAnXFxcbjxsaSBpZD1cInt7PSBpdC5ydWxlX2lkIH19XCIgY2xhc3M9XCJydWxlLWNvbnRhaW5lclwiPiBcXFxuICA8ZGl2IGNsYXNzPVwicnVsZS1oZWFkZXJcIj4gXFxcbiAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIHB1bGwtcmlnaHQgcnVsZS1hY3Rpb25zXCI+IFxcXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLWRhbmdlclwiIGRhdGEtZGVsZXRlPVwicnVsZVwiPiBcXFxuICAgICAgICA8aSBjbGFzcz1cInt7PSBpdC5pY29ucy5yZW1vdmVfcnVsZSB9fVwiPjwvaT4ge3s9IGl0LmxhbmcuZGVsZXRlX3J1bGUgfX0gXFxcbiAgICAgIDwvYnV0dG9uPiBcXFxuICAgIDwvZGl2PiBcXFxuICA8L2Rpdj4gXFxcbiAge3s/IGl0LnNldHRpbmdzLmRpc3BsYXlfZXJyb3JzIH19IFxcXG4gICAgPGRpdiBjbGFzcz1cImVycm9yLWNvbnRhaW5lclwiPjxpIGNsYXNzPVwie3s9IGl0Lmljb25zLmVycm9yIH19XCI+PC9pPjwvZGl2PiBcXFxuICB7ez99fSBcXFxuICA8ZGl2IGNsYXNzPVwicnVsZS1maWx0ZXItY29udGFpbmVyXCI+PC9kaXY+IFxcXG4gIDxkaXYgY2xhc3M9XCJydWxlLW9wZXJhdG9yLWNvbnRhaW5lclwiPjwvZGl2PiBcXFxuICA8ZGl2IGNsYXNzPVwicnVsZS12YWx1ZS1jb250YWluZXJcIj48L2Rpdj4gXFxcbjwvbGk+JztcblxuUXVlcnlCdWlsZGVyLnRlbXBsYXRlcy5maWx0ZXJTZWxlY3QgPSAnXFxcbnt7IHZhciBvcHRncm91cCA9IG51bGw7IH19IFxcXG48c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cInt7PSBpdC5ydWxlLmlkIH19X2ZpbHRlclwiPiBcXFxuICB7ez8gaXQuc2V0dGluZ3MuZGlzcGxheV9lbXB0eV9maWx0ZXIgfX0gXFxcbiAgICA8b3B0aW9uIHZhbHVlPVwiLTFcIj57ez0gaXQuc2V0dGluZ3Muc2VsZWN0X3BsYWNlaG9sZGVyIH19PC9vcHRpb24+IFxcXG4gIHt7P319IFxcXG4gIHt7fiBpdC5maWx0ZXJzOiBmaWx0ZXIgfX0gXFxcbiAgICB7ez8gb3B0Z3JvdXAgIT09IGZpbHRlci5vcHRncm91cCB9fSBcXFxuICAgICAge3s/IG9wdGdyb3VwICE9PSBudWxsIH19PC9vcHRncm91cD57ez99fSBcXFxuICAgICAge3s/IChvcHRncm91cCA9IGZpbHRlci5vcHRncm91cCkgIT09IG51bGwgfX0gXFxcbiAgICAgICAgPG9wdGdyb3VwIGxhYmVsPVwie3s9IGl0LnRyYW5zbGF0ZShpdC5zZXR0aW5ncy5vcHRncm91cHNbb3B0Z3JvdXBdKSB9fVwiPiBcXFxuICAgICAge3s/fX0gXFxcbiAgICB7ez99fSBcXFxuICAgIDxvcHRpb24gdmFsdWU9XCJ7ez0gZmlsdGVyLmlkIH19XCI+e3s9IGl0LnRyYW5zbGF0ZShmaWx0ZXIubGFiZWwpIH19PC9vcHRpb24+IFxcXG4gIHt7fn19IFxcXG4gIHt7PyBvcHRncm91cCAhPT0gbnVsbCB9fTwvb3B0Z3JvdXA+e3s/fX0gXFxcbjwvc2VsZWN0Pic7XG5cblF1ZXJ5QnVpbGRlci50ZW1wbGF0ZXMub3BlcmF0b3JTZWxlY3QgPSAnXFxcbnt7IHZhciBvcHRncm91cCA9IG51bGw7IH19IFxcXG48c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cInt7PSBpdC5ydWxlLmlkIH19X29wZXJhdG9yXCI+IFxcXG4gIHt7fiBpdC5vcGVyYXRvcnM6IG9wZXJhdG9yIH19IFxcXG4gICAge3s/IG9wdGdyb3VwICE9PSBvcGVyYXRvci5vcHRncm91cCB9fSBcXFxuICAgICAge3s/IG9wdGdyb3VwICE9PSBudWxsIH19PC9vcHRncm91cD57ez99fSBcXFxuICAgICAge3s/IChvcHRncm91cCA9IG9wZXJhdG9yLm9wdGdyb3VwKSAhPT0gbnVsbCB9fSBcXFxuICAgICAgICA8b3B0Z3JvdXAgbGFiZWw9XCJ7ez0gaXQudHJhbnNsYXRlKGl0LnNldHRpbmdzLm9wdGdyb3Vwc1tvcHRncm91cF0pIH19XCI+IFxcXG4gICAgICB7ez99fSBcXFxuICAgIHt7P319IFxcXG4gICAgPG9wdGlvbiB2YWx1ZT1cInt7PSBvcGVyYXRvci50eXBlIH19XCI+e3s9IGl0Lmxhbmcub3BlcmF0b3JzW29wZXJhdG9yLnR5cGVdIHx8IG9wZXJhdG9yLnR5cGUgfX08L29wdGlvbj4gXFxcbiAge3t+fX0gXFxcbiAge3s/IG9wdGdyb3VwICE9PSBudWxsIH19PC9vcHRncm91cD57ez99fSBcXFxuPC9zZWxlY3Q+JztcblxuLyoqXG4gKiBSZXR1cm5zIGdyb3VwIEhUTUxcbiAqIEBwYXJhbSBncm91cF9pZCB7c3RyaW5nfVxuICogQHBhcmFtIGxldmVsIHtpbnR9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZ2V0R3JvdXBUZW1wbGF0ZSA9IGZ1bmN0aW9uKGdyb3VwX2lkLCBsZXZlbCkge1xuICAgIHZhciBoID0gdGhpcy50ZW1wbGF0ZXMuZ3JvdXAoe1xuICAgICAgICBidWlsZGVyOiB0aGlzLFxuICAgICAgICBncm91cF9pZDogZ3JvdXBfaWQsXG4gICAgICAgIGxldmVsOiBsZXZlbCxcbiAgICAgICAgY29uZGl0aW9uczogdGhpcy5zZXR0aW5ncy5jb25kaXRpb25zLFxuICAgICAgICBpY29uczogdGhpcy5pY29ucyxcbiAgICAgICAgbGFuZzogdGhpcy5sYW5nLFxuICAgICAgICBzZXR0aW5nczogdGhpcy5zZXR0aW5nc1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlKCdnZXRHcm91cFRlbXBsYXRlJywgaCwgbGV2ZWwpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHJ1bGUgSFRNTFxuICogQHBhcmFtIHJ1bGVfaWQge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5nZXRSdWxlVGVtcGxhdGUgPSBmdW5jdGlvbihydWxlX2lkKSB7XG4gICAgdmFyIGggPSB0aGlzLnRlbXBsYXRlcy5ydWxlKHtcbiAgICAgICAgYnVpbGRlcjogdGhpcyxcbiAgICAgICAgcnVsZV9pZDogcnVsZV9pZCxcbiAgICAgICAgaWNvbnM6IHRoaXMuaWNvbnMsXG4gICAgICAgIGxhbmc6IHRoaXMubGFuZyxcbiAgICAgICAgc2V0dGluZ3M6IHRoaXMuc2V0dGluZ3NcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLmNoYW5nZSgnZ2V0UnVsZVRlbXBsYXRlJywgaCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgcnVsZSBmaWx0ZXIgPHNlbGVjdD4gSFRNTFxuICogQHBhcmFtIHJ1bGUge1J1bGV9XG4gKiBAcGFyYW0gZmlsdGVycyB7YXJyYXl9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZ2V0UnVsZUZpbHRlclNlbGVjdCA9IGZ1bmN0aW9uKHJ1bGUsIGZpbHRlcnMpIHtcbiAgICB2YXIgaCA9IHRoaXMudGVtcGxhdGVzLmZpbHRlclNlbGVjdCh7XG4gICAgICAgIGJ1aWxkZXI6IHRoaXMsXG4gICAgICAgIHJ1bGU6IHJ1bGUsXG4gICAgICAgIGZpbHRlcnM6IGZpbHRlcnMsXG4gICAgICAgIGljb25zOiB0aGlzLmljb25zLFxuICAgICAgICBsYW5nOiB0aGlzLmxhbmcsXG4gICAgICAgIHNldHRpbmdzOiB0aGlzLnNldHRpbmdzLFxuICAgICAgICB0cmFuc2xhdGU6IHRoaXMudHJhbnNsYXRlTGFiZWxcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLmNoYW5nZSgnZ2V0UnVsZUZpbHRlclNlbGVjdCcsIGgsIHJ1bGUpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHJ1bGUgb3BlcmF0b3IgPHNlbGVjdD4gSFRNTFxuICogQHBhcmFtIHJ1bGUge1J1bGV9XG4gKiBAcGFyYW0gb3BlcmF0b3JzIHtvYmplY3R9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZ2V0UnVsZU9wZXJhdG9yU2VsZWN0ID0gZnVuY3Rpb24ocnVsZSwgb3BlcmF0b3JzKSB7XG4gICAgdmFyIGggPSB0aGlzLnRlbXBsYXRlcy5vcGVyYXRvclNlbGVjdCh7XG4gICAgICAgIGJ1aWxkZXI6IHRoaXMsXG4gICAgICAgIHJ1bGU6IHJ1bGUsXG4gICAgICAgIG9wZXJhdG9yczogb3BlcmF0b3JzLFxuICAgICAgICBpY29uczogdGhpcy5pY29ucyxcbiAgICAgICAgbGFuZzogdGhpcy5sYW5nLFxuICAgICAgICBzZXR0aW5nczogdGhpcy5zZXR0aW5ncyxcbiAgICAgICAgdHJhbnNsYXRlOiB0aGlzLnRyYW5zbGF0ZUxhYmVsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5jaGFuZ2UoJ2dldFJ1bGVPcGVyYXRvclNlbGVjdCcsIGgsIHJ1bGUpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIHJ1bGUgdmFsdWUgSFRNTFxuICogQHBhcmFtIHJ1bGUge1J1bGV9XG4gKiBAcGFyYW0gZmlsdGVyIHtvYmplY3R9XG4gKiBAcGFyYW0gdmFsdWVfaWQge2ludH1cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5nZXRSdWxlSW5wdXQgPSBmdW5jdGlvbihydWxlLCB2YWx1ZV9pZCkge1xuICAgIHZhciBmaWx0ZXIgPSBydWxlLmZpbHRlcjtcbiAgICB2YXIgdmFsaWRhdGlvbiA9IHJ1bGUuZmlsdGVyLnZhbGlkYXRpb24gfHwge307XG4gICAgdmFyIG5hbWUgPSBydWxlLmlkICsgJ192YWx1ZV8nICsgdmFsdWVfaWQ7XG4gICAgdmFyIGMgPSBmaWx0ZXIudmVydGljYWwgPyAnIGNsYXNzPWJsb2NrJyA6ICcnO1xuICAgIHZhciBoID0gJyc7XG5cbiAgICBpZiAodHlwZW9mIGZpbHRlci5pbnB1dCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGggPSBmaWx0ZXIuaW5wdXQuY2FsbCh0aGlzLCBydWxlLCBuYW1lKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN3aXRjaCAoZmlsdGVyLmlucHV0KSB7XG4gICAgICAgICAgICBjYXNlICdyYWRpbyc6IGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICBVdGlscy5pdGVyYXRlT3B0aW9ucyhmaWx0ZXIudmFsdWVzLCBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBoKz0gJzxsYWJlbCcgKyBjICsgJz48aW5wdXQgdHlwZT1cIicgKyBmaWx0ZXIuaW5wdXQgKyAnXCIgbmFtZT1cIicgKyBuYW1lICsgJ1wiIHZhbHVlPVwiJyArIGtleSArICdcIj4gJyArIHZhbCArICc8L2xhYmVsPiAnO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICAgICAgICAgIGgrPSAnPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCInICsgbmFtZSArICdcIicgKyAoZmlsdGVyLm11bHRpcGxlID8gJyBtdWx0aXBsZScgOiAnJykgKyAnPic7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlci5wbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgICAgICBoKz0gJzxvcHRpb24gdmFsdWU9XCInICsgZmlsdGVyLnBsYWNlaG9sZGVyX3ZhbHVlICsgJ1wiIGRpc2FibGVkIHNlbGVjdGVkPicgKyBmaWx0ZXIucGxhY2Vob2xkZXIgKyAnPC9vcHRpb24+JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgVXRpbHMuaXRlcmF0ZU9wdGlvbnMoZmlsdGVyLnZhbHVlcywgZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaCs9ICc8b3B0aW9uIHZhbHVlPVwiJyArIGtleSArICdcIj4nICsgdmFsICsgJzwvb3B0aW9uPiAnO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGgrPSAnPC9zZWxlY3Q+JztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICAgICAgICAgIGgrPSAnPHRleHRhcmVhIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cIicgKyBuYW1lICsgJ1wiJztcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLnNpemUpIGgrPSAnIGNvbHM9XCInICsgZmlsdGVyLnNpemUgKyAnXCInO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIucm93cykgaCs9ICcgcm93cz1cIicgKyBmaWx0ZXIucm93cyArICdcIic7XG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24ubWluICE9PSB1bmRlZmluZWQpIGgrPSAnIG1pbmxlbmd0aD1cIicgKyB2YWxpZGF0aW9uLm1pbiArICdcIic7XG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24ubWF4ICE9PSB1bmRlZmluZWQpIGgrPSAnIG1heGxlbmd0aD1cIicgKyB2YWxpZGF0aW9uLm1heCArICdcIic7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlci5wbGFjZWhvbGRlcikgaCs9ICcgcGxhY2Vob2xkZXI9XCInICsgZmlsdGVyLnBsYWNlaG9sZGVyICsgJ1wiJztcbiAgICAgICAgICAgICAgICBoKz0gJz48L3RleHRhcmVhPic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgc3dpdGNoIChRdWVyeUJ1aWxkZXIudHlwZXNbZmlsdGVyLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBoKz0gJzxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbFwiIHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiJyArIG5hbWUgKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24uc3RlcCAhPT0gdW5kZWZpbmVkKSBoKz0gJyBzdGVwPVwiJyArIHZhbGlkYXRpb24uc3RlcCArICdcIic7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5taW4gIT09IHVuZGVmaW5lZCkgaCs9ICcgbWluPVwiJyArIHZhbGlkYXRpb24ubWluICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uLm1heCAhPT0gdW5kZWZpbmVkKSBoKz0gJyBtYXg9XCInICsgdmFsaWRhdGlvbi5tYXggKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5wbGFjZWhvbGRlcikgaCs9ICcgcGxhY2Vob2xkZXI9XCInICsgZmlsdGVyLnBsYWNlaG9sZGVyICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIuc2l6ZSkgaCs9ICcgc2l6ZT1cIicgKyBmaWx0ZXIuc2l6ZSArICdcIic7XG4gICAgICAgICAgICAgICAgICAgICAgICBoKz0gJz4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGgrPSAnPGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgdHlwZT1cInRleHRcIiBuYW1lPVwiJyArIG5hbWUgKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5wbGFjZWhvbGRlcikgaCs9ICcgcGxhY2Vob2xkZXI9XCInICsgZmlsdGVyLnBsYWNlaG9sZGVyICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIudHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsaWRhdGlvbi5taW4gIT09IHVuZGVmaW5lZCkgaCs9ICcgbWlubGVuZ3RoPVwiJyArIHZhbGlkYXRpb24ubWluICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIudHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsaWRhdGlvbi5tYXggIT09IHVuZGVmaW5lZCkgaCs9ICcgbWF4bGVuZ3RoPVwiJyArIHZhbGlkYXRpb24ubWF4ICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIuc2l6ZSkgaCs9ICcgc2l6ZT1cIicgKyBmaWx0ZXIuc2l6ZSArICdcIic7XG4gICAgICAgICAgICAgICAgICAgICAgICBoKz0gJz4nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNoYW5nZSgnZ2V0UnVsZUlucHV0JywgaCwgcnVsZSwgbmFtZSk7XG59O1xuXG5cbi8vIE1vZGVsIENMQVNTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vKipcbiAqIE1haW4gb2JqZWN0IHN0b3JpbmcgZGF0YSBtb2RlbCBhbmQgZW1pdHRpbmcgZXZlbnRzXG4gKiAtLS0tLS0tLS1cbiAqIEFjY2VzcyBOb2RlIG9iamVjdCBzdG9yZWQgaW4galF1ZXJ5IG9iamVjdHNcbiAqIEBwYXJhbSBlbCB7alF1ZXJ5fE5vZGV9XG4gKiBAcmV0dXJuIHtOb2RlfVxuICovXG5mdW5jdGlvbiBNb2RlbChlbCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNb2RlbCkpIHtcbiAgICAgICAgcmV0dXJuIE1vZGVsLmdldE1vZGVsKGVsKTtcbiAgICB9XG5cbiAgICB0aGlzLnJvb3QgPSBudWxsO1xuICAgIHRoaXMuJCA9ICQodGhpcyk7XG59XG5cbiQuZXh0ZW5kKE1vZGVsLnByb3RvdHlwZSwge1xuICAgIHRyaWdnZXI6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdGhpcy4kLnRyaWdnZXJIYW5kbGVyKHR5cGUsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiQub24uYXBwbHkodGhpcy4kLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIG9mZjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJC5vZmYuYXBwbHkodGhpcy4kLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIG9uY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiQub25lLmFwcGx5KHRoaXMuJCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEFjY2VzcyBOb2RlIG9iamVjdCBzdG9yZWQgaW4galF1ZXJ5IG9iamVjdHNcbiAqIEBwYXJhbSBlbCB7alF1ZXJ5fE5vZGV9XG4gKiBAcmV0dXJuIHtOb2RlfVxuICovXG5Nb2RlbC5nZXRNb2RlbCA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZWwgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAkKGVsKS5kYXRhKCdxdWVyeUJ1aWxkZXJNb2RlbCcpO1xuICAgIH1cbn07XG5cbi8qXG4gKiBEZWZpbmUgTm9kZSBwcm9wZXJ0aWVzIHdpdGggZ2V0dGVyIGFuZCBzZXR0ZXJcbiAqIFVwZGF0ZSBldmVudHMgYXJlIGVtaXR0ZWQgaW4gdGhlIHNldHRlciB0aHJvdWdoIHJvb3QgTW9kZWwgKGlmIGFueSlcbiAqL1xuZnVuY3Rpb24gZGVmaW5lTW9kZWxQcm9wZXJ0aWVzKG9iaiwgZmllbGRzKSB7XG4gICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iai5wcm90b3R5cGUsIGZpZWxkLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fX1tmaWVsZF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9ICh0aGlzLl9fW2ZpZWxkXSAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpcy5fX1tmaWVsZF0gPT0gJ29iamVjdCcpID9cbiAgICAgICAgICAgICAgICAgICQuZXh0ZW5kKHt9LCB0aGlzLl9fW2ZpZWxkXSkgOlxuICAgICAgICAgICAgICAgICAgdGhpcy5fX1tmaWVsZF07XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9fW2ZpZWxkXSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC50cmlnZ2VyKCd1cGRhdGUnLCB0aGlzLCBmaWVsZCwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5cbi8vIE5vZGUgYWJzdHJhY3QgQ0xBU1Ncbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8qKlxuICogQHBhcmFtIHtOb2RlfVxuICogQHBhcmFtIHtqUXVlcnl9XG4gKi9cbnZhciBOb2RlID0gZnVuY3Rpb24ocGFyZW50LCAkZWwpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlKCk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdfXycsIHsgdmFsdWU6IHt9IH0pO1xuXG4gICAgJGVsLmRhdGEoJ3F1ZXJ5QnVpbGRlck1vZGVsJywgdGhpcyk7XG5cbiAgICB0aGlzLl9fLmxldmVsID0gMTtcbiAgICB0aGlzLl9fLmVycm9yID0gbnVsbDtcbiAgICB0aGlzLl9fLmRhdGEgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy4kZWwgPSAkZWw7XG4gICAgdGhpcy5pZCA9ICRlbFswXS5pZDtcbiAgICB0aGlzLm1vZGVsID0gbnVsbDtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbn07XG5cbmRlZmluZU1vZGVsUHJvcGVydGllcyhOb2RlLCBbJ2xldmVsJywgJ2Vycm9yJywgJ2RhdGEnLCAnZmxhZ3MnXSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSwgJ3BhcmVudCcsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fLnBhcmVudDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5fXy5wYXJlbnQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5sZXZlbCA9IHZhbHVlID09PSBudWxsID8gMSA6IHZhbHVlLmxldmVsICsgMTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IHZhbHVlID09PSBudWxsID8gbnVsbCA6IHZhbHVlLm1vZGVsO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIENoZWNrIGlmIHRoaXMgTm9kZSBpcyB0aGUgcm9vdFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuTm9kZS5wcm90b3R5cGUuaXNSb290ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICh0aGlzLmxldmVsID09PSAxKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIG5vZGUgcG9zaXRpb24gaW5zaWRlIHBhcmVudFxuICogQHJldHVybiB7aW50fVxuICovXG5Ob2RlLnByb3RvdHlwZS5nZXRQb3MgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc1Jvb3QoKSkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0Tm9kZVBvcyh0aGlzKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERlbGV0ZSBzZWxmXG4gKi9cbk5vZGUucHJvdG90eXBlLmRyb3AgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbW9kZWwgPSB0aGlzLm1vZGVsO1xuXG4gICAgaWYgKCF0aGlzLmlzUm9vdCgpKSB7XG4gICAgICAgIHRoaXMucGFyZW50Ll9yZW1vdmVOb2RlKHRoaXMpO1xuICAgIH1cblxuICAgIGlmIChtb2RlbCAhPT0gbnVsbCkge1xuICAgICAgICBtb2RlbC50cmlnZ2VyKCdkcm9wJywgdGhpcyk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBNb3ZlIGl0c2VsZiBhZnRlciBhbm90aGVyIE5vZGVcbiAqIEBwYXJhbSB7Tm9kZX1cbiAqIEByZXR1cm4ge05vZGV9IHNlbGZcbiAqL1xuTm9kZS5wcm90b3R5cGUubW92ZUFmdGVyID0gZnVuY3Rpb24obm9kZSkge1xuICAgIGlmICh0aGlzLmlzUm9vdCgpKSByZXR1cm47XG5cbiAgICB0aGlzLl9tb3ZlKG5vZGUucGFyZW50LCBub2RlLmdldFBvcygpICsgMSk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogTW92ZSBpdHNlbGYgYXQgdGhlIGJlZ2lubmluZyBvZiBwYXJlbnQgb3IgYW5vdGhlciBHcm91cFxuICogQHBhcmFtIHtHcm91cCxvcHRpb25hbH1cbiAqIEByZXR1cm4ge05vZGV9IHNlbGZcbiAqL1xuTm9kZS5wcm90b3R5cGUubW92ZUF0QmVnaW4gPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICBpZiAodGhpcy5pc1Jvb3QoKSkgcmV0dXJuO1xuXG4gICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRhcmdldCA9IHRoaXMucGFyZW50O1xuICAgIH1cblxuICAgIHRoaXMuX21vdmUodGFyZ2V0LCAwKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBNb3ZlIGl0c2VsZiBhdCB0aGUgZW5kIG9mIHBhcmVudCBvciBhbm90aGVyIEdyb3VwXG4gKiBAcGFyYW0ge0dyb3VwLG9wdGlvbmFsfVxuICogQHJldHVybiB7Tm9kZX0gc2VsZlxuICovXG5Ob2RlLnByb3RvdHlwZS5tb3ZlQXRFbmQgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICBpZiAodGhpcy5pc1Jvb3QoKSkgcmV0dXJuO1xuXG4gICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRhcmdldCA9IHRoaXMucGFyZW50O1xuICAgIH1cblxuICAgIHRoaXMuX21vdmUodGFyZ2V0LCB0YXJnZXQubGVuZ3RoKCkgLSAxKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBNb3ZlIGl0c2VsZiBhdCBzcGVjaWZpYyBwb3NpdGlvbiBvZiBHcm91cFxuICogQHBhcmFtIHtHcm91cH1cbiAqIEBwYXJhbSB7aW50fVxuICovXG5Ob2RlLnByb3RvdHlwZS5fbW92ZSA9IGZ1bmN0aW9uKGdyb3VwLCBpbmRleCkge1xuICAgIHRoaXMucGFyZW50Ll9yZW1vdmVOb2RlKHRoaXMpO1xuICAgIGdyb3VwLl9hcHBlbmROb2RlKHRoaXMsIGluZGV4LCBmYWxzZSk7XG5cbiAgICBpZiAodGhpcy5tb2RlbCAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLm1vZGVsLnRyaWdnZXIoJ21vdmUnLCB0aGlzLCBncm91cCwgaW5kZXgpO1xuICAgIH1cbn07XG5cblxuLy8gR1JPVVAgQ0xBU1Ncbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8qKlxuICogQHBhcmFtIHtHcm91cH1cbiAqIEBwYXJhbSB7alF1ZXJ5fVxuICovXG52YXIgR3JvdXAgPSBmdW5jdGlvbihwYXJlbnQsICRlbCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBHcm91cCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcm91cChwYXJlbnQsICRlbCk7XG4gICAgfVxuXG4gICAgTm9kZS5jYWxsKHRoaXMsIHBhcmVudCwgJGVsKTtcblxuICAgIHRoaXMucnVsZXMgPSBbXTtcbiAgICB0aGlzLl9fLmNvbmRpdGlvbiA9IG51bGw7XG59O1xuXG5Hcm91cC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE5vZGUucHJvdG90eXBlKTtcbkdyb3VwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdyb3VwO1xuXG5kZWZpbmVNb2RlbFByb3BlcnRpZXMoR3JvdXAsIFsnY29uZGl0aW9uJ10pO1xuXG4vKipcbiAqIEVtcHR5IHRoZSBHcm91cFxuICovXG5Hcm91cC5wcm90b3R5cGUuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVhY2goJ3JldmVyc2UnLCBmdW5jdGlvbihydWxlKSB7XG4gICAgICAgIHJ1bGUuZHJvcCgpO1xuICAgIH0sIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGdyb3VwLmRyb3AoKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogRGVsZXRlIHNlbGZcbiAqL1xuR3JvdXAucHJvdG90eXBlLmRyb3AgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVtcHR5KCk7XG4gICAgTm9kZS5wcm90b3R5cGUuZHJvcC5jYWxsKHRoaXMpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBjaGlsZHJlblxuICogQHJldHVybiB7aW50fVxuICovXG5Hcm91cC5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucnVsZXMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBBZGQgYSBOb2RlIGF0IHNwZWNpZmllZCBpbmRleFxuICogQHBhcmFtIHtOb2RlfVxuICogQHBhcmFtIHtpbnQsb3B0aW9uYWx9XG4gKiBAcGFyYW0ge2Jvb2xlYW4sb3B0aW9uYWx9XG4gKiBAcmV0dXJuIHtOb2RlfSB0aGUgaW5zZXJ0ZWQgbm9kZVxuICovXG5Hcm91cC5wcm90b3R5cGUuX2FwcGVuZE5vZGUgPSBmdW5jdGlvbihub2RlLCBpbmRleCwgdHJpZ2dlcikge1xuICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdGhpcy5sZW5ndGgoKTtcbiAgICB9XG5cbiAgICB0aGlzLnJ1bGVzLnNwbGljZShpbmRleCwgMCwgbm9kZSk7XG4gICAgbm9kZS5wYXJlbnQgPSB0aGlzO1xuXG4gICAgaWYgKHRyaWdnZXIgJiYgdGhpcy5tb2RlbCAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLm1vZGVsLnRyaWdnZXIoJ2FkZCcsIG5vZGUsIGluZGV4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbn07XG5cbi8qKlxuICogQWRkIGEgR3JvdXAgYnkgalF1ZXJ5IGVsZW1lbnQgYXQgc3BlY2lmaWVkIGluZGV4XG4gKiBAcGFyYW0ge2pRdWVyeX1cbiAqIEBwYXJhbSB7aW50LG9wdGlvbmFsfVxuICogQHJldHVybiB7R3JvdXB9IHRoZSBpbnNlcnRlZCBncm91cFxuICovXG5Hcm91cC5wcm90b3R5cGUuYWRkR3JvdXAgPSBmdW5jdGlvbigkZWwsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuX2FwcGVuZE5vZGUobmV3IEdyb3VwKHRoaXMsICRlbCksIGluZGV4LCB0cnVlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgUnVsZSBieSBqUXVlcnkgZWxlbWVudCBhdCBzcGVjaWZpZWQgaW5kZXhcbiAqIEBwYXJhbSB7alF1ZXJ5fVxuICogQHBhcmFtIHtpbnQsb3B0aW9uYWx9XG4gKiBAcmV0dXJuIHtSdWxlfSB0aGUgaW5zZXJ0ZWQgcnVsZVxuICovXG5Hcm91cC5wcm90b3R5cGUuYWRkUnVsZSA9IGZ1bmN0aW9uKCRlbCwgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5fYXBwZW5kTm9kZShuZXcgUnVsZSh0aGlzLCAkZWwpLCBpbmRleCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIERlbGV0ZSBhIHNwZWNpZmljIE5vZGVcbiAqIEBwYXJhbSB7Tm9kZX1cbiAqIEByZXR1cm4ge0dyb3VwfSBzZWxmXG4gKi9cbkdyb3VwLnByb3RvdHlwZS5fcmVtb3ZlTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmdldE5vZGVQb3Mobm9kZSk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBub2RlLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMucnVsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHBvc2l0aW9uIG9mIGEgY2hpbGQgTm9kZVxuICogQHBhcmFtIHtOb2RlfVxuICogQHJldHVybiB7aW50fVxuICovXG5Hcm91cC5wcm90b3R5cGUuZ2V0Tm9kZVBvcyA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICByZXR1cm4gdGhpcy5ydWxlcy5pbmRleE9mKG5vZGUpO1xufTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYWxsIE5vZGVzXG4gKiBAcGFyYW0ge2Jvb2xlYW4sb3B0aW9uYWx9IGl0ZXJhdGUgaW4gcmV2ZXJzZSBvcmRlciwgcmVxdWlyZWQgaWYgeW91IGRlbGV0ZSBub2Rlc1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgZm9yIFJ1bGVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9uLG9wdGlvbmFsfSBjYWxsYmFjayBmb3IgR3JvdXBzXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5Hcm91cC5wcm90b3R5cGUuZWFjaCA9IGZ1bmN0aW9uKHJldmVyc2UsIGNiUnVsZSwgY2JHcm91cCwgY29udGV4dCkge1xuICAgIGlmICh0eXBlb2YgcmV2ZXJzZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnRleHQgPSBjYkdyb3VwO1xuICAgICAgICBjYkdyb3VwID0gY2JSdWxlO1xuICAgICAgICBjYlJ1bGUgPSByZXZlcnNlO1xuICAgICAgICByZXZlcnNlID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnRleHQgPSBjb250ZXh0ID09PSB1bmRlZmluZWQgPyBudWxsIDogY29udGV4dDtcblxuICAgIHZhciBpID0gcmV2ZXJzZSA/IHRoaXMucnVsZXMubGVuZ3RoIC0gMSA6IDA7XG4gICAgdmFyIGwgPSByZXZlcnNlID8gMCA6IHRoaXMucnVsZXMubGVuZ3RoIC0gMTtcbiAgICB2YXIgYyA9IHJldmVyc2UgPyAtMSA6IDE7XG4gICAgdmFyIG5leHQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHJldmVyc2UgPyBpID49IGwgOiBpIDw9IGw7IH07XG4gICAgdmFyIHN0b3AgPSBmYWxzZTtcblxuICAgIGZvciAoOyBuZXh0KCk7IGkrPSBjKSB7XG4gICAgICAgIGlmICh0aGlzLnJ1bGVzW2ldIGluc3RhbmNlb2YgR3JvdXApIHtcbiAgICAgICAgICAgIGlmIChjYkdyb3VwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gY2JHcm91cC5jYWxsKGNvbnRleHQsIHRoaXMucnVsZXNbaV0pID09PSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0b3AgPSBjYlJ1bGUuY2FsbChjb250ZXh0LCB0aGlzLnJ1bGVzW2ldKSA9PT0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RvcCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gIXN0b3A7XG59O1xuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHRoZSBncm91cCBjb250YWlucyBhIHBhcnRpY3VsYXIgTm9kZVxuICogQHBhcmFtIHtOb2RlfVxuICogQHBhcmFtIHtib29sZWFuLG9wdGlvbmFsfSByZWN1cnNpdmUgc2VhcmNoXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5Hcm91cC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihub2RlLCBkZWVwKSB7XG4gICAgaWYgKHRoaXMuZ2V0Tm9kZVBvcyhub2RlKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFkZWVwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHRoZSBsb29wIHdpbGwgcmV0dXJuIHdpdGggZmFsc2UgYXMgc29vbiBhcyB0aGUgTm9kZSBpcyBmb3VuZFxuICAgICAgICByZXR1cm4gIXRoaXMuZWFjaChmdW5jdGlvbihydWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiAhZ3JvdXAuY29udGFpbnMobm9kZSwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cblxuLy8gUlVMRSBDTEFTU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLyoqXG4gKiBAcGFyYW0ge0dyb3VwfVxuICogQHBhcmFtIHtqUXVlcnl9XG4gKi9cbnZhciBSdWxlID0gZnVuY3Rpb24ocGFyZW50LCAkZWwpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUnVsZSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSdWxlKHBhcmVudCwgJGVsKTtcbiAgICB9XG5cbiAgICBOb2RlLmNhbGwodGhpcywgcGFyZW50LCAkZWwpO1xuXG4gICAgdGhpcy5fXy5maWx0ZXIgPSBudWxsO1xuICAgIHRoaXMuX18ub3BlcmF0b3IgPSBudWxsO1xuICAgIHRoaXMuX18uZmxhZ3MgPSB7fTtcbiAgICB0aGlzLl9fLnZhbHVlID0gdW5kZWZpbmVkO1xufTtcblxuUnVsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE5vZGUucHJvdG90eXBlKTtcblJ1bGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUnVsZTtcblxuZGVmaW5lTW9kZWxQcm9wZXJ0aWVzKFJ1bGUsIFsnZmlsdGVyJywgJ29wZXJhdG9yJywgJ3ZhbHVlJ10pO1xuXG5cbi8vIEVYUE9SVFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuUXVlcnlCdWlsZGVyLkdyb3VwID0gR3JvdXA7XG5RdWVyeUJ1aWxkZXIuUnVsZSA9IFJ1bGU7XG5cblxudmFyIFV0aWxzID0gUXVlcnlCdWlsZGVyLnV0aWxzID0ge307XG5cbi8qKlxuICogVXRpbGl0eSB0byBpdGVyYXRlIG92ZXIgcmFkaW8vY2hlY2tib3gvc2VsZWN0aW9uIG9wdGlvbnMuXG4gKiBpdCBhY2NlcHQgdGhyZWUgZm9ybWF0czogYXJyYXkgb2YgdmFsdWVzLCBtYXAsIGFycmF5IG9mIDEtZWxlbWVudCBtYXBzXG4gKlxuICogQHBhcmFtIG9wdGlvbnMge29iamVjdHxhcnJheX1cbiAqIEBwYXJhbSB0cGwge2NhbGxhYmxlfSAodGFrZXMga2V5IGFuZCB0ZXh0KVxuICovXG5VdGlscy5pdGVyYXRlT3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMsIHRwbCkge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGlmICgkLmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICAgICAgICAgIC8vIGFycmF5IG9mIG9uZS1lbGVtZW50IG1hcHNcbiAgICAgICAgICAgICAgICBpZiAoJC5pc1BsYWluT2JqZWN0KGVudHJ5KSkge1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2goZW50cnksIGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cGwoa2V5LCB2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBicmVhayBhZnRlciBmaXJzdCBlbnRyeVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYXJyYXkgb2YgdmFsdWVzXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRwbChlbnRyeSwgZW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVub3JkZXJlZCBtYXBcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkLmVhY2gob3B0aW9ucywgZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgICAgICAgICAgICAgICB0cGwoa2V5LCB2YWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFJlcGxhY2VzIHswfSwgezF9LCAuLi4gaW4gYSBzdHJpbmdcbiAqIEBwYXJhbSBzdHIge3N0cmluZ31cbiAqIEBwYXJhbSBhcmdzLC4uLiB7bWl4ZWR9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblV0aWxzLmZtdCA9IGZ1bmN0aW9uKHN0ci8qLCBhcmdzKi8pIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL3soWzAtOV0rKX0vZywgZnVuY3Rpb24obSwgaSkge1xuICAgICAgICByZXR1cm4gYXJnc1twYXJzZUludChpKV07XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFRocm93IGFuIEVycm9yIG9iamVjdCB3aXRoIGN1c3RvbSBuYW1lXG4gKiBAcGFyYW0gdHlwZSB7c3RyaW5nfVxuICogQHBhcmFtIG1lc3NhZ2Uge3N0cmluZ31cbiAqIEBwYXJhbSBhcmdzLC4uLiB7bWl4ZWR9XG4gKi9cblV0aWxzLmVycm9yID0gZnVuY3Rpb24odHlwZSwgbWVzc2FnZS8qLCBhcmdzKi8pIHtcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKFV0aWxzLmZtdC5hcHBseShudWxsLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKSk7XG4gICAgZXJyLm5hbWUgPSB0eXBlICsgJ0Vycm9yJztcbiAgICBlcnIuYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdGhyb3cgZXJyO1xufTtcblxuLyoqXG4gKiBDaGFuZ2UgdHlwZSBvZiBhIHZhbHVlIHRvIGludCBvciBmbG9hdFxuICogQHBhcmFtIHZhbHVlIHttaXhlZH1cbiAqIEBwYXJhbSB0eXBlIHtzdHJpbmd9ICdpbnRlZ2VyJywgJ2RvdWJsZScgb3IgYW55dGhpbmcgZWxzZVxuICogQHBhcmFtIGJvb2xBc0ludCB7Ym9vbGVhbn0gcmV0dXJuIDAgb3IgMSBmb3IgYm9vbGVhbnNcbiAqIEByZXR1cm4ge21peGVkfVxuICovXG5VdGlscy5jaGFuZ2VUeXBlID0gZnVuY3Rpb24odmFsdWUsIHR5cGUsIGJvb2xBc0ludCkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdpbnRlZ2VyJzogcmV0dXJuIHBhcnNlSW50KHZhbHVlKTtcbiAgICAgICAgY2FzZSAnZG91YmxlJzogcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgIHZhciBib29sID0gdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyB8fCB2YWx1ZS50cmltKCkgPT09ICcxJyB8fCB2YWx1ZSA9PT0gMTtcbiAgICAgICAgICAgIHJldHVybiBib29sQXNJbnQgPyAoYm9vbCA/IDEgOiAwKSA6IGJvb2w7XG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiB2YWx1ZTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEVzY2FwZSBzdHJpbmcgbGlrZSBteXNxbF9yZWFsX2VzY2FwZV9zdHJpbmdcbiAqIEBwYXJhbSB2YWx1ZSB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5VdGlscy5lc2NhcGVTdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZVxuICAgICAgLnJlcGxhY2UoL1tcXDBcXG5cXHJcXGJcXFxcXFwnXFxcIl0vZywgZnVuY3Rpb24ocykge1xuICAgICAgICAgIHN3aXRjaCAocykge1xuICAgICAgICAgICAgICBjYXNlICdcXDAnOiByZXR1cm4gJ1xcXFwwJztcbiAgICAgICAgICAgICAgY2FzZSAnXFxuJzogcmV0dXJuICdcXFxcbic7XG4gICAgICAgICAgICAgIGNhc2UgJ1xccic6IHJldHVybiAnXFxcXHInO1xuICAgICAgICAgICAgICBjYXNlICdcXGInOiByZXR1cm4gJ1xcXFxiJztcbiAgICAgICAgICAgICAgZGVmYXVsdDogICByZXR1cm4gJ1xcXFwnICsgcztcbiAgICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLy8gdWdsaWZ5IGNvbXBsaWFudFxuICAgICAgLnJlcGxhY2UoL1xcdC9nLCAnXFxcXHQnKVxuICAgICAgLnJlcGxhY2UoL1xceDFhL2csICdcXFxcWicpO1xufTtcblxuLyoqXG4gKiBFc2NhcGUgdmFsdWUgZm9yIHVzZSBpbiByZWdleFxuICogQHBhcmFtIHZhbHVlIHtzdHJpbmd9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblV0aWxzLmVzY2FwZVJlZ0V4cCA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csICdcXFxcJCYnKTtcbn07XG5cbi8qKlxuICogRXNjYXBlIEhUTUwgZWxlbWVudCBpZFxuICogQHBhcmFtIHZhbHVlIHtzdHJpbmd9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblV0aWxzLmVzY2FwZUVsZW1lbnRJZCA9IGZ1bmN0aW9uKHN0cikge1xuICAgIC8vIFJlZ2V4IGJhc2VkIG9uIHRoYXQgc3VnZ2VzdGVkIGJ5OlxuICAgIC8vIGh0dHBzOi8vbGVhcm4uanF1ZXJ5LmNvbS91c2luZy1qcXVlcnktY29yZS9mYXEvaG93LWRvLWktc2VsZWN0LWFuLWVsZW1lbnQtYnktYW4taWQtdGhhdC1oYXMtY2hhcmFjdGVycy11c2VkLWluLWNzcy1ub3RhdGlvbi9cbiAgICAvLyAtIGVzY2FwZXMgOiAuIFsgXSAsXG4gICAgLy8gLSBhdm9pZHMgZXNjYXBpbmcgYWxyZWFkeSBlc2NhcGVkIHZhbHVlc1xuICAgIHJldHVybiAoc3RyKSA/IHN0ci5yZXBsYWNlKC8oXFxcXCk/KFs6LlxcW1xcXSxdKS9nLFxuICAgICAgICAgICAgZnVuY3Rpb24oICQwLCAkMSwgJDIgKSB7IHJldHVybiAkMSA/ICQwIDogJ1xcXFwnICsgJDI7IH0pIDogc3RyO1xufTtcblxuLyoqXG4gKiBTb3J0IG9iamVjdHMgYnkgZ3JvdXBpbmcgdGhlbSBieSB7a2V5fSwgcHJlc2VydmluZyBpbml0aWFsIG9yZGVyIHdoZW4gcG9zc2libGVcbiAqIEBwYXJhbSB7b2JqZWN0W119IGl0ZW1zXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcmV0dXJucyB7b2JqZWN0W119XG4gKi9cblV0aWxzLmdyb3VwU29ydCA9IGZ1bmN0aW9uKGl0ZW1zLCBrZXkpIHtcbiAgICB2YXIgb3B0Z3JvdXBzID0gW107XG4gICAgdmFyIG5ld0l0ZW1zID0gW107XG5cbiAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIGlkeDtcblxuICAgICAgICBpZiAoaXRlbVtrZXldKSB7XG4gICAgICAgICAgICBpZHggPSBvcHRncm91cHMubGFzdEluZGV4T2YoaXRlbVtrZXldKTtcblxuICAgICAgICAgICAgaWYgKGlkeCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IG9wdGdyb3Vwcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZHgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlkeCA9IG9wdGdyb3Vwcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRncm91cHMuc3BsaWNlKGlkeCwgMCwgaXRlbVtrZXldKTtcbiAgICAgICAgbmV3SXRlbXMuc3BsaWNlKGlkeCwgMCwgaXRlbSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV3SXRlbXM7XG59O1xuXG5cbiQuZm4ucXVlcnlCdWlsZGVyID0gZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gMSkge1xuICAgICAgICBVdGlscy5lcnJvcignQ29uZmlnJywgJ1VuYWJsZSB0byBpbml0aWFsaXplIG9uIG11bHRpcGxlIHRhcmdldCcpO1xuICAgIH1cblxuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhKCdxdWVyeUJ1aWxkZXInKTtcbiAgICB2YXIgb3B0aW9ucyA9ICh0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbikgfHwge307XG5cbiAgICBpZiAoIWRhdGEgJiYgb3B0aW9uID09ICdkZXN0cm95Jykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSgncXVlcnlCdWlsZGVyJywgbmV3IFF1ZXJ5QnVpbGRlcih0aGlzLCBvcHRpb25zKSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBkYXRhW29wdGlvbl0uYXBwbHkoZGF0YSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4kLmZuLnF1ZXJ5QnVpbGRlci5jb25zdHJ1Y3RvciA9IFF1ZXJ5QnVpbGRlcjtcbiQuZm4ucXVlcnlCdWlsZGVyLmRlZmF1bHRzID0gUXVlcnlCdWlsZGVyLmRlZmF1bHRzO1xuJC5mbi5xdWVyeUJ1aWxkZXIuZXh0ZW5kID0gUXVlcnlCdWlsZGVyLmV4dGVuZDtcbiQuZm4ucXVlcnlCdWlsZGVyLmRlZmluZSA9IFF1ZXJ5QnVpbGRlci5kZWZpbmU7XG4kLmZuLnF1ZXJ5QnVpbGRlci5yZWdpb25hbCA9IFF1ZXJ5QnVpbGRlci5yZWdpb25hbDtcblxuXG4vKiFcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgQXdlc29tZSBCb290c3RyYXAgQ2hlY2tib3hcbiAqIEFwcGxpZXMgQXdlc29tZSBCb290c3RyYXAgQ2hlY2tib3ggZm9yIGNoZWNrYm94IGFuZCByYWRpbyBpbnB1dHMuXG4gKi9cblxuUXVlcnlCdWlsZGVyLmRlZmluZSgnYnQtY2hlY2tib3gnLCBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuZm9udCA9PSAnZ2x5cGhpY29ucycpIHtcbiAgICAgICAgdmFyIGluamVjdENTUyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIGluamVjdENTUy5pbm5lckhUTUwgPSAnXFxcbi5jaGVja2JveCBpbnB1dFt0eXBlPWNoZWNrYm94XTpjaGVja2VkICsgbGFiZWw6YWZ0ZXIgeyBcXFxuICAgIGZvbnQtZmFtaWx5OiBcIkdseXBoaWNvbnMgSGFsZmxpbmdzXCI7IFxcXG4gICAgY29udGVudDogXCJcXFxcZTAxM1wiOyBcXFxufSBcXFxuLmNoZWNrYm94IGxhYmVsOmFmdGVyIHsgXFxcbiAgICBwYWRkaW5nLWxlZnQ6IDRweDsgXFxcbiAgICBwYWRkaW5nLXRvcDogMnB4OyBcXFxuICAgIGZvbnQtc2l6ZTogOXB4OyBcXFxufSc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5qZWN0Q1NTKTtcbiAgICB9XG5cbiAgICB0aGlzLm9uKCdnZXRSdWxlSW5wdXQuZmlsdGVyJywgZnVuY3Rpb24oaCwgcnVsZSwgbmFtZSkge1xuICAgICAgICB2YXIgZmlsdGVyID0gcnVsZS5maWx0ZXI7XG5cbiAgICAgICAgaWYgKChmaWx0ZXIuaW5wdXQgPT09ICdyYWRpbycgfHwgZmlsdGVyLmlucHV0ID09PSAnY2hlY2tib3gnKSAmJiAhZmlsdGVyLnBsdWdpbikge1xuICAgICAgICAgICAgaC52YWx1ZSA9ICcnO1xuXG4gICAgICAgICAgICBpZiAoIWZpbHRlci5jb2xvcnMpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXIuY29sb3JzID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlsdGVyLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyLmNvbG9ycy5fZGVmXyA9IGZpbHRlci5jb2xvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHN0eWxlID0gZmlsdGVyLnZlcnRpY2FsID8gJyBzdHlsZT1cImRpc3BsYXk6YmxvY2tcIicgOiAnJztcbiAgICAgICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICAgICAgVXRpbHMuaXRlcmF0ZU9wdGlvbnMoZmlsdGVyLnZhbHVlcywgZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBmaWx0ZXIuY29sb3JzW2tleV0gfHwgZmlsdGVyLmNvbG9ycy5fZGVmXyB8fCBvcHRpb25zLmNvbG9yO1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IG5hbWUgKyAnXycgKyAoaSsrKTtcblxuICAgICAgICAgICAgICAgIGgudmFsdWUrPSAnXFxcbjxkaXYnICsgc3R5bGUgKyAnIGNsYXNzPVwiJyArIGZpbHRlci5pbnB1dCArICcgJyArIGZpbHRlci5pbnB1dCArICctJyArIGNvbG9yICsgJ1wiPiBcXFxuICA8aW5wdXQgdHlwZT1cIicgKyBmaWx0ZXIuaW5wdXQgKyAnXCIgbmFtZT1cIicgKyBuYW1lICsgJ1wiIGlkPVwiJyArIGlkICsgJ1wiIHZhbHVlPVwiJyArIGtleSArICdcIj4gXFxcbiAgPGxhYmVsIGZvcj1cIicgKyBpZCArICdcIj4nICsgdmFsICsgJzwvbGFiZWw+IFxcXG48L2Rpdj4nO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0sIHtcbiAgICBmb250OiAnZ2x5cGhpY29ucycsXG4gICAgY29sb3I6ICdkZWZhdWx0J1xufSk7XG5cblxuLyohXG4gKiBqUXVlcnkgUXVlcnlCdWlsZGVyIEJvb3RzdHJhcCBTZWxlY3RwaWNrZXJcbiAqIEFwcGxpZXMgQm9vdHN0cmFwIFNlbGVjdCBvbiBmaWx0ZXJzIGFuZCBvcGVyYXRvcnMgY29tYm8tYm94ZXMuXG4gKi9cblxuLyoqXG4gKiBAdGhyb3dzIENvbmZpZ0Vycm9yXG4gKi9cblF1ZXJ5QnVpbGRlci5kZWZpbmUoJ2J0LXNlbGVjdHBpY2tlcicsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoISQuZm4uc2VsZWN0cGlja2VyIHx8ICEkLmZuLnNlbGVjdHBpY2tlci5Db25zdHJ1Y3Rvcikge1xuICAgICAgICBVdGlscy5lcnJvcignTWlzc2luZ0xpYnJhcnknLCAnQm9vdHN0cmFwIFNlbGVjdCBpcyByZXF1aXJlZCB0byB1c2UgXCJidC1zZWxlY3RwaWNrZXJcIiBwbHVnaW4uIEdldCBpdCBoZXJlOiBodHRwOi8vc2lsdmlvbW9yZXRvLmdpdGh1Yi5pby9ib290c3RyYXAtc2VsZWN0Jyk7XG4gICAgfVxuXG4gICAgLy8gaW5pdCBzZWxlY3RwaWNrZXJcbiAgICB0aGlzLm9uKCdhZnRlckNyZWF0ZVJ1bGVGaWx0ZXJzJywgZnVuY3Rpb24oZSwgcnVsZSkge1xuICAgICAgICBydWxlLiRlbC5maW5kKFNlbGVjdG9ycy5ydWxlX2ZpbHRlcikucmVtb3ZlQ2xhc3MoJ2Zvcm0tY29udHJvbCcpLnNlbGVjdHBpY2tlcihvcHRpb25zKTtcbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2FmdGVyQ3JlYXRlUnVsZU9wZXJhdG9ycycsIGZ1bmN0aW9uKGUsIHJ1bGUpIHtcbiAgICAgICAgcnVsZS4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9vcGVyYXRvcikucmVtb3ZlQ2xhc3MoJ2Zvcm0tY29udHJvbCcpLnNlbGVjdHBpY2tlcihvcHRpb25zKTtcbiAgICB9KTtcblxuICAgIC8vIHVwZGF0ZSBzZWxlY3RwaWNrZXIgb24gY2hhbmdlXG4gICAgdGhpcy5vbignYWZ0ZXJVcGRhdGVSdWxlRmlsdGVyJywgZnVuY3Rpb24oZSwgcnVsZSkge1xuICAgICAgICBydWxlLiRlbC5maW5kKFNlbGVjdG9ycy5ydWxlX2ZpbHRlcikuc2VsZWN0cGlja2VyKCdyZW5kZXInKTtcbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2FmdGVyVXBkYXRlUnVsZU9wZXJhdG9yJywgZnVuY3Rpb24oZSwgcnVsZSkge1xuICAgICAgICBydWxlLiRlbC5maW5kKFNlbGVjdG9ycy5ydWxlX29wZXJhdG9yKS5zZWxlY3RwaWNrZXIoJ3JlbmRlcicpO1xuICAgIH0pO1xufSwge1xuICAgIGNvbnRhaW5lcjogJ2JvZHknLFxuICAgIHN0eWxlOiAnYnRuLWludmVyc2UgYnRuLXhzJyxcbiAgICB3aWR0aDogJ2F1dG8nLFxuICAgIHNob3dJY29uOiBmYWxzZVxufSk7XG5cblxuLyohXG4gKiBqUXVlcnkgUXVlcnlCdWlsZGVyIEJvb3RzdHJhcCBUb29sdGlwIGVycm9yc1xuICogQXBwbGllcyBCb290c3RyYXAgVG9vbHRpcHMgb24gdmFsaWRhdGlvbiBlcnJvciBtZXNzYWdlcy5cbiAqL1xuXG4vKipcbiAqIEB0aHJvd3MgQ29uZmlnRXJyb3JcbiAqL1xuUXVlcnlCdWlsZGVyLmRlZmluZSgnYnQtdG9vbHRpcC1lcnJvcnMnLCBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCEkLmZuLnRvb2x0aXAgfHwgISQuZm4udG9vbHRpcC5Db25zdHJ1Y3RvciB8fCAhJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZS5maXhUaXRsZSkge1xuICAgICAgICBVdGlscy5lcnJvcignTWlzc2luZ0xpYnJhcnknLCAnQm9vdHN0cmFwIFRvb2x0aXAgaXMgcmVxdWlyZWQgdG8gdXNlIFwiYnQtdG9vbHRpcC1lcnJvcnNcIiBwbHVnaW4uIEdldCBpdCBoZXJlOiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbScpO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIGFkZCBCVCBUb29sdGlwIGRhdGFcbiAgICB0aGlzLm9uKCdnZXRSdWxlVGVtcGxhdGUuZmlsdGVyIGdldEdyb3VwVGVtcGxhdGUuZmlsdGVyJywgZnVuY3Rpb24oaCkge1xuICAgICAgICB2YXIgJGggPSAkKGgudmFsdWUpO1xuICAgICAgICAkaC5maW5kKFNlbGVjdG9ycy5lcnJvcl9jb250YWluZXIpLmF0dHIoJ2RhdGEtdG9nZ2xlJywgJ3Rvb2x0aXAnKTtcbiAgICAgICAgaC52YWx1ZSA9ICRoLnByb3AoJ291dGVySFRNTCcpO1xuICAgIH0pO1xuXG4gICAgLy8gaW5pdC9yZWZyZXNoIHRvb2x0aXAgd2hlbiB0aXRsZSBjaGFuZ2VzXG4gICAgdGhpcy5tb2RlbC5vbigndXBkYXRlJywgZnVuY3Rpb24oZSwgbm9kZSwgZmllbGQpIHtcbiAgICAgICAgaWYgKGZpZWxkID09ICdlcnJvcicgJiYgc2VsZi5zZXR0aW5ncy5kaXNwbGF5X2Vycm9ycykge1xuICAgICAgICAgICAgbm9kZS4kZWwuZmluZChTZWxlY3RvcnMuZXJyb3JfY29udGFpbmVyKS5lcSgwKVxuICAgICAgICAgICAgICAudG9vbHRpcChvcHRpb25zKVxuICAgICAgICAgICAgICAudG9vbHRpcCgnaGlkZScpXG4gICAgICAgICAgICAgIC50b29sdGlwKCdmaXhUaXRsZScpO1xuICAgICAgICB9XG4gICAgfSk7XG59LCB7XG4gICAgcGxhY2VtZW50OiAncmlnaHQnXG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgQ2hhbmdlIEZpbHRlcnNcbiAqIEFsbG93cyB0byBjaGFuZ2UgYXZhaWxhYmxlIGZpbHRlcnMgYWZ0ZXIgcGx1Z2luIGluaXRpYWxpemF0aW9uLlxuICovXG5cblF1ZXJ5QnVpbGRlci5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUgZmlsdGVycyBvZiB0aGUgYnVpbGRlclxuICAgICAqIEB0aHJvd3MgQ2hhbmdlRmlsdGVyRXJyb3JcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW4sb3B0aW9uYWx9IGRlbGV0ZSBydWxlcyB1c2luZyBvbGQgZmlsdGVyc1xuICAgICAqIEBwYXJhbSB7b2JqZWN0W119IG5ldyBmaWx0ZXJzXG4gICAgICovXG4gICAgc2V0RmlsdGVyczogZnVuY3Rpb24oZGVsZXRlX29ycGhhbnMsIGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGlmIChmaWx0ZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZpbHRlcnMgPSBkZWxldGVfb3JwaGFucztcbiAgICAgICAgICAgIGRlbGV0ZV9vcnBoYW5zID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmaWx0ZXJzID0gdGhpcy5jaGVja0ZpbHRlcnMoZmlsdGVycyk7XG4gICAgICAgIGZpbHRlcnMgPSB0aGlzLmNoYW5nZSgnc2V0RmlsdGVycycsIGZpbHRlcnMpO1xuXG4gICAgICAgIHZhciBmaWx0ZXJzSWRzID0gZmlsdGVycy5tYXAoZnVuY3Rpb24oZmlsdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyLmlkO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjaGVjayBmb3Igb3JwaGFuc1xuICAgICAgICBpZiAoIWRlbGV0ZV9vcnBoYW5zKSB7XG4gICAgICAgICAgICAoZnVuY3Rpb24gY2hlY2tPcnBoYW5zKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlLmVhY2goXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlLmZpbHRlciAmJiBmaWx0ZXJzSWRzLmluZGV4T2YocnVsZS5maWx0ZXIuaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdDaGFuZ2VGaWx0ZXInLCAnQSBydWxlIGlzIHVzaW5nIGZpbHRlciBcInswfVwiJywgcnVsZS5maWx0ZXIuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjaGVja09ycGhhbnNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSh0aGlzLm1vZGVsLnJvb3QpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlcGxhY2UgZmlsdGVyc1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBmaWx0ZXJzO1xuXG4gICAgICAgIC8vIGFwcGx5IG9uIGV4aXN0aW5nIERPTVxuICAgICAgICAoZnVuY3Rpb24gdXBkYXRlQnVpbGRlcihub2RlKSB7XG4gICAgICAgICAgICBub2RlLmVhY2godHJ1ZSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUuZmlsdGVyICYmIGZpbHRlcnNJZHMuaW5kZXhPZihydWxlLmZpbHRlci5pZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcnVsZS5kcm9wKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNyZWF0ZVJ1bGVGaWx0ZXJzKHJ1bGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgcnVsZS4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9maWx0ZXIpLnZhbChydWxlLmZpbHRlciA/IHJ1bGUuZmlsdGVyLmlkIDogJy0xJyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHVwZGF0ZUJ1aWxkZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0odGhpcy5tb2RlbC5yb290KSk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHBsdWdpbnNcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucGx1Z2lucykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucGx1Z2luc1sndW5pcXVlLWZpbHRlciddKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEaXNhYmxlZEZpbHRlcnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnBsdWdpbnNbJ2J0LXNlbGVjdHBpY2tlciddKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9maWx0ZXIpLnNlbGVjdHBpY2tlcigncmVuZGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCB0aGUgZGVmYXVsdF9maWx0ZXIgaWYgZG9lcyBub3QgZXhpc3QgYW55bW9yZVxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWZhdWx0X2ZpbHRlcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldEZpbHRlckJ5SWQodGhpcy5zZXR0aW5ncy5kZWZhdWx0X2ZpbHRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9maWx0ZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKCdhZnRlclNldEZpbHRlcnMnLCBmaWx0ZXJzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIG5ldyBmaWx0ZXIgdG8gdGhlIGJ1aWxkZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdHxvYmplY3RbXX0gdGhlIG5ldyBmaWx0ZXJcbiAgICAgKiBAcGFyYW0ge21peGVkLG9wdGlvbmFsfSBudW1lcmljIGluZGV4IG9yICcjc3RhcnQnIG9yICcjZW5kJ1xuICAgICAqL1xuICAgIGFkZEZpbHRlcjogZnVuY3Rpb24obmV3X2ZpbHRlcnMsIHBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID09ICcjZW5kJykge1xuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLmZpbHRlcnMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uID09ICcjc3RhcnQnKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISQuaXNBcnJheShuZXdfZmlsdGVycykpIHtcbiAgICAgICAgICAgIG5ld19maWx0ZXJzID0gW25ld19maWx0ZXJzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmaWx0ZXJzID0gJC5leHRlbmQodHJ1ZSwgW10sIHRoaXMuZmlsdGVycyk7XG5cbiAgICAgICAgLy8gbnVtZXJpYyBwb3NpdGlvblxuICAgICAgICBpZiAocGFyc2VJbnQocG9zaXRpb24pID09IHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGZpbHRlcnMsIFtwb3NpdGlvbiwgMF0uY29uY2F0KG5ld19maWx0ZXJzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBhZnRlciBmaWx0ZXIgYnkgaXRzIGlkXG4gICAgICAgICAgICBpZiAodGhpcy5maWx0ZXJzLnNvbWUoZnVuY3Rpb24oZmlsdGVyLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIuaWQgPT0gcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBpbmRleCArIDE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShmaWx0ZXJzLCBbcG9zaXRpb24sIDBdLmNvbmNhdChuZXdfZmlsdGVycykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGVmYXVsdHMgdG8gZW5kIG9mIGxpc3RcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGZpbHRlcnMsIG5ld19maWx0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0RmlsdGVycyhmaWx0ZXJzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGZpbHRlciBmcm9tIHRoZSBidWlsZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHRoZSBmaWx0ZXIgaWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW4sb3B0aW9uYWx9IGRlbGV0ZSBydWxlcyB1c2luZyBvbGQgZmlsdGVyc1xuICAgICAqL1xuICAgIHJlbW92ZUZpbHRlcjogZnVuY3Rpb24oZmlsdGVyX2lkcywgZGVsZXRlX29ycGhhbnMpIHtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSAkLmV4dGVuZCh0cnVlLCBbXSwgdGhpcy5maWx0ZXJzKTtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWx0ZXJfaWRzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZmlsdGVyX2lkcyA9IFtmaWx0ZXJfaWRzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpbHRlcnMgPSBmaWx0ZXJzLmZpbHRlcihmdW5jdGlvbihmaWx0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJfaWRzLmluZGV4T2YoZmlsdGVyLmlkKSA9PT0gLTE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc2V0RmlsdGVycyhkZWxldGVfb3JwaGFucywgZmlsdGVycyk7XG4gICAgfVxufSk7XG5cblxuLyohXG4gKiBqUXVlcnkgUXVlcnlCdWlsZGVyIEZpbHRlciBEZXNjcmlwdGlvblxuICogUHJvdmlkZXMgdGhyZWUgd2F5cyB0byBkaXNwbGF5IGEgZGVzY3JpcHRpb24gYWJvdXQgYSBmaWx0ZXI6IGlubGluZSwgQm9vdHNyYXAgUG9wb3ZlciBvciBCb290Ym94LlxuICovXG5cbi8qKlxuICogQHRocm93cyBDb25maWdFcnJvclxuICovXG5RdWVyeUJ1aWxkZXIuZGVmaW5lKCdmaWx0ZXItZGVzY3JpcHRpb24nLCBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgLyoqXG4gICAgICogSU5MSU5FXG4gICAgICovXG4gICAgaWYgKG9wdGlvbnMubW9kZSA9PT0gJ2lubGluZScpIHtcbiAgICAgICAgdGhpcy5vbignYWZ0ZXJVcGRhdGVSdWxlRmlsdGVyJywgZnVuY3Rpb24oZSwgcnVsZSkge1xuICAgICAgICAgICAgdmFyICRwID0gcnVsZS4kZWwuZmluZCgncC5maWx0ZXItZGVzY3JpcHRpb24nKTtcblxuICAgICAgICAgICAgaWYgKCFydWxlLmZpbHRlciB8fCAhcnVsZS5maWx0ZXIuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAkcC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoJHAubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICRwID0gJCgnPHAgY2xhc3M9XCJmaWx0ZXItZGVzY3JpcHRpb25cIj48L3A+Jyk7XG4gICAgICAgICAgICAgICAgICAgICRwLmFwcGVuZFRvKHJ1bGUuJGVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRwLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkcC5odG1sKCc8aSBjbGFzcz1cIicgKyBvcHRpb25zLmljb24gKyAnXCI+PC9pPiAnICsgcnVsZS5maWx0ZXIuZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUE9QT1ZFUlxuICAgICAqL1xuICAgIGVsc2UgaWYgKG9wdGlvbnMubW9kZSA9PT0gJ3BvcG92ZXInKSB7XG4gICAgICAgIGlmICghJC5mbi5wb3BvdmVyIHx8ICEkLmZuLnBvcG92ZXIuQ29uc3RydWN0b3IgfHwgISQuZm4ucG9wb3Zlci5Db25zdHJ1Y3Rvci5wcm90b3R5cGUuZml4VGl0bGUpIHtcbiAgICAgICAgICAgIFV0aWxzLmVycm9yKCdNaXNzaW5nTGlicmFyeScsICdCb290c3RyYXAgUG9wb3ZlciBpcyByZXF1aXJlZCB0byB1c2UgXCJmaWx0ZXItZGVzY3JpcHRpb25cIiBwbHVnaW4uIEdldCBpdCBoZXJlOiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbignYWZ0ZXJVcGRhdGVSdWxlRmlsdGVyJywgZnVuY3Rpb24oZSwgcnVsZSkge1xuICAgICAgICAgICAgdmFyICRiID0gcnVsZS4kZWwuZmluZCgnYnV0dG9uLmZpbHRlci1kZXNjcmlwdGlvbicpO1xuXG4gICAgICAgICAgICBpZiAoIXJ1bGUuZmlsdGVyIHx8ICFydWxlLmZpbHRlci5kZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICRiLmhpZGUoKTtcblxuICAgICAgICAgICAgICAgIGlmICgkYi5kYXRhKCdicy5wb3BvdmVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgJGIucG9wb3ZlcignaGlkZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICgkYi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJGIgPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLWluZm8gZmlsdGVyLWRlc2NyaXB0aW9uXCIgZGF0YS10b2dnbGU9XCJwb3BvdmVyXCI+PGkgY2xhc3M9XCInICsgb3B0aW9ucy5pY29uICsgJ1wiPjwvaT48L2J1dHRvbj4nKTtcbiAgICAgICAgICAgICAgICAgICAgJGIucHJlcGVuZFRvKHJ1bGUuJGVsLmZpbmQoU2VsZWN0b3JzLnJ1bGVfYWN0aW9ucykpO1xuXG4gICAgICAgICAgICAgICAgICAgICRiLnBvcG92ZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiAnbGVmdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6ICdib2R5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJGIub24oJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkYi5wb3BvdmVyKCdoaWRlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJGIuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRiLmRhdGEoJ2JzLnBvcG92ZXInKS5vcHRpb25zLmNvbnRlbnQgPSBydWxlLmZpbHRlci5kZXNjcmlwdGlvbjtcblxuICAgICAgICAgICAgICAgIGlmICgkYi5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgJGIucG9wb3Zlcignc2hvdycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJPT1RCT1hcbiAgICAgKi9cbiAgICBlbHNlIGlmIChvcHRpb25zLm1vZGUgPT09ICdib290Ym94Jykge1xuICAgICAgICBpZiAoISgnYm9vdGJveCcgaW4gd2luZG93KSkge1xuICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ01pc3NpbmdMaWJyYXJ5JywgJ0Jvb3Rib3ggaXMgcmVxdWlyZWQgdG8gdXNlIFwiZmlsdGVyLWRlc2NyaXB0aW9uXCIgcGx1Z2luLiBHZXQgaXQgaGVyZTogaHR0cDovL2Jvb3Rib3hqcy5jb20nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub24oJ2FmdGVyVXBkYXRlUnVsZUZpbHRlcicsIGZ1bmN0aW9uKGUsIHJ1bGUpIHtcbiAgICAgICAgICAgIHZhciAkYiA9IHJ1bGUuJGVsLmZpbmQoJ2J1dHRvbi5maWx0ZXItZGVzY3JpcHRpb24nKTtcblxuICAgICAgICAgICAgaWYgKCFydWxlLmZpbHRlciB8fCAhcnVsZS5maWx0ZXIuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAkYi5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoJGIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICRiID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1pbmZvIGZpbHRlci1kZXNjcmlwdGlvblwiIGRhdGEtdG9nZ2xlPVwiYm9vdGJveFwiPjxpIGNsYXNzPVwiJyArIG9wdGlvbnMuaWNvbiArICdcIj48L2k+PC9idXR0b24+Jyk7XG4gICAgICAgICAgICAgICAgICAgICRiLnByZXBlbmRUbyhydWxlLiRlbC5maW5kKFNlbGVjdG9ycy5ydWxlX2FjdGlvbnMpKTtcblxuICAgICAgICAgICAgICAgICAgICAkYi5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvb3Rib3guYWxlcnQoJGIuZGF0YSgnZGVzY3JpcHRpb24nKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRiLmRhdGEoJ2Rlc2NyaXB0aW9uJywgcnVsZS5maWx0ZXIuZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59LCB7XG4gICAgaWNvbjogJ2dseXBoaWNvbiBnbHlwaGljb24taW5mby1zaWduJyxcbiAgICBtb2RlOiAncG9wb3Zlcidcbn0pO1xuXG5cbi8qIVxuICogalF1ZXJ5IFF1ZXJ5QnVpbGRlciBJbnZlcnRcbiAqIEFsbG93cyB0byBpbnZlcnQgYSBydWxlIG9wZXJhdG9yLCBhIGdyb3VwIGNvbmRpdGlvbiBvciB0aGUgZW50aXJlIGJ1aWxkZXIuXG4gKi9cblxuUXVlcnlCdWlsZGVyLmRlZmF1bHRzKHtcbiAgICBvcGVyYXRvck9wcG9zaXRlczoge1xuICAgICAgICAnZXF1YWwnOiAgICAgICAgICAgICdub3RfZXF1YWwnLFxuICAgICAgICAnbm90X2VxdWFsJzogICAgICAgICdlcXVhbCcsXG4gICAgICAgICdpbic6ICAgICAgICAgICAgICAgJ25vdF9pbicsXG4gICAgICAgICdub3RfaW4nOiAgICAgICAgICAgJ2luJyxcbiAgICAgICAgJ2xlc3MnOiAgICAgICAgICAgICAnZ3JlYXRlcl9vcl9lcXVhbCcsXG4gICAgICAgICdsZXNzX29yX2VxdWFsJzogICAgJ2dyZWF0ZXInLFxuICAgICAgICAnZ3JlYXRlcic6ICAgICAgICAgICdsZXNzX29yX2VxdWFsJyxcbiAgICAgICAgJ2dyZWF0ZXJfb3JfZXF1YWwnOiAnbGVzcycsXG4gICAgICAgICdiZXR3ZWVuJzogICAgICAgICAgJ25vdF9iZXR3ZWVuJyxcbiAgICAgICAgJ25vdF9iZXR3ZWVuJzogICAgICAnYmV0d2VlbicsXG4gICAgICAgICdiZWdpbnNfd2l0aCc6ICAgICAgJ25vdF9iZWdpbnNfd2l0aCcsXG4gICAgICAgICdub3RfYmVnaW5zX3dpdGgnOiAgJ2JlZ2luc193aXRoJyxcbiAgICAgICAgJ2NvbnRhaW5zJzogICAgICAgICAnbm90X2NvbnRhaW5zJyxcbiAgICAgICAgJ25vdF9jb250YWlucyc6ICAgICAnY29udGFpbnMnLFxuICAgICAgICAnZW5kc193aXRoJzogICAgICAgICdub3RfZW5kc193aXRoJyxcbiAgICAgICAgJ25vdF9lbmRzX3dpdGgnOiAgICAnZW5kc193aXRoJyxcbiAgICAgICAgJ2lzX2VtcHR5JzogICAgICAgICAnaXNfbm90X2VtcHR5JyxcbiAgICAgICAgJ2lzX25vdF9lbXB0eSc6ICAgICAnaXNfZW1wdHknLFxuICAgICAgICAnaXNfbnVsbCc6ICAgICAgICAgICdpc19ub3RfbnVsbCcsXG4gICAgICAgICdpc19ub3RfbnVsbCc6ICAgICAgJ2lzX251bGwnXG4gICAgfSxcblxuICAgIGNvbmRpdGlvbk9wcG9zaXRlczoge1xuICAgICAgICAnQU5EJzogJ09SJyxcbiAgICAgICAgJ09SJzogJ0FORCdcbiAgICB9XG59KTtcblxuUXVlcnlCdWlsZGVyLmRlZmluZSgnaW52ZXJ0JywgZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIEJpbmQgZXZlbnRzXG4gICAgICovXG4gICAgdGhpcy5vbignYWZ0ZXJJbml0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuJGVsLm9uKCdjbGljay5xdWVyeUJ1aWxkZXInLCAnW2RhdGEtaW52ZXJ0PWdyb3VwXScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICRncm91cCA9ICQodGhpcykuY2xvc2VzdChTZWxlY3RvcnMuZ3JvdXBfY29udGFpbmVyKTtcbiAgICAgICAgICAgIHNlbGYuaW52ZXJ0KE1vZGVsKCRncm91cCksIG9wdGlvbnMpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5kaXNwbGF5X3J1bGVzX2J1dHRvbiAmJiBvcHRpb25zLmludmVydF9ydWxlcykge1xuICAgICAgICAgICAgc2VsZi4kZWwub24oJ2NsaWNrLnF1ZXJ5QnVpbGRlcicsICdbZGF0YS1pbnZlcnQ9cnVsZV0nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHJ1bGUgPSAkKHRoaXMpLmNsb3Nlc3QoU2VsZWN0b3JzLnJ1bGVfY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBzZWxmLmludmVydChNb2RlbCgkcnVsZSksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIE1vZGlmeSB0ZW1wbGF0ZXNcbiAgICAgKi9cbiAgICB0aGlzLm9uKCdnZXRHcm91cFRlbXBsYXRlLmZpbHRlcicsIGZ1bmN0aW9uKGgsIGxldmVsKSB7XG4gICAgICAgIHZhciAkaCA9ICQoaC52YWx1ZSk7XG4gICAgICAgICRoLmZpbmQoU2VsZWN0b3JzLmNvbmRpdGlvbl9jb250YWluZXIpLmFmdGVyKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLWRlZmF1bHRcIiBkYXRhLWludmVydD1cImdyb3VwXCI+PGkgY2xhc3M9XCInICsgb3B0aW9ucy5pY29uICsgJ1wiPjwvaT4gJyArIHNlbGYubGFuZy5pbnZlcnQgKyAnPC9idXR0b24+Jyk7XG4gICAgICAgIGgudmFsdWUgPSAkaC5wcm9wKCdvdXRlckhUTUwnKTtcbiAgICB9KTtcblxuICAgIGlmIChvcHRpb25zLmRpc3BsYXlfcnVsZXNfYnV0dG9uICYmIG9wdGlvbnMuaW52ZXJ0X3J1bGVzKSB7XG4gICAgICAgIHRoaXMub24oJ2dldFJ1bGVUZW1wbGF0ZS5maWx0ZXInLCBmdW5jdGlvbihoKSB7XG4gICAgICAgICAgICB2YXIgJGggPSAkKGgudmFsdWUpO1xuICAgICAgICAgICAgJGguZmluZChTZWxlY3RvcnMucnVsZV9hY3Rpb25zKS5wcmVwZW5kKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLWRlZmF1bHRcIiBkYXRhLWludmVydD1cInJ1bGVcIj48aSBjbGFzcz1cIicgKyBvcHRpb25zLmljb24gKyAnXCI+PC9pPiAnICsgc2VsZi5sYW5nLmludmVydCArICc8L2J1dHRvbj4nKTtcbiAgICAgICAgICAgIGgudmFsdWUgPSAkaC5wcm9wKCdvdXRlckhUTUwnKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSwge1xuICAgIGljb246ICdnbHlwaGljb24gZ2x5cGhpY29uLXJhbmRvbScsXG4gICAgcmVjdXJzaXZlOiB0cnVlLFxuICAgIGludmVydF9ydWxlczogdHJ1ZSxcbiAgICBkaXNwbGF5X3J1bGVzX2J1dHRvbjogZmFsc2UsXG4gICAgc2lsZW50X2ZhaWw6IGZhbHNlXG59KTtcblxuUXVlcnlCdWlsZGVyLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogSW52ZXJ0IGEgR3JvdXAsIGEgUnVsZSBvciB0aGUgd2hvbGUgYnVpbGRlclxuICAgICAqIEB0aHJvd3MgSW52ZXJ0Q29uZGl0aW9uRXJyb3IsIEludmVydE9wZXJhdG9yRXJyb3JcbiAgICAgKiBAcGFyYW0ge05vZGUsb3B0aW9uYWx9XG4gICAgICogQHBhcmFtIHtvYmplY3Qsb3B0aW9uYWx9XG4gICAgICovXG4gICAgaW52ZXJ0OiBmdW5jdGlvbihub2RlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBOb2RlKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLnJvb3QpIHJldHVybjtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBub2RlO1xuICAgICAgICAgICAgbm9kZSA9IHRoaXMubW9kZWwucm9vdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPSAnb2JqZWN0Jykgb3B0aW9ucyA9IHt9O1xuICAgICAgICBpZiAob3B0aW9ucy5yZWN1cnNpdmUgPT09IHVuZGVmaW5lZCkgb3B0aW9ucy5yZWN1cnNpdmUgPSB0cnVlO1xuICAgICAgICBpZiAob3B0aW9ucy5pbnZlcnRfcnVsZXMgPT09IHVuZGVmaW5lZCkgb3B0aW9ucy5pbnZlcnRfcnVsZXMgPSB0cnVlO1xuICAgICAgICBpZiAob3B0aW9ucy5zaWxlbnRfZmFpbCA9PT0gdW5kZWZpbmVkKSBvcHRpb25zLnNpbGVudF9mYWlsID0gZmFsc2U7XG4gICAgICAgIGlmIChvcHRpb25zLnRyaWdnZXIgPT09IHVuZGVmaW5lZCkgb3B0aW9ucy50cmlnZ2VyID0gdHJ1ZTtcblxuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEdyb3VwKSB7XG4gICAgICAgICAgICAvLyBpbnZlcnQgZ3JvdXAgY29uZGl0aW9uXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5jb25kaXRpb25PcHBvc2l0ZXNbbm9kZS5jb25kaXRpb25dKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5jb25kaXRpb24gPSB0aGlzLnNldHRpbmdzLmNvbmRpdGlvbk9wcG9zaXRlc1tub2RlLmNvbmRpdGlvbl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghb3B0aW9ucy5zaWxlbnRfZmFpbCkge1xuICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdJbnZlcnRDb25kaXRpb24nLCAnVW5rbm93biBpbnZlcnNlIG9mIGNvbmRpdGlvbiBcInswfVwiJywgbm9kZS5jb25kaXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZWN1cnNpdmUgY2FsbFxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVjdXJzaXZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXBPcHRzID0gJC5leHRlbmQoe30sIG9wdGlvbnMsIHsgdHJpZ2dlcjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgbm9kZS5lYWNoKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW52ZXJ0X3J1bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludmVydChydWxlLCB0ZW1wT3B0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludmVydChncm91cCwgdGVtcE9wdHMpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBSdWxlKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5vcGVyYXRvciAmJiAhbm9kZS5maWx0ZXIubm9faW52ZXJ0KSB7XG4gICAgICAgICAgICAgICAgLy8gaW52ZXJ0IHJ1bGUgb3BlcmF0b3JcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5vcGVyYXRvck9wcG9zaXRlc1tub2RlLm9wZXJhdG9yLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnZlcnQgPSB0aGlzLnNldHRpbmdzLm9wZXJhdG9yT3Bwb3NpdGVzW25vZGUub3BlcmF0b3IudHlwZV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSBpbnZlcnQgaXMgXCJhdXRob3JpemVkXCJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlLmZpbHRlci5vcGVyYXRvcnMgfHwgbm9kZS5maWx0ZXIub3BlcmF0b3JzLmluZGV4T2YoaW52ZXJ0KSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5vcGVyYXRvciA9IHRoaXMuZ2V0T3BlcmF0b3JCeVR5cGUoaW52ZXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghb3B0aW9ucy5zaWxlbnRfZmFpbCkge1xuICAgICAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignSW52ZXJ0T3BlcmF0b3InLCAnVW5rbm93biBpbnZlcnNlIG9mIG9wZXJhdG9yIFwiezB9XCInLCBub2RlLm9wZXJhdG9yLnR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnRyaWdnZXIpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJJbnZlcnQnLCBub2RlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cbi8qIVxuICogalF1ZXJ5IFF1ZXJ5QnVpbGRlciBNb25nb0RCIFN1cHBvcnRcbiAqIEFsbG93cyB0byBleHBvcnQgcnVsZXMgYXMgYSBNb25nb0RCIGZpbmQgb2JqZWN0IGFzIHdlbGwgYXMgcG9wdWxhdGluZyB0aGUgYnVpbGRlciBmcm9tIGEgTW9uZ29EQiBvYmplY3QuXG4gKi9cblxuLy8gREVGQVVMVCBDT05GSUdcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblF1ZXJ5QnVpbGRlci5kZWZhdWx0cyh7XG4gICAgbW9uZ29PcGVyYXRvcnM6IHtcbiAgICAgICAgZXF1YWw6ICAgICAgICAgICAgZnVuY3Rpb24odikgeyByZXR1cm4gdlswXTsgfSxcbiAgICAgICAgbm90X2VxdWFsOiAgICAgICAgZnVuY3Rpb24odikgeyByZXR1cm4geyAnJG5lJzogdlswXSB9OyB9LFxuICAgICAgICBpbjogICAgICAgICAgICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICckaW4nOiB2IH07IH0sXG4gICAgICAgIG5vdF9pbjogICAgICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRuaW4nOiB2IH07IH0sXG4gICAgICAgIGxlc3M6ICAgICAgICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRsdCc6IHZbMF0gfTsgfSxcbiAgICAgICAgbGVzc19vcl9lcXVhbDogICAgZnVuY3Rpb24odikgeyByZXR1cm4geyAnJGx0ZSc6IHZbMF0gfTsgfSxcbiAgICAgICAgZ3JlYXRlcjogICAgICAgICAgZnVuY3Rpb24odikgeyByZXR1cm4geyAnJGd0JzogdlswXSB9OyB9LFxuICAgICAgICBncmVhdGVyX29yX2VxdWFsOiBmdW5jdGlvbih2KSB7IHJldHVybiB7ICckZ3RlJzogdlswXSB9OyB9LFxuICAgICAgICBiZXR3ZWVuOiAgICAgICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICckZ3RlJzogdlswXSwgJyRsdGUnOiB2WzFdIH07IH0sXG4gICAgICAgIG5vdF9iZXR3ZWVuOiAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRsdCc6IHZbMF0sICckZ3QnOiB2WzFdIH07IH0sXG4gICAgICAgIGJlZ2luc193aXRoOiAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRyZWdleCc6ICdeJyArIFV0aWxzLmVzY2FwZVJlZ0V4cCh2WzBdKSB9OyB9LFxuICAgICAgICBub3RfYmVnaW5zX3dpdGg6ICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICckcmVnZXgnOiAnXig/IScgKyBVdGlscy5lc2NhcGVSZWdFeHAodlswXSkgKyAnKScgfTsgfSxcbiAgICAgICAgY29udGFpbnM6ICAgICAgICAgZnVuY3Rpb24odikgeyByZXR1cm4geyAnJHJlZ2V4JzogVXRpbHMuZXNjYXBlUmVnRXhwKHZbMF0pIH07IH0sXG4gICAgICAgIG5vdF9jb250YWluczogICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRyZWdleCc6ICdeKCg/IScgKyBVdGlscy5lc2NhcGVSZWdFeHAodlswXSkgKyAnKS4pKiQnLCAnJG9wdGlvbnMnOiAncycgfTsgfSxcbiAgICAgICAgZW5kc193aXRoOiAgICAgICAgZnVuY3Rpb24odikgeyByZXR1cm4geyAnJHJlZ2V4JzogVXRpbHMuZXNjYXBlUmVnRXhwKHZbMF0pICsgJyQnIH07IH0sXG4gICAgICAgIG5vdF9lbmRzX3dpdGg6ICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRyZWdleCc6ICcoPzwhJyArIFV0aWxzLmVzY2FwZVJlZ0V4cCh2WzBdKSArICcpJCcgfTsgfSxcbiAgICAgICAgaXNfZW1wdHk6ICAgICAgICAgZnVuY3Rpb24odikgeyByZXR1cm4gJyc7IH0sXG4gICAgICAgIGlzX25vdF9lbXB0eTogICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRuZSc6ICcnIH07IH0sXG4gICAgICAgIGlzX251bGw6ICAgICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIGlzX25vdF9udWxsOiAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRuZSc6IG51bGwgfTsgfVxuICAgIH0sXG5cbiAgICBtb25nb1J1bGVPcGVyYXRvcnM6IHtcbiAgICAgICAgJG5lOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICB2ID0gdi4kbmU7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICd2YWwnOiB2LFxuICAgICAgICAgICAgICAgICdvcCc6IHYgPT09IG51bGwgPyAnaXNfbm90X251bGwnIDogKHYgPT09ICcnID8gJ2lzX25vdF9lbXB0eScgOiAnbm90X2VxdWFsJylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGVxOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICd2YWwnOiB2LFxuICAgICAgICAgICAgICAgICdvcCc6IHYgPT09IG51bGwgPyAnaXNfbnVsbCcgOiAodiA9PT0gJycgPyAnaXNfZW1wdHknIDogJ2VxdWFsJylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgICRyZWdleDogZnVuY3Rpb24odikge1xuICAgICAgICAgICAgdiA9IHYuJHJlZ2V4O1xuICAgICAgICAgICAgaWYgKHYuc2xpY2UoMCwgNCkgPT0gJ14oPyEnICYmIHYuc2xpY2UoLTEpID09ICcpJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7ICd2YWwnOiB2LnNsaWNlKDQsIC0xKSwgJ29wJzogJ25vdF9iZWdpbnNfd2l0aCcgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHYuc2xpY2UoMCwgNSkgPT0gJ14oKD8hJyAmJiB2LnNsaWNlKC01KSA9PSAnKS4pKiQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgJ3ZhbCc6IHYuc2xpY2UoNSwgLTUpLCAnb3AnOiAnbm90X2NvbnRhaW5zJyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodi5zbGljZSgwLCA0KSA9PSAnKD88IScgJiYgdi5zbGljZSgtMikgPT0gJykkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7ICd2YWwnOiB2LnNsaWNlKDQsIC0yKSwgJ29wJzogJ25vdF9lbmRzX3dpdGgnIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2LnNsaWNlKC0xKSA9PSAnJCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAndmFsJzogdi5zbGljZSgwLCAtMSksICdvcCc6ICdlbmRzX3dpdGgnIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2LnNsaWNlKDAsIDEpID09ICdeJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7ICd2YWwnOiB2LnNsaWNlKDEpLCAnb3AnOiAnYmVnaW5zX3dpdGgnIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAndmFsJzogdiwgJ29wJzogJ2NvbnRhaW5zJyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBiZXR3ZWVuOiAgICAgZnVuY3Rpb24odikgeyByZXR1cm4geyAndmFsJzogW3YuJGd0ZSwgdi4kbHRlXSwgJ29wJzogJ2JldHdlZW4nIH07IH0sXG4gICAgICAgIG5vdF9iZXR3ZWVuOiBmdW5jdGlvbih2KSB7IHJldHVybiB7ICd2YWwnOiBbdi4kbHQsIHYuJGd0XSwgJ29wJzogJ25vdF9iZXR3ZWVuJyB9OyB9LFxuICAgICAgICAkaW46ICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICd2YWwnOiB2LiRpbiwgJ29wJzogJ2luJyB9OyB9LFxuICAgICAgICAkbmluOiBmdW5jdGlvbih2KSB7IHJldHVybiB7ICd2YWwnOiB2LiRuaW4sICdvcCc6ICdub3RfaW4nIH07IH0sXG4gICAgICAgICRsdDogIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJ3ZhbCc6IHYuJGx0LCAnb3AnOiAnbGVzcycgfTsgfSxcbiAgICAgICAgJGx0ZTogZnVuY3Rpb24odikgeyByZXR1cm4geyAndmFsJzogdi4kbHRlLCAnb3AnOiAnbGVzc19vcl9lcXVhbCcgfTsgfSxcbiAgICAgICAgJGd0OiAgZnVuY3Rpb24odikgeyByZXR1cm4geyAndmFsJzogdi4kZ3QsICdvcCc6ICdncmVhdGVyJyB9OyB9LFxuICAgICAgICAkZ3RlOiBmdW5jdGlvbih2KSB7IHJldHVybiB7ICd2YWwnOiB2LiRndGUsICdvcCc6ICdncmVhdGVyX29yX2VxdWFsJyB9OyB9XG4gICAgfVxufSk7XG5cblxuLy8gUFVCTElDIE1FVEhPRFNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblF1ZXJ5QnVpbGRlci5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIEdldCBydWxlcyBhcyBNb25nb0RCIHF1ZXJ5XG4gICAgICogQHRocm93cyBVbmRlZmluZWRNb25nb0NvbmRpdGlvbkVycm9yLCBVbmRlZmluZWRNb25nb09wZXJhdG9yRXJyb3JcbiAgICAgKiBAcGFyYW0gZGF0YSB7b2JqZWN0fSAob3B0aW9uYWwpIHJ1bGVzXG4gICAgICogQHJldHVybiB7b2JqZWN0fVxuICAgICAqL1xuICAgIGdldE1vbmdvOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGRhdGEgPSAoZGF0YSA9PT0gdW5kZWZpbmVkKSA/IHRoaXMuZ2V0UnVsZXMoKSA6IGRhdGE7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiAoZnVuY3Rpb24gcGFyc2UoZGF0YSkge1xuICAgICAgICAgICAgaWYgKCFkYXRhLmNvbmRpdGlvbikge1xuICAgICAgICAgICAgICAgIGRhdGEuY29uZGl0aW9uID0gc2VsZi5zZXR0aW5ncy5kZWZhdWx0X2NvbmRpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChbJ0FORCcsICdPUiddLmluZGV4T2YoZGF0YS5jb25kaXRpb24udG9VcHBlckNhc2UoKSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ1VuZGVmaW5lZE1vbmdvQ29uZGl0aW9uJywgJ1VuYWJsZSB0byBidWlsZCBNb25nb0RCIHF1ZXJ5IHdpdGggY29uZGl0aW9uIFwiezB9XCInLCBkYXRhLmNvbmRpdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZGF0YS5ydWxlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBhcnRzID0gW107XG5cbiAgICAgICAgICAgIGRhdGEucnVsZXMuZm9yRWFjaChmdW5jdGlvbihydWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUucnVsZXMgJiYgcnVsZS5ydWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2gocGFyc2UocnVsZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1kYiA9IHNlbGYuc2V0dGluZ3MubW9uZ29PcGVyYXRvcnNbcnVsZS5vcGVyYXRvcl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcGUgPSBzZWxmLmdldE9wZXJhdG9yQnlUeXBlKHJ1bGUub3BlcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1kYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignVW5kZWZpbmVkTW9uZ29PcGVyYXRvcicsICdVbmtub3duIE1vbmdvREIgb3BlcmF0aW9uIGZvciBvcGVyYXRvciBcInswfVwiJywgcnVsZS5vcGVyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAob3BlLm5iX2lucHV0cyAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocnVsZS52YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUudmFsdWUgPSBbcnVsZS52YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUudmFsdWUuZm9yRWFjaChmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goVXRpbHMuY2hhbmdlVHlwZSh2LCBydWxlLnR5cGUsIGZhbHNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIHBhcnRbcnVsZS5maWVsZF0gPSBtZGIuY2FsbChzZWxmLCB2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgcmVzID0ge307XG4gICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJlc1snJCcgKyBkYXRhLmNvbmRpdGlvbi50b0xvd2VyQ2FzZSgpXSA9IHBhcnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfShkYXRhKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgTW9uZ29EQiBvYmplY3QgdG8gcnVsZXNcbiAgICAgKiBAdGhyb3dzIE1vbmdvUGFyc2VFcnJvciwgVW5kZWZpbmVkTW9uZ29Db25kaXRpb25FcnJvciwgVW5kZWZpbmVkTW9uZ29PcGVyYXRvckVycm9yXG4gICAgICogQHBhcmFtIGRhdGEge29iamVjdH0gcXVlcnkgb2JqZWN0XG4gICAgICogQHJldHVybiB7b2JqZWN0fVxuICAgICAqL1xuICAgIGdldFJ1bGVzRnJvbU1vbmdvOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQgfHwgZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBjb25kaXRpb25zID0ge1xuICAgICAgICAgICAgJyRhbmQnOiAnQU5EJyxcbiAgICAgICAgICAgICckb3InOiAnT1InXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIChmdW5jdGlvbiBwYXJzZShkYXRhKSB7XG4gICAgICAgICAgICB2YXIgdG9wS2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuXG4gICAgICAgICAgICBpZiAodG9wS2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ01vbmdvUGFyc2UnLCAnSW52YWxpZCBNb25nb0RCIHF1ZXJ5IGZvcm1hdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjb25kaXRpb25zW3RvcEtleXNbMF0udG9Mb3dlckNhc2UoKV0pIHtcbiAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignVW5kZWZpbmVkTW9uZ29Db25kaXRpb24nLCAnVW5hYmxlIHRvIGJ1aWxkIE1vbmdvREIgcXVlcnkgd2l0aCBjb25kaXRpb24gXCJ7MH1cIicsIHRvcEtleXNbMF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcnVsZXMgPSBkYXRhW3RvcEtleXNbMF1dO1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gW107XG5cbiAgICAgICAgICAgIHJ1bGVzLmZvckVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocnVsZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29uZGl0aW9uc1trZXlzWzBdLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2gocGFyc2UocnVsZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkID0ga2V5c1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcnVsZVtmaWVsZF07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wZXJhdG9yID0gZGV0ZXJtaW5lTW9uZ29PcGVyYXRvcih2YWx1ZSwgZmllbGQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ01vbmdvUGFyc2UnLCAnSW52YWxpZCBNb25nb0RCIHF1ZXJ5IGZvcm1hdCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1kYnJsID0gc2VsZi5zZXR0aW5ncy5tb25nb1J1bGVPcGVyYXRvcnNbb3BlcmF0b3JdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWRicmwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ1VuZGVmaW5lZE1vbmdvT3BlcmF0b3InLCAnSlNPTiBSdWxlIG9wZXJhdGlvbiB1bmtub3duIGZvciBvcGVyYXRvciBcInswfVwiJywgb3BlcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wVmFsID0gbWRicmwuY2FsbChzZWxmLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHNlbGYuY2hhbmdlKCdnZXRNb25nb0RCRmllbGRJRCcsIGZpZWxkLCB2YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogb3BWYWwub3AsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3BWYWwudmFsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgcmVzID0ge307XG4gICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJlcy5jb25kaXRpb24gPSBjb25kaXRpb25zW3RvcEtleXNbMF0udG9Mb3dlckNhc2UoKV07XG4gICAgICAgICAgICAgICAgcmVzLnJ1bGVzID0gcGFydHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9KGRhdGEpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHJ1bGVzIGZyb20gTW9uZ29EQiBvYmplY3RcbiAgICAgKiBAcGFyYW0gZGF0YSB7b2JqZWN0fVxuICAgICAqL1xuICAgIHNldFJ1bGVzRnJvbU1vbmdvOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHRoaXMuc2V0UnVsZXModGhpcy5nZXRSdWxlc0Zyb21Nb25nbyhkYXRhKSk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogRmluZCB3aGljaCBvcGVyYXRvciBpcyB1c2VkIGluIGEgTW9uZ29EQiBzdWItb2JqZWN0XG4gKiBAcGFyYW0ge21peGVkfSB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiBkZXRlcm1pbmVNb25nb09wZXJhdG9yKHZhbHVlLCBmaWVsZCkge1xuICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIHN1YmtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKHN1YmtleXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gc3Via2V5c1swXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS4kZ3RlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUuJGx0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdiZXR3ZWVuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS4kbHQgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZS4kZ3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnbm90X2JldHdlZW4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUuJHJlZ2V4ICE9PSB1bmRlZmluZWQpIHsgLy8gb3B0aW9uYWwgJG9wdGlvbnNcbiAgICAgICAgICAgICAgICByZXR1cm4gJyRyZWdleCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAnZXEnO1xuICAgIH1cbn1cblxuXG4vKiFcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgU29ydGFibGVcbiAqIEVuYWJsZXMgZHJhZyAmIGRyb3Agc29ydCBvZiBydWxlcy5cbiAqL1xuXG5TZWxlY3RvcnMucnVsZV9hbmRfZ3JvdXBfY29udGFpbmVycyA9IFNlbGVjdG9ycy5ydWxlX2NvbnRhaW5lciArICcsICcgKyBTZWxlY3RvcnMuZ3JvdXBfY29udGFpbmVyO1xuXG5RdWVyeUJ1aWxkZXIuZGVmaW5lKCdzb3J0YWJsZScsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBJbml0IEhUTUw1IGRyYWcgYW5kIGRyb3BcbiAgICAgKi9cbiAgICB0aGlzLm9uKCdhZnRlckluaXQnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIGNvbmZpZ3VyZSBqUXVlcnkgdG8gdXNlIGRhdGFUcmFuc2ZlclxuICAgICAgICAkLmV2ZW50LnByb3BzLnB1c2goJ2RhdGFUcmFuc2ZlcicpO1xuXG4gICAgICAgIHZhciBwbGFjZWhvbGRlcjtcbiAgICAgICAgdmFyIHNyYztcbiAgICAgICAgdmFyIHNlbGYgPSBlLmJ1aWxkZXI7XG5cbiAgICAgICAgLy8gb25seSBhZGQgXCJkcmFnZ2FibGVcIiBhdHRyaWJ1dGUgd2hlbiBob3ZlcmluZyBkcmFnIGhhbmRsZVxuICAgICAgICAvLyBwcmV2ZW50aW5nIHRleHQgc2VsZWN0IGJ1ZyBpbiBGaXJlZm94XG4gICAgICAgIHNlbGYuJGVsLm9uKCdtb3VzZW92ZXIucXVlcnlCdWlsZGVyJywgJy5kcmFnLWhhbmRsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9hbmRfZ3JvdXBfY29udGFpbmVycykuYXR0cignZHJhZ2dhYmxlJywgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxmLiRlbC5vbignbW91c2VvdXQucXVlcnlCdWlsZGVyJywgJy5kcmFnLWhhbmRsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9hbmRfZ3JvdXBfY29udGFpbmVycykucmVtb3ZlQXR0cignZHJhZ2dhYmxlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGRyYWdzdGFydDogY3JlYXRlIHBsYWNlaG9sZGVyIGFuZCBoaWRlIGN1cnJlbnQgZWxlbWVudFxuICAgICAgICBzZWxmLiRlbC5vbignZHJhZ3N0YXJ0LnF1ZXJ5QnVpbGRlcicsICdbZHJhZ2dhYmxlXScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIC8vIG5vdGlmeSBkcmFnIGFuZCBkcm9wIChvbmx5IGR1bW15IHRleHQpXG4gICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0JywgJ2RyYWcnKTtcblxuICAgICAgICAgICAgc3JjID0gTW9kZWwoZS50YXJnZXQpO1xuXG4gICAgICAgICAgICAvLyBDaHJvbWUgZ2xpdGNoc1xuICAgICAgICAgICAgLy8gLSBoZWxwZXIgaW52aXNpYmxlIGlmIGhpZGRlbiBpbW1lZGlhdGVseVxuICAgICAgICAgICAgLy8gLSBcImRyYWdlbmRcIiBpcyBjYWxsZWQgaW1tZWRpYXRlbHkgaWYgd2UgbW9kaWZ5IHRoZSBET00gZGlyZWN0bHlcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBoID0gJCgnPGRpdiBjbGFzcz1cInJ1bGUtcGxhY2Vob2xkZXJcIj4mbmJzcDs8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICBwaC5jc3MoJ21pbi1oZWlnaHQnLCBzcmMuJGVsLmhlaWdodCgpKTtcblxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gc3JjLnBhcmVudC5hZGRSdWxlKHBoLCBzcmMuZ2V0UG9zKCkpO1xuXG4gICAgICAgICAgICAgICAgc3JjLiRlbC5oaWRlKCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZHJhZ2VudGVyOiBtb3ZlIHRoZSBwbGFjZWhvbGRlclxuICAgICAgICBzZWxmLiRlbC5vbignZHJhZ2VudGVyLnF1ZXJ5QnVpbGRlcicsICdbZHJhZ2dhYmxlXScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgIG1vdmVTb3J0YWJsZVRvVGFyZ2V0KHBsYWNlaG9sZGVyLCAkKGUudGFyZ2V0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGRyYWdvdmVyOiBwcmV2ZW50IGdsaXRjaGVzXG4gICAgICAgIHNlbGYuJGVsLm9uKCdkcmFnb3Zlci5xdWVyeUJ1aWxkZXInLCAnW2RyYWdnYWJsZV0nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBkcm9wOiBtb3ZlIGN1cnJlbnQgZWxlbWVudFxuICAgICAgICBzZWxmLiRlbC5vbignZHJvcC5xdWVyeUJ1aWxkZXInLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICBtb3ZlU29ydGFibGVUb1RhcmdldChzcmMsICQoZS50YXJnZXQpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZHJhZ2VuZDogc2hvdyBjdXJyZW50IGVsZW1lbnQgYW5kIGRlbGV0ZSBwbGFjZWhvbGRlclxuICAgICAgICBzZWxmLiRlbC5vbignZHJhZ2VuZC5xdWVyeUJ1aWxkZXInLCAnW2RyYWdnYWJsZV0nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICBzcmMuJGVsLnNob3coKTtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyLmRyb3AoKTtcblxuICAgICAgICAgICAgc2VsZi4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9hbmRfZ3JvdXBfY29udGFpbmVycykucmVtb3ZlQXR0cignZHJhZ2dhYmxlJyk7XG5cbiAgICAgICAgICAgIHNlbGYudHJpZ2dlcignYWZ0ZXJNb3ZlJywgc3JjKTtcblxuICAgICAgICAgICAgc3JjID0gcGxhY2Vob2xkZXIgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBkcmFnIGhhbmRsZSBmcm9tIG5vbi1zb3J0YWJsZSBydWxlc1xuICAgICAqL1xuICAgIHRoaXMub24oJ3BhcnNlUnVsZUZsYWdzLmZpbHRlcicsIGZ1bmN0aW9uKGZsYWdzKSB7XG4gICAgICAgIGlmIChmbGFncy52YWx1ZS5ub19zb3J0YWJsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmbGFncy52YWx1ZS5ub19zb3J0YWJsZSA9IG9wdGlvbnMuZGVmYXVsdF9ub19zb3J0YWJsZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5vbignYWZ0ZXJBcHBseVJ1bGVGbGFncycsIGZ1bmN0aW9uKGUsIHJ1bGUpIHtcbiAgICAgICAgaWYgKHJ1bGUuZmxhZ3Mubm9fc29ydGFibGUpIHtcbiAgICAgICAgICAgIHJ1bGUuJGVsLmZpbmQoJy5kcmFnLWhhbmRsZScpLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgZHJhZyBoYW5kbGUgZnJvbSBub24tc29ydGFibGUgZ3JvdXBzXG4gICAgICovXG4gICAgdGhpcy5vbigncGFyc2VHcm91cEZsYWdzLmZpbHRlcicsIGZ1bmN0aW9uKGZsYWdzKSB7XG4gICAgICAgIGlmIChmbGFncy52YWx1ZS5ub19zb3J0YWJsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmbGFncy52YWx1ZS5ub19zb3J0YWJsZSA9IG9wdGlvbnMuZGVmYXVsdF9ub19zb3J0YWJsZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5vbignYWZ0ZXJBcHBseUdyb3VwRmxhZ3MnLCBmdW5jdGlvbihlLCBncm91cCkge1xuICAgICAgICBpZiAoZ3JvdXAuZmxhZ3Mubm9fc29ydGFibGUpIHtcbiAgICAgICAgICAgIGdyb3VwLiRlbC5maW5kKCcuZHJhZy1oYW5kbGUnKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogTW9kaWZ5IHRlbXBsYXRlc1xuICAgICAqL1xuICAgIHRoaXMub24oJ2dldEdyb3VwVGVtcGxhdGUuZmlsdGVyJywgZnVuY3Rpb24oaCwgbGV2ZWwpIHtcbiAgICAgICAgaWYgKGxldmVsID4gMSkge1xuICAgICAgICAgICAgdmFyICRoID0gJChoLnZhbHVlKTtcbiAgICAgICAgICAgICRoLmZpbmQoU2VsZWN0b3JzLmNvbmRpdGlvbl9jb250YWluZXIpLmFmdGVyKCc8ZGl2IGNsYXNzPVwiZHJhZy1oYW5kbGVcIj48aSBjbGFzcz1cIicgKyBvcHRpb25zLmljb24gKyAnXCI+PC9pPjwvZGl2PicpO1xuICAgICAgICAgICAgaC52YWx1ZSA9ICRoLnByb3AoJ291dGVySFRNTCcpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uKCdnZXRSdWxlVGVtcGxhdGUuZmlsdGVyJywgZnVuY3Rpb24oaCkge1xuICAgICAgICB2YXIgJGggPSAkKGgudmFsdWUpO1xuICAgICAgICAkaC5maW5kKFNlbGVjdG9ycy5ydWxlX2hlYWRlcikuYWZ0ZXIoJzxkaXYgY2xhc3M9XCJkcmFnLWhhbmRsZVwiPjxpIGNsYXNzPVwiJyArIG9wdGlvbnMuaWNvbiArICdcIj48L2k+PC9kaXY+Jyk7XG4gICAgICAgIGgudmFsdWUgPSAkaC5wcm9wKCdvdXRlckhUTUwnKTtcbiAgICB9KTtcbn0sIHtcbiAgICBkZWZhdWx0X25vX3NvcnRhYmxlOiBmYWxzZSxcbiAgICBpY29uOiAnZ2x5cGhpY29uIGdseXBoaWNvbi1zb3J0J1xufSk7XG5cbi8qKlxuICogTW92ZSBhbiBlbGVtZW50IChwbGFjZWhvbGRlciBvciBhY3R1YWwgb2JqZWN0KSBkZXBlbmRpbmcgb24gYWN0aXZlIHRhcmdldFxuICogQHBhcmFtIHtOb2RlfVxuICogQHBhcmFtIHtqUXVlcnl9XG4gKi9cbmZ1bmN0aW9uIG1vdmVTb3J0YWJsZVRvVGFyZ2V0KGVsZW1lbnQsIHRhcmdldCkge1xuICAgIHZhciBwYXJlbnQ7XG5cbiAgICAvLyBvbiBydWxlXG4gICAgcGFyZW50ID0gdGFyZ2V0LmNsb3Nlc3QoU2VsZWN0b3JzLnJ1bGVfY29udGFpbmVyKTtcbiAgICBpZiAocGFyZW50Lmxlbmd0aCkge1xuICAgICAgICBlbGVtZW50Lm1vdmVBZnRlcihNb2RlbChwYXJlbnQpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIG9uIGdyb3VwIGhlYWRlclxuICAgIHBhcmVudCA9IHRhcmdldC5jbG9zZXN0KFNlbGVjdG9ycy5ncm91cF9oZWFkZXIpO1xuICAgIGlmIChwYXJlbnQubGVuZ3RoKSB7XG4gICAgICAgIHBhcmVudCA9IHRhcmdldC5jbG9zZXN0KFNlbGVjdG9ycy5ncm91cF9jb250YWluZXIpO1xuICAgICAgICBlbGVtZW50Lm1vdmVBdEJlZ2luKE1vZGVsKHBhcmVudCkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gb24gZ3JvdXBcbiAgICBwYXJlbnQgPSB0YXJnZXQuY2xvc2VzdChTZWxlY3RvcnMuZ3JvdXBfY29udGFpbmVyKTtcbiAgICBpZiAocGFyZW50Lmxlbmd0aCkge1xuICAgICAgICBlbGVtZW50Lm1vdmVBdEVuZChNb2RlbChwYXJlbnQpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cblxuXG4vKiFcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgU1FMIFN1cHBvcnRcbiAqIEFsbG93cyB0byBleHBvcnQgcnVsZXMgYXMgYSBTUUwgV0hFUkUgc3RhdGVtZW50IGFzIHdlbGwgYXMgcG9wdWxhdGluZyB0aGUgYnVpbGRlciBmcm9tIGFuIFNRTCBxdWVyeS5cbiAqL1xuXG4vLyBERUZBVUxUIENPTkZJR1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuUXVlcnlCdWlsZGVyLmRlZmF1bHRzKHtcbiAgICAvKiBvcGVyYXRvcnMgZm9yIGludGVybmFsIC0+IFNRTCBjb252ZXJzaW9uICovXG4gICAgc3FsT3BlcmF0b3JzOiB7XG4gICAgICAgIGVxdWFsOiAgICAgICAgICAgIHsgb3A6ICc9ID8nIH0sXG4gICAgICAgIG5vdF9lcXVhbDogICAgICAgIHsgb3A6ICchPSA/JyB9LFxuICAgICAgICBpbjogICAgICAgICAgICAgICB7IG9wOiAnSU4oPyknLCAgICAgICAgICBzZXA6ICcsICcgfSxcbiAgICAgICAgbm90X2luOiAgICAgICAgICAgeyBvcDogJ05PVCBJTig/KScsICAgICAgc2VwOiAnLCAnIH0sXG4gICAgICAgIGxlc3M6ICAgICAgICAgICAgIHsgb3A6ICc8ID8nIH0sXG4gICAgICAgIGxlc3Nfb3JfZXF1YWw6ICAgIHsgb3A6ICc8PSA/JyB9LFxuICAgICAgICBncmVhdGVyOiAgICAgICAgICB7IG9wOiAnPiA/JyB9LFxuICAgICAgICBncmVhdGVyX29yX2VxdWFsOiB7IG9wOiAnPj0gPycgfSxcbiAgICAgICAgYmV0d2VlbjogICAgICAgICAgeyBvcDogJ0JFVFdFRU4gPycsICAgICAgc2VwOiAnIEFORCAnIH0sXG4gICAgICAgIG5vdF9iZXR3ZWVuOiAgICAgIHsgb3A6ICdOT1QgQkVUV0VFTiA/JywgIHNlcDogJyBBTkQgJyB9LFxuICAgICAgICBiZWdpbnNfd2l0aDogICAgICB7IG9wOiAnTElLRSg/KScsICAgICAgICBtb2Q6ICd7MH0lJyB9LFxuICAgICAgICBub3RfYmVnaW5zX3dpdGg6ICB7IG9wOiAnTk9UIExJS0UoPyknLCAgICBtb2Q6ICd7MH0lJyB9LFxuICAgICAgICBjb250YWluczogICAgICAgICB7IG9wOiAnTElLRSg/KScsICAgICAgICBtb2Q6ICclezB9JScgfSxcbiAgICAgICAgbm90X2NvbnRhaW5zOiAgICAgeyBvcDogJ05PVCBMSUtFKD8pJywgICAgbW9kOiAnJXswfSUnIH0sXG4gICAgICAgIGVuZHNfd2l0aDogICAgICAgIHsgb3A6ICdMSUtFKD8pJywgICAgICAgIG1vZDogJyV7MH0nIH0sXG4gICAgICAgIG5vdF9lbmRzX3dpdGg6ICAgIHsgb3A6ICdOT1QgTElLRSg/KScsICAgIG1vZDogJyV7MH0nIH0sXG4gICAgICAgIGlzX2VtcHR5OiAgICAgICAgIHsgb3A6ICc9IFxcJ1xcJycgfSxcbiAgICAgICAgaXNfbm90X2VtcHR5OiAgICAgeyBvcDogJyE9IFxcJ1xcJycgfSxcbiAgICAgICAgaXNfbnVsbDogICAgICAgICAgeyBvcDogJ0lTIE5VTEwnIH0sXG4gICAgICAgIGlzX25vdF9udWxsOiAgICAgIHsgb3A6ICdJUyBOT1QgTlVMTCcgfVxuICAgIH0sXG5cbiAgICAvKiBvcGVyYXRvcnMgZm9yIFNRTCAtPiBpbnRlcm5hbCBjb252ZXJzaW9uICovXG4gICAgc3FsUnVsZU9wZXJhdG9yOiB7XG4gICAgICAgICc9JzogZnVuY3Rpb24odikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWw6IHYsXG4gICAgICAgICAgICAgICAgb3A6IHYgPT09ICcnID8gJ2lzX2VtcHR5JyA6ICdlcXVhbCdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgICchPSc6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsOiB2LFxuICAgICAgICAgICAgICAgIG9wOiB2ID09PSAnJyA/ICdpc19ub3RfZW1wdHknIDogJ25vdF9lcXVhbCdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgICdMSUtFJzogZnVuY3Rpb24odikge1xuICAgICAgICAgICAgaWYgKHYuc2xpY2UoMCwgMSkgPT0gJyUnICYmIHYuc2xpY2UoLTEpID09ICclJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbDogdi5zbGljZSgxLCAtMSksXG4gICAgICAgICAgICAgICAgICAgIG9wOiAnY29udGFpbnMnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHYuc2xpY2UoMCwgMSkgPT0gJyUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsOiB2LnNsaWNlKDEpLFxuICAgICAgICAgICAgICAgICAgICBvcDogJ2VuZHNfd2l0aCdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodi5zbGljZSgtMSkgPT0gJyUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsOiB2LnNsaWNlKDAsIC0xKSxcbiAgICAgICAgICAgICAgICAgICAgb3A6ICdiZWdpbnNfd2l0aCdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ1NRTFBhcnNlJywgJ0ludmFsaWQgdmFsdWUgZm9yIExJS0Ugb3BlcmF0b3IgXCJ7MH1cIicsIHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnSU4nOiAgICAgICAgICAgZnVuY3Rpb24odikgeyByZXR1cm4geyB2YWw6IHYsIG9wOiAnaW4nIH07IH0sXG4gICAgICAgICdOT1QgSU4nOiAgICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7IHZhbDogdiwgb3A6ICdub3RfaW4nIH07IH0sXG4gICAgICAgICc8JzogICAgICAgICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7IHZhbDogdiwgb3A6ICdsZXNzJyB9OyB9LFxuICAgICAgICAnPD0nOiAgICAgICAgICAgZnVuY3Rpb24odikgeyByZXR1cm4geyB2YWw6IHYsIG9wOiAnbGVzc19vcl9lcXVhbCcgfTsgfSxcbiAgICAgICAgJz4nOiAgICAgICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgdmFsOiB2LCBvcDogJ2dyZWF0ZXInIH07IH0sXG4gICAgICAgICc+PSc6ICAgICAgICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7IHZhbDogdiwgb3A6ICdncmVhdGVyX29yX2VxdWFsJyB9OyB9LFxuICAgICAgICAnQkVUV0VFTic6ICAgICAgZnVuY3Rpb24odikgeyByZXR1cm4geyB2YWw6IHYsIG9wOiAnYmV0d2VlbicgfTsgfSxcbiAgICAgICAgJ05PVCBCRVRXRUVOJzogIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgdmFsOiB2LCBvcDogJ25vdF9iZXR3ZWVuJyB9OyB9LFxuICAgICAgICAnSVMnOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICBpZiAodiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdTUUxQYXJzZScsICdJbnZhbGlkIHZhbHVlIGZvciBJUyBvcGVyYXRvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsOiBudWxsLCBvcDogJ2lzX251bGwnIH07XG4gICAgICAgIH0sXG4gICAgICAgICdJUyBOT1QnOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICBpZiAodiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdTUUxQYXJzZScsICdJbnZhbGlkIHZhbHVlIGZvciBJUyBvcGVyYXRvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsOiBudWxsLCBvcDogJ2lzX25vdF9udWxsJyB9O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qIHN0YXRlbWVudHMgZm9yIGludGVybmFsIC0+IFNRTCBjb252ZXJzaW9uICovXG4gICAgc3FsU3RhdGVtZW50czoge1xuICAgICAgICAncXVlc3Rpb25fbWFyayc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKHJ1bGUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc/JztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICAnbnVtYmVyZWQnOiBmdW5jdGlvbihjaGFyKSB7XG4gICAgICAgICAgICBpZiAoIWNoYXIgfHwgY2hhci5sZW5ndGggPiAxKSBjaGFyID0gJyQnO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWRkOiBmdW5jdGlvbihydWxlLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFyICsgaW5kZXg7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ25hbWVkJzogZnVuY3Rpb24oY2hhcikge1xuICAgICAgICAgICAgaWYgKCFjaGFyIHx8IGNoYXIubGVuZ3RoID4gMSkgY2hhciA9ICc6JztcbiAgICAgICAgICAgIHZhciBpbmRleGVzID0ge307XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFkZDogZnVuY3Rpb24ocnVsZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmRleGVzW3J1bGUuZmllbGRdKSBpbmRleGVzW3J1bGUuZmllbGRdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IHJ1bGUuZmllbGQgKyAnXycgKyAoaW5kZXhlc1tydWxlLmZpZWxkXSsrKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXIgKyBrZXk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyogc3RhdGVtZW50cyBmb3IgU1FMIC0+IGludGVybmFsIGNvbnZlcnNpb24gKi9cbiAgICBzcWxSdWxlU3RhdGVtZW50OiB7XG4gICAgICAgICdxdWVzdGlvbl9tYXJrJzogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdiA9PSAnPycgPyB2YWx1ZXNbaW5kZXgrK10gOiB2O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXNjOiBmdW5jdGlvbihzcWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNxbC5yZXBsYWNlKC9cXD8vZywgJ1xcJz9cXCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgICdudW1iZXJlZCc6IGZ1bmN0aW9uKHZhbHVlcywgY2hhcikge1xuICAgICAgICAgICAgaWYgKCFjaGFyIHx8IGNoYXIubGVuZ3RoID4gMSkgY2hhciA9ICckJztcbiAgICAgICAgICAgIHZhciByZWdleDEgPSBuZXcgUmVnRXhwKCdeXFxcXCcgKyBjaGFyICsgJ1swLTldKyQnKTtcbiAgICAgICAgICAgIHZhciByZWdleDIgPSBuZXcgUmVnRXhwKCdcXFxcJyArIGNoYXIgKyAnKFswLTldKyknLCAnZycpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZXgxLnRlc3QodikgPyB2YWx1ZXNbdi5zbGljZSgxKSAtIDFdIDogdjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVzYzogZnVuY3Rpb24oc3FsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzcWwucmVwbGFjZShyZWdleDIsICdcXCcnICsgKGNoYXIgPT0gJyQnID8gJyQkJyA6IGNoYXIpICsgJyQxXFwnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICAnbmFtZWQnOiBmdW5jdGlvbih2YWx1ZXMsIGNoYXIpIHtcbiAgICAgICAgICAgIGlmICghY2hhciB8fCBjaGFyLmxlbmd0aCA+IDEpIGNoYXIgPSAnOic7XG4gICAgICAgICAgICB2YXIgcmVnZXgxID0gbmV3IFJlZ0V4cCgnXlxcXFwnICsgY2hhcik7XG4gICAgICAgICAgICB2YXIgcmVnZXgyID0gbmV3IFJlZ0V4cCgnXFxcXCcgKyBjaGFyICsgJygnICsgT2JqZWN0LmtleXModmFsdWVzKS5qb2luKCd8JykgKyAnKScsICdnJyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdleDEudGVzdCh2KSA/IHZhbHVlc1t2LnNsaWNlKDEpXSA6IHY7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlc2M6IGZ1bmN0aW9uKHNxbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3FsLnJlcGxhY2UocmVnZXgyLCAnXFwnJyArIChjaGFyID09ICckJyA/ICckJCcgOiBjaGFyKSArICckMVxcJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG4vLyBQVUJMSUMgTUVUSE9EU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuUXVlcnlCdWlsZGVyLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogR2V0IHJ1bGVzIGFzIFNRTCBxdWVyeVxuICAgICAqIEB0aHJvd3MgVW5kZWZpbmVkU1FMQ29uZGl0aW9uRXJyb3IsIFVuZGVmaW5lZFNRTE9wZXJhdG9yRXJyb3JcbiAgICAgKiBAcGFyYW0gc3RtdCB7Ym9vbGVhbnxzdHJpbmd9IHVzZSBwcmVwYXJlZCBzdGF0ZW1lbnRzIC0gZmFsc2UsICdxdWVzdGlvbl9tYXJrJywgJ251bWJlcmVkJywgJ251bWJlcmVkKEApJywgJ25hbWVkJywgJ25hbWVkKEApJ1xuICAgICAqIEBwYXJhbSBubCB7Ym9vbH0gb3V0cHV0IHdpdGggbmV3IGxpbmVzXG4gICAgICogQHBhcmFtIGRhdGEge29iamVjdH0gKG9wdGlvbmFsKSBydWxlc1xuICAgICAqIEByZXR1cm4ge29iamVjdH1cbiAgICAgKi9cbiAgICBnZXRTUUw6IGZ1bmN0aW9uKHN0bXQsIG5sLCBkYXRhKSB7XG4gICAgICAgIGRhdGEgPSAoZGF0YSA9PT0gdW5kZWZpbmVkKSA/IHRoaXMuZ2V0UnVsZXMoKSA6IGRhdGE7XG4gICAgICAgIG5sID0gKG5sID09PSB0cnVlKSA/ICdcXG4nIDogJyAnO1xuXG4gICAgICAgIGlmIChzdG10ID09PSB0cnVlKSBzdG10ID0gJ3F1ZXN0aW9uX21hcmsnO1xuICAgICAgICBpZiAodHlwZW9mIHN0bXQgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciBjb25maWcgPSBnZXRTdG10Q29uZmlnKHN0bXQpO1xuICAgICAgICAgICAgc3RtdCA9IHRoaXMuc2V0dGluZ3Muc3FsU3RhdGVtZW50c1tjb25maWdbMV1dKGNvbmZpZ1syXSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHNxbCA9IChmdW5jdGlvbiBwYXJzZShkYXRhKSB7XG4gICAgICAgICAgICBpZiAoIWRhdGEuY29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5jb25kaXRpb24gPSBzZWxmLnNldHRpbmdzLmRlZmF1bHRfY29uZGl0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFsnQU5EJywgJ09SJ10uaW5kZXhPZihkYXRhLmNvbmRpdGlvbi50b1VwcGVyQ2FzZSgpKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignVW5kZWZpbmVkU1FMQ29uZGl0aW9uJywgJ1VuYWJsZSB0byBidWlsZCBTUUwgcXVlcnkgd2l0aCBjb25kaXRpb24gXCJ7MH1cIicsIGRhdGEuY29uZGl0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkYXRhLnJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcGFydHMgPSBbXTtcblxuICAgICAgICAgICAgZGF0YS5ydWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocnVsZS5ydWxlcyAmJiBydWxlLnJ1bGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCgnKCcgKyBubCArIHBhcnNlKHJ1bGUpICsgbmwgKyAnKScgKyBubCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3FsID0gc2VsZi5zZXR0aW5ncy5zcWxPcGVyYXRvcnNbcnVsZS5vcGVyYXRvcl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcGUgPSBzZWxmLmdldE9wZXJhdG9yQnlUeXBlKHJ1bGUub3BlcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAnJztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3FsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdVbmRlZmluZWRTUUxPcGVyYXRvcicsICdVbmtub3duIFNRTCBvcGVyYXRpb24gZm9yIG9wZXJhdG9yIFwiezB9XCInLCBydWxlLm9wZXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcGUubmJfaW5wdXRzICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShydWxlLnZhbHVlIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS52YWx1ZSA9IFtydWxlLnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHYsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUrPSBzcWwuc2VwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlLnR5cGUgPT0gJ2ludGVnZXInIHx8IHJ1bGUudHlwZSA9PSAnZG91YmxlJyB8fCBydWxlLnR5cGUgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBVdGlscy5jaGFuZ2VUeXBlKHYsIHJ1bGUudHlwZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzdG10KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBVdGlscy5lc2NhcGVTdHJpbmcodik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbC5tb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9IFV0aWxzLmZtdChzcWwubW9kLCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RtdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSs9IHN0bXQuYWRkKHJ1bGUsIHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2ID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ID0gJ1xcJycgKyB2ICsgJ1xcJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSs9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHJ1bGUuZmllbGQgKyAnICcgKyBzcWwub3AucmVwbGFjZSgvXFw/LywgdmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJyAnICsgZGF0YS5jb25kaXRpb24gKyBubCk7XG4gICAgICAgIH0oZGF0YSkpO1xuXG4gICAgICAgIGlmIChzdG10KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNxbDogc3FsLFxuICAgICAgICAgICAgICAgIHBhcmFtczogc3RtdC5ydW4oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3FsOiBzcWxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBTUUwgdG8gcnVsZXNcbiAgICAgKiBAdGhyb3dzIENvbmZpZ0Vycm9yLCBTUUxQYXJzZUVycm9yLCBVbmRlZmluZWRTUUxPcGVyYXRvckVycm9yXG4gICAgICogQHBhcmFtIGRhdGEge29iamVjdH0gcXVlcnkgb2JqZWN0XG4gICAgICogQHBhcmFtIHN0bXQge2Jvb2xlYW58c3RyaW5nfSB1c2UgcHJlcGFyZWQgc3RhdGVtZW50cyAtIGZhbHNlLCAncXVlc3Rpb25fbWFyaycsICdudW1iZXJlZCcsICdudW1iZXJlZChAKScsICduYW1lZCcsICduYW1lZChAKSdcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAgICovXG4gICAgZ2V0UnVsZXNGcm9tU1FMOiBmdW5jdGlvbihkYXRhLCBzdG10KSB7XG4gICAgICAgIGlmICghKCdTUUxQYXJzZXInIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgIFV0aWxzLmVycm9yKCdNaXNzaW5nTGlicmFyeScsICdTUUxQYXJzZXIgaXMgcmVxdWlyZWQgdG8gcGFyc2UgU1FMIHF1ZXJpZXMuIEdldCBpdCBoZXJlIGh0dHBzOi8vZ2l0aHViLmNvbS9taXN0aWMxMDAvc3FsLXBhcnNlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZGF0YSA9IHsgc3FsOiBkYXRhIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RtdCA9PT0gdHJ1ZSkgc3RtdCA9ICdxdWVzdGlvbl9tYXJrJztcbiAgICAgICAgaWYgKHR5cGVvZiBzdG10ID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgY29uZmlnID0gZ2V0U3RtdENvbmZpZyhzdG10KTtcbiAgICAgICAgICAgIHN0bXQgPSB0aGlzLnNldHRpbmdzLnNxbFJ1bGVTdGF0ZW1lbnRbY29uZmlnWzFdXShkYXRhLnBhcmFtcywgY29uZmlnWzJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdG10KSB7XG4gICAgICAgICAgICBkYXRhLnNxbCA9IHN0bXQuZXNjKGRhdGEuc3FsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLnNxbC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ1NFTEVDVCcpICE9PSAwKSB7XG4gICAgICAgICAgICBkYXRhLnNxbCA9ICdTRUxFQ1QgKiBGUk9NIHRhYmxlIFdIRVJFICcgKyBkYXRhLnNxbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJzZWQgPSBTUUxQYXJzZXIucGFyc2UoZGF0YS5zcWwpO1xuXG4gICAgICAgIGlmICghcGFyc2VkLndoZXJlKSB7XG4gICAgICAgICAgICBVdGlscy5lcnJvcignU1FMUGFyc2UnLCAnTm8gV0hFUkUgY2xhdXNlIGZvdW5kJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3V0ID0ge1xuICAgICAgICAgICAgY29uZGl0aW9uOiB0aGlzLnNldHRpbmdzLmRlZmF1bHRfY29uZGl0aW9uLFxuICAgICAgICAgICAgcnVsZXM6IFtdXG4gICAgICAgIH07XG4gICAgICAgIHZhciBjdXJyID0gb3V0O1xuXG4gICAgICAgIChmdW5jdGlvbiBmbGF0dGVuKGRhdGEsIGkpIHtcbiAgICAgICAgICAgIC8vIGl0J3MgYSBub2RlXG4gICAgICAgICAgICBpZiAoWydBTkQnLCAnT1InXS5pbmRleE9mKGRhdGEub3BlcmF0aW9uLnRvVXBwZXJDYXNlKCkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhIHN1Yi1ncm91cCBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCB0aGUgc2FtZSBhbmQgaXQncyBub3QgdGhlIGZpcnN0IGxldmVsXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwICYmIGN1cnIuY29uZGl0aW9uICE9IGRhdGEub3BlcmF0aW9uLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3Vyci5ydWxlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogc2VsZi5zZXR0aW5ncy5kZWZhdWx0X2NvbmRpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzOiBbXVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3Vyci5ydWxlc1tjdXJyLnJ1bGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1cnIuY29uZGl0aW9uID0gZGF0YS5vcGVyYXRpb24udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpKys7XG5cbiAgICAgICAgICAgICAgICAvLyBzb21lIG1hZ2ljICFcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGN1cnI7XG4gICAgICAgICAgICAgICAgZmxhdHRlbihkYXRhLmxlZnQsIGkpO1xuXG4gICAgICAgICAgICAgICAgY3VyciA9IG5leHQ7XG4gICAgICAgICAgICAgICAgZmxhdHRlbihkYXRhLnJpZ2h0LCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGl0J3MgYSBsZWFmXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZWZ0LnZhbHVlID09PSB1bmRlZmluZWQgfHwgZGF0YS5yaWdodC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdTUUxQYXJzZScsICdNaXNzaW5nIGZpZWxkIGFuZC9vciB2YWx1ZScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICgkLmlzUGxhaW5PYmplY3QoZGF0YS5yaWdodC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ1NRTFBhcnNlJywgJ1ZhbHVlIGZvcm1hdCBub3Qgc3VwcG9ydGVkIGZvciB7MH0uJywgZGF0YS5sZWZ0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IGFycmF5XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICgkLmlzQXJyYXkoZGF0YS5yaWdodC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBkYXRhLnJpZ2h0LnZhbHVlLm1hcChmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGRhdGEucmlnaHQudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gZ2V0IGFjdHVhbCB2YWx1ZXNcbiAgICAgICAgICAgICAgICBpZiAoc3RtdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJC5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoc3RtdC5wYXJzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHN0bXQucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY29udmVydCBvcGVyYXRvclxuICAgICAgICAgICAgICAgIHZhciBvcGVyYXRvciA9IGRhdGEub3BlcmF0aW9uLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKG9wZXJhdG9yID09ICc8PicpIG9wZXJhdG9yID0gJyE9JztcblxuICAgICAgICAgICAgICAgIHZhciBzcWxybDtcbiAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT0gJ05PVCBMSUtFJykge1xuICAgICAgICAgICAgICAgICAgICBzcWxybCA9IHNlbGYuc2V0dGluZ3Muc3FsUnVsZU9wZXJhdG9yWydMSUtFJ107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcWxybCA9IHNlbGYuc2V0dGluZ3Muc3FsUnVsZU9wZXJhdG9yW29wZXJhdG9yXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3FscmwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignVW5kZWZpbmVkU1FMT3BlcmF0b3InLCAnSW52YWxpZCBTUUwgb3BlcmF0aW9uIFwiezB9XCIuJywgZGF0YS5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBvcFZhbCA9IHNxbHJsLmNhbGwodGhpcywgdmFsdWUsIGRhdGEub3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT0gJ05PVCBMSUtFJykgb3BWYWwub3AgPSAnbm90XycgKyBvcFZhbC5vcDtcblxuICAgICAgICAgICAgICAgIHZhciBsZWZ0X3ZhbHVlID0gZGF0YS5sZWZ0LnZhbHVlcy5qb2luKCcuJyk7XG5cbiAgICAgICAgICAgICAgICBjdXJyLnJ1bGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogc2VsZi5jaGFuZ2UoJ2dldFNRTEZpZWxkSUQnLCBsZWZ0X3ZhbHVlLCB2YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBsZWZ0X3ZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogb3BWYWwub3AsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcFZhbC52YWxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfShwYXJzZWQud2hlcmUuY29uZGl0aW9ucywgMCkpO1xuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBydWxlcyBmcm9tIFNRTFxuICAgICAqIEBwYXJhbSBkYXRhIHtvYmplY3R9XG4gICAgICovXG4gICAgc2V0UnVsZXNGcm9tU1FMOiBmdW5jdGlvbihkYXRhLCBzdG10KSB7XG4gICAgICAgIHRoaXMuc2V0UnVsZXModGhpcy5nZXRSdWxlc0Zyb21TUUwoZGF0YSwgc3RtdCkpO1xuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiBnZXRTdG10Q29uZmlnKHN0bXQpIHtcbiAgICB2YXIgY29uZmlnID0gc3RtdC5tYXRjaCgvKHF1ZXN0aW9uX21hcmt8bnVtYmVyZWR8bmFtZWQpKD86XFwoKC4pXFwpKT8vKTtcbiAgICBpZiAoIWNvbmZpZykgY29uZmlnID0gW251bGwsICdxdWVzdGlvbl9tYXJrJywgdW5kZWZpbmVkXTtcbiAgICByZXR1cm4gY29uZmlnO1xufVxuXG5cbi8qIVxuICogalF1ZXJ5IFF1ZXJ5QnVpbGRlciBVbmlxdWUgRmlsdGVyXG4gKiBBbGxvd3MgdG8gZGVmaW5lIHNvbWUgZmlsdGVycyBhcyBcInVuaXF1ZVwiOiBpZSB3aGljaCBjYW4gYmUgdXNlZCBmb3Igb25seSBvbmUgcnVsZSwgZ2xvYmFsbHkgb3IgaW4gdGhlIHNhbWUgZ3JvdXAuXG4gKi9cblxuUXVlcnlCdWlsZGVyLmRlZmluZSgndW5pcXVlLWZpbHRlcicsIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3RhdHVzLnVzZWRfZmlsdGVycyA9IHt9O1xuXG4gICAgdGhpcy5vbignYWZ0ZXJVcGRhdGVSdWxlRmlsdGVyJywgdGhpcy51cGRhdGVEaXNhYmxlZEZpbHRlcnMpO1xuICAgIHRoaXMub24oJ2FmdGVyRGVsZXRlUnVsZScsIHRoaXMudXBkYXRlRGlzYWJsZWRGaWx0ZXJzKTtcbiAgICB0aGlzLm9uKCdhZnRlckNyZWF0ZVJ1bGVGaWx0ZXJzJywgdGhpcy5hcHBseURpc2FibGVkRmlsdGVycyk7XG4gICAgdGhpcy5vbignYWZ0ZXJSZXNldCcsIHRoaXMuY2xlYXJEaXNhYmxlZEZpbHRlcnMpO1xuICAgIHRoaXMub24oJ2FmdGVyQ2xlYXInLCB0aGlzLmNsZWFyRGlzYWJsZWRGaWx0ZXJzKTtcbn0pO1xuXG5RdWVyeUJ1aWxkZXIuZXh0ZW5kKHtcbiAgICB1cGRhdGVEaXNhYmxlZEZpbHRlcnM6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHNlbGYgPSBlID8gZS5idWlsZGVyIDogdGhpcztcblxuICAgICAgICBzZWxmLnN0YXR1cy51c2VkX2ZpbHRlcnMgPSB7fTtcblxuICAgICAgICBpZiAoIXNlbGYubW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB1c2VkIGZpbHRlcnNcbiAgICAgICAgKGZ1bmN0aW9uIHdhbGsoZ3JvdXApIHtcbiAgICAgICAgICAgIGdyb3VwLmVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgICAgIGlmIChydWxlLmZpbHRlciAmJiBydWxlLmZpbHRlci51bmlxdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLnN0YXR1cy51c2VkX2ZpbHRlcnNbcnVsZS5maWx0ZXIuaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXR1cy51c2VkX2ZpbHRlcnNbcnVsZS5maWx0ZXIuaWRdID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUuZmlsdGVyLnVuaXF1ZSA9PSAnZ3JvdXAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXR1cy51c2VkX2ZpbHRlcnNbcnVsZS5maWx0ZXIuaWRdLnB1c2gocnVsZS5wYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgICAgICAgICB3YWxrKGdyb3VwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KHNlbGYubW9kZWwucm9vdCkpO1xuXG4gICAgICAgIHNlbGYuYXBwbHlEaXNhYmxlZEZpbHRlcnMoZSk7XG4gICAgfSxcblxuICAgIGNsZWFyRGlzYWJsZWRGaWx0ZXJzOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBzZWxmID0gZSA/IGUuYnVpbGRlciA6IHRoaXM7XG5cbiAgICAgICAgc2VsZi5zdGF0dXMudXNlZF9maWx0ZXJzID0ge307XG5cbiAgICAgICAgc2VsZi5hcHBseURpc2FibGVkRmlsdGVycyhlKTtcbiAgICB9LFxuXG4gICAgYXBwbHlEaXNhYmxlZEZpbHRlcnM6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHNlbGYgPSBlID8gZS5idWlsZGVyIDogdGhpcztcblxuICAgICAgICAvLyByZS1lbmFibGUgZXZlcnl0aGluZ1xuICAgICAgICBzZWxmLiRlbC5maW5kKFNlbGVjdG9ycy5maWx0ZXJfY29udGFpbmVyICsgJyBvcHRpb24nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblxuICAgICAgICAvLyBkaXNhYmxlIHNvbWVcbiAgICAgICAgJC5lYWNoKHNlbGYuc3RhdHVzLnVzZWRfZmlsdGVycywgZnVuY3Rpb24oZmlsdGVySWQsIGdyb3Vwcykge1xuICAgICAgICAgICAgaWYgKGdyb3Vwcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBzZWxmLiRlbC5maW5kKFNlbGVjdG9ycy5maWx0ZXJfY29udGFpbmVyICsgJyBvcHRpb25bdmFsdWU9XCInICsgZmlsdGVySWQgKyAnXCJdOm5vdCg6c2VsZWN0ZWQpJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLmVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS4kZWwuZmluZChTZWxlY3RvcnMuZmlsdGVyX2NvbnRhaW5lciArICcgb3B0aW9uW3ZhbHVlPVwiJyArIGZpbHRlcklkICsgJ1wiXTpub3QoOnNlbGVjdGVkKScpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyB1cGRhdGUgU2VsZWN0cGlja2VyXG4gICAgICAgIGlmIChzZWxmLnNldHRpbmdzLnBsdWdpbnMgJiYgc2VsZi5zZXR0aW5ncy5wbHVnaW5zWydidC1zZWxlY3RwaWNrZXInXSkge1xuICAgICAgICAgICAgc2VsZi4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9maWx0ZXIpLnNlbGVjdHBpY2tlcigncmVuZGVyJyk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgMi4zLjNcbiAqIExvY2FsZTogRW5nbGlzaCAoZW4pXG4gKiBBdXRob3I6IERhbWllbiBcIk1pc3RpY1wiIFNvcmVsLCBodHRwOi8vd3d3LnN0cmFuZ2VwbGFuZXQuZnJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVClcbiAqL1xuXG5RdWVyeUJ1aWxkZXIucmVnaW9uYWxbJ2VuJ10gPSB7XG4gIFwiX19sb2NhbGVcIjogXCJFbmdsaXNoIChlbilcIixcbiAgXCJfX2F1dGhvclwiOiBcIkRhbWllbiBcXFwiTWlzdGljXFxcIiBTb3JlbCwgaHR0cDovL3d3dy5zdHJhbmdlcGxhbmV0LmZyXCIsXG4gIFwiYWRkX3J1bGVcIjogXCJBZGQgcnVsZVwiLFxuICBcImFkZF9ncm91cFwiOiBcIkFkZCBncm91cFwiLFxuICBcImRlbGV0ZV9ydWxlXCI6IFwiRGVsZXRlXCIsXG4gIFwiZGVsZXRlX2dyb3VwXCI6IFwiRGVsZXRlXCIsXG4gIFwiY29uZGl0aW9uc1wiOiB7XG4gICAgXCJBTkRcIjogXCJBTkRcIixcbiAgICBcIk9SXCI6IFwiT1JcIlxuICB9LFxuICBcIm9wZXJhdG9yc1wiOiB7XG4gICAgXCJlcXVhbFwiOiBcImVxdWFsXCIsXG4gICAgXCJub3RfZXF1YWxcIjogXCJub3QgZXF1YWxcIixcbiAgICBcImluXCI6IFwiaW5cIixcbiAgICBcIm5vdF9pblwiOiBcIm5vdCBpblwiLFxuICAgIFwibGVzc1wiOiBcImxlc3NcIixcbiAgICBcImxlc3Nfb3JfZXF1YWxcIjogXCJsZXNzIG9yIGVxdWFsXCIsXG4gICAgXCJncmVhdGVyXCI6IFwiZ3JlYXRlclwiLFxuICAgIFwiZ3JlYXRlcl9vcl9lcXVhbFwiOiBcImdyZWF0ZXIgb3IgZXF1YWxcIixcbiAgICBcImJldHdlZW5cIjogXCJiZXR3ZWVuXCIsXG4gICAgXCJub3RfYmV0d2VlblwiOiBcIm5vdCBiZXR3ZWVuXCIsXG4gICAgXCJiZWdpbnNfd2l0aFwiOiBcImJlZ2lucyB3aXRoXCIsXG4gICAgXCJub3RfYmVnaW5zX3dpdGhcIjogXCJkb2Vzbid0IGJlZ2luIHdpdGhcIixcbiAgICBcImNvbnRhaW5zXCI6IFwiY29udGFpbnNcIixcbiAgICBcIm5vdF9jb250YWluc1wiOiBcImRvZXNuJ3QgY29udGFpblwiLFxuICAgIFwiZW5kc193aXRoXCI6IFwiZW5kcyB3aXRoXCIsXG4gICAgXCJub3RfZW5kc193aXRoXCI6IFwiZG9lc24ndCBlbmQgd2l0aFwiLFxuICAgIFwiaXNfZW1wdHlcIjogXCJpcyBlbXB0eVwiLFxuICAgIFwiaXNfbm90X2VtcHR5XCI6IFwiaXMgbm90IGVtcHR5XCIsXG4gICAgXCJpc19udWxsXCI6IFwiaXMgbnVsbFwiLFxuICAgIFwiaXNfbm90X251bGxcIjogXCJpcyBub3QgbnVsbFwiXG4gIH0sXG4gIFwiZXJyb3JzXCI6IHtcbiAgICBcIm5vX2ZpbHRlclwiOiBcIk5vIGZpbHRlciBzZWxlY3RlZFwiLFxuICAgIFwiZW1wdHlfZ3JvdXBcIjogXCJUaGUgZ3JvdXAgaXMgZW1wdHlcIixcbiAgICBcInJhZGlvX2VtcHR5XCI6IFwiTm8gdmFsdWUgc2VsZWN0ZWRcIixcbiAgICBcImNoZWNrYm94X2VtcHR5XCI6IFwiTm8gdmFsdWUgc2VsZWN0ZWRcIixcbiAgICBcInNlbGVjdF9lbXB0eVwiOiBcIk5vIHZhbHVlIHNlbGVjdGVkXCIsXG4gICAgXCJzdHJpbmdfZW1wdHlcIjogXCJFbXB0eSB2YWx1ZVwiLFxuICAgIFwic3RyaW5nX2V4Y2VlZF9taW5fbGVuZ3RoXCI6IFwiTXVzdCBjb250YWluIGF0IGxlYXN0IHswfSBjaGFyYWN0ZXJzXCIsXG4gICAgXCJzdHJpbmdfZXhjZWVkX21heF9sZW5ndGhcIjogXCJNdXN0IG5vdCBjb250YWluIG1vcmUgdGhhbiB7MH0gY2hhcmFjdGVyc1wiLFxuICAgIFwic3RyaW5nX2ludmFsaWRfZm9ybWF0XCI6IFwiSW52YWxpZCBmb3JtYXQgKHswfSlcIixcbiAgICBcIm51bWJlcl9uYW5cIjogXCJOb3QgYSBudW1iZXJcIixcbiAgICBcIm51bWJlcl9ub3RfaW50ZWdlclwiOiBcIk5vdCBhbiBpbnRlZ2VyXCIsXG4gICAgXCJudW1iZXJfbm90X2RvdWJsZVwiOiBcIk5vdCBhIHJlYWwgbnVtYmVyXCIsXG4gICAgXCJudW1iZXJfZXhjZWVkX21pblwiOiBcIk11c3QgYmUgZ3JlYXRlciB0aGFuIHswfVwiLFxuICAgIFwibnVtYmVyX2V4Y2VlZF9tYXhcIjogXCJNdXN0IGJlIGxvd2VyIHRoYW4gezB9XCIsXG4gICAgXCJudW1iZXJfd3Jvbmdfc3RlcFwiOiBcIk11c3QgYmUgYSBtdWx0aXBsZSBvZiB7MH1cIixcbiAgICBcImRhdGV0aW1lX2VtcHR5XCI6IFwiRW1wdHkgdmFsdWVcIixcbiAgICBcImRhdGV0aW1lX2ludmFsaWRcIjogXCJJbnZhbGlkIGRhdGUgZm9ybWF0ICh7MH0pXCIsXG4gICAgXCJkYXRldGltZV9leGNlZWRfbWluXCI6IFwiTXVzdCBiZSBhZnRlciB7MH1cIixcbiAgICBcImRhdGV0aW1lX2V4Y2VlZF9tYXhcIjogXCJNdXN0IGJlIGJlZm9yZSB7MH1cIixcbiAgICBcImJvb2xlYW5fbm90X3ZhbGlkXCI6IFwiTm90IGEgYm9vbGVhblwiLFxuICAgIFwib3BlcmF0b3Jfbm90X211bHRpcGxlXCI6IFwiT3BlcmF0b3IgezB9IGNhbm5vdCBhY2NlcHQgbXVsdGlwbGUgdmFsdWVzXCJcbiAgfSxcbiAgXCJpbnZlcnRcIjogXCJJbnZlcnRcIlxufTtcblxuUXVlcnlCdWlsZGVyLmRlZmF1bHRzKHsgbGFuZ19jb2RlOiAnZW4nIH0pO1xufSkpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9qYWt1YmZhamt1cy9Eb2N1bWVudHMvcHJhY2UvdmVuaWNlLWRlbW8vdmVuaWNlLWpzL2xpYi9xdWVyeS1idWlsZGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA1MDdcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 508:
/***/ function(module, exports, __webpack_require__) {

	eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(509);\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(511)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../web/js/node_modules/css-loader/index.js!./query-builder.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../web/js/node_modules/css-loader/index.js!./query-builder.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9qYWt1YmZhamt1cy9Eb2N1bWVudHMvcHJhY2UvdmVuaWNlLWRlbW8vdmVuaWNlLWpzL2xpYi9xdWVyeS1idWlsZGVyLmNzcz8wNmQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL3dlYi9qcy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3F1ZXJ5LWJ1aWxkZXIuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL3dlYi9qcy9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vd2ViL2pzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vcXVlcnktYnVpbGRlci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vd2ViL2pzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vcXVlcnktYnVpbGRlci5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9qYWt1YmZhamt1cy9Eb2N1bWVudHMvcHJhY2UvdmVuaWNlLWRlbW8vdmVuaWNlLWpzL2xpYi9xdWVyeS1idWlsZGVyLmNzc1xuLy8gbW9kdWxlIGlkID0gNTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 509:
/***/ function(module, exports, __webpack_require__) {

	eval("exports = module.exports = __webpack_require__(510)();\n// imports\n\n\n// module\nexports.push([module.id, \"/*!\\n * jQuery QueryBuilder 2.3.3\\n * Copyright 2014-2016 Damien \\\"Mistic\\\" Sorel (http://www.strangeplanet.fr)\\n * Licensed under MIT (http://opensource.org/licenses/MIT)\\n */\\n\\n.query-builder .rule-container,.query-builder .rule-placeholder,.query-builder .rules-group-container{\\n    position:relative;\\n    margin:4px 0;\\n    border-radius:5px;\\n    padding:5px;\\n    border:1px solid #EEE;\\n    background:rgba(255,255,255,.9)\\n}\\n.query-builder .drag-handle,.query-builder .error-container,.query-builder .rule-container .rule-filter-container,.query-builder .rule-container .rule-operator-container,.query-builder .rule-container .rule-value-container{\\n    display:inline-block;\\n    margin:0 5px 0 0;\\n    vertical-align:middle\\n}\\n.query-builder .rules-group-container{\\n     padding:10px 10px 6px;\\n    border:1px solid #DCC896;\\n    background:rgba(250,240,210,.5)\\n}\\n.query-builder .rules-group-header{\\n    margin-bottom:10px\\n}\\n.query-builder .rules-group-header .group-conditions .btn.readonly:not(.active),.query-builder .rules-group-header .group-conditions input[name$=_cond]{\\n    display:none\\n}\\n.query-builder .rules-group-header .group-conditions .btn.readonly{\\n    border-radius:3px\\n}\\n.query-builder .rules-list{\\n    list-style:none;\\n    padding:0 0 0 15px;\\n    margin:0\\n}\\n.query-builder .rule-value-container{\\n    border-left:1px solid #DDD;\\n    padding-left:5px\\n}\\n.query-builder .rule-value-container label{\\n    margin-bottom:0;\\n    font-weight:400\\n}\\n.query-builder .rule-value-container label.block{\\n    display:block\\n}\\n.query-builder .rule-value-container input[type=number],.query-builder .rule-value-container input[type=text],.query-builder .rule-value-container select{\\n    padding:1px\\n}\\n.query-builder .error-container{\\n    display:none;\\n    cursor:help;\\n    color:red\\n}\\n.query-builder .has-error{\\n    background-color:#FDD;\\n    border-color:#F99\\n}\\n.query-builder .has-error .error-container{\\n    display:inline-block!important\\n}\\n.query-builder .rules-list>::after,.query-builder .rules-list>::before{\\n    content:'';\\n    position:absolute;\\n    left:-10px;\\n    width:10px;\\n    height:calc(50% + 4px);\\n    border-color:#CCC;\\n    border-style:solid\\n}\\n.query-builder .rules-list>::before{\\n    top:-4px;\\n    border-width:0 0 2px 2px\\n}\\n.query-builder .rules-list>::after{\\n    top:50%;\\n    border-width:0 0 0 2px\\n}\\n.query-builder .rules-list>:first-child::before{\\n    top:-12px;\\n    height:calc(50% + 14px)\\n}\\n.query-builder .rules-list>:last-child::before{\\n    border-radius:0 0 0 4px\\n}\\n.query-builder .rules-list>:last-child::after{\\n    display:none\\n}\\n.query-builder .error-container+.tooltip .tooltip-inner{\\n    color:#F99!important\\n}\\n.query-builder p.filter-description{\\n    margin:5px 0 0;\\n    background:#D9EDF7;\\n    border:1px solid #BCE8F1;\\n    color:#31708F;\\n    border-radius:5px;\\n    padding:2.5px 5px;\\n    font-size:.8em\\n}\\n.query-builder .rules-group-header [data-invert]{\\n    margin-left:5px\\n}\\n.query-builder .drag-handle{\\n    cursor:move;\\n    vertical-align:middle;\\n    margin-left:5px\\n}\\n.query-builder .dragged{\\n    opacity:.5\\n}\\n.query-builder .rule-placeholder{\\n    border:1px dashed #BBB;\\n    opacity:.7\\n}\", \"\"]);\n\n// exports\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9qYWt1YmZhamt1cy9Eb2N1bWVudHMvcHJhY2UvdmVuaWNlLWRlbW8vdmVuaWNlLWpzL2xpYi9xdWVyeS1idWlsZGVyLmNzcz83MmZmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL3dlYi9qcy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIVxcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgMi4zLjNcXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE2IERhbWllbiBcXFwiTWlzdGljXFxcIiBTb3JlbCAoaHR0cDovL3d3dy5zdHJhbmdlcGxhbmV0LmZyKVxcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVClcXG4gKi9cXG5cXG4ucXVlcnktYnVpbGRlciAucnVsZS1jb250YWluZXIsLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGUtcGxhY2Vob2xkZXIsLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGVzLWdyb3VwLWNvbnRhaW5lcntcXG4gICAgcG9zaXRpb246cmVsYXRpdmU7XFxuICAgIG1hcmdpbjo0cHggMDtcXG4gICAgYm9yZGVyLXJhZGl1czo1cHg7XFxuICAgIHBhZGRpbmc6NXB4O1xcbiAgICBib3JkZXI6MXB4IHNvbGlkICNFRUU7XFxuICAgIGJhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuOSlcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLmRyYWctaGFuZGxlLC5xdWVyeS1idWlsZGVyIC5lcnJvci1jb250YWluZXIsLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGUtY29udGFpbmVyIC5ydWxlLWZpbHRlci1jb250YWluZXIsLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGUtY29udGFpbmVyIC5ydWxlLW9wZXJhdG9yLWNvbnRhaW5lciwucXVlcnktYnVpbGRlciAucnVsZS1jb250YWluZXIgLnJ1bGUtdmFsdWUtY29udGFpbmVye1xcbiAgICBkaXNwbGF5OmlubGluZS1ibG9jaztcXG4gICAgbWFyZ2luOjAgNXB4IDAgMDtcXG4gICAgdmVydGljYWwtYWxpZ246bWlkZGxlXFxufVxcbi5xdWVyeS1idWlsZGVyIC5ydWxlcy1ncm91cC1jb250YWluZXJ7XFxuICAgICBwYWRkaW5nOjEwcHggMTBweCA2cHg7XFxuICAgIGJvcmRlcjoxcHggc29saWQgI0RDQzg5NjtcXG4gICAgYmFja2dyb3VuZDpyZ2JhKDI1MCwyNDAsMjEwLC41KVxcbn1cXG4ucXVlcnktYnVpbGRlciAucnVsZXMtZ3JvdXAtaGVhZGVye1xcbiAgICBtYXJnaW4tYm90dG9tOjEwcHhcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGVzLWdyb3VwLWhlYWRlciAuZ3JvdXAtY29uZGl0aW9ucyAuYnRuLnJlYWRvbmx5Om5vdCguYWN0aXZlKSwucXVlcnktYnVpbGRlciAucnVsZXMtZ3JvdXAtaGVhZGVyIC5ncm91cC1jb25kaXRpb25zIGlucHV0W25hbWUkPV9jb25kXXtcXG4gICAgZGlzcGxheTpub25lXFxufVxcbi5xdWVyeS1idWlsZGVyIC5ydWxlcy1ncm91cC1oZWFkZXIgLmdyb3VwLWNvbmRpdGlvbnMgLmJ0bi5yZWFkb25seXtcXG4gICAgYm9yZGVyLXJhZGl1czozcHhcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGVzLWxpc3R7XFxuICAgIGxpc3Qtc3R5bGU6bm9uZTtcXG4gICAgcGFkZGluZzowIDAgMCAxNXB4O1xcbiAgICBtYXJnaW46MFxcbn1cXG4ucXVlcnktYnVpbGRlciAucnVsZS12YWx1ZS1jb250YWluZXJ7XFxuICAgIGJvcmRlci1sZWZ0OjFweCBzb2xpZCAjREREO1xcbiAgICBwYWRkaW5nLWxlZnQ6NXB4XFxufVxcbi5xdWVyeS1idWlsZGVyIC5ydWxlLXZhbHVlLWNvbnRhaW5lciBsYWJlbHtcXG4gICAgbWFyZ2luLWJvdHRvbTowO1xcbiAgICBmb250LXdlaWdodDo0MDBcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGUtdmFsdWUtY29udGFpbmVyIGxhYmVsLmJsb2Nre1xcbiAgICBkaXNwbGF5OmJsb2NrXFxufVxcbi5xdWVyeS1idWlsZGVyIC5ydWxlLXZhbHVlLWNvbnRhaW5lciBpbnB1dFt0eXBlPW51bWJlcl0sLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGUtdmFsdWUtY29udGFpbmVyIGlucHV0W3R5cGU9dGV4dF0sLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGUtdmFsdWUtY29udGFpbmVyIHNlbGVjdHtcXG4gICAgcGFkZGluZzoxcHhcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLmVycm9yLWNvbnRhaW5lcntcXG4gICAgZGlzcGxheTpub25lO1xcbiAgICBjdXJzb3I6aGVscDtcXG4gICAgY29sb3I6cmVkXFxufVxcbi5xdWVyeS1idWlsZGVyIC5oYXMtZXJyb3J7XFxuICAgIGJhY2tncm91bmQtY29sb3I6I0ZERDtcXG4gICAgYm9yZGVyLWNvbG9yOiNGOTlcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLmhhcy1lcnJvciAuZXJyb3ItY29udGFpbmVye1xcbiAgICBkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnRcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGVzLWxpc3Q+OjphZnRlciwucXVlcnktYnVpbGRlciAucnVsZXMtbGlzdD46OmJlZm9yZXtcXG4gICAgY29udGVudDonJztcXG4gICAgcG9zaXRpb246YWJzb2x1dGU7XFxuICAgIGxlZnQ6LTEwcHg7XFxuICAgIHdpZHRoOjEwcHg7XFxuICAgIGhlaWdodDpjYWxjKDUwJSArIDRweCk7XFxuICAgIGJvcmRlci1jb2xvcjojQ0NDO1xcbiAgICBib3JkZXItc3R5bGU6c29saWRcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGVzLWxpc3Q+OjpiZWZvcmV7XFxuICAgIHRvcDotNHB4O1xcbiAgICBib3JkZXItd2lkdGg6MCAwIDJweCAycHhcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGVzLWxpc3Q+OjphZnRlcntcXG4gICAgdG9wOjUwJTtcXG4gICAgYm9yZGVyLXdpZHRoOjAgMCAwIDJweFxcbn1cXG4ucXVlcnktYnVpbGRlciAucnVsZXMtbGlzdD46Zmlyc3QtY2hpbGQ6OmJlZm9yZXtcXG4gICAgdG9wOi0xMnB4O1xcbiAgICBoZWlnaHQ6Y2FsYyg1MCUgKyAxNHB4KVxcbn1cXG4ucXVlcnktYnVpbGRlciAucnVsZXMtbGlzdD46bGFzdC1jaGlsZDo6YmVmb3Jle1xcbiAgICBib3JkZXItcmFkaXVzOjAgMCAwIDRweFxcbn1cXG4ucXVlcnktYnVpbGRlciAucnVsZXMtbGlzdD46bGFzdC1jaGlsZDo6YWZ0ZXJ7XFxuICAgIGRpc3BsYXk6bm9uZVxcbn1cXG4ucXVlcnktYnVpbGRlciAuZXJyb3ItY29udGFpbmVyKy50b29sdGlwIC50b29sdGlwLWlubmVye1xcbiAgICBjb2xvcjojRjk5IWltcG9ydGFudFxcbn1cXG4ucXVlcnktYnVpbGRlciBwLmZpbHRlci1kZXNjcmlwdGlvbntcXG4gICAgbWFyZ2luOjVweCAwIDA7XFxuICAgIGJhY2tncm91bmQ6I0Q5RURGNztcXG4gICAgYm9yZGVyOjFweCBzb2xpZCAjQkNFOEYxO1xcbiAgICBjb2xvcjojMzE3MDhGO1xcbiAgICBib3JkZXItcmFkaXVzOjVweDtcXG4gICAgcGFkZGluZzoyLjVweCA1cHg7XFxuICAgIGZvbnQtc2l6ZTouOGVtXFxufVxcbi5xdWVyeS1idWlsZGVyIC5ydWxlcy1ncm91cC1oZWFkZXIgW2RhdGEtaW52ZXJ0XXtcXG4gICAgbWFyZ2luLWxlZnQ6NXB4XFxufVxcbi5xdWVyeS1idWlsZGVyIC5kcmFnLWhhbmRsZXtcXG4gICAgY3Vyc29yOm1vdmU7XFxuICAgIHZlcnRpY2FsLWFsaWduOm1pZGRsZTtcXG4gICAgbWFyZ2luLWxlZnQ6NXB4XFxufVxcbi5xdWVyeS1idWlsZGVyIC5kcmFnZ2Vke1xcbiAgICBvcGFjaXR5Oi41XFxufVxcbi5xdWVyeS1idWlsZGVyIC5ydWxlLXBsYWNlaG9sZGVye1xcbiAgICBib3JkZXI6MXB4IGRhc2hlZCAjQkJCO1xcbiAgICBvcGFjaXR5Oi43XFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyIS9Vc2Vycy9qYWt1YmZhamt1cy9Eb2N1bWVudHMvcHJhY2UvdmVuaWNlLWRlbW8vdmVuaWNlLWpzL2xpYi9xdWVyeS1idWlsZGVyLmNzc1xuLy8gbW9kdWxlIGlkID0gNTA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 510:
/***/ function(module, exports) {

	eval("/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcz9kYTA0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0dmFyIGxpc3QgPSBbXTtcclxuXHJcblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdH07XHJcblxyXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdHJldHVybiBsaXN0O1xyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcbi8vIG1vZHVsZSBpZCA9IDUxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 511:
/***/ function(module, exports, __webpack_require__) {

	eval("/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(false) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTExLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzP2I5ODAiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxudmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHR2YXIgbWVtbztcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdH0pLFxyXG5cdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0fSksXHJcblx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xyXG5cdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblxyXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHJcblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdHZhciBzdHlsZXMgPSBbXTtcclxuXHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0fVxyXG5cdHJldHVybiBzdHlsZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0aWYoaWR4ID49IDApIHtcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdHJldHVybiBsaW5rRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblxyXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0dXBkYXRlKG9iaik7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0fTtcclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblxyXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHJcblx0aWYobWVkaWEpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHR9XHJcblxyXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHR9XHJcblxyXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cclxuXHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHJcblx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblxyXG5cdGlmKG9sZFNyYylcclxuXHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuLy8gbW9kdWxlIGlkID0gNTExXG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 512:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BaseGridContainer = function (_React$Component) {\n    _inherits(BaseGridContainer, _React$Component);\n\n    function BaseGridContainer(props) {\n        _classCallCheck(this, BaseGridContainer);\n\n        var _this = _possibleConstructorReturn(this, (BaseGridContainer.__proto__ || Object.getPrototypeOf(BaseGridContainer)).call(this, props));\n\n        _this.store = props.store;\n        _this.dispatch = props.store.dispatch.bind(props.store);\n\n        _this.state = _extends({}, _this.store.getState(), {\n            isEditMode: false,\n            showDetailId: null,\n            showQueryBuilder: _this.__showQueryBuilder && !!props.filter\n        });\n        return _this;\n    }\n\n    /**\n     * After mount (initial render) react callback\n     */\n\n\n    _createClass(BaseGridContainer, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            // Attach main listener\n            this.store.addListener(this.onStateChange.bind(this));\n            // Initial call\n            this.onStateChange();\n        }\n\n        /**\n         * Update view start point\n         */\n\n    }, {\n        key: 'onStateChange',\n        value: function onStateChange() {\n            this.setState(this.store.getState());\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return 'Not implemented';\n        }\n    }]);\n\n    return BaseGridContainer;\n}(_react2.default.Component);\n\nexports.default = BaseGridContainer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL0Jhc2VHcmlkQ29udGFpbmVyLmpzeD85MjBiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZUdyaWRDb250YWluZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0b3JlID0gcHJvcHMuc3RvcmU7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2ggPSBwcm9wcy5zdG9yZS5kaXNwYXRjaC5iaW5kKHByb3BzLnN0b3JlKTtcblxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICAuLi50aGlzLnN0b3JlLmdldFN0YXRlKCksXG4gICAgICAgICAgICBpc0VkaXRNb2RlOiBmYWxzZSxcbiAgICAgICAgICAgIHNob3dEZXRhaWxJZDogbnVsbCxcbiAgICAgICAgICAgIHNob3dRdWVyeUJ1aWxkZXI6IHRoaXMuX19zaG93UXVlcnlCdWlsZGVyICYmICEhcHJvcHMuZmlsdGVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWZ0ZXIgbW91bnQgKGluaXRpYWwgcmVuZGVyKSByZWFjdCBjYWxsYmFja1xuICAgICAqL1xuICAgIGNvbXBvbmVudERpZE1vdW50KCl7XG4gICAgICAgIC8vIEF0dGFjaCBtYWluIGxpc3RlbmVyXG4gICAgICAgIHRoaXMuc3RvcmUuYWRkTGlzdGVuZXIodGhpcy5vblN0YXRlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICAvLyBJbml0aWFsIGNhbGxcbiAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHZpZXcgc3RhcnQgcG9pbnRcbiAgICAgKi9cbiAgICBvblN0YXRlQ2hhbmdlKCl7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUodGhpcy5zdG9yZS5nZXRTdGF0ZSgpKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKXtcbiAgICAgICAgcmV0dXJuICdOb3QgaW1wbGVtZW50ZWQnO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi8uLi92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9CYXNlR3JpZENvbnRhaW5lci5qc3giXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7OztBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUpBO0FBTkE7QUFZQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7OztBQWxDQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 513:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ErrorView = function ErrorView(_ref) {\n    var reloadCallback = _ref.reloadCallback;\n\n    return _react2.default.createElement(\n        'div',\n        { className: 'info-empty-form' },\n        _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement('i', { className: 'trinity-warning', style: {\n                    fontSize: '140px'\n                } })\n        ),\n        _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n                'h2',\n                { className: 'warning' },\n                'ERROR'\n            ),\n            _react2.default.createElement(\n                'p',\n                { className: 'padding-top-10' },\n                'Something went wrong. Please try again later'\n            )\n        ),\n        _react2.default.createElement(\n            'button',\n            { className: 'button button-info', onClick: reloadCallback },\n            _react2.default.createElement('i', { className: 'padding-right-5 tiecons tiecons-loading' }),\n            'Refresh'\n        )\n    );\n};\n\nexports.default = ErrorView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9FcnJvclZpZXcuanN4Pzg3MjAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5cbmNvbnN0IEVycm9yVmlldyA9ICh7IHJlbG9hZENhbGxiYWNrIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tZW1wdHktZm9ybVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJ0cmluaXR5LXdhcm5pbmdcIiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0MHB4J1xuICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwid2FybmluZ1wiPkVSUk9SPC9oMj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJwYWRkaW5nLXRvcC0xMFwiPlNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvbiBidXR0b24taW5mb1wiIG9uQ2xpY2s9e3JlbG9hZENhbGxiYWNrfT5cbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJwYWRkaW5nLXJpZ2h0LTUgdGllY29ucyB0aWVjb25zLWxvYWRpbmdcIi8+XG4gICAgICAgICAgICAgICAgUmVmcmVzaFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCAgRXJyb3JWaWV3O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi8uLi92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvRXJyb3JWaWV3LmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBOzs7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQVZBO0FBZ0JBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 514:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ErrorView = function ErrorView() /*{ message }*/{\n    return _react2.default.createElement(\n        'div',\n        { className: 'info-empty-form' },\n        _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement('i', { className: 'trinity-info' })\n        ),\n        _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n                'h2',\n                { className: 'warning' },\n                'NO DATA'\n            )\n        )\n    );\n};\n\nexports.default = ErrorView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9FbXB0eVZpZXcuanN4PzExMTciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5jb25zdCBFcnJvclZpZXcgPSAoLyp7IG1lc3NhZ2UgfSovKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWVtcHR5LWZvcm1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+PGkgY2xhc3NOYW1lPVwidHJpbml0eS1pbmZvXCIvPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj48aDIgY2xhc3NOYW1lPVwid2FybmluZ1wiPk5PIERBVEE8L2gyPjwvZGl2PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIDxkaXYgY2xhc3NOYW1lPVwicm93IHNwYW4tbm9uZS14bGFyZ2UtMTBcIj5cbiAgICAgICAgICAgICAgICAvLyAgICAgPHA+VGhpcyBsb2cgZG9lcyBub3QgY29udGFpbiBhbnkgZGF0YSB5ZXQuPC9wPlxuICAgICAgICAgICAgICAgIC8vIDwvZGl2PlxuICAgICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgIEVycm9yVmlldztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL0VtcHR5Vmlldy5qc3giXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQVVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 515:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InitialFetchingView = function InitialFetchingView() {\n    return _react2.default.createElement(\n        'div',\n        { className: 'info-empty-form' },\n        _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement('i', { className: 'tiecons tiecons-loading-rotate tiecons-rotate font-50' })\n        ),\n        _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n                'h2',\n                { className: 'warning' },\n                'Loading data...'\n            )\n        )\n    );\n};\n\nexports.default = InitialFetchingView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9GZXRjaGluZ1ZpZXcuanN4PzcyZDQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5jb25zdCBJbml0aWFsRmV0Y2hpbmdWaWV3ID0gKCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1lbXB0eS1mb3JtXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cInRpZWNvbnMgdGllY29ucy1sb2FkaW5nLXJvdGF0ZSB0aWVjb25zLXJvdGF0ZSBmb250LTUwXCIvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ3YXJuaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgIExvYWRpbmcgZGF0YS4uLlxuICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEluaXRpYWxGZXRjaGluZ1ZpZXc7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9GZXRjaGluZ1ZpZXcuanN4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBSkE7QUFXQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 516:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DetailRow = function DetailRow(_ref) {\n    var columns = _ref.columns,\n        data = _ref.data,\n        isEditMode = _ref.isEditMode,\n        attributes = _ref.attributes,\n        onSelect = _ref.onSelect,\n        children = _ref.children;\n\n    var dataColumns = _lodash2.default.map(columns, function (col, i) {\n        var colProps = {\n            key: i,\n            style: col.hidden ? { 'display': 'none' } : {},\n            className: col.className,\n            dangerouslySetInnerHTML: { __html: data[col.name] }\n        };\n        return _react2.default.createElement('td', colProps);\n    });\n    return _react2.default.createElement(\n        'tr',\n        attributes,\n        isEditMode ? _react2.default.createElement(\n            'td',\n            null,\n            _react2.default.createElement(\n                'div',\n                { onClick: function onClick(e) {\n                        return e.stopPropagation();\n                    }, className: 'text-center' },\n                _react2.default.createElement('input', { onClick: onSelect, id: data['_id'], className: 'edit-input display-none', type: 'checkbox' }),\n                _react2.default.createElement(\n                    'label',\n                    { htmlFor: data['_id'] },\n                    _react2.default.createElement('span', null)\n                )\n            )\n        ) : false,\n        dataColumns,\n        children\n    );\n};\n\nexports.default = DetailRow;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL0RldGFpbFJvdy5qc3g/MDZkMyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5jb25zdCBEZXRhaWxSb3cgPSAoe1xuICAgIGNvbHVtbnMsXG4gICAgZGF0YSxcbiAgICBpc0VkaXRNb2RlLFxuICAgIGF0dHJpYnV0ZXMsXG4gICAgLyoqIGNhbGxiYWNrcyAqKi9cbiAgICBvblNlbGVjdCxcbiAgICAvKiogY2hpbGRyZW4gKiovXG4gICAgY2hpbGRyZW5cbn0pID0+IHtcbiAgICBsZXQgZGF0YUNvbHVtbnMgPSBfLm1hcChjb2x1bW5zLCAoY29sLCBpKT0+e1xuICAgICAgICBsZXQgY29sUHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IGksXG4gICAgICAgICAgICBzdHlsZTogY29sLmhpZGRlbiA/IHsnZGlzcGxheSc6J25vbmUnfSA6IHt9LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBjb2wuY2xhc3NOYW1lLFxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBkYXRhW2NvbC5uYW1lXSB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiA8dGQgey4uLmNvbFByb3BzfSAvPjtcbiAgICB9KTtcbiAgICByZXR1cm4gKFxuICAgICAgICA8dHIgey4uLmF0dHJpYnV0ZXN9PlxuICAgICAgICAgICAge2lzRWRpdE1vZGUgPyAoXG4gICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9eyhlKT0+ZS5zdG9wUHJvcGFnYXRpb24oKX0gY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIiA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgb25DbGljaz17b25TZWxlY3R9ICBpZD17ZGF0YVsnX2lkJ119IGNsYXNzTmFtZT1cImVkaXQtaW5wdXQgZGlzcGxheS1ub25lXCIgdHlwZT1cImNoZWNrYm94XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtkYXRhWydfaWQnXX0gPjxzcGFuPjwvc3Bhbj48L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3RkPiApIDogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHtkYXRhQ29sdW1uc31cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC90cj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRGV0YWlsUm93O1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL2NvbXBvbmVudHMvRGV0YWlsUm93LmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBO0FBU0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFEQTtBQU9BO0FBQ0E7QUFWQTtBQWFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 517:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Events = __webpack_require__(475);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nvar _Controller2 = __webpack_require__(467);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _TrinityTab = __webpack_require__(481);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _Collection = __webpack_require__(518);\n\nvar _Collection2 = _interopRequireDefault(_Collection);\n\nvar _VeniceForm = __webpack_require__(468);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _GlobalLib = __webpack_require__(484);\n\nvar _FormChanger = __webpack_require__(520);\n\nvar _FormChanger2 = _interopRequireDefault(_FormChanger);\n\nvar _VeniceGridBuilder = __webpack_require__(488);\n\nvar _VeniceGridBuilder2 = _interopRequireDefault(_VeniceGridBuilder);\n\nvar _FroalaLib = __webpack_require__(487);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by Jakub on 21.12.15.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar ContetntController = function (_Controller) {\n    _inherits(ContetntController, _Controller);\n\n    function ContetntController() {\n        _classCallCheck(this, ContetntController);\n\n        return _possibleConstructorReturn(this, (ContetntController.__proto__ || Object.getPrototypeOf(ContetntController)).apply(this, arguments));\n    }\n\n    _createClass(ContetntController, [{\n        key: 'indexAction',\n        value: function indexAction($scope) {\n            $scope.productGrid = _VeniceGridBuilder2.default.build(_jquery2.default.id('content-grid'), this.request.query);\n        }\n    }, {\n        key: 'newAction',\n        value: function newAction($scope) {\n            var selectEl = (0, _jquery2.default)('#entity_type_select')[0],\n                $jqFormDiv = (0, _jquery2.default)('#javascript-inserted-form'),\n                url = $jqFormDiv.attr('data-changer'),\n                unlisteners = [];\n            var app = this.getApp();\n            var handleFormChange = function handleFormChange() {\n                _lodash2.default.each(unlisteners, function (fn) {\n                    return fn();\n                });\n\n                var type = selectEl.options[selectEl.selectedIndex].value;\n                _FormChanger2.default.refreshForm($jqFormDiv[0], url.replace('contentType', type), function () {\n\n                    $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"' + type + '_content\"]')[0]);\n                    if (type === 'html' || type === 'iframe') {\n                        // let froalaContainer = $(`#${type}_content_html`)[0];\n                        // startFroala(froalaContainer);\n                        var formScope = app.parseScope();\n                        (0, _FroalaLib.startFroala)(formScope.froalaInput);\n                    }\n                    unlisteners.push(ContetntController._handleHandleGeneration());\n                });\n            };\n            // Initial\n            handleFormChange();\n            //render new form after change\n            _Events2.default.listen(selectEl, 'change', handleFormChange);\n        }\n    }, {\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            var _this2 = this;\n\n            $scope.trinityTab = new _TrinityTab2.default();\n            var unlisteners = [];\n            //On tabs load\n            var app = this.getApp();\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n                //Edit tab\n                if (e.id === 'tab2') {\n                    // Collection\n                    $scope.collection = _lodash2.default.map((0, _jquery2.default)('[data-prototype]', e.element), function (node) {\n                        return new _Collection2.default(node, {\n                            addFirst: false,\n                            label: true,\n                            onAdd: function onAdd(el) {\n                                _lodash2.default.each((0, _jquery2.default)(el).find(':input'), function (input) {\n                                    return $scope.veniceForms[e.id].addInput(input);\n                                });\n                            },\n                            onDelete: function onDelete(el) {\n                                $scope.veniceForms[e.id].detach();\n                                $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                            }\n                        });\n                    });\n                    var formName = form.getAttribute('name'),\n                        contentType = formName.substr(0, formName.indexOf('_')),\n                        formCont = (0, _jquery2.default)('#' + contentType + '_content_html')[0];\n\n                    if (contentType === 'html' || contentType === 'iframe') {\n                        $scope[e.id] = app.parseScope();\n                        (0, _FroalaLib.startFroala)($scope[e.id].froalaInput);\n                    }\n\n                    $scope.veniceForms['tab2'].success(function () {\n                        $scope.trinityTab.reload('tab1');\n                    });\n\n                    unlisteners.push(ContetntController._handleHandleGeneration());\n                } else if (e.id === 'tab3') {\n                    var container = _jquery2.default.id('product-grid');\n                    if (container) {\n                        $scope.productGrid = _VeniceGridBuilder2.default.build(container, _this2.request.query);\n                    }\n                }\n            });\n\n            $scope.trinityTab.addListener('tab-unload', function (e) {\n                switch (e.id) {\n                    // Edit\n                    case 'tab2':\n                        {\n                            _lodash2.default.each(unlisteners, function (fn) {\n                                return fn();\n                            });\n                        }break;\n                    default:\n                        break;\n                }\n\n                // All\n                if ($scope.veniceForms[e.id]) {\n                    $scope.veniceForms[e.id].detach();\n                }\n            });\n        }\n\n        /**\n         * New standard product action\n         * @param $scope\n         */\n\n    }, {\n        key: 'newContentProductAction',\n        value: function newContentProductAction($scope) {\n            //Attach VeniceForm\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"content_product_type_with_hidden_content\"]')[0]);\n        }\n    }, {\n        key: 'contentProductTabsAction',\n        value: function contentProductTabsAction($scope) {\n            console.log(\"start\");\n            $scope.trinityTab = new _TrinityTab2.default();\n            //On tabs load\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    console.log(\"form\");\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n\n                if (e.id === 'tab2') {\n                    $scope.veniceForms['tab2'].success(function () {\n                        $scope.trinityTab.reload('tab1');\n                    });\n                }\n            });\n        }\n    }], [{\n        key: '_handleHandleGeneration',\n        value: function _handleHandleGeneration() {\n            return (0, _GlobalLib.handleHandleGeneration)((0, _jquery2.default)('#javascript-inserted-form').attr('data-slugify'), _jquery2.default.id('group_content_name'), _jquery2.default.id('group_content_handle'));\n        }\n    }]);\n\n    return ContetntController;\n}(_Controller3.default);\n\nexports.default = ContetntController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9Db250ZW50Q29udHJvbGxlci5qcz9jYzMxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBKYWt1YiBvbiAyMS4xMi4xNS5cbiAqL1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgRXZlbnRzIGZyb20gJ3RyaW5pdHkvdXRpbHMvRXZlbnRzJztcbmltcG9ydCBDb250cm9sbGVyIGZyb20gJ3RyaW5pdHkvQ29udHJvbGxlcic7XG5pbXBvcnQgVHJpbml0eVRhYiBmcm9tICd0cmluaXR5L2NvbXBvbmVudHMvVHJpbml0eVRhYic7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICd0cmluaXR5L0NvbGxlY3Rpb24nO1xuaW1wb3J0IFZlbmljZUZvcm0gZnJvbSAnLi4vTGlicmFyaWVzL1ZlbmljZUZvcm0nO1xuaW1wb3J0IHtoYW5kbGVIYW5kbGVHZW5lcmF0aW9ufSBmcm9tICcuLi9MaWJyYXJpZXMvR2xvYmFsTGliJztcbmltcG9ydCBGb3JtQ2hhbmdlciBmcm9tICcuLi9MaWJyYXJpZXMvRm9ybUNoYW5nZXInO1xuaW1wb3J0IEdyaWRCdWlsZGVyIGZyb20gJy4uL0xpYnJhcmllcy9WZW5pY2VHcmlkQnVpbGRlcic7XG5pbXBvcnQge3N0YXJ0RnJvYWxhfSBmcm9tICd0cmluaXR5L3V0aWxzL0Zyb2FsYUxpYic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRldG50Q29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge1xuXG4gICAgaW5kZXhBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5wcm9kdWN0R3JpZCA9IEdyaWRCdWlsZGVyLmJ1aWxkKCQuaWQoJ2NvbnRlbnQtZ3JpZCcpLCB0aGlzLnJlcXVlc3QucXVlcnkpO1xuICAgIH1cblxuICAgIG5ld0FjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgbGV0IHNlbGVjdEVsID0gJCgnI2VudGl0eV90eXBlX3NlbGVjdCcpWzBdLFxuICAgICAgICAgICAgJGpxRm9ybURpdiA9ICQoJyNqYXZhc2NyaXB0LWluc2VydGVkLWZvcm0nKSxcbiAgICAgICAgICAgIHVybCA9ICRqcUZvcm1EaXYuYXR0cignZGF0YS1jaGFuZ2VyJyksXG4gICAgICAgICAgICB1bmxpc3RlbmVycyA9IFtdO1xuICAgICAgICBsZXQgYXBwID0gdGhpcy5nZXRBcHAoKTtcbiAgICAgICAgbGV0IGhhbmRsZUZvcm1DaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBfLmVhY2godW5saXN0ZW5lcnMsIGZuID0+IGZuKCkpO1xuXG4gICAgICAgICAgICBsZXQgdHlwZSA9IHNlbGVjdEVsLm9wdGlvbnNbc2VsZWN0RWwuc2VsZWN0ZWRJbmRleF0udmFsdWU7XG4gICAgICAgICAgICBGb3JtQ2hhbmdlci5yZWZyZXNoRm9ybSgkanFGb3JtRGl2WzBdLCB1cmwucmVwbGFjZSgnY29udGVudFR5cGUnLCB0eXBlKSwgKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvcm0gPSBuZXcgVmVuaWNlRm9ybSgkKGBmb3JtW25hbWU9XCIke3R5cGV9X2NvbnRlbnRcIl1gKVswXSk7XG4gICAgICAgICAgICAgICAgaWYodHlwZSA9PT0gJ2h0bWwnIHx8IHR5cGUgPT09ICdpZnJhbWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCBmcm9hbGFDb250YWluZXIgPSAkKGAjJHt0eXBlfV9jb250ZW50X2h0bWxgKVswXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnRGcm9hbGEoZnJvYWxhQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvcm1TY29wZSA9IGFwcC5wYXJzZVNjb3BlKCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RnJvYWxhKGZvcm1TY29wZS5mcm9hbGFJbnB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVubGlzdGVuZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIENvbnRldG50Q29udHJvbGxlci5faGFuZGxlSGFuZGxlR2VuZXJhdGlvbigpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyBJbml0aWFsXG4gICAgICAgIGhhbmRsZUZvcm1DaGFuZ2UoKTtcbiAgICAgICAgLy9yZW5kZXIgbmV3IGZvcm0gYWZ0ZXIgY2hhbmdlXG4gICAgICAgIEV2ZW50cy5saXN0ZW4oc2VsZWN0RWwsICdjaGFuZ2UnLCBoYW5kbGVGb3JtQ2hhbmdlKTtcbiAgICB9XG5cbiAgICB0YWJzQWN0aW9uKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudHJpbml0eVRhYiA9IG5ldyBUcmluaXR5VGFiKCk7XG4gICAgICAgIGxldCB1bmxpc3RlbmVycyA9IFtdO1xuICAgICAgICAvL09uIHRhYnMgbG9hZFxuICAgICAgICBsZXQgYXBwID0gdGhpcy5nZXRBcHAoKTtcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIuYWRkTGlzdGVuZXIoJ3RhYi1sb2FkJywgKGUpID0+IHtcbiAgICAgICAgICAgIGxldCBmb3JtID0gJCgnZm9ybScsIGUuZWxlbWVudClbMF07XG4gICAgICAgICAgICBpZihmb3JtKXtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXMgPSAkc2NvcGUudmVuaWNlRm9ybXMgfHwge307XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zW2UuaWRdID0gbmV3IFZlbmljZUZvcm0oZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL0VkaXQgdGFiXG4gICAgICAgICAgICBpZiAoZS5pZCA9PT0gJ3RhYjInKSB7XG4gICAgICAgICAgICAgICAgLy8gQ29sbGVjdGlvblxuICAgICAgICAgICAgICAgICRzY29wZS5jb2xsZWN0aW9uID0gXy5tYXAoJCgnW2RhdGEtcHJvdG90eXBlXScsIGUuZWxlbWVudCksIChub2RlKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xsZWN0aW9uKG5vZGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZpcnN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25BZGQ6IGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmVhY2goJChlbCkuZmluZCgnOmlucHV0JyksIGlucHV0ID0+ICAkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0uYWRkSW5wdXQoaW5wdXQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRlbGV0ZTogZWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXS5kZXRhY2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0gPSBuZXcgVmVuaWNlRm9ybShmb3JtKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZXQgZm9ybU5hbWUgPSBmb3JtLmdldEF0dHJpYnV0ZSgnbmFtZScpLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZSA9IGZvcm1OYW1lLnN1YnN0cigwLCBmb3JtTmFtZS5pbmRleE9mKCdfJykpLFxuICAgICAgICAgICAgICAgICAgICBmb3JtQ29udCA9ICQoYCMke2NvbnRlbnRUeXBlfV9jb250ZW50X2h0bWxgKVswXTtcblxuICAgICAgICAgICAgICAgIGlmKGNvbnRlbnRUeXBlID09PSAnaHRtbCcgfHwgY29udGVudFR5cGUgPT09ICdpZnJhbWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZVtlLmlkXSA9IGFwcC5wYXJzZVNjb3BlKCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RnJvYWxhKCRzY29wZVtlLmlkXS5mcm9hbGFJbnB1dCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zWyd0YWIyJ10uc3VjY2VzcygoKT0+e1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudHJpbml0eVRhYi5yZWxvYWQoJ3RhYjEnKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHVubGlzdGVuZXJzLnB1c2goQ29udGV0bnRDb250cm9sbGVyLl9oYW5kbGVIYW5kbGVHZW5lcmF0aW9uKCkpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYoZS5pZCA9PT0gJ3RhYjMnKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9ICQuaWQoJ3Byb2R1Y3QtZ3JpZCcpO1xuICAgICAgICAgICAgICAgIGlmKGNvbnRhaW5lcil7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9kdWN0R3JpZCA9IEdyaWRCdWlsZGVyLmJ1aWxkKGNvbnRhaW5lciwgdGhpcy5yZXF1ZXN0LnF1ZXJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS50cmluaXR5VGFiLmFkZExpc3RlbmVyKCd0YWItdW5sb2FkJywgKGUpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaChlLmlkKXtcbiAgICAgICAgICAgICAgICAvLyBFZGl0XG4gICAgICAgICAgICAgICAgY2FzZSAndGFiMic6IHtcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKHVubGlzdGVuZXJzLCBmbiA9PiBmbigpKTtcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQgOiBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWxsXG4gICAgICAgICAgICBpZigkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0pe1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXS5kZXRhY2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmV3IHN0YW5kYXJkIHByb2R1Y3QgYWN0aW9uXG4gICAgICogQHBhcmFtICRzY29wZVxuICAgICAqL1xuICAgIG5ld0NvbnRlbnRQcm9kdWN0QWN0aW9uKCRzY29wZSkge1xuICAgICAgICAvL0F0dGFjaCBWZW5pY2VGb3JtXG4gICAgICAgICRzY29wZS5mb3JtID0gbmV3IFZlbmljZUZvcm0oJCgnZm9ybVtuYW1lPVwiY29udGVudF9wcm9kdWN0X3R5cGVfd2l0aF9oaWRkZW5fY29udGVudFwiXScpWzBdKTtcbiAgICB9XG5cbiAgICBjb250ZW50UHJvZHVjdFRhYnNBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic3RhcnRcIik7XG4gICAgICAgICRzY29wZS50cmluaXR5VGFiID0gbmV3IFRyaW5pdHlUYWIoKTtcbiAgICAgICAgLy9PbiB0YWJzIGxvYWRcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIuYWRkTGlzdGVuZXIoJ3RhYi1sb2FkJywgIGUgPT4ge1xuICAgICAgICAgICAgbGV0IGZvcm0gPSAkKCdmb3JtJywgZS5lbGVtZW50KVswXTtcbiAgICAgICAgICAgIGlmKGZvcm0pe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXMgPSAkc2NvcGUudmVuaWNlRm9ybXMgfHwge307XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zW2UuaWRdID0gbmV3IFZlbmljZUZvcm0oZm9ybSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGUuaWQgPT09ICd0YWIyJykge1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1sndGFiMiddLnN1Y2Nlc3MoKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50cmluaXR5VGFiLnJlbG9hZCgndGFiMScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2hhbmRsZUhhbmRsZUdlbmVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVIYW5kbGVHZW5lcmF0aW9uKFxuICAgICAgICAgICAgJCgnI2phdmFzY3JpcHQtaW5zZXJ0ZWQtZm9ybScpLmF0dHIoJ2RhdGEtc2x1Z2lmeScpLFxuICAgICAgICAgICAgJC5pZCgnZ3JvdXBfY29udGVudF9uYW1lJyksXG4gICAgICAgICAgICAkLmlkKCdncm91cF9jb250ZW50X2hhbmRsZScpXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi8uLi92ZW5pY2UtanMvQ29udHJvbGxlcnMvQ29udGVudENvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7QUFkQTs7Ozs7QUFlQTs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBTEE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFLQTs7Ozs7O0FBeklBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 518:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 8/20/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Dom = __webpack_require__(478);\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nvar _Events = __webpack_require__(475);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nvar _Store = __webpack_require__(519);\n\nvar _Store2 = _interopRequireDefault(_Store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Default settings of Collection Object\n * @type {{addButton: string, deleteButton: string, onAdd: null, onDelete: null, name: string}}\n */\nvar defaultSettings = {\n    addButton: '       <div class=\"collection-add display-inline-block\">\\n                <div class=\"span-medium-8 span-large-6 span-xlarge-10\"></div>\\n                <div class=\"display-inline-block\">\\n                    <a href=\"#\" id=\"addButton\" class=\"add-collection-item\">\\n                        <i class=\"tiecons tiecons-plus-radius-large\"></i>\\n                    </a>\\n                </div>\\n            </div>',\n    deleteButton: '       <a title=\"Remove item\" href=\"#\" id=\"deleteButton\" class=\"delete-collection-item\">\\n                <span class=\"trinity trinity-trash circle\"></span>\\n            </a>',\n    onAdd: null,\n    onDelete: null,\n    label: false,\n    addFirst: true,\n    name: '[Element Name]'\n};\n\n/**\n * Collection class, handles one layer of Collection form\n * @param element {HTMLElement}\n * @param [globalOptions] {Object}\n * @param [prototypeData] {PrototypeData}\n * @param [layer] {number}\n * @constructor\n */\n\nvar Collection = function () {\n    function Collection(element) {\n        var globalOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var prototypeData = arguments[2];\n        var layer = arguments[3];\n\n        _classCallCheck(this, Collection);\n\n        this.collectionHolder = element;\n        this.prototype = null;\n        this.protoChildren = [];\n        this.children = [];\n        this.globalOptions = globalOptions;\n        this.layer = layer || 0;\n        // Listeners\n        this.unlistenAddButton = null;\n\n        if (!prototypeData) {\n            prototypeData = __parsePrototypeData(element);\n            _Store2.default.setValue(element, 'collection', this);\n        }\n        this.settings = _lodash2.default.defaultsDeep({}, globalOptions, prototypeData.options, defaultSettings);\n        //this.settings = _.extend(_.clone(defaultSettings), (globalOptions ? _.extend(prototypeData.options, globalOptions) : prototypeData.options));\n        this.settings.addButton = _Dom2.default.htmlToDocumentFragment(this.settings.addButton.trim());\n        this.settings.deleteButton = _Dom2.default.htmlToDocumentFragment(this.settings.deleteButton.trim());\n\n        /** Make it live **/\n        __initialize.call(this, prototypeData);\n    }\n\n    /**\n     * Adds new child to collection\n     */\n\n\n    _createClass(Collection, [{\n        key: 'add',\n        value: function add() {\n            var settings = this.settings,\n                addButton = settings.addButton,\n                prototype = this.prototype,\n                prototypeChildren = this.protoChildren,\n\n            // children count?\n            childrenCount = _lodash2.default.filter(this.collectionHolder.children, function (node) {\n                return _Dom2.default.classlist.contains(node, 'collection-child');\n            }),\n\n            // Placeholders\n            newChildStr = __fillPlaceholders(settings['prototype_name'], settings.name, childrenCount.length, prototype);\n\n            var newChildNode = _Dom2.default.htmlToDocumentFragment(newChildStr.trim()),\n                child = new CollectionChild(newChildNode, childrenCount.length, this, prototypeChildren);\n\n            this.children.push(child);\n            __addRemoveBtn.call(this, child);\n\n            //Insert new Child\n            addButton.parentNode.insertBefore(newChildNode, addButton);\n\n            if (_lodash2.default.isFunction(settings.onAdd)) {\n                settings.onAdd(newChildNode);\n            }\n        }\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            _lodash2.default.each(this.children, function (child) {\n                child.detach();\n                child.remove();\n            });\n        }\n    }, {\n        key: 'detach',\n        value: function detach() {\n            _lodash2.default.each(this.children, function (child) {\n                return child.detach();\n            });\n            this.unlistenAddButton();\n        }\n    }]);\n\n    return Collection;\n}();\n\n/**\n * Initialize Collection object\n * @param data {PrototypeData}\n * @private\n */\n\n\nexports.default = Collection;\nfunction __initialize(data) {\n    var _this = this;\n\n    // init\n    var prototypeDom = _Dom2.default.htmlToDocumentFragment(data.prototype),\n        children = prototypeDom.querySelectorAll('[data-prototype]'),\n        protoChildren = _lodash2.default.map(children, function (node) {\n        return __parsePrototypeData(node);\n    });\n\n    this.prototype = __getHtmlString(prototypeDom);\n    this.protoChildren = protoChildren;\n    __addCreateBtn.call(this);\n\n    // Add class and delete button to children\n    this.children = (0, _lodash2.default)(this.collectionHolder.children).filter(function (node) {\n        return _Dom2.default.classlist.contains(node, 'row');\n    }).map(function (child, index) {\n        var newChild = new CollectionChild(child, index, _this);\n        __addRemoveBtn.call(_this, newChild);\n        return newChild;\n    }).value();\n\n    //Add first?\n    if (this.children.length === 0 && this.settings.addFirst) {\n        this.add();\n    }\n}\n\n/**\n * Parse prototype data from element and remove [data-prototype] and [data-options] values\n * [data-prototype] value is set to \"prototype_name\" of parsed element, found in options\n * @param element\n * @returns {PrototypeData}\n * @private\n */\nfunction __parsePrototypeData(element) {\n    var data = new PrototypeData(element.getAttribute('data-prototype'), JSON.parse(element.getAttribute('data-options')));\n    //clean up\n    element.removeAttribute('data-options');\n    element.setAttribute('data-prototype', data.options['prototype_name']);\n    return data;\n}\n\n/**\n * Add remove button to element\n * @param child {CollectionChild}\n * @private\n */\nfunction __addRemoveBtn(child) {\n    var _this2 = this;\n\n    var settings = this.settings,\n        removeButton = settings.deleteButton.cloneNode(true);\n\n    // right ID to delete button\n    removeButton.setAttribute('id', [removeButton.getAttribute('id'), child.node.getAttribute('id')].join('_'));\n\n    child.unlistenRemoveButton = _Events2.default.listenOnce(removeButton, 'click', function (e) {\n        // prevent the link from creating a \"#\" on the URL\n        e.preventDefault();\n\n        if (_lodash2.default.isFunction(settings.onDelete)) {\n            settings.onDelete(child.node);\n        }\n        var id = child.id;\n        // remove collection child\n        child.remove();\n        child.unlistenRemoveButton = null;\n        // Update all other children\n        _this2.children = _lodash2.default.filter(_this2.children, function (item) {\n            if (item.id > id) {\n                item.setID(item.id - 1);\n                return true;\n            }\n            return !(item.id === id);\n        });\n    });\n\n    //Append child to right\n    child.node.querySelector('.form-right').appendChild(removeButton);\n}\n\n/**\n * Add Add button to collection\n * @private\n */\nfunction __addCreateBtn() {\n    var _this3 = this;\n\n    var sett = this.settings;\n    this.unlistenAddButton = _Events2.default.listen(sett.addButton, 'click', function (e) {\n        e.preventDefault();\n        // add a new tag form (see next code block)\n        _this3.add();\n    });\n    //append add button\n    this.collectionHolder.appendChild(sett.addButton);\n}\n\n/**\n * Fills placeholders in prototype string\n * @param key {string}\n * @param name {string}\n * @param number {Number}\n * @param prototype {string}\n * @returns {XML|string}\n * @private\n */\nfunction __fillPlaceholders(key, name, number, prototype) {\n    var labelRegx = new RegExp(key + 'label__', 'g'),\n        nameRegx = new RegExp(key, 'g');\n    return prototype.replace(labelRegx, name + number).replace(nameRegx, '' + number);\n}\n\n/**\n * Return HTML string representation of HTML Element object\n * @param element {HTMLElement}\n * @returns {string}\n * @private\n */\nfunction __getHtmlString(element) {\n    var wrap = document.createElement('div');\n    wrap.appendChild(element);\n    return wrap.innerHTML;\n}\n\n/**\n * Remove label of node\n * @param node {HTMLElement}\n * @private\n */\nfunction _removeLabel(node) {\n    _Dom2.default.removeNode(node.querySelector('.form-left'));\n    var formRight = node.querySelector('.form-right');\n    _Dom2.default.classlist.removeAll(formRight, ['span-none-padding-medium-16', 'span-none-padding-large-18', 'span-none-padding-xlarge-14']);\n    _Dom2.default.classlist.addAll(formRight, ['span-none-padding-medium-24', 'span-none-padding-large-24', 'span-none-padding-xlarge-24']);\n}\n\n/**\n * Simple class which keeps basic prototype data\n * @class PrototypeData\n * @param proto {string}\n * @param options {Object}\n * @constructor\n */\n\nvar PrototypeData = function PrototypeData(proto, options) {\n    _classCallCheck(this, PrototypeData);\n\n    this.prototype = proto;\n    this.options = options;\n};\n\nvar SELECT_MAP = {\n    id: '[id]',\n    name: '[name]',\n    'for': 'label[for]'\n};\n\n/**\n * Class representing child of collection\n * @class CollectionChild\n * @param node {HTMLElement}\n * @param id {string}\n * @param parent {Collection}\n * @param [prototypeData] {Array}\n * @constructor\n */\n\nvar CollectionChild = function () {\n    function CollectionChild(node, id, parent, prototypeData) {\n        _classCallCheck(this, CollectionChild);\n\n        this.id = id;\n        this.node = node;\n        this.parent = parent;\n        this.unlistenRemoveButton = null;\n\n        _Dom2.default.classlist.add(node, 'collection-child');\n        //Label?\n        if (parent.settings.label === false) {\n            _removeLabel(node);\n        }\n\n        var prototypeElements = node.querySelectorAll('[data-prototype]');\n        if (prototypeElements.length > 0) {\n            this.collections = __initializeCollections.call(this, prototypeElements, prototypeData);\n        }\n    }\n\n    /**\n     * Safety remove of child\n     */\n\n\n    _createClass(CollectionChild, [{\n        key: 'remove',\n        value: function remove() {\n            _Dom2.default.removeNode(this.node);\n        }\n\n        /**\n         * Set ID of child and update all elements descendant\n         * @param id\n         */\n\n    }, {\n        key: 'setID',\n        value: function setID(id) {\n            var _this4 = this;\n\n            var layer = this.parent.layer;\n            this.id = id;\n            _lodash2.default.each(SELECT_MAP, function (selector, key) {\n                _lodash2.default.each(_this4.node.querySelectorAll(selector), function (el) {\n                    return __updateAttribute(el, id, layer, key);\n                });\n            });\n            // change to self\n            __updateAttribute(this.node, id, layer, 'id');\n        }\n    }, {\n        key: 'detach',\n        value: function detach() {\n            _lodash2.default.each(this.collections, function (coll) {\n                return coll.detach();\n            });\n            this.unlistenRemoveButton();\n        }\n    }]);\n\n    return CollectionChild;\n}();\n\n/**\n * Initialize new collections of child\n * @param prototypeElements {HTMLCollection | Array}\n * @param prototypeDataSource {Array}\n * @returns {*|Array}\n * @private\n */\n\n\nfunction __initializeCollections(prototypeElements, prototypeDataSource) {\n    var _this5 = this;\n\n    if (!prototypeDataSource) {\n        return _lodash2.default.map(prototypeElements, function (el) {\n            return _Store2.default.getValue(el, 'collection');\n        });\n    }\n    // Init next level\n    return _lodash2.default.map(prototypeElements, function (el) {\n        var prototypeName = el.getAttribute('data-prototype'),\n            prototypeData = _lodash2.default.cloneDeep(_lodash2.default.find(prototypeDataSource, function (data) {\n            return data.options['prototype_name'] === prototypeName;\n        }));\n        prototypeData.prototype = __fillPlaceholders(_this5.parent.settings['prototype_name'], _this5.parent.settings.name, _this5.id, prototypeData.prototype);\n        return new Collection(el, _this5.parent.globalOptions, prototypeData, _this5.parent.layer + 1);\n    });\n}\n\n/**\n * Change identifier on particular level of selected attribute\n * @param node {HTMLElement}\n * @param id {string}\n * @param layer {Number}\n * @param attribute {string}\n * @private\n */\nfunction __updateAttribute(node, id, layer, attribute) {\n    var isName = attribute === 'name',\n        regex = isName ? /\\[\\d]/g : /_\\d_|_\\d$/g,\n        parameterStr = node.getAttribute(attribute),\n        resultStr = '';\n\n    var i = 0,\n        rgxResult = null,\n        next = true;\n\n    while (next) {\n        rgxResult = regex.exec(parameterStr);\n        if (i === layer) {\n            resultStr += parameterStr.substring(0, rgxResult.index + 1);\n            resultStr += id;\n\n            if (!isName && parameterStr.length === rgxResult.index + rgxResult[0].length) {\n                break;\n            }\n            // Add trailing\n            resultStr += isName ? ']' : '_';\n            //Add end of string\n            resultStr += parameterStr.substring(rgxResult.index + rgxResult[0].length);\n            next = false;\n            break;\n        }\n        i++;\n    }\n    //Set new ID\n    node.setAttribute(attribute, resultStr);\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L0NvbGxlY3Rpb24uanM/OWYzYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgZmlzYSBvbiA4LzIwLzE1LlxuICovXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9sb2Rhc2ggPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxudmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblxudmFyIF9Eb20gPSByZXF1aXJlKCcuL3V0aWxzL0RvbScpO1xuXG52YXIgX0RvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Eb20pO1xuXG52YXIgX0V2ZW50cyA9IHJlcXVpcmUoJy4vdXRpbHMvRXZlbnRzJyk7XG5cbnZhciBfRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50cyk7XG5cbnZhciBfU3RvcmUgPSByZXF1aXJlKCcuL1N0b3JlJyk7XG5cbnZhciBfU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3RvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIERlZmF1bHQgc2V0dGluZ3Mgb2YgQ29sbGVjdGlvbiBPYmplY3RcbiAqIEB0eXBlIHt7YWRkQnV0dG9uOiBzdHJpbmcsIGRlbGV0ZUJ1dHRvbjogc3RyaW5nLCBvbkFkZDogbnVsbCwgb25EZWxldGU6IG51bGwsIG5hbWU6IHN0cmluZ319XG4gKi9cbnZhciBkZWZhdWx0U2V0dGluZ3MgPSB7XG4gICAgYWRkQnV0dG9uOiAnICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsZWN0aW9uLWFkZCBkaXNwbGF5LWlubGluZS1ibG9ja1wiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3Bhbi1tZWRpdW0tOCBzcGFuLWxhcmdlLTYgc3Bhbi14bGFyZ2UtMTBcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpc3BsYXktaW5saW5lLWJsb2NrXCI+XFxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGlkPVwiYWRkQnV0dG9uXCIgY2xhc3M9XCJhZGQtY29sbGVjdGlvbi1pdGVtXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJ0aWVjb25zIHRpZWNvbnMtcGx1cy1yYWRpdXMtbGFyZ2VcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PicsXG4gICAgZGVsZXRlQnV0dG9uOiAnICAgICAgIDxhIHRpdGxlPVwiUmVtb3ZlIGl0ZW1cIiBocmVmPVwiI1wiIGlkPVwiZGVsZXRlQnV0dG9uXCIgY2xhc3M9XCJkZWxldGUtY29sbGVjdGlvbi1pdGVtXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidHJpbml0eSB0cmluaXR5LXRyYXNoIGNpcmNsZVwiPjwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+JyxcbiAgICBvbkFkZDogbnVsbCxcbiAgICBvbkRlbGV0ZTogbnVsbCxcbiAgICBsYWJlbDogZmFsc2UsXG4gICAgYWRkRmlyc3Q6IHRydWUsXG4gICAgbmFtZTogJ1tFbGVtZW50IE5hbWVdJ1xufTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIGNsYXNzLCBoYW5kbGVzIG9uZSBsYXllciBvZiBDb2xsZWN0aW9uIGZvcm1cbiAqIEBwYXJhbSBlbGVtZW50IHtIVE1MRWxlbWVudH1cbiAqIEBwYXJhbSBbZ2xvYmFsT3B0aW9uc10ge09iamVjdH1cbiAqIEBwYXJhbSBbcHJvdG90eXBlRGF0YV0ge1Byb3RvdHlwZURhdGF9XG4gKiBAcGFyYW0gW2xheWVyXSB7bnVtYmVyfVxuICogQGNvbnN0cnVjdG9yXG4gKi9cblxudmFyIENvbGxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29sbGVjdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciBnbG9iYWxPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgdmFyIHByb3RvdHlwZURhdGEgPSBhcmd1bWVudHNbMl07XG4gICAgICAgIHZhciBsYXllciA9IGFyZ3VtZW50c1szXTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sbGVjdGlvbik7XG5cbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uSG9sZGVyID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5wcm90b3R5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLnByb3RvQ2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmdsb2JhbE9wdGlvbnMgPSBnbG9iYWxPcHRpb25zO1xuICAgICAgICB0aGlzLmxheWVyID0gbGF5ZXIgfHwgMDtcbiAgICAgICAgLy8gTGlzdGVuZXJzXG4gICAgICAgIHRoaXMudW5saXN0ZW5BZGRCdXR0b24gPSBudWxsO1xuXG4gICAgICAgIGlmICghcHJvdG90eXBlRGF0YSkge1xuICAgICAgICAgICAgcHJvdG90eXBlRGF0YSA9IF9fcGFyc2VQcm90b3R5cGVEYXRhKGVsZW1lbnQpO1xuICAgICAgICAgICAgX1N0b3JlMi5kZWZhdWx0LnNldFZhbHVlKGVsZW1lbnQsICdjb2xsZWN0aW9uJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IF9sb2Rhc2gyLmRlZmF1bHQuZGVmYXVsdHNEZWVwKHt9LCBnbG9iYWxPcHRpb25zLCBwcm90b3R5cGVEYXRhLm9wdGlvbnMsIGRlZmF1bHRTZXR0aW5ncyk7XG4gICAgICAgIC8vdGhpcy5zZXR0aW5ncyA9IF8uZXh0ZW5kKF8uY2xvbmUoZGVmYXVsdFNldHRpbmdzKSwgKGdsb2JhbE9wdGlvbnMgPyBfLmV4dGVuZChwcm90b3R5cGVEYXRhLm9wdGlvbnMsIGdsb2JhbE9wdGlvbnMpIDogcHJvdG90eXBlRGF0YS5vcHRpb25zKSk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuYWRkQnV0dG9uID0gX0RvbTIuZGVmYXVsdC5odG1sVG9Eb2N1bWVudEZyYWdtZW50KHRoaXMuc2V0dGluZ3MuYWRkQnV0dG9uLnRyaW0oKSk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZGVsZXRlQnV0dG9uID0gX0RvbTIuZGVmYXVsdC5odG1sVG9Eb2N1bWVudEZyYWdtZW50KHRoaXMuc2V0dGluZ3MuZGVsZXRlQnV0dG9uLnRyaW0oKSk7XG5cbiAgICAgICAgLyoqIE1ha2UgaXQgbGl2ZSAqKi9cbiAgICAgICAgX19pbml0aWFsaXplLmNhbGwodGhpcywgcHJvdG90eXBlRGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBuZXcgY2hpbGQgdG8gY29sbGVjdGlvblxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQ29sbGVjdGlvbiwgW3tcbiAgICAgICAga2V5OiAnYWRkJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZCgpIHtcbiAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgYWRkQnV0dG9uID0gc2V0dGluZ3MuYWRkQnV0dG9uLFxuICAgICAgICAgICAgICAgIHByb3RvdHlwZSA9IHRoaXMucHJvdG90eXBlLFxuICAgICAgICAgICAgICAgIHByb3RvdHlwZUNoaWxkcmVuID0gdGhpcy5wcm90b0NoaWxkcmVuLFxuXG4gICAgICAgICAgICAvLyBjaGlsZHJlbiBjb3VudD9cbiAgICAgICAgICAgIGNoaWxkcmVuQ291bnQgPSBfbG9kYXNoMi5kZWZhdWx0LmZpbHRlcih0aGlzLmNvbGxlY3Rpb25Ib2xkZXIuY2hpbGRyZW4sIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LmNvbnRhaW5zKG5vZGUsICdjb2xsZWN0aW9uLWNoaWxkJyk7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgLy8gUGxhY2Vob2xkZXJzXG4gICAgICAgICAgICBuZXdDaGlsZFN0ciA9IF9fZmlsbFBsYWNlaG9sZGVycyhzZXR0aW5nc1sncHJvdG90eXBlX25hbWUnXSwgc2V0dGluZ3MubmFtZSwgY2hpbGRyZW5Db3VudC5sZW5ndGgsIHByb3RvdHlwZSk7XG5cbiAgICAgICAgICAgIHZhciBuZXdDaGlsZE5vZGUgPSBfRG9tMi5kZWZhdWx0Lmh0bWxUb0RvY3VtZW50RnJhZ21lbnQobmV3Q2hpbGRTdHIudHJpbSgpKSxcbiAgICAgICAgICAgICAgICBjaGlsZCA9IG5ldyBDb2xsZWN0aW9uQ2hpbGQobmV3Q2hpbGROb2RlLCBjaGlsZHJlbkNvdW50Lmxlbmd0aCwgdGhpcywgcHJvdG90eXBlQ2hpbGRyZW4pO1xuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgX19hZGRSZW1vdmVCdG4uY2FsbCh0aGlzLCBjaGlsZCk7XG5cbiAgICAgICAgICAgIC8vSW5zZXJ0IG5ldyBDaGlsZFxuICAgICAgICAgICAgYWRkQnV0dG9uLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld0NoaWxkTm9kZSwgYWRkQnV0dG9uKTtcblxuICAgICAgICAgICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNGdW5jdGlvbihzZXR0aW5ncy5vbkFkZCkpIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5vbkFkZChuZXdDaGlsZE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW1vdmVBbGwnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQWxsKCkge1xuICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHRoaXMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgIGNoaWxkLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2RldGFjaCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2godGhpcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmRldGFjaCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuQWRkQnV0dG9uKCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29sbGVjdGlvbjtcbn0oKTtcblxuLyoqXG4gKiBJbml0aWFsaXplIENvbGxlY3Rpb24gb2JqZWN0XG4gKiBAcGFyYW0gZGF0YSB7UHJvdG90eXBlRGF0YX1cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBDb2xsZWN0aW9uO1xuZnVuY3Rpb24gX19pbml0aWFsaXplKGRhdGEpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy8gaW5pdFxuICAgIHZhciBwcm90b3R5cGVEb20gPSBfRG9tMi5kZWZhdWx0Lmh0bWxUb0RvY3VtZW50RnJhZ21lbnQoZGF0YS5wcm90b3R5cGUpLFxuICAgICAgICBjaGlsZHJlbiA9IHByb3RvdHlwZURvbS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm90b3R5cGVdJyksXG4gICAgICAgIHByb3RvQ2hpbGRyZW4gPSBfbG9kYXNoMi5kZWZhdWx0Lm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIF9fcGFyc2VQcm90b3R5cGVEYXRhKG5vZGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wcm90b3R5cGUgPSBfX2dldEh0bWxTdHJpbmcocHJvdG90eXBlRG9tKTtcbiAgICB0aGlzLnByb3RvQ2hpbGRyZW4gPSBwcm90b0NoaWxkcmVuO1xuICAgIF9fYWRkQ3JlYXRlQnRuLmNhbGwodGhpcyk7XG5cbiAgICAvLyBBZGQgY2xhc3MgYW5kIGRlbGV0ZSBidXR0b24gdG8gY2hpbGRyZW5cbiAgICB0aGlzLmNoaWxkcmVuID0gKDAsIF9sb2Rhc2gyLmRlZmF1bHQpKHRoaXMuY29sbGVjdGlvbkhvbGRlci5jaGlsZHJlbikuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJldHVybiBfRG9tMi5kZWZhdWx0LmNsYXNzbGlzdC5jb250YWlucyhub2RlLCAncm93Jyk7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIG5ld0NoaWxkID0gbmV3IENvbGxlY3Rpb25DaGlsZChjaGlsZCwgaW5kZXgsIF90aGlzKTtcbiAgICAgICAgX19hZGRSZW1vdmVCdG4uY2FsbChfdGhpcywgbmV3Q2hpbGQpO1xuICAgICAgICByZXR1cm4gbmV3Q2hpbGQ7XG4gICAgfSkudmFsdWUoKTtcblxuICAgIC8vQWRkIGZpcnN0P1xuICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCAmJiB0aGlzLnNldHRpbmdzLmFkZEZpcnN0KSB7XG4gICAgICAgIHRoaXMuYWRkKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFBhcnNlIHByb3RvdHlwZSBkYXRhIGZyb20gZWxlbWVudCBhbmQgcmVtb3ZlIFtkYXRhLXByb3RvdHlwZV0gYW5kIFtkYXRhLW9wdGlvbnNdIHZhbHVlc1xuICogW2RhdGEtcHJvdG90eXBlXSB2YWx1ZSBpcyBzZXQgdG8gXCJwcm90b3R5cGVfbmFtZVwiIG9mIHBhcnNlZCBlbGVtZW50LCBmb3VuZCBpbiBvcHRpb25zXG4gKiBAcGFyYW0gZWxlbWVudFxuICogQHJldHVybnMge1Byb3RvdHlwZURhdGF9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfX3BhcnNlUHJvdG90eXBlRGF0YShlbGVtZW50KSB7XG4gICAgdmFyIGRhdGEgPSBuZXcgUHJvdG90eXBlRGF0YShlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wcm90b3R5cGUnKSwgSlNPTi5wYXJzZShlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb25zJykpKTtcbiAgICAvL2NsZWFuIHVwXG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9ucycpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXByb3RvdHlwZScsIGRhdGEub3B0aW9uc1sncHJvdG90eXBlX25hbWUnXSk7XG4gICAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQWRkIHJlbW92ZSBidXR0b24gdG8gZWxlbWVudFxuICogQHBhcmFtIGNoaWxkIHtDb2xsZWN0aW9uQ2hpbGR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfX2FkZFJlbW92ZUJ0bihjaGlsZCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncyxcbiAgICAgICAgcmVtb3ZlQnV0dG9uID0gc2V0dGluZ3MuZGVsZXRlQnV0dG9uLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIC8vIHJpZ2h0IElEIHRvIGRlbGV0ZSBidXR0b25cbiAgICByZW1vdmVCdXR0b24uc2V0QXR0cmlidXRlKCdpZCcsIFtyZW1vdmVCdXR0b24uZ2V0QXR0cmlidXRlKCdpZCcpLCBjaGlsZC5ub2RlLmdldEF0dHJpYnV0ZSgnaWQnKV0uam9pbignXycpKTtcblxuICAgIGNoaWxkLnVubGlzdGVuUmVtb3ZlQnV0dG9uID0gX0V2ZW50czIuZGVmYXVsdC5saXN0ZW5PbmNlKHJlbW92ZUJ1dHRvbiwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gcHJldmVudCB0aGUgbGluayBmcm9tIGNyZWF0aW5nIGEgXCIjXCIgb24gdGhlIFVSTFxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNGdW5jdGlvbihzZXR0aW5ncy5vbkRlbGV0ZSkpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLm9uRGVsZXRlKGNoaWxkLm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZCA9IGNoaWxkLmlkO1xuICAgICAgICAvLyByZW1vdmUgY29sbGVjdGlvbiBjaGlsZFxuICAgICAgICBjaGlsZC5yZW1vdmUoKTtcbiAgICAgICAgY2hpbGQudW5saXN0ZW5SZW1vdmVCdXR0b24gPSBudWxsO1xuICAgICAgICAvLyBVcGRhdGUgYWxsIG90aGVyIGNoaWxkcmVuXG4gICAgICAgIF90aGlzMi5jaGlsZHJlbiA9IF9sb2Rhc2gyLmRlZmF1bHQuZmlsdGVyKF90aGlzMi5jaGlsZHJlbiwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmlkID4gaWQpIHtcbiAgICAgICAgICAgICAgICBpdGVtLnNldElEKGl0ZW0uaWQgLSAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAhKGl0ZW0uaWQgPT09IGlkKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvL0FwcGVuZCBjaGlsZCB0byByaWdodFxuICAgIGNoaWxkLm5vZGUucXVlcnlTZWxlY3RvcignLmZvcm0tcmlnaHQnKS5hcHBlbmRDaGlsZChyZW1vdmVCdXR0b24pO1xufVxuXG4vKipcbiAqIEFkZCBBZGQgYnV0dG9uIHRvIGNvbGxlY3Rpb25cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fYWRkQ3JlYXRlQnRuKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIHNldHQgPSB0aGlzLnNldHRpbmdzO1xuICAgIHRoaXMudW5saXN0ZW5BZGRCdXR0b24gPSBfRXZlbnRzMi5kZWZhdWx0Lmxpc3RlbihzZXR0LmFkZEJ1dHRvbiwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvLyBhZGQgYSBuZXcgdGFnIGZvcm0gKHNlZSBuZXh0IGNvZGUgYmxvY2spXG4gICAgICAgIF90aGlzMy5hZGQoKTtcbiAgICB9KTtcbiAgICAvL2FwcGVuZCBhZGQgYnV0dG9uXG4gICAgdGhpcy5jb2xsZWN0aW9uSG9sZGVyLmFwcGVuZENoaWxkKHNldHQuYWRkQnV0dG9uKTtcbn1cblxuLyoqXG4gKiBGaWxscyBwbGFjZWhvbGRlcnMgaW4gcHJvdG90eXBlIHN0cmluZ1xuICogQHBhcmFtIGtleSB7c3RyaW5nfVxuICogQHBhcmFtIG5hbWUge3N0cmluZ31cbiAqIEBwYXJhbSBudW1iZXIge051bWJlcn1cbiAqIEBwYXJhbSBwcm90b3R5cGUge3N0cmluZ31cbiAqIEByZXR1cm5zIHtYTUx8c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19maWxsUGxhY2Vob2xkZXJzKGtleSwgbmFtZSwgbnVtYmVyLCBwcm90b3R5cGUpIHtcbiAgICB2YXIgbGFiZWxSZWd4ID0gbmV3IFJlZ0V4cChrZXkgKyAnbGFiZWxfXycsICdnJyksXG4gICAgICAgIG5hbWVSZWd4ID0gbmV3IFJlZ0V4cChrZXksICdnJyk7XG4gICAgcmV0dXJuIHByb3RvdHlwZS5yZXBsYWNlKGxhYmVsUmVneCwgbmFtZSArIG51bWJlcikucmVwbGFjZShuYW1lUmVneCwgJycgKyBudW1iZXIpO1xufVxuXG4vKipcbiAqIFJldHVybiBIVE1MIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBIVE1MIEVsZW1lbnQgb2JqZWN0XG4gKiBAcGFyYW0gZWxlbWVudCB7SFRNTEVsZW1lbnR9XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19nZXRIdG1sU3RyaW5nKGVsZW1lbnQpIHtcbiAgICB2YXIgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHdyYXAuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgcmV0dXJuIHdyYXAuaW5uZXJIVE1MO1xufVxuXG4vKipcbiAqIFJlbW92ZSBsYWJlbCBvZiBub2RlXG4gKiBAcGFyYW0gbm9kZSB7SFRNTEVsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfcmVtb3ZlTGFiZWwobm9kZSkge1xuICAgIF9Eb20yLmRlZmF1bHQucmVtb3ZlTm9kZShub2RlLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWxlZnQnKSk7XG4gICAgdmFyIGZvcm1SaWdodCA9IG5vZGUucXVlcnlTZWxlY3RvcignLmZvcm0tcmlnaHQnKTtcbiAgICBfRG9tMi5kZWZhdWx0LmNsYXNzbGlzdC5yZW1vdmVBbGwoZm9ybVJpZ2h0LCBbJ3NwYW4tbm9uZS1wYWRkaW5nLW1lZGl1bS0xNicsICdzcGFuLW5vbmUtcGFkZGluZy1sYXJnZS0xOCcsICdzcGFuLW5vbmUtcGFkZGluZy14bGFyZ2UtMTQnXSk7XG4gICAgX0RvbTIuZGVmYXVsdC5jbGFzc2xpc3QuYWRkQWxsKGZvcm1SaWdodCwgWydzcGFuLW5vbmUtcGFkZGluZy1tZWRpdW0tMjQnLCAnc3Bhbi1ub25lLXBhZGRpbmctbGFyZ2UtMjQnLCAnc3Bhbi1ub25lLXBhZGRpbmcteGxhcmdlLTI0J10pO1xufVxuXG4vKipcbiAqIFNpbXBsZSBjbGFzcyB3aGljaCBrZWVwcyBiYXNpYyBwcm90b3R5cGUgZGF0YVxuICogQGNsYXNzIFByb3RvdHlwZURhdGFcbiAqIEBwYXJhbSBwcm90byB7c3RyaW5nfVxuICogQHBhcmFtIG9wdGlvbnMge09iamVjdH1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5cbnZhciBQcm90b3R5cGVEYXRhID0gZnVuY3Rpb24gUHJvdG90eXBlRGF0YShwcm90bywgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm90b3R5cGVEYXRhKTtcblxuICAgIHRoaXMucHJvdG90eXBlID0gcHJvdG87XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbn07XG5cbnZhciBTRUxFQ1RfTUFQID0ge1xuICAgIGlkOiAnW2lkXScsXG4gICAgbmFtZTogJ1tuYW1lXScsXG4gICAgJ2Zvcic6ICdsYWJlbFtmb3JdJ1xufTtcblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgY2hpbGQgb2YgY29sbGVjdGlvblxuICogQGNsYXNzIENvbGxlY3Rpb25DaGlsZFxuICogQHBhcmFtIG5vZGUge0hUTUxFbGVtZW50fVxuICogQHBhcmFtIGlkIHtzdHJpbmd9XG4gKiBAcGFyYW0gcGFyZW50IHtDb2xsZWN0aW9ufVxuICogQHBhcmFtIFtwcm90b3R5cGVEYXRhXSB7QXJyYXl9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuXG52YXIgQ29sbGVjdGlvbkNoaWxkID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbGxlY3Rpb25DaGlsZChub2RlLCBpZCwgcGFyZW50LCBwcm90b3R5cGVEYXRhKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xsZWN0aW9uQ2hpbGQpO1xuXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMudW5saXN0ZW5SZW1vdmVCdXR0b24gPSBudWxsO1xuXG4gICAgICAgIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LmFkZChub2RlLCAnY29sbGVjdGlvbi1jaGlsZCcpO1xuICAgICAgICAvL0xhYmVsP1xuICAgICAgICBpZiAocGFyZW50LnNldHRpbmdzLmxhYmVsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgX3JlbW92ZUxhYmVsKG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb3RvdHlwZUVsZW1lbnRzID0gbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm90b3R5cGVdJyk7XG4gICAgICAgIGlmIChwcm90b3R5cGVFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb25zID0gX19pbml0aWFsaXplQ29sbGVjdGlvbnMuY2FsbCh0aGlzLCBwcm90b3R5cGVFbGVtZW50cywgcHJvdG90eXBlRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYWZldHkgcmVtb3ZlIG9mIGNoaWxkXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhDb2xsZWN0aW9uQ2hpbGQsIFt7XG4gICAgICAgIGtleTogJ3JlbW92ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgICAgICBfRG9tMi5kZWZhdWx0LnJlbW92ZU5vZGUodGhpcy5ub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgSUQgb2YgY2hpbGQgYW5kIHVwZGF0ZSBhbGwgZWxlbWVudHMgZGVzY2VuZGFudFxuICAgICAgICAgKiBAcGFyYW0gaWRcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldElEJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldElEKGlkKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIGxheWVyID0gdGhpcy5wYXJlbnQubGF5ZXI7XG4gICAgICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goU0VMRUNUX01BUCwgZnVuY3Rpb24gKHNlbGVjdG9yLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goX3RoaXM0Lm5vZGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX191cGRhdGVBdHRyaWJ1dGUoZWwsIGlkLCBsYXllciwga2V5KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gY2hhbmdlIHRvIHNlbGZcbiAgICAgICAgICAgIF9fdXBkYXRlQXR0cmlidXRlKHRoaXMubm9kZSwgaWQsIGxheWVyLCAnaWQnKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZGV0YWNoJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaCh0aGlzLmNvbGxlY3Rpb25zLCBmdW5jdGlvbiAoY29sbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsLmRldGFjaCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuUmVtb3ZlQnV0dG9uKCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29sbGVjdGlvbkNoaWxkO1xufSgpO1xuXG4vKipcbiAqIEluaXRpYWxpemUgbmV3IGNvbGxlY3Rpb25zIG9mIGNoaWxkXG4gKiBAcGFyYW0gcHJvdG90eXBlRWxlbWVudHMge0hUTUxDb2xsZWN0aW9uIHwgQXJyYXl9XG4gKiBAcGFyYW0gcHJvdG90eXBlRGF0YVNvdXJjZSB7QXJyYXl9XG4gKiBAcmV0dXJucyB7KnxBcnJheX1cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBfX2luaXRpYWxpemVDb2xsZWN0aW9ucyhwcm90b3R5cGVFbGVtZW50cywgcHJvdG90eXBlRGF0YVNvdXJjZSkge1xuICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgaWYgKCFwcm90b3R5cGVEYXRhU291cmNlKSB7XG4gICAgICAgIHJldHVybiBfbG9kYXNoMi5kZWZhdWx0Lm1hcChwcm90b3R5cGVFbGVtZW50cywgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gX1N0b3JlMi5kZWZhdWx0LmdldFZhbHVlKGVsLCAnY29sbGVjdGlvbicpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gSW5pdCBuZXh0IGxldmVsXG4gICAgcmV0dXJuIF9sb2Rhc2gyLmRlZmF1bHQubWFwKHByb3RvdHlwZUVsZW1lbnRzLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgdmFyIHByb3RvdHlwZU5hbWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvdG90eXBlJyksXG4gICAgICAgICAgICBwcm90b3R5cGVEYXRhID0gX2xvZGFzaDIuZGVmYXVsdC5jbG9uZURlZXAoX2xvZGFzaDIuZGVmYXVsdC5maW5kKHByb3RvdHlwZURhdGFTb3VyY2UsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5vcHRpb25zWydwcm90b3R5cGVfbmFtZSddID09PSBwcm90b3R5cGVOYW1lO1xuICAgICAgICB9KSk7XG4gICAgICAgIHByb3RvdHlwZURhdGEucHJvdG90eXBlID0gX19maWxsUGxhY2Vob2xkZXJzKF90aGlzNS5wYXJlbnQuc2V0dGluZ3NbJ3Byb3RvdHlwZV9uYW1lJ10sIF90aGlzNS5wYXJlbnQuc2V0dGluZ3MubmFtZSwgX3RoaXM1LmlkLCBwcm90b3R5cGVEYXRhLnByb3RvdHlwZSk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGVjdGlvbihlbCwgX3RoaXM1LnBhcmVudC5nbG9iYWxPcHRpb25zLCBwcm90b3R5cGVEYXRhLCBfdGhpczUucGFyZW50LmxheWVyICsgMSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQ2hhbmdlIGlkZW50aWZpZXIgb24gcGFydGljdWxhciBsZXZlbCBvZiBzZWxlY3RlZCBhdHRyaWJ1dGVcbiAqIEBwYXJhbSBub2RlIHtIVE1MRWxlbWVudH1cbiAqIEBwYXJhbSBpZCB7c3RyaW5nfVxuICogQHBhcmFtIGxheWVyIHtOdW1iZXJ9XG4gKiBAcGFyYW0gYXR0cmlidXRlIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfX3VwZGF0ZUF0dHJpYnV0ZShub2RlLCBpZCwgbGF5ZXIsIGF0dHJpYnV0ZSkge1xuICAgIHZhciBpc05hbWUgPSBhdHRyaWJ1dGUgPT09ICduYW1lJyxcbiAgICAgICAgcmVnZXggPSBpc05hbWUgPyAvXFxbXFxkXS9nIDogL19cXGRffF9cXGQkL2csXG4gICAgICAgIHBhcmFtZXRlclN0ciA9IG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSksXG4gICAgICAgIHJlc3VsdFN0ciA9ICcnO1xuXG4gICAgdmFyIGkgPSAwLFxuICAgICAgICByZ3hSZXN1bHQgPSBudWxsLFxuICAgICAgICBuZXh0ID0gdHJ1ZTtcblxuICAgIHdoaWxlIChuZXh0KSB7XG4gICAgICAgIHJneFJlc3VsdCA9IHJlZ2V4LmV4ZWMocGFyYW1ldGVyU3RyKTtcbiAgICAgICAgaWYgKGkgPT09IGxheWVyKSB7XG4gICAgICAgICAgICByZXN1bHRTdHIgKz0gcGFyYW1ldGVyU3RyLnN1YnN0cmluZygwLCByZ3hSZXN1bHQuaW5kZXggKyAxKTtcbiAgICAgICAgICAgIHJlc3VsdFN0ciArPSBpZDtcblxuICAgICAgICAgICAgaWYgKCFpc05hbWUgJiYgcGFyYW1ldGVyU3RyLmxlbmd0aCA9PT0gcmd4UmVzdWx0LmluZGV4ICsgcmd4UmVzdWx0WzBdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRkIHRyYWlsaW5nXG4gICAgICAgICAgICByZXN1bHRTdHIgKz0gaXNOYW1lID8gJ10nIDogJ18nO1xuICAgICAgICAgICAgLy9BZGQgZW5kIG9mIHN0cmluZ1xuICAgICAgICAgICAgcmVzdWx0U3RyICs9IHBhcmFtZXRlclN0ci5zdWJzdHJpbmcocmd4UmVzdWx0LmluZGV4ICsgcmd4UmVzdWx0WzBdLmxlbmd0aCk7XG4gICAgICAgICAgICBuZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIC8vU2V0IG5ldyBJRFxuICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgcmVzdWx0U3RyKTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHJpbml0eS9Db2xsZWN0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSA1MThcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 519:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 8/20/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Private cache data storage\n * @type {Array}\n */\nvar _Data = [];\n\n/**\n * Stores values according to specified key and owner\n * Whole class is static\n */\nvar Store = {\n    /**\n     * Public function which returns Value or Null\n     * @param owner\n     * @param key\n     * @returns {*} | null\n     */\n    getValue: function getValue(owner, key) {\n        var item = __get(owner, key);\n        return item ? item.value : null;\n    },\n\n\n    /**\n     * Adds new or update existing data, If update returns old Item\n     * @param key\n     * @param value\n     * @param owner\n     * @returns {*}\n     */\n    setValue: function setValue(owner, key, value) {\n        var item = __get(owner, key),\n            old = null;\n\n        if (_lodash2.default.isNull(item)) {\n            old = new Item(owner, key, value);\n            _Data.push(old);\n        } else {\n            old = new Item(item.owner, item.key, item.value);\n            item.value = value;\n        }\n        return old.value;\n    },\n\n\n    /**\n     * Finds all data stored by this owner\n     * @param owner\n     * @returns {Array.<Item>} | null\n     */\n    getAll: function getAll(owner) {\n        var data = _Data.filter(function (item) {\n            return owner === item.owner;\n        });\n        return data.length === 0 ? null : data;\n    },\n\n\n    /**\n     * Remove stored value from Storage if owner and key exists\n     * @param owner\n     * @param key\n     * @returns {*} | null\n     */\n    remove: function remove(owner, key) {\n        var index = _lodash2.default.findIndex(_Data, function (item) {\n            return item.key === key && item.owner === owner;\n        });\n        return index ? _lodash2.default.pullAt(_Data, index).value : null;\n    }\n};\n\n/**\n * Wrapper for data stored in collection\n * @param key\n * @param value\n * @param owner\n */\n\nvar Item = function Item(owner, key, value) {\n    _classCallCheck(this, Item);\n\n    this.key = key;\n    this.value = value;\n    this.owner = owner;\n};\n\n/**\n * Export class representing data stored in Store\n * @type {Item}\n */\n\n\nStore.Item = Item;\n\n/**\n * Export private data property for texting purposes\n * @type {Array}\n * @private\n */\nStore._data = _Data;\n\n/**\n * Look for specified data by owner and key\n * @param key\n * @param owner\n * @returns {Item} | null\n * @private\n */\nfunction __get(owner, key) {\n    var length = _Data.length;\n    for (var i = 0; i < length; i++) {\n        if (owner === _Data[i].owner && key === _Data[i].key) {\n            return _Data[i];\n        }\n    }\n    return null;\n}\n\nexports.default = Store;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L1N0b3JlLmpzPzBiZGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGZpc2Egb24gOC8yMC8xNS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfbG9kYXNoID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbnZhciBfbG9kYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogUHJpdmF0ZSBjYWNoZSBkYXRhIHN0b3JhZ2VcbiAqIEB0eXBlIHtBcnJheX1cbiAqL1xudmFyIF9EYXRhID0gW107XG5cbi8qKlxuICogU3RvcmVzIHZhbHVlcyBhY2NvcmRpbmcgdG8gc3BlY2lmaWVkIGtleSBhbmQgb3duZXJcbiAqIFdob2xlIGNsYXNzIGlzIHN0YXRpY1xuICovXG52YXIgU3RvcmUgPSB7XG4gICAgLyoqXG4gICAgICogUHVibGljIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgVmFsdWUgb3IgTnVsbFxuICAgICAqIEBwYXJhbSBvd25lclxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKiBAcmV0dXJucyB7Kn0gfCBudWxsXG4gICAgICovXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKG93bmVyLCBrZXkpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBfX2dldChvd25lciwga2V5KTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLnZhbHVlIDogbnVsbDtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG5ldyBvciB1cGRhdGUgZXhpc3RpbmcgZGF0YSwgSWYgdXBkYXRlIHJldHVybnMgb2xkIEl0ZW1cbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICogQHBhcmFtIG93bmVyXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKG93bmVyLCBrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBpdGVtID0gX19nZXQob3duZXIsIGtleSksXG4gICAgICAgICAgICBvbGQgPSBudWxsO1xuXG4gICAgICAgIGlmIChfbG9kYXNoMi5kZWZhdWx0LmlzTnVsbChpdGVtKSkge1xuICAgICAgICAgICAgb2xkID0gbmV3IEl0ZW0ob3duZXIsIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgX0RhdGEucHVzaChvbGQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2xkID0gbmV3IEl0ZW0oaXRlbS5vd25lciwgaXRlbS5rZXksIGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgaXRlbS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvbGQudmFsdWU7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogRmluZHMgYWxsIGRhdGEgc3RvcmVkIGJ5IHRoaXMgb3duZXJcbiAgICAgKiBAcGFyYW0gb3duZXJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkuPEl0ZW0+fSB8IG51bGxcbiAgICAgKi9cbiAgICBnZXRBbGw6IGZ1bmN0aW9uIGdldEFsbChvd25lcikge1xuICAgICAgICB2YXIgZGF0YSA9IF9EYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIG93bmVyID09PSBpdGVtLm93bmVyO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IGRhdGE7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHN0b3JlZCB2YWx1ZSBmcm9tIFN0b3JhZ2UgaWYgb3duZXIgYW5kIGtleSBleGlzdHNcbiAgICAgKiBAcGFyYW0gb3duZXJcbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICogQHJldHVybnMgeyp9IHwgbnVsbFxuICAgICAqL1xuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG93bmVyLCBrZXkpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gX2xvZGFzaDIuZGVmYXVsdC5maW5kSW5kZXgoX0RhdGEsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5rZXkgPT09IGtleSAmJiBpdGVtLm93bmVyID09PSBvd25lcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpbmRleCA/IF9sb2Rhc2gyLmRlZmF1bHQucHVsbEF0KF9EYXRhLCBpbmRleCkudmFsdWUgOiBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogV3JhcHBlciBmb3IgZGF0YSBzdG9yZWQgaW4gY29sbGVjdGlvblxuICogQHBhcmFtIGtleVxuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gb3duZXJcbiAqL1xuXG52YXIgSXRlbSA9IGZ1bmN0aW9uIEl0ZW0ob3duZXIsIGtleSwgdmFsdWUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSXRlbSk7XG5cbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5vd25lciA9IG93bmVyO1xufTtcblxuLyoqXG4gKiBFeHBvcnQgY2xhc3MgcmVwcmVzZW50aW5nIGRhdGEgc3RvcmVkIGluIFN0b3JlXG4gKiBAdHlwZSB7SXRlbX1cbiAqL1xuXG5cblN0b3JlLkl0ZW0gPSBJdGVtO1xuXG4vKipcbiAqIEV4cG9ydCBwcml2YXRlIGRhdGEgcHJvcGVydHkgZm9yIHRleHRpbmcgcHVycG9zZXNcbiAqIEB0eXBlIHtBcnJheX1cbiAqIEBwcml2YXRlXG4gKi9cblN0b3JlLl9kYXRhID0gX0RhdGE7XG5cbi8qKlxuICogTG9vayBmb3Igc3BlY2lmaWVkIGRhdGEgYnkgb3duZXIgYW5kIGtleVxuICogQHBhcmFtIGtleVxuICogQHBhcmFtIG93bmVyXG4gKiBAcmV0dXJucyB7SXRlbX0gfCBudWxsXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfX2dldChvd25lciwga2V5KSB7XG4gICAgdmFyIGxlbmd0aCA9IF9EYXRhLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChvd25lciA9PT0gX0RhdGFbaV0ub3duZXIgJiYga2V5ID09PSBfRGF0YVtpXS5rZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBfRGF0YVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gU3RvcmU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3RyaW5pdHkvU3RvcmUuanNcbi8vIG1vZHVsZSBpZCA9IDUxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 520:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Created by Jakub on 09.02.16.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _Gateway = __webpack_require__(482);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Used for switching similar forms and copying it's data from form to form\nvar FormChanger = function () {\n    function FormChanger() {\n        _classCallCheck(this, FormChanger);\n    }\n\n    _createClass(FormChanger, null, [{\n        key: \"refreshForm\",\n\n        /**\n         * Call the \"url\" to get a form which will be inserted into \"parentElement\".\n         * After inserting the form the data from old form are copied to the new form.\n         * The \"afterFormChange\" callback is called after the process.\n         *\n         * @param {Element}  parentElement    Element which will contain the form which will ge get from url\n         * @param {string}   url              Url which will be used to get the form\n         * @param {function} afterFormChange  Function which is called after the refreshing is done\n         */\n        value: function refreshForm(parentElement, url, afterFormChange) {\n            //call api and get form\n            _Gateway2.default.get(url, {}, function (response) {\n                //save data from old form\n                var oldHtml = parentElement.innerHTML;\n\n                // If the element already contains a form\n                // Change the form to the new form and copy the data\n                if (oldHtml.includes(\"<form\")) {\n                    var oldForm = parentElement.getElementsByTagName(\"form\")[0];\n\n                    parentElement.innerHTML = response.text;\n                    var newForm = parentElement.getElementsByTagName(\"form\")[0];\n\n                    //copy data to new form\n                    FormChanger.copyFormData(oldForm, newForm);\n                } else {\n                    parentElement.innerHTML = response.text;\n                }\n                if (typeof afterFormChange === 'function') {\n                    afterFormChange();\n                }\n            });\n        }\n    }, {\n        key: \"copyFormData\",\n        value: function copyFormData(oldForm, newForm) {\n            var oldInputs = FormChanger.getFormInputs(oldForm);\n            var newInputs = FormChanger.getFormInputs(newForm);\n\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = newInputs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var newFormInput = _step.value;\n\n                    var newInputName = FormChanger.getShortInputName(newFormInput);\n\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = oldInputs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var oldInput = _step2.value;\n\n                            //if the input names are the same\n                            if (newInputName !== \"[_token]\" && newInputName === FormChanger.getShortInputName(oldInput)) {\n                                if ('checkbox' === newFormInput.getAttribute('type')) {\n                                    newFormInput.checked = oldInput.checked;\n                                } else {\n                                    newFormInput.value = oldInput.value;\n                                }\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n    }, {\n        key: \"getShortInputName\",\n        value: function getShortInputName(formInput) {\n            // e.g. free_product[name]\n            var formInputFullName = formInput.getAttribute('name');\n\n            var leftSquareBracketIndex = formInputFullName.indexOf('[');\n            var rightSquareBracketIndex = formInputFullName.indexOf(']');\n\n            // e.g name\n            return formInputFullName.substr(leftSquareBracketIndex, rightSquareBracketIndex);\n        }\n    }, {\n        key: \"getFormInputs\",\n        value: function getFormInputs(form) {\n            var inputs = Array.prototype.slice.call(form.getElementsByTagName(\"input\"));\n            var textAreas = Array.prototype.slice.call(form.getElementsByTagName(\"textarea\"));\n            var formName = form.getAttribute('name');\n            var formTextAreas = [];\n            var formInputs = [];\n\n            inputs.forEach(function (input) {\n                //check if the input contains id of the form\n                if (input.getAttribute(\"id\") && -1 !== input.getAttribute(\"id\").indexOf(formName)) {\n                    formInputs.push(input);\n                }\n            });\n\n            textAreas.forEach(function (input) {\n                //check if the input contains id of the form\n                if (input.getAttribute(\"id\") && -1 !== input.getAttribute(\"id\").indexOf(formName)) {\n                    formTextAreas.push(input);\n                }\n            });\n\n            //convert node list of textareas and push it to the end of inputs\n            return formInputs.concat(formTextAreas);\n        }\n    }]);\n\n    return FormChanger;\n}();\n\nexports.default = FormChanger;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvRm9ybUNoYW5nZXIuanM/MDhjNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgSmFrdWIgb24gMDkuMDIuMTYuXG4gKi9cblxuaW1wb3J0IEdhdGV3YXkgZnJvbSAndHJpbml0eS9HYXRld2F5JztcblxuLy8gVXNlZCBmb3Igc3dpdGNoaW5nIHNpbWlsYXIgZm9ybXMgYW5kIGNvcHlpbmcgaXQncyBkYXRhIGZyb20gZm9ybSB0byBmb3JtXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtQ2hhbmdlciB7XG4gICAgLyoqXG4gICAgICogQ2FsbCB0aGUgXCJ1cmxcIiB0byBnZXQgYSBmb3JtIHdoaWNoIHdpbGwgYmUgaW5zZXJ0ZWQgaW50byBcInBhcmVudEVsZW1lbnRcIi5cbiAgICAgKiBBZnRlciBpbnNlcnRpbmcgdGhlIGZvcm0gdGhlIGRhdGEgZnJvbSBvbGQgZm9ybSBhcmUgY29waWVkIHRvIHRoZSBuZXcgZm9ybS5cbiAgICAgKiBUaGUgXCJhZnRlckZvcm1DaGFuZ2VcIiBjYWxsYmFjayBpcyBjYWxsZWQgYWZ0ZXIgdGhlIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9ICBwYXJlbnRFbGVtZW50ICAgIEVsZW1lbnQgd2hpY2ggd2lsbCBjb250YWluIHRoZSBmb3JtIHdoaWNoIHdpbGwgZ2UgZ2V0IGZyb20gdXJsXG4gICAgICogQHBhcmFtIHtzdHJpbmd9ICAgdXJsICAgICAgICAgICAgICBVcmwgd2hpY2ggd2lsbCBiZSB1c2VkIHRvIGdldCB0aGUgZm9ybVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGFmdGVyRm9ybUNoYW5nZSAgRnVuY3Rpb24gd2hpY2ggaXMgY2FsbGVkIGFmdGVyIHRoZSByZWZyZXNoaW5nIGlzIGRvbmVcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVmcmVzaEZvcm0ocGFyZW50RWxlbWVudCwgdXJsLCBhZnRlckZvcm1DaGFuZ2UpIHtcbiAgICAgICAgLy9jYWxsIGFwaSBhbmQgZ2V0IGZvcm1cbiAgICAgICAgR2F0ZXdheS5nZXQodXJsLCB7fSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAvL3NhdmUgZGF0YSBmcm9tIG9sZCBmb3JtXG4gICAgICAgICAgICBsZXQgb2xkSHRtbCA9IHBhcmVudEVsZW1lbnQuaW5uZXJIVE1MO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBhbHJlYWR5IGNvbnRhaW5zIGEgZm9ybVxuICAgICAgICAgICAgLy8gQ2hhbmdlIHRoZSBmb3JtIHRvIHRoZSBuZXcgZm9ybSBhbmQgY29weSB0aGUgZGF0YVxuICAgICAgICAgICAgaWYgKG9sZEh0bWwuaW5jbHVkZXMoXCI8Zm9ybVwiKSkge1xuICAgICAgICAgICAgICAgIGxldCBvbGRGb3JtID0gcGFyZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImZvcm1cIilbMF07XG5cbiAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50LmlubmVySFRNTCA9IHJlc3BvbnNlLnRleHQ7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0Zvcm0gPSBwYXJlbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZm9ybVwiKVswXTtcblxuICAgICAgICAgICAgICAgIC8vY29weSBkYXRhIHRvIG5ldyBmb3JtXG4gICAgICAgICAgICAgICAgRm9ybUNoYW5nZXIuY29weUZvcm1EYXRhKG9sZEZvcm0sIG5ld0Zvcm0pO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuaW5uZXJIVE1MID0gcmVzcG9uc2UudGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYWZ0ZXJGb3JtQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgYWZ0ZXJGb3JtQ2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBjb3B5Rm9ybURhdGEob2xkRm9ybSwgbmV3Rm9ybSkge1xuICAgICAgICBsZXQgb2xkSW5wdXRzID0gRm9ybUNoYW5nZXIuZ2V0Rm9ybUlucHV0cyhvbGRGb3JtKTtcbiAgICAgICAgbGV0IG5ld0lucHV0cyA9IEZvcm1DaGFuZ2VyLmdldEZvcm1JbnB1dHMobmV3Rm9ybSk7XG5cbiAgICAgICAgZm9yIChsZXQgbmV3Rm9ybUlucHV0IG9mIG5ld0lucHV0cykge1xuICAgICAgICAgICAgbGV0IG5ld0lucHV0TmFtZSA9IEZvcm1DaGFuZ2VyLmdldFNob3J0SW5wdXROYW1lKG5ld0Zvcm1JbnB1dCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IG9sZElucHV0IG9mIG9sZElucHV0cykge1xuICAgICAgICAgICAgICAgIC8vaWYgdGhlIGlucHV0IG5hbWVzIGFyZSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIGlmIChuZXdJbnB1dE5hbWUgIT09IFwiW190b2tlbl1cIiAmJiBuZXdJbnB1dE5hbWUgPT09IEZvcm1DaGFuZ2VyLmdldFNob3J0SW5wdXROYW1lKG9sZElucHV0KSkge1xuICAgICAgICAgICAgICAgICAgICBpZignY2hlY2tib3gnID09PSBuZXdGb3JtSW5wdXQuZ2V0QXR0cmlidXRlKCd0eXBlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Zvcm1JbnB1dC5jaGVja2VkID0gb2xkSW5wdXQuY2hlY2tlZDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Zvcm1JbnB1dC52YWx1ZSA9IG9sZElucHV0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFNob3J0SW5wdXROYW1lKGZvcm1JbnB1dCkge1xuICAgICAgICAvLyBlLmcuIGZyZWVfcHJvZHVjdFtuYW1lXVxuICAgICAgICBsZXQgZm9ybUlucHV0RnVsbE5hbWUgPSBmb3JtSW5wdXQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG5cbiAgICAgICAgbGV0IGxlZnRTcXVhcmVCcmFja2V0SW5kZXggPSBmb3JtSW5wdXRGdWxsTmFtZS5pbmRleE9mKCdbJyk7XG4gICAgICAgIGxldCByaWdodFNxdWFyZUJyYWNrZXRJbmRleCA9IGZvcm1JbnB1dEZ1bGxOYW1lLmluZGV4T2YoJ10nKTtcblxuICAgICAgICAvLyBlLmcgbmFtZVxuICAgICAgICByZXR1cm4gZm9ybUlucHV0RnVsbE5hbWUuc3Vic3RyKGxlZnRTcXVhcmVCcmFja2V0SW5kZXgsIHJpZ2h0U3F1YXJlQnJhY2tldEluZGV4KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0Rm9ybUlucHV0cyhmb3JtKSB7XG4gICAgICAgIGxldCBpbnB1dHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIikpO1xuICAgICAgICBsZXQgdGV4dEFyZWFzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZm9ybS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpKTtcbiAgICAgICAgbGV0IGZvcm1OYW1lID0gZm9ybS5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICAgICAgbGV0IGZvcm1UZXh0QXJlYXMgPSBbXTtcbiAgICAgICAgbGV0IGZvcm1JbnB1dHMgPSBbXTtcblxuICAgICAgICBpbnB1dHMuZm9yRWFjaChmdW5jdGlvbihpbnB1dCl7XG4gICAgICAgICAgICAvL2NoZWNrIGlmIHRoZSBpbnB1dCBjb250YWlucyBpZCBvZiB0aGUgZm9ybVxuICAgICAgICAgICAgaWYoaW5wdXQuZ2V0QXR0cmlidXRlKFwiaWRcIikgJiYgLTEgIT09IGlucHV0LmdldEF0dHJpYnV0ZShcImlkXCIpLmluZGV4T2YoZm9ybU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZm9ybUlucHV0cy5wdXNoKGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGV4dEFyZWFzLmZvckVhY2goZnVuY3Rpb24oaW5wdXQpe1xuICAgICAgICAgICAgLy9jaGVjayBpZiB0aGUgaW5wdXQgY29udGFpbnMgaWQgb2YgdGhlIGZvcm1cbiAgICAgICAgICAgIGlmKGlucHV0LmdldEF0dHJpYnV0ZShcImlkXCIpICYmIC0xICE9PSBpbnB1dC5nZXRBdHRyaWJ1dGUoXCJpZFwiKS5pbmRleE9mKGZvcm1OYW1lKSkge1xuICAgICAgICAgICAgICAgIGZvcm1UZXh0QXJlYXMucHVzaChpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vY29udmVydCBub2RlIGxpc3Qgb2YgdGV4dGFyZWFzIGFuZCBwdXNoIGl0IHRvIHRoZSBlbmQgb2YgaW5wdXRzXG4gICAgICAgIHJldHVybiBmb3JtSW5wdXRzLmNvbmNhdChmb3JtVGV4dEFyZWFzKTtcbiAgICB9XG59XG5cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0xpYnJhcmllcy9Gb3JtQ2hhbmdlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFJQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTs7Ozs7Ozs7QUFDQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFhQTtBQWpCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBa0JBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUExRkEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 521:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Controller2 = __webpack_require__(467);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _TrinityTab = __webpack_require__(481);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _VeniceForm = __webpack_require__(468);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by Jakub Fajkus on 10.12.15.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ProductAccessController = function (_Controller) {\n    _inherits(ProductAccessController, _Controller);\n\n    function ProductAccessController() {\n        _classCallCheck(this, ProductAccessController);\n\n        return _possibleConstructorReturn(this, (ProductAccessController.__proto__ || Object.getPrototypeOf(ProductAccessController)).apply(this, arguments));\n    }\n\n    _createClass(ProductAccessController, [{\n        key: 'newAction',\n\n\n        /**\n         * New billing plan action\n         * @param $scope\n         */\n        value: function newAction($scope) {\n            //Attach VeniceForm\n            $scope.form = new _VeniceForm2.default($('form[name=\"product_access\"]')[0]);\n        }\n    }, {\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            $scope.trinityTab = new _TrinityTab2.default();\n\n            //On tabs load\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = $('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n            });\n        }\n    }]);\n\n    return ProductAccessController;\n}(_Controller3.default);\n\nexports.default = ProductAccessController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9Qcm9kdWN0QWNjZXNzQ29udHJvbGxlci5qcz9jNjY0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBKYWt1YiBGYWprdXMgb24gMTAuMTIuMTUuXG4gKi9cblxuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAndHJpbml0eS9Db250cm9sbGVyJztcbmltcG9ydCBUcmluaXR5VGFiIGZyb20gJ3RyaW5pdHkvY29tcG9uZW50cy9UcmluaXR5VGFiJztcbmltcG9ydCBWZW5pY2VGb3JtIGZyb20gJy4uL0xpYnJhcmllcy9WZW5pY2VGb3JtJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdEFjY2Vzc0NvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcblxuICAgIC8qKlxuICAgICAqIE5ldyBiaWxsaW5nIHBsYW4gYWN0aW9uXG4gICAgICogQHBhcmFtICRzY29wZVxuICAgICAqL1xuICAgIG5ld0FjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgLy9BdHRhY2ggVmVuaWNlRm9ybVxuICAgICAgICAkc2NvcGUuZm9ybSA9IG5ldyBWZW5pY2VGb3JtKCQoJ2Zvcm1bbmFtZT1cInByb2R1Y3RfYWNjZXNzXCJdJylbMF0pO1xuICAgIH1cblxuICAgIHRhYnNBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS50cmluaXR5VGFiID0gbmV3IFRyaW5pdHlUYWIoKTtcblxuICAgICAgICAvL09uIHRhYnMgbG9hZFxuICAgICAgICAkc2NvcGUudHJpbml0eVRhYi5hZGRMaXN0ZW5lcigndGFiLWxvYWQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgbGV0IGZvcm0gPSAkKCdmb3JtJywgZS5lbGVtZW50KVswXTtcbiAgICAgICAgICAgIGlmKGZvcm0pe1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3JtcyA9ICRzY29wZS52ZW5pY2VGb3JtcyB8fCB7fTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0gPSBuZXcgVmVuaWNlRm9ybShmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi8uLi92ZW5pY2UtanMvQ29udHJvbGxlcnMvUHJvZHVjdEFjY2Vzc0NvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBSUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBUEE7Ozs7QUFRQTs7Ozs7Ozs7Ozs7OztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBdEJBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 522:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _VeniceForm = __webpack_require__(468);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _TrinityTab = __webpack_require__(481);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _GlobalLib = __webpack_require__(484);\n\nvar _BillingPlanGrid = __webpack_require__(523);\n\nvar _BillingPlanGrid2 = _interopRequireDefault(_BillingPlanGrid);\n\nvar _Controller2 = __webpack_require__(467);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _VeniceGridBuilder = __webpack_require__(488);\n\nvar _VeniceGridBuilder2 = _interopRequireDefault(_VeniceGridBuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by Jakub Fajkus on 10.12.15.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ProductController = function (_Controller) {\n    _inherits(ProductController, _Controller);\n\n    function ProductController() {\n        _classCallCheck(this, ProductController);\n\n        return _possibleConstructorReturn(this, (ProductController.__proto__ || Object.getPrototypeOf(ProductController)).apply(this, arguments));\n    }\n\n    _createClass(ProductController, [{\n        key: 'indexAction',\n        value: function indexAction($scope) {\n            $scope.productGrid = _VeniceGridBuilder2.default.build(_jquery2.default.id('product-grid'), this.request.query);\n        }\n    }, {\n        key: 'newAction',\n        value: function newAction($scope) {\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"free_product\"]')[0]);\n            ProductController._handleHandleGeneration();\n        }\n    }, {\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            var _this2 = this;\n\n            $scope.trinityTab = new _TrinityTab2.default();\n            var unlisteners = [];\n            //On tabs load\n            $scope.trinityTab.addListener('tab-load', function (e) {\n\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n\n                switch (e.id) {\n                    // Edit\n                    case 'tab2':\n                        {\n                            unlisteners.push(ProductController._handleHandleGeneration());\n\n                            $scope.veniceForms['tab2'].success(function () {\n                                $scope.trinityTab.reload('tab1');\n                            });\n                        }break;\n                    case 'tab3':\n                        {\n                            var container = _jquery2.default.id('content-grid');\n                            if (container) {\n                                $scope.contentGrid = _VeniceGridBuilder2.default.build(container, _this2.request.query);\n                            }\n                        }break;\n                    case 'tab4':\n                        {\n                            var _container = _jquery2.default.id('billing-plan-grid');\n                            if (_container) {\n                                $scope.bilingPlanGrid = _VeniceGridBuilder2.default.buildCustom(_container, _this2.request.query, _BillingPlanGrid2.default);\n                            }\n                        }break;\n                    case 'tab5':\n                        {\n                            $scope.articleGrid = _VeniceGridBuilder2.default.build(_jquery2.default.id('blog-article-grid'), _this2.request.query);\n                        }break;\n                }\n            });\n\n            $scope.trinityTab.addListener('tab-unload', function (e) {\n                switch (e.id) {\n                    // Edit\n                    case 'tab2':\n                        {\n                            _lodash2.default.each(unlisteners, function (fn) {\n                                return fn();\n                            });\n                        }break;\n                    default:\n                        break;\n                }\n                // All\n                if ($scope.veniceForms[e.id]) {\n                    $scope.veniceForms[e.id].detach();\n                }\n            });\n        }\n\n        /**\n         * TODO: @RichardBures\n         * @param $scope\n         */\n\n    }, {\n        key: 'newContentProductAction',\n        value: function newContentProductAction($scope) {\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"content_product_type_with_hidden_product\"]')[0]);\n        }\n    }], [{\n        key: '_handleHandleGeneration',\n        value: function _handleHandleGeneration() {\n            return (0, _GlobalLib.handleHandleGeneration)((0, _jquery2.default)('#product_form').attr('data-slugify'), _jquery2.default.id('free_product_name'), _jquery2.default.id('free_product_handle'));\n        }\n    }]);\n\n    return ProductController;\n}(_Controller3.default);\n\nexports.default = ProductController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9Qcm9kdWN0Q29udHJvbGxlci5qcz84NDFiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBKYWt1YiBGYWprdXMgb24gMTAuMTIuMTUuXG4gKi9cblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgVmVuaWNlRm9ybSBmcm9tICcuLi9MaWJyYXJpZXMvVmVuaWNlRm9ybSc7XG5pbXBvcnQgVHJpbml0eVRhYiBmcm9tICd0cmluaXR5L2NvbXBvbmVudHMvVHJpbml0eVRhYic7XG5pbXBvcnQge2hhbmRsZUhhbmRsZUdlbmVyYXRpb259IGZyb20gJy4uL0xpYnJhcmllcy9HbG9iYWxMaWInO1xuaW1wb3J0IEJpbGxpbmdQbGFuR3JpZCBmcm9tICcuLi9DdXN0b21Hcmlkcy9CaWxsaW5nUGxhbkdyaWQuanN4JztcbmltcG9ydCBDb250cm9sbGVyIGZyb20gJ3RyaW5pdHkvQ29udHJvbGxlcic7XG5pbXBvcnQgR3JpZEJ1aWxkZXIgZnJvbSAnLi4vTGlicmFyaWVzL1ZlbmljZUdyaWRCdWlsZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdENvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcblxuICAgIGluZGV4QWN0aW9uKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUucHJvZHVjdEdyaWQgPSBHcmlkQnVpbGRlci5idWlsZCgkLmlkKCdwcm9kdWN0LWdyaWQnKSwgdGhpcy5yZXF1ZXN0LnF1ZXJ5KTtcbiAgICB9XG5cblxuICAgIG5ld0FjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLmZvcm0gPSBuZXcgVmVuaWNlRm9ybSgkKCdmb3JtW25hbWU9XCJmcmVlX3Byb2R1Y3RcIl0nKVswXSk7XG4gICAgICAgIFByb2R1Y3RDb250cm9sbGVyLl9oYW5kbGVIYW5kbGVHZW5lcmF0aW9uKCk7XG4gICAgfVxuXG4gICAgdGFic0FjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIgPSBuZXcgVHJpbml0eVRhYigpO1xuICAgICAgICBsZXQgdW5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgLy9PbiB0YWJzIGxvYWRcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIuYWRkTGlzdGVuZXIoJ3RhYi1sb2FkJywgKGUpID0+IHtcblxuICAgICAgICAgICAgbGV0IGZvcm0gPSAkKCdmb3JtJywgZS5lbGVtZW50KVswXTtcbiAgICAgICAgICAgIGlmKGZvcm0pe1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3JtcyA9ICRzY29wZS52ZW5pY2VGb3JtcyB8fCB7fTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0gPSBuZXcgVmVuaWNlRm9ybShmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3dpdGNoKGUuaWQpe1xuICAgICAgICAgICAgICAgIC8vIEVkaXRcbiAgICAgICAgICAgICAgICBjYXNlICd0YWIyJzoge1xuICAgICAgICAgICAgICAgICAgICB1bmxpc3RlbmVycy5wdXNoKFByb2R1Y3RDb250cm9sbGVyLl9oYW5kbGVIYW5kbGVHZW5lcmF0aW9uKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1sndGFiMiddLnN1Y2Nlc3MoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50cmluaXR5VGFiLnJlbG9hZCgndGFiMScpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RhYjMnOiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb250YWluZXIgPSAkLmlkKCdjb250ZW50LWdyaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoY29udGFpbmVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb250ZW50R3JpZCA9IEdyaWRCdWlsZGVyLmJ1aWxkKGNvbnRhaW5lciwgdGhpcy5yZXF1ZXN0LnF1ZXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndGFiNCc6e1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29udGFpbmVyID0gJC5pZCgnYmlsbGluZy1wbGFuLWdyaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoY29udGFpbmVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5iaWxpbmdQbGFuR3JpZCA9IEdyaWRCdWlsZGVyLmJ1aWxkQ3VzdG9tKGNvbnRhaW5lciwgdGhpcy5yZXF1ZXN0LnF1ZXJ5LCBCaWxsaW5nUGxhbkdyaWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0YWI1Jzp7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hcnRpY2xlR3JpZCA9IEdyaWRCdWlsZGVyLmJ1aWxkKCQuaWQoJ2Jsb2ctYXJ0aWNsZS1ncmlkJyksIHRoaXMucmVxdWVzdC5xdWVyeSk7XG4gICAgICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIuYWRkTGlzdGVuZXIoJ3RhYi11bmxvYWQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoKGUuaWQpe1xuICAgICAgICAgICAgICAgIC8vIEVkaXRcbiAgICAgICAgICAgICAgICBjYXNlICd0YWIyJzoge1xuICAgICAgICAgICAgICAgICAgICBfLmVhY2godW5saXN0ZW5lcnMsIGZuID0+IGZuKCkpO1xuICAgICAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdCA6IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWxsXG4gICAgICAgICAgICBpZigkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0pe1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXS5kZXRhY2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVE9ETzogQFJpY2hhcmRCdXJlc1xuICAgICAqIEBwYXJhbSAkc2NvcGVcbiAgICAgKi9cbiAgICBuZXdDb250ZW50UHJvZHVjdEFjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLmZvcm0gPSBuZXcgVmVuaWNlRm9ybSgkKCdmb3JtW25hbWU9XCJjb250ZW50X3Byb2R1Y3RfdHlwZV93aXRoX2hpZGRlbl9wcm9kdWN0XCJdJylbMF0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBfaGFuZGxlSGFuZGxlR2VuZXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUhhbmRsZUdlbmVyYXRpb24oXG4gICAgICAgICAgICAkKCcjcHJvZHVjdF9mb3JtJykuYXR0cignZGF0YS1zbHVnaWZ5JyksXG4gICAgICAgICAgICAkLmlkKCdmcmVlX3Byb2R1Y3RfbmFtZScpLFxuICAgICAgICAgICAgJC5pZCgnZnJlZV9wcm9kdWN0X2hhbmRsZScpKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9Qcm9kdWN0Q29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFJQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBWkE7Ozs7QUFhQTs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUF2QkE7QUF5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFJQTs7Ozs7O0FBL0VBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 523:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(182);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _DefaultGrid2 = __webpack_require__(495);\n\nvar _DefaultGrid3 = _interopRequireDefault(_DefaultGrid2);\n\nvar _Services = __webpack_require__(480);\n\nvar _Gateway = __webpack_require__(482);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar iconSetting = {\n    \"set\": { \"iClass\": \"trinity trinity-pin\" },\n    \"is\": { \"iClass\": \"trinity trinity-yes\" },\n    \"unset\": { \"iClass\": \"trinity trinity-close\" },\n    \"loading\": { \"iClass\": \"tiecons tiecons-loading tiecons-rotate\" }\n},\n    isState = 'is',\n    unsetState = 'unset',\n    setState = 'set',\n    loadState = 'loading',\n    stateAttr = 'data-state';\n\nvar BillingPlanGrid = function (_DefaultGrid) {\n    _inherits(BillingPlanGrid, _DefaultGrid);\n\n    function BillingPlanGrid(props) {\n        _classCallCheck(this, BillingPlanGrid);\n\n        var _this = _possibleConstructorReturn(this, (BillingPlanGrid.__proto__ || Object.getPrototypeOf(BillingPlanGrid)).call(this, props));\n\n        _this.defOnVenice = [];\n        return _this;\n    }\n\n    _createClass(BillingPlanGrid, [{\n        key: 'changeOtherIconts',\n        value: function changeOtherIconts(icon) {\n            console.log('called on', icon);\n            _lodash2.default.each(this.defOnVenice, function (ci) {\n                if (ci !== icon) {\n                    (0, _jquery2.default)(ci).attr(stateAttr, setState);\n                    ci.className = iconSetting[(0, _jquery2.default)(ci).attr(stateAttr)].iClass;\n                }\n            });\n        }\n    }, {\n        key: 'renderRows',\n        value: function renderRows() {\n            var _this2 = this;\n\n            this.useDetail = false;\n\n            return _lodash2.default.map(this.state.data, function (el, i) {\n                var dataColumns = _lodash2.default.map(_this2.columns, function (col, i) {\n                    var colProps = {\n                        key: i,\n                        style: col.hidden ? { 'display': 'none' } : {},\n                        className: col.className\n                    };\n                    if (col.name === 'veniceDefault') {\n                        var _ret = function () {\n                            // todo someday make class from all of this\n                            var elem = (0, _jquery2.default)(el[col.name]),\n                                divState = elem.attr(stateAttr),\n                                url = elem.attr('data-href'),\n                                icon = void 0,\n                                onClick = function onClick() {\n                                if ((0, _jquery2.default)(icon).attr(stateAttr) === setState) {\n                                    (0, _jquery2.default)(icon).attr(stateAttr, loadState);\n                                    icon.className = iconSetting[(0, _jquery2.default)(icon).attr(stateAttr)].iClass;\n                                    _Gateway2.default.post(url, null, function () {\n                                        (0, _jquery2.default)(icon).attr(stateAttr, isState);\n                                        icon.className = iconSetting[(0, _jquery2.default)(icon).attr(stateAttr)].iClass;\n                                        _this2.changeOtherIconts(icon);\n                                    }, function (err) {\n                                        console.log(err);\n                                    });\n                                } else if ((0, _jquery2.default)(icon).attr(stateAttr) === unsetState) {\n                                    (0, _jquery2.default)(icon).attr(stateAttr, loadState);\n                                    icon.className = iconSetting[(0, _jquery2.default)(icon).attr(stateAttr)].iClass;\n                                    _Gateway2.default.post(url, { unset: true }, function () {\n                                        (0, _jquery2.default)(icon).attr(stateAttr, setState);\n                                        icon.className = iconSetting[(0, _jquery2.default)(icon).attr(stateAttr)].iClass;\n                                    }, function (err) {\n                                        console.log(err);\n                                    });\n                                }\n                            },\n                                toggle = function toggle(enter) {\n                                if ((0, _jquery2.default)(icon).attr(stateAttr) === isState || (0, _jquery2.default)(icon).attr(stateAttr) === unsetState) {\n                                    if (enter) {\n                                        (0, _jquery2.default)(icon).attr(stateAttr, unsetState);\n                                        icon.className = iconSetting[(0, _jquery2.default)(icon).attr(stateAttr)].iClass;\n                                    } else {\n                                        (0, _jquery2.default)(icon).attr(stateAttr, isState);\n                                        icon.className = iconSetting[(0, _jquery2.default)(icon).attr(stateAttr)].iClass;\n                                    }\n                                }\n                            };\n                            return {\n                                v: _react2.default.createElement(\n                                    'td',\n                                    colProps,\n                                    _react2.default.createElement(\n                                        'div',\n                                        null,\n                                        _react2.default.createElement('i', {\n                                            onClick: onClick,\n                                            onMouseEnter: toggle.bind(_this2, true),\n                                            onMouseLeave: toggle.bind(_this2, false),\n                                            ref: function ref(input) {\n                                                icon = input;\n                                                (0, _jquery2.default)(icon).attr(stateAttr, divState);\n                                                _this2.defOnVenice.push(icon);\n                                            },\n                                            style: { cursor: 'pointer' },\n                                            className: iconSetting[elem.attr(stateAttr)].iClass\n                                        })\n                                    )\n                                )\n                            };\n                        }();\n\n                        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n                    }\n                    colProps.dangerouslySetInnerHTML = { __html: el[col.name] };\n                    return _react2.default.createElement('td', colProps);\n                });\n                return _react2.default.createElement(\n                    'tr',\n                    { key: '' + i + el._id },\n                    dataColumns\n                );\n            });\n        }\n    }]);\n\n    return BillingPlanGrid;\n}(_DefaultGrid3.default);\n\nexports.default = BillingPlanGrid;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9DdXN0b21Hcmlkcy9CaWxsaW5nUGxhbkdyaWQuanN4PzIyNzgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRGVmYXVsdEdyaWQgZnJvbSAnLi4vTGlicmFyaWVzL0dyaWQvRGVmYXVsdEdyaWQuanN4JztcbmltcG9ydCB7bWVzc2FnZVNlcnZpY2V9IGZyb20gJ3RyaW5pdHkvU2VydmljZXMnO1xuaW1wb3J0IEdhdGV3YXkgZnJvbSAndHJpbml0eS9HYXRld2F5JztcblxuY29uc3QgaWNvblNldHRpbmcgPSB7XG4gICAgICAgIFwic2V0XCI6IHtcImlDbGFzc1wiOiBcInRyaW5pdHkgdHJpbml0eS1waW5cIn0sXG4gICAgICAgIFwiaXNcIjoge1wiaUNsYXNzXCI6IFwidHJpbml0eSB0cmluaXR5LXllc1wifSxcbiAgICAgICAgXCJ1bnNldFwiOiB7XCJpQ2xhc3NcIjogXCJ0cmluaXR5IHRyaW5pdHktY2xvc2VcIn0sXG4gICAgICAgIFwibG9hZGluZ1wiOiB7XCJpQ2xhc3NcIjogXCJ0aWVjb25zIHRpZWNvbnMtbG9hZGluZyB0aWVjb25zLXJvdGF0ZVwifVxuICAgIH0sXG4gICAgaXNTdGF0ZSA9ICdpcycsXG4gICAgdW5zZXRTdGF0ZSA9ICd1bnNldCcsXG4gICAgc2V0U3RhdGUgPSAnc2V0JyxcbiAgICBsb2FkU3RhdGUgPSAnbG9hZGluZycsXG4gICAgc3RhdGVBdHRyID0gJ2RhdGEtc3RhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaWxsaW5nUGxhbkdyaWQgZXh0ZW5kcyBEZWZhdWx0R3JpZCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLmRlZk9uVmVuaWNlID0gW107XG4gICAgfVxuXG4gICAgY2hhbmdlT3RoZXJJY29udHMoaWNvbil7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjYWxsZWQgb24nLCBpY29uKTtcbiAgICAgICAgXy5lYWNoKHRoaXMuZGVmT25WZW5pY2UsIGNpID0+IHtcbiAgICAgICAgICAgIGlmKGNpICE9PSBpY29uKXtcbiAgICAgICAgICAgICAgICAkKGNpKS5hdHRyKHN0YXRlQXR0ciwgc2V0U3RhdGUpO1xuICAgICAgICAgICAgICAgIGNpLmNsYXNzTmFtZSA9IGljb25TZXR0aW5nWyQoY2kpLmF0dHIoc3RhdGVBdHRyKV0uaUNsYXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXJSb3dzKCkge1xuICAgICAgICB0aGlzLnVzZURldGFpbCA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiBfLm1hcCh0aGlzLnN0YXRlLmRhdGEsIChlbCwgaSkgPT4ge1xuICAgICAgICAgICAgbGV0IGRhdGFDb2x1bW5zID0gXy5tYXAodGhpcy5jb2x1bW5zLCAoY29sLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbFByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IGksXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBjb2wuaGlkZGVuID8geydkaXNwbGF5JzogJ25vbmUnfSA6IHt9LFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNvbC5jbGFzc05hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChjb2wubmFtZSA9PT0gJ3ZlbmljZURlZmF1bHQnKSB7ICAvLyB0b2RvIHNvbWVkYXkgbWFrZSBjbGFzcyBmcm9tIGFsbCBvZiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbGVtID0gJChlbFtjb2wubmFtZV0pLCBkaXZTdGF0ZSA9IGVsZW0uYXR0cihzdGF0ZUF0dHIpICx1cmwgPSBlbGVtLmF0dHIoJ2RhdGEtaHJlZicpLCBpY29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJChpY29uKS5hdHRyKHN0YXRlQXR0cikgPT09IHNldFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaWNvbikuYXR0cihzdGF0ZUF0dHIsIGxvYWRTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb24uY2xhc3NOYW1lID0gaWNvblNldHRpbmdbJChpY29uKS5hdHRyKHN0YXRlQXR0cildLmlDbGFzcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR2F0ZXdheS5wb3N0KHVybCwgbnVsbCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpY29uKS5hdHRyKHN0YXRlQXR0ciwgaXNTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uLmNsYXNzTmFtZSA9IGljb25TZXR0aW5nWyQoaWNvbikuYXR0cihzdGF0ZUF0dHIpXS5pQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZU90aGVySWNvbnRzKGljb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkKGljb24pLmF0dHIoc3RhdGVBdHRyKSA9PT0gdW5zZXRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGljb24pLmF0dHIoc3RhdGVBdHRyLCBsb2FkU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uLmNsYXNzTmFtZSA9IGljb25TZXR0aW5nWyQoaWNvbikuYXR0cihzdGF0ZUF0dHIpXS5pQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhdGV3YXkucG9zdCh1cmwsIHt1bnNldDogdHJ1ZX0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaWNvbikuYXR0cihzdGF0ZUF0dHIsIHNldFN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb24uY2xhc3NOYW1lID0gaWNvblNldHRpbmdbJChpY29uKS5hdHRyKHN0YXRlQXR0cildLmlDbGFzcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGUgPSAoZW50ZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJChpY29uKS5hdHRyKHN0YXRlQXR0cikgPT09IGlzU3RhdGUgfHwgJChpY29uKS5hdHRyKHN0YXRlQXR0cikgPT09IHVuc2V0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZW50ZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpY29uKS5hdHRyKHN0YXRlQXR0ciwgdW5zZXRTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uLmNsYXNzTmFtZSA9IGljb25TZXR0aW5nWyQoaWNvbikuYXR0cihzdGF0ZUF0dHIpXS5pQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGljb24pLmF0dHIoc3RhdGVBdHRyLCBpc1N0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb24uY2xhc3NOYW1lID0gaWNvblNldHRpbmdbJChpY29uKS5hdHRyKHN0YXRlQXR0cildLmlDbGFzcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgey4uLmNvbFByb3BzfSA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9e3RvZ2dsZS5iaW5kKHRoaXMsdHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e3RvZ2dsZS5iaW5kKHRoaXMsZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtpbnB1dCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbiA9IGlucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaWNvbikuYXR0cihzdGF0ZUF0dHIsZGl2U3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmT25WZW5pY2UucHVzaChpY29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e2N1cnNvcjogJ3BvaW50ZXInfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17aWNvblNldHRpbmdbZWxlbS5hdHRyKHN0YXRlQXR0cildLmlDbGFzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID0ge19faHRtbDogZWxbY29sLm5hbWVdfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gPHRkIHsuLi5jb2xQcm9wc30gLz47XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHRyIGtleT17JycgKyBpICsgZWwuX2lkfT5cbiAgICAgICAgICAgICAgICAgICAge2RhdGFDb2x1bW5zfVxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uLy4uL3ZlbmljZS1qcy9DdXN0b21Hcmlkcy9CaWxsaW5nUGxhbkdyaWQuanN4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7Ozs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFXQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRkE7QUFHQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0QkE7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQURBO0FBREE7QUFEQTtBQW5DQTtBQUNBO0FBREE7QUFxREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBSUE7QUFDQTs7Ozs7O0FBekZBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 524:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Controller2 = __webpack_require__(467);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _TrinityTab = __webpack_require__(481);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _VeniceForm = __webpack_require__(468);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _VeniceGridBuilder = __webpack_require__(488);\n\nvar _VeniceGridBuilder2 = _interopRequireDefault(_VeniceGridBuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by Jakub Fajkus on 28.12.15.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ContetntController = function (_Controller) {\n    _inherits(ContetntController, _Controller);\n\n    function ContetntController() {\n        _classCallCheck(this, ContetntController);\n\n        return _possibleConstructorReturn(this, (ContetntController.__proto__ || Object.getPrototypeOf(ContetntController)).apply(this, arguments));\n    }\n\n    _createClass(ContetntController, [{\n        key: 'indexAction',\n        value: function indexAction($scope) {\n            $scope.productGrid = _VeniceGridBuilder2.default.build(_jquery2.default.id('user-grid'), this.request.query);\n        }\n\n        /**\n         * @param $scope\n         */\n\n    }, {\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            var _this2 = this;\n\n            //Tell trinity there is tab to be loaded\n            $scope.trinityTab = new _TrinityTab2.default();\n\n            //On tabs load\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n                if (e.id === 'tab2') {\n                    $scope.veniceForms['tab2'].success(function () {\n                        $scope.trinityTab.reload('tab1');\n                    });\n                } else if (e.id === 'tab3') {\n                    var gridConf = _jquery2.default.id('product-access-grid');\n                    if (gridConf) {\n                        $scope.userGrid = _VeniceGridBuilder2.default.build(gridConf, _this2.request.query);\n                    }\n                }\n            });\n        }\n    }]);\n\n    return ContetntController;\n}(_Controller3.default);\n\nexports.default = ContetntController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcz8wMjI3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBKYWt1YiBGYWprdXMgb24gMjguMTIuMTUuXG4gKi9cblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBDb250cm9sbGVyIGZyb20gJ3RyaW5pdHkvQ29udHJvbGxlcic7XG5pbXBvcnQgVHJpbml0eVRhYiBmcm9tICd0cmluaXR5L2NvbXBvbmVudHMvVHJpbml0eVRhYic7XG5pbXBvcnQgVmVuaWNlRm9ybSBmcm9tICcuLi9MaWJyYXJpZXMvVmVuaWNlRm9ybSc7XG5pbXBvcnQgR3JpZEJ1aWxkZXIgZnJvbSAnLi4vTGlicmFyaWVzL1ZlbmljZUdyaWRCdWlsZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udGV0bnRDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG5cbiAgICBpbmRleEFjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnByb2R1Y3RHcmlkID0gR3JpZEJ1aWxkZXIuYnVpbGQoJC5pZCgndXNlci1ncmlkJyksIHRoaXMucmVxdWVzdC5xdWVyeSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtICRzY29wZVxuICAgICAqL1xuICAgIHRhYnNBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIC8vVGVsbCB0cmluaXR5IHRoZXJlIGlzIHRhYiB0byBiZSBsb2FkZWRcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIgPSBuZXcgVHJpbml0eVRhYigpO1xuXG4gICAgICAgIC8vT24gdGFicyBsb2FkXG4gICAgICAgICRzY29wZS50cmluaXR5VGFiLmFkZExpc3RlbmVyKCd0YWItbG9hZCcsIChlKSA9PiB7XG4gICAgICAgICAgICBsZXQgZm9ybSA9ICQoJ2Zvcm0nLCBlLmVsZW1lbnQpWzBdO1xuICAgICAgICAgICAgaWYoZm9ybSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zID0gJHNjb3BlLnZlbmljZUZvcm1zIHx8IHt9O1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXSA9IG5ldyBWZW5pY2VGb3JtKGZvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZS5pZCA9PT0gJ3RhYjInKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zWyd0YWIyJ10uc3VjY2VzcygoKT0+e1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudHJpbml0eVRhYi5yZWxvYWQoJ3RhYjEnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5pZCA9PT0gJ3RhYjMnKSB7XG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb25mID0gJC5pZCgncHJvZHVjdC1hY2Nlc3MtZ3JpZCcpO1xuICAgICAgICAgICAgICAgIGlmKGdyaWRDb25mKXtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJHcmlkID0gR3JpZEJ1aWxkZXIuYnVpbGQoZ3JpZENvbmYsIHRoaXMucmVxdWVzdC5xdWVyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFJQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFUQTs7OztBQVVBOzs7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUEvQkEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 525:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 11/3/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Controller2 = __webpack_require__(467);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _VeniceForm = __webpack_require__(468);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _TrinityTab = __webpack_require__(481);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _VeniceGridBuilder = __webpack_require__(488);\n\nvar _VeniceGridBuilder2 = _interopRequireDefault(_VeniceGridBuilder);\n\nvar _GlobalLib = __webpack_require__(484);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * tab id to element query map\n * @type {{}}\n */\nvar IDMAP = {\n    '1': 'exception-grid',\n    '2': 'notification-grid',\n    '3': 'ipn-grid',\n    '4': 'entity-action-grid',\n    '5': 'access-log-grid',\n    '6': 'payment-error-grid',\n    '7': 'ban-log-grid',\n    '8': 'message-log-grid'\n};\n\nvar LoggerController = function (_Controller) {\n    _inherits(LoggerController, _Controller);\n\n    function LoggerController() {\n        _classCallCheck(this, LoggerController);\n\n        return _possibleConstructorReturn(this, (LoggerController.__proto__ || Object.getPrototypeOf(LoggerController)).apply(this, arguments));\n    }\n\n    _createClass(LoggerController, [{\n        key: 'tabAction',\n\n\n        /**\n         * Tab action\n         * @param $scope\n         */\n        value: function tabAction($scope) {\n            var query = _lodash2.default.clone(this.request.query);\n\n            $scope.trinityTab = new _TrinityTab2.default();\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n                // Little trick to omit both switch and if statements\n                // replaces bellow code\n                var gridID = IDMAP[e.id.substring(3)];\n                var gridContainer = _jquery2.default.id(gridID);\n                if (gridContainer) {\n                    $scope[gridID] = _VeniceGridBuilder2.default.build(gridContainer, query);\n                } else {\n                    console.warn('Missing grid container!');\n                }\n            });\n\n            // connect Sidebar navigation\n            (0, _GlobalLib.connectTrinityTabMenu)($scope['logger-menu'], $scope.trinityTab);\n        }\n    }]);\n\n    return LoggerController;\n}(_Controller3.default);\n\nexports.default = LoggerController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9Mb2dnZXJDb250cm9sbGVyLmpzP2I1NDEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGZpc2Egb24gMTEvMy8xNS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBDb250cm9sbGVyIGZyb20gJ3RyaW5pdHkvQ29udHJvbGxlcic7XG5pbXBvcnQgVmVuaWNlRm9ybSBmcm9tICcuLi9MaWJyYXJpZXMvVmVuaWNlRm9ybSc7XG5pbXBvcnQgVHJpbml0eVRhYiBmcm9tICd0cmluaXR5L2NvbXBvbmVudHMvVHJpbml0eVRhYic7XG5pbXBvcnQgR3JpZEJ1aWxkZXIgZnJvbSAnLi4vTGlicmFyaWVzL1ZlbmljZUdyaWRCdWlsZGVyJztcbmltcG9ydCB7Y29ubmVjdFRyaW5pdHlUYWJNZW51fSBmcm9tICcuLi9MaWJyYXJpZXMvR2xvYmFsTGliJztcblxuLyoqXG4gKiB0YWIgaWQgdG8gZWxlbWVudCBxdWVyeSBtYXBcbiAqIEB0eXBlIHt7fX1cbiAqL1xuY29uc3QgSURNQVAgPSB7XG4gICAgJzEnOidleGNlcHRpb24tZ3JpZCcsXG4gICAgJzInOidub3RpZmljYXRpb24tZ3JpZCcsXG4gICAgJzMnOidpcG4tZ3JpZCcsXG4gICAgJzQnOidlbnRpdHktYWN0aW9uLWdyaWQnLFxuICAgICc1JzonYWNjZXNzLWxvZy1ncmlkJyxcbiAgICAnNic6J3BheW1lbnQtZXJyb3ItZ3JpZCcsXG4gICAgJzcnOidiYW4tbG9nLWdyaWQnLFxuICAgICc4JzonbWVzc2FnZS1sb2ctZ3JpZCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvZ2dlckNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVye1xuXG4gICAgLyoqXG4gICAgICogVGFiIGFjdGlvblxuICAgICAqIEBwYXJhbSAkc2NvcGVcbiAgICAgKi9cbiAgICB0YWJBY3Rpb24oJHNjb3BlKXtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gXy5jbG9uZSh0aGlzLnJlcXVlc3QucXVlcnkpO1xuXG4gICAgICAgICRzY29wZS50cmluaXR5VGFiID0gbmV3IFRyaW5pdHlUYWIoKTtcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIuYWRkTGlzdGVuZXIoJ3RhYi1sb2FkJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBsZXQgZm9ybSA9ICQoJ2Zvcm0nLCBlLmVsZW1lbnQpWzBdO1xuICAgICAgICAgICAgaWYgKGZvcm0pIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXMgPSAkc2NvcGUudmVuaWNlRm9ybXMgfHwge307XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zW2UuaWRdID0gbmV3IFZlbmljZUZvcm0oZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBMaXR0bGUgdHJpY2sgdG8gb21pdCBib3RoIHN3aXRjaCBhbmQgaWYgc3RhdGVtZW50c1xuICAgICAgICAgICAgLy8gcmVwbGFjZXMgYmVsbG93IGNvZGVcbiAgICAgICAgICAgIGxldCBncmlkSUQgPSBJRE1BUFtlLmlkLnN1YnN0cmluZygzKV07XG4gICAgICAgICAgICBsZXQgZ3JpZENvbnRhaW5lciA9ICQuaWQoZ3JpZElEKTtcbiAgICAgICAgICAgIGlmKGdyaWRDb250YWluZXIpe1xuICAgICAgICAgICAgICAgICRzY29wZVtncmlkSURdID0gR3JpZEJ1aWxkZXIuYnVpbGQoZ3JpZENvbnRhaW5lciwgcXVlcnkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ01pc3NpbmcgZ3JpZCBjb250YWluZXIhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNvbm5lY3QgU2lkZWJhciBuYXZpZ2F0aW9uXG4gICAgICAgIGNvbm5lY3RUcmluaXR5VGFiTWVudSgkc2NvcGVbJ2xvZ2dlci1tZW51J10sICRzY29wZS50cmluaXR5VGFiKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9Mb2dnZXJDb250cm9sbGVyLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0FBR0E7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7OztBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFDQTtBQVVBOzs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQTdCQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 526:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Controller2 = __webpack_require__(467);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _TrinityTab = __webpack_require__(481);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _VeniceGridBuilder = __webpack_require__(488);\n\nvar _VeniceGridBuilder2 = _interopRequireDefault(_VeniceGridBuilder);\n\nvar _GlobalLib = __webpack_require__(484);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * tab id to element query map\n * @type {{}}\n */\nvar IDMAP = {\n    '1': 'blog-article-grid',\n    '2': 'category-grid',\n    '3': 'tag-grid'\n};\n\nvar BlogController = function (_Controller) {\n    _inherits(BlogController, _Controller);\n\n    function BlogController() {\n        _classCallCheck(this, BlogController);\n\n        return _possibleConstructorReturn(this, (BlogController.__proto__ || Object.getPrototypeOf(BlogController)).apply(this, arguments));\n    }\n\n    _createClass(BlogController, [{\n        key: 'tabsAction',\n\n\n        /**\n         * Tab action\n         * @param $scope\n         */\n        value: function tabsAction($scope) {\n            var query = _lodash2.default.clone(this.request.query);\n\n            $scope.trinityTab = new _TrinityTab2.default();\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var gridID = IDMAP[e.id.substring(3)];\n                var gridContainer = _jquery2.default.id(gridID);\n                if (gridContainer) {\n                    $scope[gridID] = _VeniceGridBuilder2.default.build(gridContainer, query);\n                } else {\n                    console.warn('Missing grid container!');\n                }\n            });\n\n            // connect Sidebar navigation\n            (0, _GlobalLib.connectTrinityTabMenu)($scope['blog-menu'], $scope.trinityTab);\n        }\n    }]);\n\n    return BlogController;\n}(_Controller3.default);\n\nexports.default = BlogController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9CbG9nQ29udHJvbGxlci5qcz82MTRjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICd0cmluaXR5L0NvbnRyb2xsZXInO1xuaW1wb3J0IFRyaW5pdHlUYWIgZnJvbSAndHJpbml0eS9jb21wb25lbnRzL1RyaW5pdHlUYWInO1xuaW1wb3J0IEdyaWRCdWlsZGVyIGZyb20gJy4uL0xpYnJhcmllcy9WZW5pY2VHcmlkQnVpbGRlcic7XG5pbXBvcnQge2Nvbm5lY3RUcmluaXR5VGFiTWVudX0gZnJvbSAnLi4vTGlicmFyaWVzL0dsb2JhbExpYic7XG5cbi8qKlxuICogdGFiIGlkIHRvIGVsZW1lbnQgcXVlcnkgbWFwXG4gKiBAdHlwZSB7e319XG4gKi9cbmNvbnN0IElETUFQID0ge1xuICAgICcxJzonYmxvZy1hcnRpY2xlLWdyaWQnLFxuICAgICcyJzonY2F0ZWdvcnktZ3JpZCcsXG4gICAgJzMnOid0YWctZ3JpZCcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbG9nQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXJ7XG5cbiAgICAvKipcbiAgICAgKiBUYWIgYWN0aW9uXG4gICAgICogQHBhcmFtICRzY29wZVxuICAgICAqL1xuICAgIHRhYnNBY3Rpb24oJHNjb3BlKXtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gXy5jbG9uZSh0aGlzLnJlcXVlc3QucXVlcnkpO1xuXG4gICAgICAgICRzY29wZS50cmluaXR5VGFiID0gbmV3IFRyaW5pdHlUYWIoKTtcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIuYWRkTGlzdGVuZXIoJ3RhYi1sb2FkJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBsZXQgZ3JpZElEID0gSURNQVBbZS5pZC5zdWJzdHJpbmcoMyldO1xuICAgICAgICAgICAgbGV0IGdyaWRDb250YWluZXIgPSAkLmlkKGdyaWRJRCk7XG4gICAgICAgICAgICBpZihncmlkQ29udGFpbmVyKXtcbiAgICAgICAgICAgICAgICAkc2NvcGVbZ3JpZElEXSA9IEdyaWRCdWlsZGVyLmJ1aWxkKGdyaWRDb250YWluZXIsIHF1ZXJ5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdNaXNzaW5nIGdyaWQgY29udGFpbmVyIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjb25uZWN0IFNpZGViYXIgbmF2aWdhdGlvblxuICAgICAgICBjb25uZWN0VHJpbml0eVRhYk1lbnUoJHNjb3BlWydibG9nLW1lbnUnXSwgJHNjb3BlLnRyaW5pdHlUYWIpO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0NvbnRyb2xsZXJzL0Jsb2dDb250cm9sbGVyLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTs7Ozs7Ozs7Ozs7OztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBdEJBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 527:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Controller2 = __webpack_require__(467);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _VeniceForm = __webpack_require__(468);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _TrinityTab = __webpack_require__(481);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _GlobalLib = __webpack_require__(484);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CategoryController = function (_Controller) {\n    _inherits(CategoryController, _Controller);\n\n    function CategoryController() {\n        _classCallCheck(this, CategoryController);\n\n        return _possibleConstructorReturn(this, (CategoryController.__proto__ || Object.getPrototypeOf(CategoryController)).apply(this, arguments));\n    }\n\n    _createClass(CategoryController, [{\n        key: 'tabsAction',\n\n\n        /**\n         * Tab action\n         * @param $scope\n         */\n        value: function tabsAction($scope) {\n            var query = _lodash2.default.clone(this.request.query);\n\n            var app = this.getApp();\n            $scope.trinityTab = new _TrinityTab2.default();\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n\n                if (e.id === 'tab2') {\n                    $scope[e.id] = app.parseScope();\n\n                    CategoryController._handleHandleGeneration();\n                }\n            });\n        }\n\n        /**\n         * New category action\n         *\n         * @param $scope\n         */\n\n    }, {\n        key: 'newAction',\n        value: function newAction($scope) {\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"category\"]')[0]);\n\n            CategoryController._handleHandleGeneration();\n        }\n\n        /**\n         * Shortcut\n         * @returns {*}\n         * @private\n         */\n\n    }], [{\n        key: '_handleHandleGeneration',\n        value: function _handleHandleGeneration() {\n            return (0, _GlobalLib.handleHandleGeneration)((0, _jquery2.default)('#category-form').attr('data-slugify'), _jquery2.default.id('category_name'), _jquery2.default.id('category_handle'));\n        }\n    }]);\n\n    return CategoryController;\n}(_Controller3.default);\n\nexports.default = CategoryController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9DYXRlZ29yeUNvbnRyb2xsZXIuanM/MjE3NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAndHJpbml0eS9Db250cm9sbGVyJztcbmltcG9ydCBWZW5pY2VGb3JtIGZyb20gJy4uL0xpYnJhcmllcy9WZW5pY2VGb3JtJztcbmltcG9ydCBUcmluaXR5VGFiIGZyb20gJ3RyaW5pdHkvY29tcG9uZW50cy9UcmluaXR5VGFiJztcbmltcG9ydCB7aGFuZGxlSGFuZGxlR2VuZXJhdGlvbn0gZnJvbSAnLi4vTGlicmFyaWVzL0dsb2JhbExpYic7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2F0ZWdvcnlDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlcntcblxuICAgIC8qKlxuICAgICAqIFRhYiBhY3Rpb25cbiAgICAgKiBAcGFyYW0gJHNjb3BlXG4gICAgICovXG4gICAgdGFic0FjdGlvbigkc2NvcGUpe1xuICAgICAgICBsZXQgcXVlcnkgPSBfLmNsb25lKHRoaXMucmVxdWVzdC5xdWVyeSk7XG5cbiAgICAgICAgbGV0IGFwcCA9IHRoaXMuZ2V0QXBwKCk7XG4gICAgICAgICRzY29wZS50cmluaXR5VGFiID0gbmV3IFRyaW5pdHlUYWIoKTtcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIuYWRkTGlzdGVuZXIoJ3RhYi1sb2FkJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBsZXQgZm9ybSA9ICQoJ2Zvcm0nLCBlLmVsZW1lbnQpWzBdO1xuICAgICAgICAgICAgaWYoZm9ybSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zID0gJHNjb3BlLnZlbmljZUZvcm1zIHx8IHt9O1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXSA9IG5ldyBWZW5pY2VGb3JtKGZvcm0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihlLmlkID09PSAndGFiMicpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGVbZS5pZF0gPSBhcHAucGFyc2VTY29wZSgpO1xuXG4gICAgICAgICAgICAgICAgQ2F0ZWdvcnlDb250cm9sbGVyLl9oYW5kbGVIYW5kbGVHZW5lcmF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5ldyBjYXRlZ29yeSBhY3Rpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSAkc2NvcGVcbiAgICAgKi9cbiAgICBuZXdBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5mb3JtID0gbmV3IFZlbmljZUZvcm0oJCgnZm9ybVtuYW1lPVwiY2F0ZWdvcnlcIl0nKVswXSk7XG5cbiAgICAgICAgQ2F0ZWdvcnlDb250cm9sbGVyLl9oYW5kbGVIYW5kbGVHZW5lcmF0aW9uKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTaG9ydGN1dFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhdGljIF9oYW5kbGVIYW5kbGVHZW5lcmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlSGFuZGxlR2VuZXJhdGlvbihcbiAgICAgICAgICAgICQoJyNjYXRlZ29yeS1mb3JtJykuYXR0cignZGF0YS1zbHVnaWZ5JyksXG4gICAgICAgICAgICAkLmlkKCdjYXRlZ29yeV9uYW1lJyksXG4gICAgICAgICAgICAkLmlkKCdjYXRlZ29yeV9oYW5kbGUnKVxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0NvbnRyb2xsZXJzL0NhdGVnb3J5Q29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBS0E7QUFDQTtBQUtBOzs7Ozs7QUFqREEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 528:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Controller2 = __webpack_require__(467);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _VeniceForm = __webpack_require__(468);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _TrinityTab = __webpack_require__(481);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _GlobalLib = __webpack_require__(484);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TagController = function (_Controller) {\n    _inherits(TagController, _Controller);\n\n    function TagController() {\n        _classCallCheck(this, TagController);\n\n        return _possibleConstructorReturn(this, (TagController.__proto__ || Object.getPrototypeOf(TagController)).apply(this, arguments));\n    }\n\n    _createClass(TagController, [{\n        key: 'tabsAction',\n\n\n        /**\n         * Tab action\n         * @param $scope\n         */\n        value: function tabsAction($scope) {\n            var query = _lodash2.default.clone(this.request.query);\n\n            var app = this.getApp();\n            $scope.trinityTab = new _TrinityTab2.default();\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n\n                if (e.id === 'tab2') {\n                    $scope[e.id] = app.parseScope();\n\n                    TagController._handleHandleGeneration();\n                }\n            });\n        }\n\n        /**\n         * New tag action\n         *\n         * @param $scope\n         */\n\n    }, {\n        key: 'newAction',\n        value: function newAction($scope) {\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"tag\"]')[0]);\n\n            TagController._handleHandleGeneration();\n        }\n\n        /**\n         * Shortcut\n         * @returns {*}\n         * @private\n         */\n\n    }], [{\n        key: '_handleHandleGeneration',\n        value: function _handleHandleGeneration() {\n            return (0, _GlobalLib.handleHandleGeneration)((0, _jquery2.default)('#tag-form').attr('data-slugify'), _jquery2.default.id('tag_name'), _jquery2.default.id('tag_handle'));\n        }\n    }]);\n\n    return TagController;\n}(_Controller3.default);\n\nexports.default = TagController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9Db250cm9sbGVycy9UYWdDb250cm9sbGVyLmpzP2IyMWYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBDb250cm9sbGVyIGZyb20gJ3RyaW5pdHkvQ29udHJvbGxlcic7XG5pbXBvcnQgVmVuaWNlRm9ybSBmcm9tICcuLi9MaWJyYXJpZXMvVmVuaWNlRm9ybSc7XG5pbXBvcnQgVHJpbml0eVRhYiBmcm9tICd0cmluaXR5L2NvbXBvbmVudHMvVHJpbml0eVRhYic7XG5pbXBvcnQge2hhbmRsZUhhbmRsZUdlbmVyYXRpb259IGZyb20gJy4uL0xpYnJhcmllcy9HbG9iYWxMaWInO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhZ0NvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVye1xuXG4gICAgLyoqXG4gICAgICogVGFiIGFjdGlvblxuICAgICAqIEBwYXJhbSAkc2NvcGVcbiAgICAgKi9cbiAgICB0YWJzQWN0aW9uKCRzY29wZSl7XG4gICAgICAgIGxldCBxdWVyeSA9IF8uY2xvbmUodGhpcy5yZXF1ZXN0LnF1ZXJ5KTtcblxuICAgICAgICBsZXQgYXBwID0gdGhpcy5nZXRBcHAoKTtcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIgPSBuZXcgVHJpbml0eVRhYigpO1xuICAgICAgICAkc2NvcGUudHJpbml0eVRhYi5hZGRMaXN0ZW5lcigndGFiLWxvYWQnLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGxldCBmb3JtID0gJCgnZm9ybScsIGUuZWxlbWVudClbMF07XG4gICAgICAgICAgICBpZihmb3JtKXtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXMgPSAkc2NvcGUudmVuaWNlRm9ybXMgfHwge307XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zW2UuaWRdID0gbmV3IFZlbmljZUZvcm0oZm9ybSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGUuaWQgPT09ICd0YWIyJykge1xuICAgICAgICAgICAgICAgICRzY29wZVtlLmlkXSA9IGFwcC5wYXJzZVNjb3BlKCk7XG5cbiAgICAgICAgICAgICAgICBUYWdDb250cm9sbGVyLl9oYW5kbGVIYW5kbGVHZW5lcmF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5ldyB0YWcgYWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gJHNjb3BlXG4gICAgICovXG4gICAgbmV3QWN0aW9uKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUuZm9ybSA9IG5ldyBWZW5pY2VGb3JtKCQoJ2Zvcm1bbmFtZT1cInRhZ1wiXScpWzBdKTtcblxuICAgICAgICBUYWdDb250cm9sbGVyLl9oYW5kbGVIYW5kbGVHZW5lcmF0aW9uKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTaG9ydGN1dFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhdGljIF9oYW5kbGVIYW5kbGVHZW5lcmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlSGFuZGxlR2VuZXJhdGlvbihcbiAgICAgICAgICAgICQoJyN0YWctZm9ybScpLmF0dHIoJ2RhdGEtc2x1Z2lmeScpLFxuICAgICAgICAgICAgJC5pZCgndGFnX25hbWUnKSxcbiAgICAgICAgICAgICQuaWQoJ3RhZ19oYW5kbGUnKVxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vLi4vdmVuaWNlLWpzL0NvbnRyb2xsZXJzL1RhZ0NvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFFQTs7Ozs7Ozs7Ozs7OztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7OztBQUtBO0FBQ0E7QUFLQTs7Ozs7O0FBakRBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 529:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Controller2 = __webpack_require__(467);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by Richard on 27.06.16.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ExampleController = function (_Controller) {\n    _inherits(ExampleController, _Controller);\n\n    function ExampleController() {\n        _classCallCheck(this, ExampleController);\n\n        return _possibleConstructorReturn(this, (ExampleController.__proto__ || Object.getPrototypeOf(ExampleController)).apply(this, arguments));\n    }\n\n    _createClass(ExampleController, [{\n        key: 'newAction',\n        value: function newAction($scope) {\n            // your JS\n        }\n    }, {\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            // your JS\n        }\n    }]);\n\n    return ExampleController;\n}(_Controller3.default);\n\nexports.default = ExampleController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2FwcC9Db250cm9sbGVycy9FeGFtcGxlQ29udHJvbGxlci5qcz9mNGJkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBSaWNoYXJkIG9uIDI3LjA2LjE2LlxuICovXG5cbmltcG9ydCBDb250cm9sbGVyIGZyb20gJ3RyaW5pdHkvQ29udHJvbGxlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4YW1wbGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG5cbiAgICBuZXdBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIC8vIHlvdXIgSlNcbiAgICB9XG5cbiAgICB0YWJzQWN0aW9uKCRzY29wZSkge1xuICAgICAgICAvLyB5b3VyIEpTXG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvQ29udHJvbGxlcnMvRXhhbXBsZUNvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBSUE7QUFDQTs7Ozs7Ozs7O0FBTEE7Ozs7QUFNQTs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7Ozs7O0FBUkEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 530:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {/**\n * Created by fisa on 11/1/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Router = __webpack_require__(531);\n\nvar _Router2 = _interopRequireDefault(_Router);\n\nvar _Controller = __webpack_require__(467);\n\nvar _Controller2 = _interopRequireDefault(_Controller);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultSettings = {\n    attributeName: 'data-ng-scope'\n};\n\n/**\n * Represents application, provides main control over running js\n */\n\nvar App = function () {\n    function App(routes, controllers, settings) {\n        _classCallCheck(this, App);\n\n        //Settings FIRST !\n        this.settings = _lodash2.default.defaultsDeep(settings || {}, defaultSettings);\n\n        this.routes = routes;\n        this.controllers = controllers;\n        this.router = new _Router2.default(routes);\n        // this.global = null;\n        this.activeController = null;\n        this.preBootScripts = [];\n\n        // This way $scope property cannot be reassigned\n        Object.defineProperty(this, '$scope', {\n            value: {}\n        });\n\n        /** Try to find initial scope **/\n        _lodash2.default.extend(this.$scope, this.parseScope());\n    }\n\n    /**\n     * Kick up application\n     * @param [successCallback] {Function} optional success callback\n     * @param [errorCallback] {Function} optional error callback\n     * @returns {boolean}\n     */\n\n\n    _createClass(App, [{\n        key: 'start',\n        value: function start(successCallback, errorCallback) {\n            var _this = this;\n\n            //super cool feature\n            _lodash2.default.find(this.preBootScripts, function (script) {\n                return script(_this.$scope);\n            });\n\n            /**\n             * Active controller\n             */\n            var controllerInfo = this.router.findController();\n            if (_lodash2.default.isNull(controllerInfo)) {\n                return this.finishCallback(false, successCallback);\n            }\n\n            var _controllerInfo$actio = controllerInfo.action.split('.'),\n                _controllerInfo$actio2 = _slicedToArray(_controllerInfo$actio, 2),\n                name = _controllerInfo$actio2[0],\n                action = _controllerInfo$actio2[1];\n\n            if (!name) {\n                var err = new Error('No Controller defined! did you forget to define controller in routes?');\n                if (errorCallback) {\n                    return errorCallback(err);\n                }\n                throw err;\n            }\n\n            // Load controller\n            name += 'Controller';\n            action = (action || 'index') + 'Action';\n\n            // Create new active controller instance\n            if (!this.controllers.hasOwnProperty(name)) {\n                throw new Error('Controller ' + name + ' does not exist, did you forget to run \"buildControllers.js\" script?' + ' or did you write correct routes?');\n            }\n\n            /** Create and Set up controller instance **/\n            var instance = new this.controllers[name](name);\n            if (!(instance instanceof _Controller2.default)) {\n                throw new Error(name + ' does not inherit from \"Controller\" class!');\n            }\n\n            instance._scope = this.$scope;\n            instance._app = this;\n            instance.request = controllerInfo.request;\n            this.activeController = instance;\n\n            /** Run **/\n            if (instance[action]) {\n                instance.beforeAction(this.$scope);\n                instance[action](this.$scope);\n                instance.afterAction(this.$scope);\n            } else {\n                var _err = new Error('Action \"' + action + '\" doesn\\'t exists');\n                if (errorCallback) {\n                    return errorCallback(_err);\n                }\n                throw _err;\n            }\n            return this.finishCallback(true, successCallback);\n        }\n\n        /**\n         * add script befor launching of app\n         * @param func {function} if true is returned => lounch app (skip other pre-scripts)\n         */\n\n    }, {\n        key: 'addPreBOOTScript',\n        value: function addPreBOOTScript(func) {\n            this.preBootScripts.push(func);\n        }\n\n        /**\n         * Finishing success callback\n         * @param isController {boolean}\n         * @param callback {function}\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'finishCallback',\n        value: function finishCallback(isController, callback) {\n            var message = isController ? this.activeController.name + ' loaded.' : 'Route does\\'t have any controller.';\n\n            if (process.env.NODE_ENV !== 'production') {\n                console.log(message);\n            }\n            if (callback) {\n                callback(this.activeController || false);\n            }\n            return isController;\n        }\n\n        /**\n         * Search in \"root\" element for every element with attribute defined in settings\n         * @param root\n         * @returns {{}} - bag with {attName.value:element}\n         */\n\n    }, {\n        key: 'parseScope',\n        value: function parseScope(root) {\n            root = root || window.document;\n            var attName = defaultSettings.attributeName,\n                elements = root.querySelectorAll('[' + attName + ']');\n\n            var bag = {};\n            _lodash2.default.each(elements, function (el, i) {\n                var name = el.getAttribute(attName) || '' + el.name + i;\n                if (_lodash2.default.isUndefined(bag[name])) {\n                    bag[name] = el;\n                } else {\n                    if (_lodash2.default.isArray(bag[name])) {\n                        bag[name].push(el);\n                    } else {\n                        // crate new array\n                        bag[name] = [bag[name], el];\n                    }\n                }\n            });\n            return bag;\n        }\n    }]);\n\n    return App;\n}();\n\nexports.default = App;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(32)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L0FwcC5qcz84YmJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBmaXNhIG9uIDExLzEvMTUuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbG9kYXNoID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbnZhciBfbG9kYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaCk7XG5cbnZhciBfUm91dGVyID0gcmVxdWlyZSgnLi9Sb3V0ZXInKTtcblxudmFyIF9Sb3V0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGVyKTtcblxudmFyIF9Db250cm9sbGVyID0gcmVxdWlyZSgnLi9Db250cm9sbGVyLmpzJyk7XG5cbnZhciBfQ29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250cm9sbGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIGRlZmF1bHRTZXR0aW5ncyA9IHtcbiAgICBhdHRyaWJ1dGVOYW1lOiAnZGF0YS1uZy1zY29wZSdcbn07XG5cbi8qKlxuICogUmVwcmVzZW50cyBhcHBsaWNhdGlvbiwgcHJvdmlkZXMgbWFpbiBjb250cm9sIG92ZXIgcnVubmluZyBqc1xuICovXG5cbnZhciBBcHAgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBwKHJvdXRlcywgY29udHJvbGxlcnMsIHNldHRpbmdzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHApO1xuXG4gICAgICAgIC8vU2V0dGluZ3MgRklSU1QgIVxuICAgICAgICB0aGlzLnNldHRpbmdzID0gX2xvZGFzaDIuZGVmYXVsdC5kZWZhdWx0c0RlZXAoc2V0dGluZ3MgfHwge30sIGRlZmF1bHRTZXR0aW5ncyk7XG5cbiAgICAgICAgdGhpcy5yb3V0ZXMgPSByb3V0ZXM7XG4gICAgICAgIHRoaXMuY29udHJvbGxlcnMgPSBjb250cm9sbGVycztcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSBuZXcgX1JvdXRlcjIuZGVmYXVsdChyb3V0ZXMpO1xuICAgICAgICAvLyB0aGlzLmdsb2JhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuYWN0aXZlQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHRoaXMucHJlQm9vdFNjcmlwdHMgPSBbXTtcblxuICAgICAgICAvLyBUaGlzIHdheSAkc2NvcGUgcHJvcGVydHkgY2Fubm90IGJlIHJlYXNzaWduZWRcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICckc2NvcGUnLCB7XG4gICAgICAgICAgICB2YWx1ZToge31cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqIFRyeSB0byBmaW5kIGluaXRpYWwgc2NvcGUgKiovXG4gICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZXh0ZW5kKHRoaXMuJHNjb3BlLCB0aGlzLnBhcnNlU2NvcGUoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogS2ljayB1cCBhcHBsaWNhdGlvblxuICAgICAqIEBwYXJhbSBbc3VjY2Vzc0NhbGxiYWNrXSB7RnVuY3Rpb259IG9wdGlvbmFsIHN1Y2Nlc3MgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gW2Vycm9yQ2FsbGJhY2tdIHtGdW5jdGlvbn0gb3B0aW9uYWwgZXJyb3IgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEFwcCwgW3tcbiAgICAgICAga2V5OiAnc3RhcnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAvL3N1cGVyIGNvb2wgZmVhdHVyZVxuICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5maW5kKHRoaXMucHJlQm9vdFNjcmlwdHMsIGZ1bmN0aW9uIChzY3JpcHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0KF90aGlzLiRzY29wZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBY3RpdmUgY29udHJvbGxlclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgY29udHJvbGxlckluZm8gPSB0aGlzLnJvdXRlci5maW5kQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNOdWxsKGNvbnRyb2xsZXJJbmZvKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmlzaENhbGxiYWNrKGZhbHNlLCBzdWNjZXNzQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgX2NvbnRyb2xsZXJJbmZvJGFjdGlvID0gY29udHJvbGxlckluZm8uYWN0aW9uLnNwbGl0KCcuJyksXG4gICAgICAgICAgICAgICAgX2NvbnRyb2xsZXJJbmZvJGFjdGlvMiA9IF9zbGljZWRUb0FycmF5KF9jb250cm9sbGVySW5mbyRhY3RpbywgMiksXG4gICAgICAgICAgICAgICAgbmFtZSA9IF9jb250cm9sbGVySW5mbyRhY3RpbzJbMF0sXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gX2NvbnRyb2xsZXJJbmZvJGFjdGlvMlsxXTtcblxuICAgICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignTm8gQ29udHJvbGxlciBkZWZpbmVkISBkaWQgeW91IGZvcmdldCB0byBkZWZpbmUgY29udHJvbGxlciBpbiByb3V0ZXM/Jyk7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yQ2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMb2FkIGNvbnRyb2xsZXJcbiAgICAgICAgICAgIG5hbWUgKz0gJ0NvbnRyb2xsZXInO1xuICAgICAgICAgICAgYWN0aW9uID0gKGFjdGlvbiB8fCAnaW5kZXgnKSArICdBY3Rpb24nO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGFjdGl2ZSBjb250cm9sbGVyIGluc3RhbmNlXG4gICAgICAgICAgICBpZiAoIXRoaXMuY29udHJvbGxlcnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRyb2xsZXIgJyArIG5hbWUgKyAnIGRvZXMgbm90IGV4aXN0LCBkaWQgeW91IGZvcmdldCB0byBydW4gXCJidWlsZENvbnRyb2xsZXJzLmpzXCIgc2NyaXB0PycgKyAnIG9yIGRpZCB5b3Ugd3JpdGUgY29ycmVjdCByb3V0ZXM/Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKiBDcmVhdGUgYW5kIFNldCB1cCBjb250cm9sbGVyIGluc3RhbmNlICoqL1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IHRoaXMuY29udHJvbGxlcnNbbmFtZV0obmFtZSk7XG4gICAgICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIF9Db250cm9sbGVyMi5kZWZhdWx0KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihuYW1lICsgJyBkb2VzIG5vdCBpbmhlcml0IGZyb20gXCJDb250cm9sbGVyXCIgY2xhc3MhJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluc3RhbmNlLl9zY29wZSA9IHRoaXMuJHNjb3BlO1xuICAgICAgICAgICAgaW5zdGFuY2UuX2FwcCA9IHRoaXM7XG4gICAgICAgICAgICBpbnN0YW5jZS5yZXF1ZXN0ID0gY29udHJvbGxlckluZm8ucmVxdWVzdDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQ29udHJvbGxlciA9IGluc3RhbmNlO1xuXG4gICAgICAgICAgICAvKiogUnVuICoqL1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlW2FjdGlvbl0pIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5iZWZvcmVBY3Rpb24odGhpcy4kc2NvcGUpO1xuICAgICAgICAgICAgICAgIGluc3RhbmNlW2FjdGlvbl0odGhpcy4kc2NvcGUpO1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLmFmdGVyQWN0aW9uKHRoaXMuJHNjb3BlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9lcnIgPSBuZXcgRXJyb3IoJ0FjdGlvbiBcIicgKyBhY3Rpb24gKyAnXCIgZG9lc25cXCd0IGV4aXN0cycpO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvckNhbGxiYWNrKF9lcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBfZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluaXNoQ2FsbGJhY2sodHJ1ZSwgc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhZGQgc2NyaXB0IGJlZm9yIGxhdW5jaGluZyBvZiBhcHBcbiAgICAgICAgICogQHBhcmFtIGZ1bmMge2Z1bmN0aW9ufSBpZiB0cnVlIGlzIHJldHVybmVkID0+IGxvdW5jaCBhcHAgKHNraXAgb3RoZXIgcHJlLXNjcmlwdHMpXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhZGRQcmVCT09UU2NyaXB0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFByZUJPT1RTY3JpcHQoZnVuYykge1xuICAgICAgICAgICAgdGhpcy5wcmVCb290U2NyaXB0cy5wdXNoKGZ1bmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbmlzaGluZyBzdWNjZXNzIGNhbGxiYWNrXG4gICAgICAgICAqIEBwYXJhbSBpc0NvbnRyb2xsZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZmluaXNoQ2FsbGJhY2snLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmluaXNoQ2FsbGJhY2soaXNDb250cm9sbGVyLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBpc0NvbnRyb2xsZXIgPyB0aGlzLmFjdGl2ZUNvbnRyb2xsZXIubmFtZSArICcgbG9hZGVkLicgOiAnUm91dGUgZG9lc1xcJ3QgaGF2ZSBhbnkgY29udHJvbGxlci4nO1xuXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5hY3RpdmVDb250cm9sbGVyIHx8IGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpc0NvbnRyb2xsZXI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2VhcmNoIGluIFwicm9vdFwiIGVsZW1lbnQgZm9yIGV2ZXJ5IGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGUgZGVmaW5lZCBpbiBzZXR0aW5nc1xuICAgICAgICAgKiBAcGFyYW0gcm9vdFxuICAgICAgICAgKiBAcmV0dXJucyB7e319IC0gYmFnIHdpdGgge2F0dE5hbWUudmFsdWU6ZWxlbWVudH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3BhcnNlU2NvcGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VTY29wZShyb290KSB7XG4gICAgICAgICAgICByb290ID0gcm9vdCB8fCB3aW5kb3cuZG9jdW1lbnQ7XG4gICAgICAgICAgICB2YXIgYXR0TmFtZSA9IGRlZmF1bHRTZXR0aW5ncy5hdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgICAgIGVsZW1lbnRzID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdbJyArIGF0dE5hbWUgKyAnXScpO1xuXG4gICAgICAgICAgICB2YXIgYmFnID0ge307XG4gICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goZWxlbWVudHMsIGZ1bmN0aW9uIChlbCwgaSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKGF0dE5hbWUpIHx8ICcnICsgZWwubmFtZSArIGk7XG4gICAgICAgICAgICAgICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNVbmRlZmluZWQoYmFnW25hbWVdKSkge1xuICAgICAgICAgICAgICAgICAgICBiYWdbbmFtZV0gPSBlbDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2xvZGFzaDIuZGVmYXVsdC5pc0FycmF5KGJhZ1tuYW1lXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhZ1tuYW1lXS5wdXNoKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyYXRlIG5ldyBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgYmFnW25hbWVdID0gW2JhZ1tuYW1lXSwgZWxdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYmFnO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFwcDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQXBwO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90cmluaXR5L0FwcC5qc1xuLy8gbW9kdWxlIGlkID0gNTMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 531:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {/**\n * Created by fisa on 7/23/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Private help RegExpressions\n * @type {RegExp}\n */\nvar optionalParam = /\\((.*?)\\)/g,\n    namedParam = /(\\(\\?)?:\\w+/g,\n    splatParam = /\\*\\w+/g,\n    escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g,\n    paramsRegExp = /:\\w+/g;\n\n/**\n * Takes routes and create regular expression for each\n * @param routes\n * @constructor\n */\nfunction Router(routes) {\n    this.routes = routes.map(function (route) {\n        route.regx = _routeToRegExp(route.path);\n        return route;\n    }, this);\n\n    /** Adds prefix to regular expressions **/\n    if (process.env.NODE_ENV !== 'production') {\n        this.routes = this.routes.map(function (route) {\n            var path = route['path'];\n            if (path.indexOf('/') > 1) {\n                console.warn('Route should start with \"/\" char. Or should be index page \"(/)\". It can cause unexpected behaviour!', route);\n            }\n            route.regx = __modifyRouteRegx(route.regx);\n            return route;\n        }, this);\n    }\n}\n\n/**\n * Regular expression template to modify regular expressions of routes\n * @type {string}\n */\nvar prefixRegExp = '(?:\\/\\w+)*';\n\n/**\n * Adds prefix to regular expression that any path can have any route prefix\n * Note: used only for debug purposes\n * @param regx\n * @returns {RegExp}\n * @private\n */\nfunction __modifyRouteRegx(regx) {\n    var source = regx.source;\n    var start = source.indexOf('^') !== 0 ? 0 : 1;\n    return new RegExp(prefixRegExp + source.substring(start));\n}\n\n/**\n * Finds controller for route parameter\n * @param route {string}\n * @returns {Object| null}\n */\nRouter.prototype.findController = function findController(route) {\n    route = route || window.location.pathname;\n    var data = null,\n        cache = void 0,\n        controllerInfo = void 0;\n\n    controllerInfo = _lodash2.default.find(this.routes, function (el) {\n        cache = el.regx.exec(route);\n        if (cache) {\n            data = cache;\n            return true;\n        }\n        return false;\n    }) || null;\n\n    // If we found any controller -> create request and return it\n    if (controllerInfo) {\n        /** Create request Info object */\n        var search = window.location.search;\n        controllerInfo.request = new this.Request(controllerInfo.path, data.length > 2 ? __getParams(controllerInfo.path, data) : null, search.length > 0 ? _getQueryObj(search) : null);\n        //And return all inside one package\n        return controllerInfo;\n    }\n    return null;\n};\n\n/**\n * Represents request object\n * @param path\n * @param params\n * @param query\n * @constructor\n */\nRouter.prototype.Request = function Request(path, params, query) {\n    this.path = path;\n    this.query = query;\n    this.params = params;\n};\n\n/**\n * Returns object with params like key:value\n * @param path {string}\n * @param regxResult\n * @returns {Object}\n * @private\n */\nfunction __getParams(path, regxResult) {\n    var keys = path.match(paramsRegExp),\n        values = regxResult.slice(1, regxResult.length - 1),\n        params = {};\n\n    // create pairs\n    _lodash2.default.each(values, function (val, i) {\n        params[keys[i].substring(1)] = val;\n    });\n\n    return params;\n}\n\n/**\n * Creates object with key:value pairs from query string (e.g. location.search)\n * @param str\n * @returns {Object}\n * @private\n */\nfunction _getQueryObj(str) {\n    var pairs = str.substr(1).split('&'),\n        query = {};\n\n    _lodash2.default.each(pairs, function (p) {\n        var ind = p.indexOf('=');\n        query[p.substr(0, ind)] = p.substr(ind + 1);\n    });\n    return query;\n}\n\n/**\n * Create regular expression from route - from backbone framework\n * // TODO: check if there is new version\n * @param route\n * @returns {RegExp}\n * @private\n */\nfunction _routeToRegExp(route) {\n    route = route.replace(escapeRegExp, '\\\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function (match, optional) {\n        return optional ? match : '([^/?]+)';\n    }).replace(splatParam, '([^?]*?)');\n    return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n}\n\nexports.default = Router;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(32)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L1JvdXRlci5qcz9mYTg2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBmaXNhIG9uIDcvMjMvMTUuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFByaXZhdGUgaGVscCBSZWdFeHByZXNzaW9uc1xuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xudmFyIG9wdGlvbmFsUGFyYW0gPSAvXFwoKC4qPylcXCkvZyxcbiAgICBuYW1lZFBhcmFtID0gLyhcXChcXD8pPzpcXHcrL2csXG4gICAgc3BsYXRQYXJhbSA9IC9cXCpcXHcrL2csXG4gICAgZXNjYXBlUmVnRXhwID0gL1tcXC17fVxcW1xcXSs/LixcXFxcXFxeJHwjXFxzXS9nLFxuICAgIHBhcmFtc1JlZ0V4cCA9IC86XFx3Ky9nO1xuXG4vKipcbiAqIFRha2VzIHJvdXRlcyBhbmQgY3JlYXRlIHJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgZWFjaFxuICogQHBhcmFtIHJvdXRlc1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFJvdXRlcihyb3V0ZXMpIHtcbiAgICB0aGlzLnJvdXRlcyA9IHJvdXRlcy5tYXAoZnVuY3Rpb24gKHJvdXRlKSB7XG4gICAgICAgIHJvdXRlLnJlZ3ggPSBfcm91dGVUb1JlZ0V4cChyb3V0ZS5wYXRoKTtcbiAgICAgICAgcmV0dXJuIHJvdXRlO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgLyoqIEFkZHMgcHJlZml4IHRvIHJlZ3VsYXIgZXhwcmVzc2lvbnMgKiovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdGhpcy5yb3V0ZXMgPSB0aGlzLnJvdXRlcy5tYXAoZnVuY3Rpb24gKHJvdXRlKSB7XG4gICAgICAgICAgICB2YXIgcGF0aCA9IHJvdXRlWydwYXRoJ107XG4gICAgICAgICAgICBpZiAocGF0aC5pbmRleE9mKCcvJykgPiAxKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdSb3V0ZSBzaG91bGQgc3RhcnQgd2l0aCBcIi9cIiBjaGFyLiBPciBzaG91bGQgYmUgaW5kZXggcGFnZSBcIigvKVwiLiBJdCBjYW4gY2F1c2UgdW5leHBlY3RlZCBiZWhhdmlvdXIhJywgcm91dGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm91dGUucmVneCA9IF9fbW9kaWZ5Um91dGVSZWd4KHJvdXRlLnJlZ3gpO1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHRlbXBsYXRlIHRvIG1vZGlmeSByZWd1bGFyIGV4cHJlc3Npb25zIG9mIHJvdXRlc1xuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIHByZWZpeFJlZ0V4cCA9ICcoPzpcXC9cXHcrKSonO1xuXG4vKipcbiAqIEFkZHMgcHJlZml4IHRvIHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGFueSBwYXRoIGNhbiBoYXZlIGFueSByb3V0ZSBwcmVmaXhcbiAqIE5vdGU6IHVzZWQgb25seSBmb3IgZGVidWcgcHVycG9zZXNcbiAqIEBwYXJhbSByZWd4XG4gKiBAcmV0dXJucyB7UmVnRXhwfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19tb2RpZnlSb3V0ZVJlZ3gocmVneCkge1xuICAgIHZhciBzb3VyY2UgPSByZWd4LnNvdXJjZTtcbiAgICB2YXIgc3RhcnQgPSBzb3VyY2UuaW5kZXhPZignXicpICE9PSAwID8gMCA6IDE7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAocHJlZml4UmVnRXhwICsgc291cmNlLnN1YnN0cmluZyhzdGFydCkpO1xufVxuXG4vKipcbiAqIEZpbmRzIGNvbnRyb2xsZXIgZm9yIHJvdXRlIHBhcmFtZXRlclxuICogQHBhcmFtIHJvdXRlIHtzdHJpbmd9XG4gKiBAcmV0dXJucyB7T2JqZWN0fCBudWxsfVxuICovXG5Sb3V0ZXIucHJvdG90eXBlLmZpbmRDb250cm9sbGVyID0gZnVuY3Rpb24gZmluZENvbnRyb2xsZXIocm91dGUpIHtcbiAgICByb3V0ZSA9IHJvdXRlIHx8IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcbiAgICB2YXIgZGF0YSA9IG51bGwsXG4gICAgICAgIGNhY2hlID0gdm9pZCAwLFxuICAgICAgICBjb250cm9sbGVySW5mbyA9IHZvaWQgMDtcblxuICAgIGNvbnRyb2xsZXJJbmZvID0gX2xvZGFzaDIuZGVmYXVsdC5maW5kKHRoaXMucm91dGVzLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgY2FjaGUgPSBlbC5yZWd4LmV4ZWMocm91dGUpO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGRhdGEgPSBjYWNoZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KSB8fCBudWxsO1xuXG4gICAgLy8gSWYgd2UgZm91bmQgYW55IGNvbnRyb2xsZXIgLT4gY3JlYXRlIHJlcXVlc3QgYW5kIHJldHVybiBpdFxuICAgIGlmIChjb250cm9sbGVySW5mbykge1xuICAgICAgICAvKiogQ3JlYXRlIHJlcXVlc3QgSW5mbyBvYmplY3QgKi9cbiAgICAgICAgdmFyIHNlYXJjaCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICAgIGNvbnRyb2xsZXJJbmZvLnJlcXVlc3QgPSBuZXcgdGhpcy5SZXF1ZXN0KGNvbnRyb2xsZXJJbmZvLnBhdGgsIGRhdGEubGVuZ3RoID4gMiA/IF9fZ2V0UGFyYW1zKGNvbnRyb2xsZXJJbmZvLnBhdGgsIGRhdGEpIDogbnVsbCwgc2VhcmNoLmxlbmd0aCA+IDAgPyBfZ2V0UXVlcnlPYmooc2VhcmNoKSA6IG51bGwpO1xuICAgICAgICAvL0FuZCByZXR1cm4gYWxsIGluc2lkZSBvbmUgcGFja2FnZVxuICAgICAgICByZXR1cm4gY29udHJvbGxlckluZm87XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0gcGF0aFxuICogQHBhcmFtIHBhcmFtc1xuICogQHBhcmFtIHF1ZXJ5XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuUm91dGVyLnByb3RvdHlwZS5SZXF1ZXN0ID0gZnVuY3Rpb24gUmVxdWVzdChwYXRoLCBwYXJhbXMsIHF1ZXJ5KSB7XG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB0aGlzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG59O1xuXG4vKipcbiAqIFJldHVybnMgb2JqZWN0IHdpdGggcGFyYW1zIGxpa2Uga2V5OnZhbHVlXG4gKiBAcGFyYW0gcGF0aCB7c3RyaW5nfVxuICogQHBhcmFtIHJlZ3hSZXN1bHRcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfX2dldFBhcmFtcyhwYXRoLCByZWd4UmVzdWx0KSB7XG4gICAgdmFyIGtleXMgPSBwYXRoLm1hdGNoKHBhcmFtc1JlZ0V4cCksXG4gICAgICAgIHZhbHVlcyA9IHJlZ3hSZXN1bHQuc2xpY2UoMSwgcmVneFJlc3VsdC5sZW5ndGggLSAxKSxcbiAgICAgICAgcGFyYW1zID0ge307XG5cbiAgICAvLyBjcmVhdGUgcGFpcnNcbiAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2godmFsdWVzLCBmdW5jdGlvbiAodmFsLCBpKSB7XG4gICAgICAgIHBhcmFtc1trZXlzW2ldLnN1YnN0cmluZygxKV0gPSB2YWw7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcGFyYW1zO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgb2JqZWN0IHdpdGgga2V5OnZhbHVlIHBhaXJzIGZyb20gcXVlcnkgc3RyaW5nIChlLmcuIGxvY2F0aW9uLnNlYXJjaClcbiAqIEBwYXJhbSBzdHJcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZ2V0UXVlcnlPYmooc3RyKSB7XG4gICAgdmFyIHBhaXJzID0gc3RyLnN1YnN0cigxKS5zcGxpdCgnJicpLFxuICAgICAgICBxdWVyeSA9IHt9O1xuXG4gICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHBhaXJzLCBmdW5jdGlvbiAocCkge1xuICAgICAgICB2YXIgaW5kID0gcC5pbmRleE9mKCc9Jyk7XG4gICAgICAgIHF1ZXJ5W3Auc3Vic3RyKDAsIGluZCldID0gcC5zdWJzdHIoaW5kICsgMSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHF1ZXJ5O1xufVxuXG4vKipcbiAqIENyZWF0ZSByZWd1bGFyIGV4cHJlc3Npb24gZnJvbSByb3V0ZSAtIGZyb20gYmFja2JvbmUgZnJhbWV3b3JrXG4gKiAvLyBUT0RPOiBjaGVjayBpZiB0aGVyZSBpcyBuZXcgdmVyc2lvblxuICogQHBhcmFtIHJvdXRlXG4gKiBAcmV0dXJucyB7UmVnRXhwfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3JvdXRlVG9SZWdFeHAocm91dGUpIHtcbiAgICByb3V0ZSA9IHJvdXRlLnJlcGxhY2UoZXNjYXBlUmVnRXhwLCAnXFxcXCQmJykucmVwbGFjZShvcHRpb25hbFBhcmFtLCAnKD86JDEpPycpLnJlcGxhY2UobmFtZWRQYXJhbSwgZnVuY3Rpb24gKG1hdGNoLCBvcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gb3B0aW9uYWwgPyBtYXRjaCA6ICcoW14vP10rKSc7XG4gICAgfSkucmVwbGFjZShzcGxhdFBhcmFtLCAnKFteP10qPyknKTtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyByb3V0ZSArICcoPzpcXFxcPyhbXFxcXHNcXFxcU10qKSk/JCcpO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3RyaW5pdHkvUm91dGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA1MzFcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 532:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 11/6/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = globalFunction;\n\nvar _LayoutLib = __webpack_require__(533);\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction globalFunction() {\n    console.log('Global function');\n    //setting active class to menu tab\n\n    //It has to be there...! Question @RichardBures!\n    _LayoutLib.LayoutMenu.setCurrent((0, _jquery2.default)('#sidebar'));\n    _LayoutLib.LayoutMenu.unCheckRadio((0, _jquery2.default)('.navbar-item-input'));\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2FwcC9MaWJyYXJpZXMvR2xvYmFsU2NyaXB0LmpzPzA0ZTYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGZpc2Egb24gMTEvNi8xNS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHtMYXlvdXRNZW51fSBmcm9tICd2ZW5pY2UtanMvTGlicmFyaWVzL0xheW91dExpYic7XG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnbG9iYWxGdW5jdGlvbigpe1xuICAgIGNvbnNvbGUubG9nKCdHbG9iYWwgZnVuY3Rpb24nKTtcbiAgICAvL3NldHRpbmcgYWN0aXZlIGNsYXNzIHRvIG1lbnUgdGFiXG5cbiAgICAvL0l0IGhhcyB0byBiZSB0aGVyZS4uLiEgUXVlc3Rpb24gQFJpY2hhcmRCdXJlcyFcbiAgICBMYXlvdXRNZW51LnNldEN1cnJlbnQoJCgnI3NpZGViYXInKSk7XG4gICAgTGF5b3V0TWVudS51bkNoZWNrUmFkaW8oJCgnLm5hdmJhci1pdGVtLWlucHV0JykpO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvTGlicmFyaWVzL0dsb2JhbFNjcmlwdC5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7OztBQUdBO0FBQ0E7Ozs7QUFHQTtBQUNBO0FBSkE7QUFDQTtBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 533:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by rockuo on 24.1.17.\n */\n/**\n * Created by bures on 29.3.16.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.LoaderManager = exports.BarMsg = exports.LayoutMenu = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(22);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(24);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Events = __webpack_require__(475);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nvar _Gateway = __webpack_require__(482);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nvar _Dom = __webpack_require__(478);\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LayoutMenu = {\n\n    /**\n     * Set current layout menu\n     * @param menu\n     */\n    setCurrent: function setCurrent(menu) {\n        var url = window.location.href,\n            $directBars = (0, _jquery2.default)('.js-direct-item', menu),\n            $dropBars = (0, _jquery2.default)('.drop-down', menu),\n            found = false;\n\n        _lodash2.default.each($directBars, function (val, i) {\n            if (i > 0 && ~url.indexOf((0, _jquery2.default)('a', val)[0].href)) {\n                _Dom2.default.classlist.add(val, 'active');\n                found = true;\n                return false; // break\n            }\n        });\n\n        if (found) return; //stop function\n\n        _lodash2.default.each($dropBars, function (val) {\n            _lodash2.default.each((0, _jquery2.default)('li', val), function (inVal) {\n                var inHref = (0, _jquery2.default)('a', inVal)[0].href;\n                if (~inHref.lastIndexOf('#')) {\n                    inHref = inHref.substring(0, inHref.lastIndexOf('#'));\n                }\n\n                if (~url.indexOf(inHref)) {\n                    _Dom2.default.classlist.add(val, 'active');\n                    (0, _jquery2.default)(':checkbox', val)[0].checked = true;\n                    //   TODO: @DavidCzernin  if you want add class to item inside drobdown menu then do \"Dom.classlist.add(inVal,'someClass');\"\n\n                    found = true;\n                    return false; // break\n                }\n            });\n            if (found) return false; // break\n        });\n    },\n\n\n    /**\n     * Make all radio buttons in array uncheckable\n     * @param radios {NodeList}\n     */\n    unCheckRadio: function unCheckRadio(radios) {\n        var checkedRadioButton = void 0;\n        _lodash2.default.each(radios, function (radio) {\n            _Events2.default.listen(radio, 'click', function () {\n                if (checkedRadioButton === radio) {\n                    radio.checked = false;\n                    checkedRadioButton = null;\n                } else {\n                    checkedRadioButton = radio;\n                }\n            });\n        });\n    },\n\n\n    /**\n     * Moves inner html\n     * @param from {HTMLElement}\n     * @param to {HTMLElement}\n     */\n    moveInvisibleInnerHtml: function moveInvisibleInnerHtml(from, to) {\n        var st = (0, _jquery2.default)(window).scrollTop(),\n            // Scroll Top\n        y = (0, _jquery2.default)(from).offset().top,\n            multi = 2.5;\n\n        if (y <= st * multi) {\n            if (to.innerHTML !== from.innerHTML) {\n                to.innerHTML = from.innerHTML;\n            }\n            if (!_Dom2.default.classlist.contains(to, 'slideInUp')) {\n                _Dom2.default.classlist.remove(to, 'slideOutDown');\n                _Dom2.default.classlist.add(to, 'slideInUp');\n            }\n        } else {\n            if (!_Dom2.default.classlist.contains(to, 'slideOutDown')) {\n                _Dom2.default.classlist.remove(to, 'slideInUp');\n                _Dom2.default.classlist.add(to, 'slideOutDown');\n            }\n        }\n    }\n};\n\nvar BarMsg = {\n\n    /**\n     * Adds sidebar message listeners\n     */\n    addBarMsgListeners: function addBarMsgListeners() {\n        //array of notification messages\n        var messageList = _jquery2.default.id('redis-list'),\n            messageCount = messageList.children.length;\n\n        // Removes Notification counter icon\n        _Events2.default.listen((0, _jquery2.default)('#notifications-label')[0], 'click', function () {\n            var children = (0, _jquery2.default)(this).children();\n            if (children.length === 2) {\n                this.removeChild(children[1]);\n            }\n        });\n\n        // Attach remove actions to notification messages\n\n        var _loop = function _loop(i) {\n            var btn_id = 'sidebar_remove_btn_' + i,\n                btn = _jquery2.default.id(btn_id);\n            if (!btn) {\n                //skip if no btn was rendered\n                return 'continue';\n            }\n            btn.onclick = function () {\n                return BarMsg.removeMsg(btn_id, messageList);\n            };\n        };\n\n        for (var i = 0; i < messageCount; i++) {\n            var _ret = _loop(i);\n\n            if (_ret === 'continue') continue;\n        }\n    },\n\n\n    /**\n     * function calling api for msg removing\n     * @param btn_id {string}\n     * @param list\n     */\n    removeMsg: function removeMsg(btn_id, list) {\n        var child = _jquery2.default.id(btn_id),\n            redisAPIInput = _jquery2.default.id('api-remove-redis-msg');\n\n        if (!redisAPIInput) {\n            console.warn('Could not send request for removing');\n            return;\n        }\n\n        var url = redisAPIInput.value,\n            data = {\n            redisKey: child.children[0].value\n        };\n\n        _Gateway2.default.deleteJSON(url, data, function () {\n            list.removeChild(child.parentElement);\n\n            if (list.children.length === 0) {\n                list.innerHTML = '<li class=\\'info noaction\\'>\\n                        <i class=\\'tiecons tiecons-info-circle\\'>\\n                        </i> \\n                        <div class=\\'message-group\\'>\\n                            <span>You don\\'t have any new notification.</span>\\n                        </div>\\n                    </li>';\n            }\n        }, function (error) {\n            console.error(error);\n            console.log(error.response);\n        });\n    }\n};\n\nvar LoaderManager = function () {\n    function LoaderManager() {\n        _classCallCheck(this, LoaderManager);\n\n        this.loaderCounter = 1; //one is there by render\n        this.$headerLoader = (0, _jquery2.default)('.header-loader');\n        this.$bars = this.$headerLoader.find('.bar');\n        this.errorCounter = 0;\n        this.timeoutID = null;\n        this.timeoutDelay = 5000;\n    }\n\n    /**\n     * add loader\n     * return current count of loaders\n     * @returns {number}\n     */\n\n\n    _createClass(LoaderManager, [{\n        key: 'add',\n        value: function add() {\n            this._add();\n            this.loaderCounter++;\n            return this.loaderCounter;\n        }\n\n        /**\n         * remove loader\n         * return current count of loaders\n         * @returns {number}\n         */\n\n    }, {\n        key: 'remove',\n        value: function remove() {\n            if (this.loaderCounter) {\n                this.loaderCounter--;\n                this._remove();\n            }\n            return this.loaderCounter;\n        }\n\n        /**\n         * remove all loaders and errors\n         */\n\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            this.loaderCounter = 0;\n            this.errorCounter = 0;\n            this._remove(true);\n        }\n\n        /**\n         * add error\n         * return current count of errors\n         * @returns {number}\n         */\n\n    }, {\n        key: 'addError',\n        value: function addError() {\n            this._add(true);\n            this.errorCounter++;\n            return this.errorCounter;\n        }\n\n        /**\n         * remove error\n         * return current count of errors\n         * @returns {number}\n         */\n\n    }, {\n        key: 'removeError',\n        value: function removeError() {\n            if (this.errorCounter) {\n                this.errorCounter--;\n                this._remove(true);\n            }\n            return this.errorCounter;\n        }\n\n        /**\n         *\n         * @param timeout\n         * @returns {number}\n         */\n\n    }, {\n        key: 'timeout',\n        value: function timeout(_timeout) {\n            return _timeout ? this.timeoutDelay = _timeout : this.timeoutDelay;\n        }\n\n        //TODO: fix loader\n        /**\n         * show loader or error (error has precedence) also add only what is needed (reason of that much of if's)\n         * @param error\n         * @private\n         */\n\n    }, {\n        key: '_add',\n        value: function _add() {\n            var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            if (this.timeoutID) {\n                clearTimeout(this.timeoutID);\n            }\n            if (!this.errorCounter && !this.loaderCounter) {\n                // add only when neither error or loader are set\n                this.$headerLoader.css('display', 'block');\n                this.$bars.removeClass('bar-end');\n            }\n            if (error && !this.errorCounter) {\n                //add error color (only for the first time)\n                this.$bars[1].style.backgroundColor = '#f00';\n            }\n        }\n\n        /**\n         * remove loader or error\n         * @param error\n         * @private\n         */\n\n    }, {\n        key: '_remove',\n        value: function _remove() {\n            var _this = this;\n\n            var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            if (!this.loaderCounter && !this.errorCounter) {\n                this.$bars.addClass('bar-end');\n                this.timeoutID = setTimeout(function () {\n                    return _this.$headerLoader.css('display', 'none');\n                }, this.timeoutDelay);\n            }\n            if (error && !this.errorCounter) {\n                this.$bars[1].style.backgroundColor = '#40ADC2';\n            }\n        }\n    }]);\n\n    return LoaderManager;\n}();\n\nvar NEW_LOADER_MANAGER = new LoaderManager();\n\nexports.LayoutMenu = LayoutMenu;\nexports.BarMsg = BarMsg;\nexports.LoaderManager = NEW_LOADER_MANAGER;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3ZlbmljZS1qcy9MaWJyYXJpZXMvTGF5b3V0TGliLmpzP2ZmZGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHJvY2t1byBvbiAyNC4xLjE3LlxuICovXG4vKipcbiAqIENyZWF0ZWQgYnkgYnVyZXMgb24gMjkuMy4xNi5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBFdmVudHMgZnJvbSAndHJpbml0eS91dGlscy9FdmVudHMnO1xuaW1wb3J0IEdhdGV3YXkgZnJvbSAndHJpbml0eS9HYXRld2F5JztcbmltcG9ydCBEb20gZnJvbSAndHJpbml0eS91dGlscy9Eb20nO1xuXG5sZXQgTGF5b3V0TWVudSA9IHtcblxuICAgIC8qKlxuICAgICAqIFNldCBjdXJyZW50IGxheW91dCBtZW51XG4gICAgICogQHBhcmFtIG1lbnVcbiAgICAgKi9cbiAgICBzZXRDdXJyZW50KG1lbnUpIHtcbiAgICAgICAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICAgICAgJGRpcmVjdEJhcnMgPSAkKCcuanMtZGlyZWN0LWl0ZW0nLCBtZW51KSxcbiAgICAgICAgICAgICRkcm9wQmFycyA9ICQoJy5kcm9wLWRvd24nLCBtZW51KSxcbiAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgXy5lYWNoKCRkaXJlY3RCYXJzLCAodmFsLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoaSA+IDAgJiYgfnVybC5pbmRleE9mKCQoJ2EnLCB2YWwpWzBdLmhyZWYpKSB7XG4gICAgICAgICAgICAgICAgRG9tLmNsYXNzbGlzdC5hZGQodmFsLCAnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGZvdW5kKSByZXR1cm47IC8vc3RvcCBmdW5jdGlvblxuXG4gICAgICAgIF8uZWFjaCgkZHJvcEJhcnMsIHZhbCA9PiB7XG4gICAgICAgICAgICBfLmVhY2goJCgnbGknLCB2YWwpLCBpblZhbCA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGluSHJlZiA9ICQoJ2EnLCBpblZhbClbMF0uaHJlZjtcbiAgICAgICAgICAgICAgICBpZiAofmluSHJlZi5sYXN0SW5kZXhPZignIycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluSHJlZiA9IGluSHJlZi5zdWJzdHJpbmcoMCwgaW5IcmVmLmxhc3RJbmRleE9mKCcjJykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh+dXJsLmluZGV4T2YoaW5IcmVmKSkge1xuICAgICAgICAgICAgICAgICAgICBEb20uY2xhc3NsaXN0LmFkZCh2YWwsICdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnOmNoZWNrYm94JywgdmFsKVswXS5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICBUT0RPOiBARGF2aWRDemVybmluICBpZiB5b3Ugd2FudCBhZGQgY2xhc3MgdG8gaXRlbSBpbnNpZGUgZHJvYmRvd24gbWVudSB0aGVuIGRvIFwiRG9tLmNsYXNzbGlzdC5hZGQoaW5WYWwsJ3NvbWVDbGFzcycpO1wiXG5cbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZm91bmQpIHJldHVybiBmYWxzZTsgLy8gYnJlYWtcbiAgICAgICAgfSk7XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFrZSBhbGwgcmFkaW8gYnV0dG9ucyBpbiBhcnJheSB1bmNoZWNrYWJsZVxuICAgICAqIEBwYXJhbSByYWRpb3Mge05vZGVMaXN0fVxuICAgICAqL1xuICAgIHVuQ2hlY2tSYWRpbyhyYWRpb3Mpe1xuICAgICAgICBsZXQgY2hlY2tlZFJhZGlvQnV0dG9uO1xuICAgICAgICBfLmVhY2gocmFkaW9zLCAocmFkaW8pID0+IHtcbiAgICAgICAgICAgIEV2ZW50cy5saXN0ZW4ocmFkaW8sICdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZFJhZGlvQnV0dG9uID09PSByYWRpbykge1xuICAgICAgICAgICAgICAgICAgICByYWRpby5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWRSYWRpb0J1dHRvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZFJhZGlvQnV0dG9uID0gcmFkaW87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBpbm5lciBodG1sXG4gICAgICogQHBhcmFtIGZyb20ge0hUTUxFbGVtZW50fVxuICAgICAqIEBwYXJhbSB0byB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgbW92ZUludmlzaWJsZUlubmVySHRtbChmcm9tLCB0bykge1xuICAgICAgICBsZXQgc3QgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksIC8vIFNjcm9sbCBUb3BcbiAgICAgICAgICAgIHkgPSAkKGZyb20pLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgIG11bHRpID0gMi41O1xuXG5cbiAgICAgICAgaWYgKHkgPD0gKHN0ICogbXVsdGkpKSB7XG4gICAgICAgICAgICBpZiAodG8uaW5uZXJIVE1MICE9PSBmcm9tLmlubmVySFRNTCkge1xuICAgICAgICAgICAgICAgIHRvLmlubmVySFRNTCA9IGZyb20uaW5uZXJIVE1MO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFEb20uY2xhc3NsaXN0LmNvbnRhaW5zKHRvLCAnc2xpZGVJblVwJykpIHtcbiAgICAgICAgICAgICAgICBEb20uY2xhc3NsaXN0LnJlbW92ZSh0bywgJ3NsaWRlT3V0RG93bicpO1xuICAgICAgICAgICAgICAgIERvbS5jbGFzc2xpc3QuYWRkKHRvLCAnc2xpZGVJblVwJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIURvbS5jbGFzc2xpc3QuY29udGFpbnModG8sICdzbGlkZU91dERvd24nKSkge1xuICAgICAgICAgICAgICAgIERvbS5jbGFzc2xpc3QucmVtb3ZlKHRvLCAnc2xpZGVJblVwJyk7XG4gICAgICAgICAgICAgICAgRG9tLmNsYXNzbGlzdC5hZGQodG8sICdzbGlkZU91dERvd24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmxldCBCYXJNc2cgPSB7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHNpZGViYXIgbWVzc2FnZSBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBhZGRCYXJNc2dMaXN0ZW5lcnMoKSB7XG4gICAgICAgIC8vYXJyYXkgb2Ygbm90aWZpY2F0aW9uIG1lc3NhZ2VzXG4gICAgICAgIGxldCBtZXNzYWdlTGlzdCA9ICQuaWQoJ3JlZGlzLWxpc3QnKSxcbiAgICAgICAgICAgIG1lc3NhZ2VDb3VudCA9IG1lc3NhZ2VMaXN0LmNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICAvLyBSZW1vdmVzIE5vdGlmaWNhdGlvbiBjb3VudGVyIGljb25cbiAgICAgICAgRXZlbnRzLmxpc3RlbigkKCcjbm90aWZpY2F0aW9ucy1sYWJlbCcpWzBdLCAnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9ICQodGhpcykuY2hpbGRyZW4oKTtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGNoaWxkcmVuWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQXR0YWNoIHJlbW92ZSBhY3Rpb25zIHRvIG5vdGlmaWNhdGlvbiBtZXNzYWdlc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2VDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgYnRuX2lkID0gJ3NpZGViYXJfcmVtb3ZlX2J0bl8nICsgaSxcbiAgICAgICAgICAgICAgICBidG4gPSAkLmlkKGJ0bl9pZCk7XG4gICAgICAgICAgICBpZiAoIWJ0bikge1xuICAgICAgICAgICAgICAgIC8vc2tpcCBpZiBubyBidG4gd2FzIHJlbmRlcmVkXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidG4ub25jbGljayA9ICgpID0+IEJhck1zZy5yZW1vdmVNc2coYnRuX2lkLCBtZXNzYWdlTGlzdCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gY2FsbGluZyBhcGkgZm9yIG1zZyByZW1vdmluZ1xuICAgICAqIEBwYXJhbSBidG5faWQge3N0cmluZ31cbiAgICAgKiBAcGFyYW0gbGlzdFxuICAgICAqL1xuICAgIHJlbW92ZU1zZyhidG5faWQsIGxpc3Qpe1xuICAgICAgICBsZXQgY2hpbGQgPSAkLmlkKGJ0bl9pZCksXG4gICAgICAgICAgICByZWRpc0FQSUlucHV0ID0gJC5pZCgnYXBpLXJlbW92ZS1yZWRpcy1tc2cnKTtcblxuICAgICAgICBpZiAoIXJlZGlzQVBJSW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IHNlbmQgcmVxdWVzdCBmb3IgcmVtb3ZpbmcnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB1cmwgPSByZWRpc0FQSUlucHV0LnZhbHVlLFxuICAgICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICByZWRpc0tleTogY2hpbGQuY2hpbGRyZW5bMF0udmFsdWVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgR2F0ZXdheS5kZWxldGVKU09OKHVybCwgZGF0YSwgKCkgPT4ge1xuICAgICAgICAgICAgbGlzdC5yZW1vdmVDaGlsZChjaGlsZC5wYXJlbnRFbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKGxpc3QuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5pbm5lckhUTUwgPVxuICAgICAgICAgICAgICAgICAgICBgPGxpIGNsYXNzPSdpbmZvIG5vYWN0aW9uJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSd0aWVjb25zIHRpZWNvbnMtaW5mby1jaXJjbGUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pPiBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J21lc3NhZ2UtZ3JvdXAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPllvdSBkb25cXCd0IGhhdmUgYW55IG5ldyBub3RpZmljYXRpb24uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuXG5jbGFzcyBMb2FkZXJNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5sb2FkZXJDb3VudGVyID0gMTsgLy9vbmUgaXMgdGhlcmUgYnkgcmVuZGVyXG4gICAgICAgIHRoaXMuJGhlYWRlckxvYWRlciA9ICQoJy5oZWFkZXItbG9hZGVyJyk7XG4gICAgICAgIHRoaXMuJGJhcnMgPSB0aGlzLiRoZWFkZXJMb2FkZXIuZmluZCgnLmJhcicpO1xuICAgICAgICB0aGlzLmVycm9yQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMudGltZW91dElEID0gbnVsbDtcbiAgICAgICAgdGhpcy50aW1lb3V0RGVsYXkgPSA1MDAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFkZCBsb2FkZXJcbiAgICAgKiByZXR1cm4gY3VycmVudCBjb3VudCBvZiBsb2FkZXJzXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBhZGQoKSB7XG4gICAgICAgIHRoaXMuX2FkZCgpO1xuICAgICAgICB0aGlzLmxvYWRlckNvdW50ZXIrKztcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZGVyQ291bnRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgbG9hZGVyXG4gICAgICogcmV0dXJuIGN1cnJlbnQgY291bnQgb2YgbG9hZGVyc1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgcmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5sb2FkZXJDb3VudGVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRlckNvdW50ZXItLTtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlckNvdW50ZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIGFsbCBsb2FkZXJzIGFuZCBlcnJvcnNcbiAgICAgKi9cbiAgICByZW1vdmVBbGwoKSB7XG4gICAgICAgIHRoaXMubG9hZGVyQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuZXJyb3JDb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5fcmVtb3ZlKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFkZCBlcnJvclxuICAgICAqIHJldHVybiBjdXJyZW50IGNvdW50IG9mIGVycm9yc1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgYWRkRXJyb3IoKSB7XG4gICAgICAgIHRoaXMuX2FkZCh0cnVlKTtcbiAgICAgICAgdGhpcy5lcnJvckNvdW50ZXIrKztcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3VudGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBlcnJvclxuICAgICAqIHJldHVybiBjdXJyZW50IGNvdW50IG9mIGVycm9yc1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgcmVtb3ZlRXJyb3IoKSB7XG4gICAgICAgIGlmICh0aGlzLmVycm9yQ291bnRlcikge1xuICAgICAgICAgICAgdGhpcy5lcnJvckNvdW50ZXItLTtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvdW50ZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGltZW91dFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGltZW91dCh0aW1lb3V0KSB7XG4gICAgICAgIHJldHVybiB0aW1lb3V0ID8gdGhpcy50aW1lb3V0RGVsYXkgPSB0aW1lb3V0IDogdGhpcy50aW1lb3V0RGVsYXk7XG4gICAgfVxuXG4gICAgLy9UT0RPOiBmaXggbG9hZGVyXG4gICAgLyoqXG4gICAgICogc2hvdyBsb2FkZXIgb3IgZXJyb3IgKGVycm9yIGhhcyBwcmVjZWRlbmNlKSBhbHNvIGFkZCBvbmx5IHdoYXQgaXMgbmVlZGVkIChyZWFzb24gb2YgdGhhdCBtdWNoIG9mIGlmJ3MpXG4gICAgICogQHBhcmFtIGVycm9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYWRkKGVycm9yID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dElEKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SUQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5lcnJvckNvdW50ZXIgJiYgIXRoaXMubG9hZGVyQ291bnRlcikgeyAvLyBhZGQgb25seSB3aGVuIG5laXRoZXIgZXJyb3Igb3IgbG9hZGVyIGFyZSBzZXRcbiAgICAgICAgICAgIHRoaXMuJGhlYWRlckxvYWRlci5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICAgICAgICAgIHRoaXMuJGJhcnMucmVtb3ZlQ2xhc3MoJ2Jhci1lbmQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgJiYgIXRoaXMuZXJyb3JDb3VudGVyKSB7IC8vYWRkIGVycm9yIGNvbG9yIChvbmx5IGZvciB0aGUgZmlyc3QgdGltZSlcbiAgICAgICAgICAgIHRoaXMuJGJhcnNbMV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmMDAnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIGxvYWRlciBvciBlcnJvclxuICAgICAqIEBwYXJhbSBlcnJvclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbW92ZShlcnJvciA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghdGhpcy5sb2FkZXJDb3VudGVyICYmICF0aGlzLmVycm9yQ291bnRlcikge1xuICAgICAgICAgICAgdGhpcy4kYmFycy5hZGRDbGFzcygnYmFyLWVuZCcpO1xuICAgICAgICAgICAgdGhpcy50aW1lb3V0SUQgPSBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMuJGhlYWRlckxvYWRlci5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpLFxuICAgICAgICAgICAgICAgIHRoaXMudGltZW91dERlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgJiYgIXRoaXMuZXJyb3JDb3VudGVyKSB7XG4gICAgICAgICAgICB0aGlzLiRiYXJzWzFdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjNDBBREMyJztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5jb25zdCBORVdfTE9BREVSX01BTkFHRVIgPSBuZXcgTG9hZGVyTWFuYWdlcigpO1xuXG5leHBvcnQge0xheW91dE1lbnUsIEJhck1zZywgTkVXX0xPQURFUl9NQU5BR0VSIGFzIExvYWRlck1hbmFnZXJ9O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi8uLi92ZW5pY2UtanMvTGlicmFyaWVzL0xheW91dExpYi5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7OztBQUdBOzs7QUFHQTtBQUNBOzs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7O0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdEZBO0FBQ0E7QUF3RkE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQWVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQXJCQTtBQUNBO0FBYUE7QUFBQTtBQUNBO0FBREE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7OztBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbEVBO0FBQ0E7QUFxRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }

});