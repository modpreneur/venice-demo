webpackJsonp([2],{

/***/ 0:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\n__webpack_require__(156);\n\nvar _routes = __webpack_require__(470);\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nvar _controllers = __webpack_require__(472);\n\nvar _controllers2 = _interopRequireDefault(_controllers);\n\nvar _App = __webpack_require__(538);\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _GlobalScript = __webpack_require__(540);\n\nvar _GlobalScript2 = _interopRequireDefault(_GlobalScript);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Extends jquery\n// Adds widow.atob() and window.btoa() IE9 support\n_jquery2.default.id = document.getElementById.bind(document);\n\nwindow.$ = _jquery2.default;\nwindow.jQuery = _jquery2.default;\nif (true) {\n    __webpack_require__(491).configure({\n        timeout: 30000,\n        fileTimeout: 30000\n    });\n    window._ = __webpack_require__(24);\n}\n\nvar Application = new _App2.default(_routes2.default, _controllers2.default);\n\nApplication.addPreBOOTScript(_GlobalScript2.default);\n\nApplication.start(function () {\n    removeLoadingBar();\n}, function (err) {\n    console.error(err);\n    var bar = (0, _jquery2.default)('.header-loader .bar')[0];\n    if (bar) {\n        bar.style.backgroundColor = \"#f00\";\n    }\n});\n\nfunction removeLoadingBar() {\n    var $bars = (0, _jquery2.default)('.header-loader .bar');\n    if (!_.isEmpty($bars)) {\n        $bars.addClass('bar-end');\n\n        var timeoutID = null;\n        timeoutID = setTimeout(function () {\n            (0, _jquery2.default)('.header-loader')[0].style.display = 'none';\n            clearTimeout(timeoutID);\n        }, 5000);\n    }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hcHAvbWFpbi5qcz8zYzU2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCAnQmFzZTY0JzsgLy8gQWRkcyB3aWRvdy5hdG9iKCkgYW5kIHdpbmRvdy5idG9hKCkgSUU5IHN1cHBvcnRcbmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXMuanMnO1xuaW1wb3J0IGNvbnRyb2xsZXJzIGZyb20gJy4vY29udHJvbGxlcnMuanMnO1xuaW1wb3J0IEFwcCBmcm9tICd0cmluaXR5L0FwcCc7XG5pbXBvcnQgZ2xvYmFsU2NyaXB0IGZyb20gJy4vTGlicmFyaWVzL0dsb2JhbFNjcmlwdCc7XG5cbi8vIEV4dGVuZHMganF1ZXJ5XG4kLmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQuYmluZChkb2N1bWVudCk7XG5cbndpbmRvdy4kID0gJDtcbndpbmRvdy5qUXVlcnkgPSAkO1xuaWYoREVWRUxPUE1FTlQpe1xuICAgIHJlcXVpcmUoJ3RyaW5pdHkvR2F0ZXdheScpLmNvbmZpZ3VyZSh7XG4gICAgICAgIHRpbWVvdXQ6IDMwMDAwLFxuICAgICAgICBmaWxlVGltZW91dDogMzAwMDBcbiAgICB9KTtcbiAgICB3aW5kb3cuXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xufVxuXG5sZXQgQXBwbGljYXRpb24gPSBuZXcgQXBwKHJvdXRlcywgY29udHJvbGxlcnMpO1xuXG5BcHBsaWNhdGlvbi5hZGRQcmVCT09UU2NyaXB0KGdsb2JhbFNjcmlwdCk7XG5cbkFwcGxpY2F0aW9uLnN0YXJ0KCgpID0+IHtcbiAgICByZW1vdmVMb2FkaW5nQmFyKCk7XG59LCAoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIGxldCBiYXIgPSAkKCcuaGVhZGVyLWxvYWRlciAuYmFyJylbMF07XG4gICAgaWYoYmFyKXtcbiAgICAgICAgYmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2YwMFwiO1xuICAgIH1cbn0pO1xuXG5cbmZ1bmN0aW9uIHJlbW92ZUxvYWRpbmdCYXIoKSB7XG4gICAgbGV0ICRiYXJzID0gJCgnLmhlYWRlci1sb2FkZXIgLmJhcicpO1xuICAgIGlmKCFfLmlzRW1wdHkoJGJhcnMpKXtcbiAgICAgICAgJGJhcnMuYWRkQ2xhc3MoJ2Jhci1lbmQnKTtcblxuICAgICAgICBsZXQgdGltZW91dElEID0gbnVsbDtcbiAgICAgICAgdGltZW91dElEID0gc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgJCgnLmhlYWRlci1sb2FkZXInKVswXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJRCk7XG4gICAgICAgIH0sIDUwMDApO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvbWFpbi5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBO0FBTkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 470:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _routes = __webpack_require__(471);\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _routes2.default.concat([\n    // Example\n    // {\n    //     path: '/admin/example/new(/)',\n    //     action: 'Example.new'\n    // },\n    // {\n    //     path: '/admin(/)',\n    //     action: 'Example.new'\n    // }\n]); /**\n     * Created by fisa on 7/23/15.\n     *///# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2FwcC9yb3V0ZXMuanM/NmRiOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgZmlzYSBvbiA3LzIzLzE1LlxuICovXG5pbXBvcnQgb2xkUm91dGVzIGZyb20gJ3ZlbmljZS1qcy9yb3V0ZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBvbGRSb3V0ZXMuY29uY2F0KFtcbiAgICAvLyBFeGFtcGxlXG4gICAgLy8ge1xuICAgIC8vICAgICBwYXRoOiAnL2FkbWluL2V4YW1wbGUvbmV3KC8pJyxcbiAgICAvLyAgICAgYWN0aW9uOiAnRXhhbXBsZS5uZXcnXG4gICAgLy8gfSxcbiAgICAvLyB7XG4gICAgLy8gICAgIHBhdGg6ICcvYWRtaW4oLyknLFxuICAgIC8vICAgICBhY3Rpb246ICdFeGFtcGxlLm5ldydcbiAgICAvLyB9XG5dKTtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9yb3V0ZXMuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUdBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTs7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 471:
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Created by fisa on 7/23/15.\n */\n\nexports.default = [{\n    path: '/admin/product(/)',\n    action: 'Product.index'\n}, {\n    path: '/admin/product/new(/)',\n    action: 'Product.new'\n}, {\n    path: '/admin/product/tabs/:id(/)',\n    action: 'Product.tabs'\n}, {\n    path: '/admin/product/content-product/tabs/:id',\n    action: 'Product.contentProductTabs'\n}, {\n    path: '/admin/blog',\n    action: 'Blog.tabs'\n}, {\n    path: '/admin/blog/article/tabs/:id(/)',\n    action: 'BlogArticle.tabs'\n}, {\n    path: '/admin/blog/article/new(/)',\n    action: 'BlogArticle.new'\n}, {\n    path: '/admin/blog/article(/)',\n    action: 'BlogArticle.index'\n}, {\n    path: '/admin/blog/category/tabs/:id(/)',\n    action: 'Category.tabs'\n}, {\n    path: '/admin/blog/category/new(/)',\n    action: 'Category.new'\n}, {\n    path: '/admin/blog/category(/)',\n    action: 'Category.index'\n}, {\n    path: '/admin/blog/tag/tabs/:id(/)',\n    action: 'Tag.tabs'\n}, {\n    path: '/admin/blog/tag/new(/)',\n    action: 'Tag.new'\n}, {\n    path: '/admin/blog/tag(/)',\n    action: 'Tag.index'\n}, {\n    path: '/admin/content/tabs/:id(/)',\n    action: 'Content.tabs'\n}, {\n    path: '/admin/content(/)',\n    action: 'Content.index'\n}, {\n    path: '/admin/content/content-product/tabs/:id(/)',\n    action: 'Content.contentProductTabs'\n}, {\n    path: '/admin/content/new(/)',\n    action: 'Content.new'\n}, {\n    path: '/admin/content/new/group(/)',\n    action: 'Content.newGroup'\n}, {\n    path: '/admin/content/:id/content-product/new(/)',\n    action: 'Content.newContentProduct'\n}, {\n    path: '/admin/product/:id/content-product/new(/)',\n    action: 'Product.newContentProduct'\n}, {\n    path: '/admin/user(/)',\n    action: 'User.index'\n}, {\n    path: '/admin/user/tabs/:id(/)',\n    action: 'User.tabs'\n}, {\n    path: '/admin/billing-plan/tabs/:id(/)',\n    action: 'BillingPlan.tabs'\n}, {\n    path: '/admin/billing-plan/new/:id(/)',\n    action: 'BillingPlan.new'\n}, {\n    path: '/admin/product-access/tabs/:id(/)',\n    action: 'ProductAccess.tabs'\n}, {\n    path: '/admin/logger(/)(:tab)',\n    action: 'Logger.tab'\n}];//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvcm91dGVzLmpzPzFjMTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGZpc2Egb24gNy8yMy8xNS5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBbXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL3Byb2R1Y3QoLyknLFxuICAgICAgICBhY3Rpb246ICdQcm9kdWN0LmluZGV4J1xuICAgIH0sIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9wcm9kdWN0L25ldygvKScsXG4gICAgICAgIGFjdGlvbjogJ1Byb2R1Y3QubmV3J1xuICAgIH0sIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9wcm9kdWN0L3RhYnMvOmlkKC8pJyxcbiAgICAgICAgYWN0aW9uOiAnUHJvZHVjdC50YWJzJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL3Byb2R1Y3QvY29udGVudC1wcm9kdWN0L3RhYnMvOmlkJyxcbiAgICAgICAgYWN0aW9uOiAnUHJvZHVjdC5jb250ZW50UHJvZHVjdFRhYnMnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vYmxvZycsXG4gICAgICAgIGFjdGlvbjogJ0Jsb2cudGFicydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9ibG9nL2FydGljbGUvdGFicy86aWQoLyknLFxuICAgICAgICBhY3Rpb246ICdCbG9nQXJ0aWNsZS50YWJzJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL2Jsb2cvYXJ0aWNsZS9uZXcoLyknLFxuICAgICAgICBhY3Rpb246ICdCbG9nQXJ0aWNsZS5uZXcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vYmxvZy9hcnRpY2xlKC8pJyxcbiAgICAgICAgYWN0aW9uOiAnQmxvZ0FydGljbGUuaW5kZXgnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vYmxvZy9jYXRlZ29yeS90YWJzLzppZCgvKScsXG4gICAgICAgIGFjdGlvbjogJ0NhdGVnb3J5LnRhYnMnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vYmxvZy9jYXRlZ29yeS9uZXcoLyknLFxuICAgICAgICBhY3Rpb246ICdDYXRlZ29yeS5uZXcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vYmxvZy9jYXRlZ29yeSgvKScsXG4gICAgICAgIGFjdGlvbjogJ0NhdGVnb3J5LmluZGV4J1xuICAgIH0se1xuICAgICAgICBwYXRoOiAnL2FkbWluL2Jsb2cvdGFnL3RhYnMvOmlkKC8pJyxcbiAgICAgICAgYWN0aW9uOiAnVGFnLnRhYnMnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vYmxvZy90YWcvbmV3KC8pJyxcbiAgICAgICAgYWN0aW9uOiAnVGFnLm5ldydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9ibG9nL3RhZygvKScsXG4gICAgICAgIGFjdGlvbjogJ1RhZy5pbmRleCdcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9jb250ZW50L3RhYnMvOmlkKC8pJyxcbiAgICAgICAgYWN0aW9uOiAnQ29udGVudC50YWJzJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL2NvbnRlbnQoLyknLFxuICAgICAgICBhY3Rpb246ICdDb250ZW50LmluZGV4J1xuICAgIH0sXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL2NvbnRlbnQvY29udGVudC1wcm9kdWN0L3RhYnMvOmlkKC8pJyxcbiAgICAgICAgYWN0aW9uOiAnQ29udGVudC5jb250ZW50UHJvZHVjdFRhYnMnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vY29udGVudC9uZXcoLyknLFxuICAgICAgICBhY3Rpb246ICdDb250ZW50Lm5ldydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9jb250ZW50L25ldy9ncm91cCgvKScsXG4gICAgICAgIGFjdGlvbjogJ0NvbnRlbnQubmV3R3JvdXAnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vY29udGVudC86aWQvY29udGVudC1wcm9kdWN0L25ldygvKScsXG4gICAgICAgIGFjdGlvbjogJ0NvbnRlbnQubmV3Q29udGVudFByb2R1Y3QnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vcHJvZHVjdC86aWQvY29udGVudC1wcm9kdWN0L25ldygvKScsXG4gICAgICAgIGFjdGlvbjogJ1Byb2R1Y3QubmV3Q29udGVudFByb2R1Y3QnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vdXNlcigvKScsXG4gICAgICAgIGFjdGlvbjogJ1VzZXIuaW5kZXgnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6ICcvYWRtaW4vdXNlci90YWJzLzppZCgvKScsXG4gICAgICAgIGFjdGlvbjogJ1VzZXIudGFicydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogJy9hZG1pbi9iaWxsaW5nLXBsYW4vdGFicy86aWQoLyknLFxuICAgICAgICBhY3Rpb246ICdCaWxsaW5nUGxhbi50YWJzJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL2JpbGxpbmctcGxhbi9uZXcvOmlkKC8pJyxcbiAgICAgICAgYWN0aW9uOiAnQmlsbGluZ1BsYW4ubmV3J1xuICAgIH0sXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL3Byb2R1Y3QtYWNjZXNzL3RhYnMvOmlkKC8pJyxcbiAgICAgICAgYWN0aW9uOiAnUHJvZHVjdEFjY2Vzcy50YWJzJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBwYXRoOiAnL2FkbWluL2xvZ2dlcigvKSg6dGFiKScsXG4gICAgICAgIGFjdGlvbjogJ0xvZ2dlci50YWInXG4gICAgfVxuXTtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvcm91dGVzLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7O0FBSUE7QUFFQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 472:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _controllers = __webpack_require__(473);\n\nvar _controllers2 = _interopRequireDefault(_controllers);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _ExampleController = __webpack_require__(537);\n\nvar _ExampleController2 = _interopRequireDefault(_ExampleController);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar controllers = {\n    'ExampleController': _ExampleController2.default\n};\n\nexports.default = _jquery2.default.extend({}, _controllers2.default, controllers);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2FwcC9jb250cm9sbGVycy5qcz9iNWYxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGluaGVyaXRlZCBmcm9tICd2ZW5pY2UtanMvY29udHJvbGxlcnMnO1xuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBFeGFtcGxlQ29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXJzL0V4YW1wbGVDb250cm9sbGVyJztcblxubGV0IGNvbnRyb2xsZXJzICA9IHtcbiAgICAnRXhhbXBsZUNvbnRyb2xsZXInOiBFeGFtcGxlQ29udHJvbGxlclxufTtcblxuZXhwb3J0IGRlZmF1bHQgJC5leHRlbmQoe30sIGluaGVyaXRlZCwgY29udHJvbGxlcnMpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvY29udHJvbGxlcnMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 473:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _BillingPlanController = __webpack_require__(474);\n\nvar _BillingPlanController2 = _interopRequireDefault(_BillingPlanController);\n\nvar _BlogArticleController = __webpack_require__(492);\n\nvar _BlogArticleController2 = _interopRequireDefault(_BlogArticleController);\n\nvar _ContentController = __webpack_require__(525);\n\nvar _ContentController2 = _interopRequireDefault(_ContentController);\n\nvar _ProductAccessController = __webpack_require__(529);\n\nvar _ProductAccessController2 = _interopRequireDefault(_ProductAccessController);\n\nvar _ProductController = __webpack_require__(530);\n\nvar _ProductController2 = _interopRequireDefault(_ProductController);\n\nvar _UserController = __webpack_require__(532);\n\nvar _UserController2 = _interopRequireDefault(_UserController);\n\nvar _LoggerController = __webpack_require__(533);\n\nvar _LoggerController2 = _interopRequireDefault(_LoggerController);\n\nvar _BlogController = __webpack_require__(534);\n\nvar _BlogController2 = _interopRequireDefault(_BlogController);\n\nvar _CategoryController = __webpack_require__(535);\n\nvar _CategoryController2 = _interopRequireDefault(_CategoryController);\n\nvar _TagController = __webpack_require__(536);\n\nvar _TagController2 = _interopRequireDefault(_TagController);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    'BillingPlanController': _BillingPlanController2.default,\n    'BlogArticleController': _BlogArticleController2.default,\n    'ContentController': _ContentController2.default,\n    'ProductAccessController': _ProductAccessController2.default,\n    'ProductController': _ProductController2.default,\n    'UserController': _UserController2.default,\n    'LoggerController': _LoggerController2.default,\n    'BlogController': _BlogController2.default,\n    'CategoryController': _CategoryController2.default,\n    'TagController': _TagController2.default\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDczLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvY29udHJvbGxlcnMuanM/ZGE0YiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgQmlsbGluZ1BsYW5Db250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlcnMvQmlsbGluZ1BsYW5Db250cm9sbGVyLmpzJztcbmltcG9ydCBCbG9nQXJ0aWNsZUNvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVycy9CbG9nQXJ0aWNsZUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IENvbnRlbnRDb250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlcnMvQ29udGVudENvbnRyb2xsZXIuanMnO1xuaW1wb3J0IFByb2R1Y3RBY2Nlc3NDb250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlcnMvUHJvZHVjdEFjY2Vzc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IFByb2R1Y3RDb250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlcnMvUHJvZHVjdENvbnRyb2xsZXIuanMnO1xuaW1wb3J0IFVzZXJDb250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IExvZ2dlckNvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVycy9Mb2dnZXJDb250cm9sbGVyJztcbmltcG9ydCBCbG9nQ29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXJzL0Jsb2dDb250cm9sbGVyJztcbmltcG9ydCBDYXRlZ29yeUNvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVycy9DYXRlZ29yeUNvbnRyb2xsZXInO1xuaW1wb3J0IFRhZ0NvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVycy9UYWdDb250cm9sbGVyJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgICdCaWxsaW5nUGxhbkNvbnRyb2xsZXInOiBCaWxsaW5nUGxhbkNvbnRyb2xsZXIsXG4gICAgJ0Jsb2dBcnRpY2xlQ29udHJvbGxlcic6IEJsb2dBcnRpY2xlQ29udHJvbGxlcixcbiAgICAnQ29udGVudENvbnRyb2xsZXInOiBDb250ZW50Q29udHJvbGxlcixcbiAgICAnUHJvZHVjdEFjY2Vzc0NvbnRyb2xsZXInOiBQcm9kdWN0QWNjZXNzQ29udHJvbGxlcixcbiAgICAnUHJvZHVjdENvbnRyb2xsZXInOiBQcm9kdWN0Q29udHJvbGxlcixcbiAgICAnVXNlckNvbnRyb2xsZXInOiBVc2VyQ29udHJvbGxlcixcbiAgICAnTG9nZ2VyQ29udHJvbGxlcic6IExvZ2dlckNvbnRyb2xsZXIsXG4gICAgJ0Jsb2dDb250cm9sbGVyJzogQmxvZ0NvbnRyb2xsZXIsXG4gICAgJ0NhdGVnb3J5Q29udHJvbGxlcic6IENhdGVnb3J5Q29udHJvbGxlcixcbiAgICAnVGFnQ29udHJvbGxlcic6IFRhZ0NvbnRyb2xsZXJcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvY29udHJvbGxlcnMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 474:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by Jakub Fajkus on 10.12.15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Controller2 = __webpack_require__(475);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _VeniceForm = __webpack_require__(476);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _TrinityTab = __webpack_require__(489);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BillingPlanController = function (_Controller) {\n    _inherits(BillingPlanController, _Controller);\n\n    function BillingPlanController() {\n        _classCallCheck(this, BillingPlanController);\n\n        return _possibleConstructorReturn(this, (BillingPlanController.__proto__ || Object.getPrototypeOf(BillingPlanController)).apply(this, arguments));\n    }\n\n    _createClass(BillingPlanController, [{\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            $scope.trinityTab = new _TrinityTab2.default();\n\n            //On tabs load\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n            });\n        }\n    }]);\n\n    return BillingPlanController;\n}(_Controller3.default);\n\nexports.default = BillingPlanController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvQmlsbGluZ1BsYW5Db250cm9sbGVyLmpzPzlmODgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IEpha3ViIEZhamt1cyBvbiAxMC4xMi4xNS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAndHJpbml0eS9Db250cm9sbGVyJztcbmltcG9ydCBWZW5pY2VGb3JtIGZyb20gJy4uL0xpYnJhcmllcy9WZW5pY2VGb3JtJztcbmltcG9ydCBUcmluaXR5VGFiIGZyb20gJ3RyaW5pdHkvY29tcG9uZW50cy9UcmluaXR5VGFiJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmlsbGluZ1BsYW5Db250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gICAgXG4gICAgdGFic0FjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIgPSBuZXcgVHJpbml0eVRhYigpO1xuXG4gICAgICAgIC8vT24gdGFicyBsb2FkXG4gICAgICAgICRzY29wZS50cmluaXR5VGFiLmFkZExpc3RlbmVyKCd0YWItbG9hZCcsIChlKSA9PiB7XG4gICAgICAgICAgICBsZXQgZm9ybSA9ICQoJ2Zvcm0nLCBlLmVsZW1lbnQpWzBdO1xuICAgICAgICAgICAgaWYoZm9ybSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zID0gJHNjb3BlLnZlbmljZUZvcm1zIHx8IHt9O1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXSA9IG5ldyBWZW5pY2VGb3JtKGZvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvQmlsbGluZ1BsYW5Db250cm9sbGVyLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0FBR0E7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFiQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 475:
/***/ function(module, exports) {

	eval("/**\n * Created by fisa on 11/2/15.\n */\n'use strict';\n\n/**\n * Abstract Controller class, provides connection between app and activeController itself\n * Should be inherited from in every controller\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controller = function () {\n    function Controller(name) {\n        _classCallCheck(this, Controller);\n\n        this.name = name;\n        this._app = null;\n        this._scope = null;\n        this._request = null;\n    }\n\n    /**\n     * Simple getter - has to be specified\n     * @returns {*}\n     */\n\n\n    _createClass(Controller, [{\n        key: 'getScope',\n        value: function getScope() {\n            return this._scope;\n        }\n    }, {\n        key: 'getApp',\n        value: function getApp() {\n            return this._app;\n        }\n\n        /**\n         * Hook to run before every action\n         */\n\n    }, {\n        key: 'beforeAction',\n        value: function beforeAction() /*$scope*/{}\n\n        /**\n         * Hook after every action run\n         */\n\n    }, {\n        key: 'afterAction',\n        value: function afterAction() /*$scope*/{}\n\n        /**\n         * Not implemented\n         * @param serviceName\n         */\n        /*getService(serviceName){\n            console.warn('Method not implemented');\n            //TODO: should pull from app requested service, if exists, if not return null\n        }*/\n\n    }, {\n        key: 'request',\n        get: function get() {\n            return this._request;\n        }\n\n        /**\n         * Setter for \"request\" property - make sure that request can be assigned only once\n         * @param value\n         * @returns {void}\n         */\n        ,\n        set: function set(value) {\n            if (this._request === null) {\n                this._request = value;\n            }\n        }\n    }]);\n\n    return Controller;\n}();\n\nexports.default = Controller;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L0NvbnRyb2xsZXIuanM/MWMyNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgZmlzYSBvbiAxMS8yLzE1LlxuICovXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQWJzdHJhY3QgQ29udHJvbGxlciBjbGFzcywgcHJvdmlkZXMgY29ubmVjdGlvbiBiZXR3ZWVuIGFwcCBhbmQgYWN0aXZlQ29udHJvbGxlciBpdHNlbGZcbiAqIFNob3VsZCBiZSBpbmhlcml0ZWQgZnJvbSBpbiBldmVyeSBjb250cm9sbGVyXG4gKi9cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKG5hbWUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRyb2xsZXIpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX2FwcCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2ltcGxlIGdldHRlciAtIGhhcyB0byBiZSBzcGVjaWZpZWRcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKENvbnRyb2xsZXIsIFt7XG4gICAgICAgIGtleTogJ2dldFNjb3BlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjb3BlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3BlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRBcHAnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXBwKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FwcDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb29rIHRvIHJ1biBiZWZvcmUgZXZlcnkgYWN0aW9uXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdiZWZvcmVBY3Rpb24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYmVmb3JlQWN0aW9uKCkgLyokc2NvcGUqL3t9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvb2sgYWZ0ZXIgZXZlcnkgYWN0aW9uIHJ1blxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWZ0ZXJBY3Rpb24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWZ0ZXJBY3Rpb24oKSAvKiRzY29wZSove31cblxuICAgICAgICAvKipcbiAgICAgICAgICogTm90IGltcGxlbWVudGVkXG4gICAgICAgICAqIEBwYXJhbSBzZXJ2aWNlTmFtZVxuICAgICAgICAgKi9cbiAgICAgICAgLypnZXRTZXJ2aWNlKHNlcnZpY2VOYW1lKXtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICAgICAgLy9UT0RPOiBzaG91bGQgcHVsbCBmcm9tIGFwcCByZXF1ZXN0ZWQgc2VydmljZSwgaWYgZXhpc3RzLCBpZiBub3QgcmV0dXJuIG51bGxcbiAgICAgICAgfSovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlcXVlc3QnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHRlciBmb3IgXCJyZXF1ZXN0XCIgcHJvcGVydHkgLSBtYWtlIHN1cmUgdGhhdCByZXF1ZXN0IGNhbiBiZSBhc3NpZ25lZCBvbmx5IG9uY2VcbiAgICAgICAgICogQHBhcmFtIHZhbHVlXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAgICAgKi9cbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3QgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29udHJvbGxlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ29udHJvbGxlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHJpbml0eS9Db250cm9sbGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA0NzVcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 476:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by bures on 06/26/16.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _TrinityForm2 = __webpack_require__(477);\n\nvar _TrinityForm3 = _interopRequireDefault(_TrinityForm2);\n\nvar _Services = __webpack_require__(488);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar defaultSettings = {\n    button: { // Defines which classes add to active button in which state\n        ready: 'trinity-form-ready',\n        success: 'trinity-form-success',\n        timeout: 'trinity-form-timeout trinity-form-error'\n    },\n    requestTimeout: 10000\n};\n\nif (true) {\n    defaultSettings.requestTimeout = 60000;\n}\n\nvar VeniceForm = function (_TrinityForm) {\n    _inherits(VeniceForm, _TrinityForm);\n\n    function VeniceForm(element, settings) {\n        _classCallCheck(this, VeniceForm);\n\n        var _this = _possibleConstructorReturn(this, (VeniceForm.__proto__ || Object.getPrototypeOf(VeniceForm)).call(this, element, _lodash2.default.defaultsDeep(settings || {}, defaultSettings)));\n\n        _this.success(_this.__onSuccess, _this);\n        _this.error(_this.__onError, _this);\n\n        if (true) {\n            _this.addListener('submit-data', function (data) {\n                console.log('JSON DATA:', data);\n            });\n        }\n        return _this;\n    }\n\n    /**\n     * Success Callback\n     * @param e {Object} Event\n     * @private\n     */\n\n\n    _createClass(VeniceForm, [{\n        key: '__onSuccess',\n        value: function __onSuccess(e) {\n            var response = e.data;\n            (0, _Services.messageService)(response.body['message'], 'success');\n            if (true) {\n                console.log('Success', response);\n            }\n        }\n\n        /**\n         * Error callback\n         * @param e {Object} Event\n         * @private\n         */\n\n    }, {\n        key: '__onError',\n        value: function __onError(e) {\n            var _this2 = this;\n\n            var error = e.data;\n            if (true) {\n                console.error('ERROR', error);\n                console.log(error.response);\n            }\n            if (error.timeout) {\n                (0, _Services.messageService)('Request Timed out.<br>Try Again i few seconds.', 'error');\n                return;\n            }\n\n            // Parse error object\n            var response = error.response,\n                error_info = ~response.type.indexOf('json') ? response.body.error : response.text;\n\n            // If it is just string, there is no need to continue\n            if (_lodash2.default.isString(error_info)) {\n                (0, _Services.messageService)(error_info, 'error');\n                return;\n            }\n\n            // More errors\n            var noErrors = true;\n            // DB errors\n            if (error_info.db) {\n                noErrors = false;\n                // Special DB error ?\n                _lodash2.default.each([].concat(error_info.db), function (err) {\n                    (0, _Services.messageService)(err, 'error');\n                });\n\n                var id = setTimeout(function () {\n                    _this2.state = 'ready';\n                    _this2.unlock();\n                    clearTimeout(id);\n                }, 2000);\n            }\n\n            // Global errors - CRFS token, etc.\n            if (!_lodash2.default.isEmpty(error_info.global)) {\n                noErrors = false;\n                __globalErrors([].concat(error_info.global));\n            }\n            // Fields error\n            if (!_lodash2.default.isEmpty(error_info.fields)) {\n                noErrors = false;\n                _lodash2.default.each(error_info.fields, function (message, key) {\n                    _this2.addError(_jquery2.default.id(key), {\n                        key: key,\n                        message: message\n                    });\n                });\n            } else {\n                this.unlock();\n            }\n\n            // Some error, but nothing related to Form\n            if (noErrors && (true)) {\n                (0, _Services.messageService)('DEBUG: Request failed but no FORM errors returned! check server response', 'warning');\n            }\n        }\n    }]);\n\n    return VeniceForm;\n}(_TrinityForm3.default);\n\n/**\n * Handles global errors\n * @param errors\n * @private\n */\n\n\nexports.default = VeniceForm;\nfunction __globalErrors(errors) {\n    _lodash2.default.each(errors, function (err) {\n        if (err.indexOf(\"The CSRF token is invalid\") > -1) {\n            (0, _Services.messageService)(\"Something get wrong, please refresh page.\", 'warning');\n        } else {\n            (0, _Services.messageService)(err, 'warning');\n        }\n    });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL1ZlbmljZUZvcm0uanM/NGRlYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgYnVyZXMgb24gMDYvMjYvMTYuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgVHJpbml0eUZvcm0gZnJvbSAndHJpbml0eS9jb21wb25lbnRzL1RyaW5pdHlGb3JtJztcbmltcG9ydCB7bWVzc2FnZVNlcnZpY2V9IGZyb20gJ3RyaW5pdHkvU2VydmljZXMnO1xuXG5jb25zdCBkZWZhdWx0U2V0dGluZ3MgPSB7XG4gICAgYnV0dG9uIDogeyAvLyBEZWZpbmVzIHdoaWNoIGNsYXNzZXMgYWRkIHRvIGFjdGl2ZSBidXR0b24gaW4gd2hpY2ggc3RhdGVcbiAgICAgICAgcmVhZHk6ICd0cmluaXR5LWZvcm0tcmVhZHknLFxuICAgICAgICBzdWNjZXNzOiAndHJpbml0eS1mb3JtLXN1Y2Nlc3MnLFxuICAgICAgICB0aW1lb3V0OiAndHJpbml0eS1mb3JtLXRpbWVvdXQgdHJpbml0eS1mb3JtLWVycm9yJ1xuICAgIH0sXG4gICAgcmVxdWVzdFRpbWVvdXQ6IDEwMDAwXG59O1xuXG5pZihERVZFTE9QTUVOVCl7XG4gICAgZGVmYXVsdFNldHRpbmdzLnJlcXVlc3RUaW1lb3V0ID0gNjAwMDA7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlbmljZUZvcm0gZXh0ZW5kcyBUcmluaXR5Rm9ybSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgc2V0dGluZ3Mpe1xuICAgICAgICBzdXBlcihlbGVtZW50LCBfLmRlZmF1bHRzRGVlcChzZXR0aW5ncyB8fCB7fSwgZGVmYXVsdFNldHRpbmdzKSk7XG4gICAgICAgIHRoaXMuc3VjY2Vzcyh0aGlzLl9fb25TdWNjZXNzLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lcnJvcih0aGlzLl9fb25FcnJvciwgdGhpcyk7XG5cbiAgICAgICAgaWYoREVWRUxPUE1FTlQpe1xuICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcignc3VibWl0LWRhdGEnLCAoZGF0YSk9PntcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSlNPTiBEQVRBOicsIGRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdWNjZXNzIENhbGxiYWNrXG4gICAgICogQHBhcmFtIGUge09iamVjdH0gRXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9fb25TdWNjZXNzKGUpe1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSBlLmRhdGE7XG4gICAgICAgIG1lc3NhZ2VTZXJ2aWNlKHJlc3BvbnNlLmJvZHlbJ21lc3NhZ2UnXSwnc3VjY2VzcycpO1xuICAgICAgICBpZihERVZFTE9QTUVOVCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU3VjY2VzcycsIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIGUge09iamVjdH0gRXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9fb25FcnJvcihlKXtcbiAgICAgICAgbGV0IGVycm9yID0gZS5kYXRhO1xuICAgICAgICBpZihERVZFTE9QTUVOVCl7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFUlJPUicsIGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZihlcnJvci50aW1lb3V0KXtcbiAgICAgICAgICAgIG1lc3NhZ2VTZXJ2aWNlKCdSZXF1ZXN0IFRpbWVkIG91dC48YnI+VHJ5IEFnYWluIGkgZmV3IHNlY29uZHMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYXJzZSBlcnJvciBvYmplY3RcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2UsXG4gICAgICAgICAgICBlcnJvcl9pbmZvID0gfnJlc3BvbnNlLnR5cGUuaW5kZXhPZignanNvbicpID8gcmVzcG9uc2UuYm9keS5lcnJvciA6IHJlc3BvbnNlLnRleHQ7XG5cbiAgICAgICAgLy8gSWYgaXQgaXMganVzdCBzdHJpbmcsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY29udGludWVcbiAgICAgICAgaWYoXy5pc1N0cmluZyhlcnJvcl9pbmZvKSl7XG4gICAgICAgICAgICBtZXNzYWdlU2VydmljZShlcnJvcl9pbmZvLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vcmUgZXJyb3JzXG4gICAgICAgIGxldCBub0Vycm9ycyA9IHRydWU7XG4gICAgICAgIC8vIERCIGVycm9yc1xuICAgICAgICBpZihlcnJvcl9pbmZvLmRiKXtcbiAgICAgICAgICAgIG5vRXJyb3JzID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBTcGVjaWFsIERCIGVycm9yID9cbiAgICAgICAgICAgIF8uZWFjaChbXS5jb25jYXQoZXJyb3JfaW5mby5kYiksIChlcnIpPT57XG4gICAgICAgICAgICAgICAgbWVzc2FnZVNlcnZpY2UoZXJyLCAnZXJyb3InKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgaWQgPSBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdyZWFkeSc7XG4gICAgICAgICAgICAgICAgdGhpcy51bmxvY2soKTtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHbG9iYWwgZXJyb3JzIC0gQ1JGUyB0b2tlbiwgZXRjLlxuICAgICAgICBpZighXy5pc0VtcHR5KGVycm9yX2luZm8uZ2xvYmFsKSl7XG4gICAgICAgICAgICBub0Vycm9ycyA9IGZhbHNlO1xuICAgICAgICAgICAgX19nbG9iYWxFcnJvcnMoW10uY29uY2F0KGVycm9yX2luZm8uZ2xvYmFsKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmllbGRzIGVycm9yXG4gICAgICAgIGlmKCFfLmlzRW1wdHkoZXJyb3JfaW5mby5maWVsZHMpKXtcbiAgICAgICAgICAgIG5vRXJyb3JzID0gZmFsc2U7XG4gICAgICAgICAgICBfLmVhY2goZXJyb3JfaW5mby5maWVsZHMsIChtZXNzYWdlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEVycm9yKCQuaWQoa2V5KSwge1xuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51bmxvY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvbWUgZXJyb3IsIGJ1dCBub3RoaW5nIHJlbGF0ZWQgdG8gRm9ybVxuICAgICAgICBpZihub0Vycm9ycyAmJiBERVZFTE9QTUVOVCl7XG4gICAgICAgICAgICBtZXNzYWdlU2VydmljZSgnREVCVUc6IFJlcXVlc3QgZmFpbGVkIGJ1dCBubyBGT1JNIGVycm9ycyByZXR1cm5lZCEgY2hlY2sgc2VydmVyIHJlc3BvbnNlJywgJ3dhcm5pbmcnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBIYW5kbGVzIGdsb2JhbCBlcnJvcnNcbiAqIEBwYXJhbSBlcnJvcnNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fZ2xvYmFsRXJyb3JzKGVycm9ycyl7XG4gICAgXy5lYWNoKGVycm9ycywgKGVycik9PntcbiAgICAgICAgaWYoZXJyLmluZGV4T2YoXCJUaGUgQ1NSRiB0b2tlbiBpcyBpbnZhbGlkXCIpID4gLTEpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VTZXJ2aWNlKFwiU29tZXRoaW5nIGdldCB3cm9uZywgcGxlYXNlIHJlZnJlc2ggcGFnZS5cIiwgJ3dhcm5pbmcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2VTZXJ2aWNlKGVyciwgJ3dhcm5pbmcnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL1ZlbmljZUZvcm0uanMiXSwibWFwcGluZ3MiOiJBQUFBOzs7QUFHQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFOQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVVBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7Ozs7Ozs7QUE5RkE7QUFtR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 477:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _superagent = __webpack_require__(478);\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nvar _fbemitter = __webpack_require__(182);\n\nvar _Events = __webpack_require__(483);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nvar _TrinityEvent = __webpack_require__(484);\n\nvar _TrinityEvent2 = _interopRequireDefault(_TrinityEvent);\n\nvar _FormInput = __webpack_require__(485);\n\nvar _FormInput2 = _interopRequireDefault(_FormInput);\n\nvar _Dom = __webpack_require__(486);\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Default FORM settings\n * @type {{\n *      button: {loading: string, success: string, error: string, ready: string},\n *      successTimeout: number\n *   }}\n */\nvar defaultSettings = {\n    button: { // Defines which classes add to active button in which state\n        loading: 'trinity-form-loading',\n        success: 'trinity-form-success',\n        timeout: 'trinity-form-timeout',\n        error: 'trinity-form-error',\n        ready: 'trinity-form-ready'\n    },\n    requestTimeout: 10000,\n    successTimeout: 3000,\n    timeoutTimeout: 2000,\n    errorTemplate: function errorTemplate(message) {\n        return '<div>' + message + '</div>';\n    },\n    messageTemplate: function messageTemplate(message) {\n        return '<div>' + message + '</div>';\n    }\n};\n\nvar IS_FORM_DATA = !!window.FormData;\nvar INPUT_TYPE_FILTER = ['radio', 'checkbox'];\n\n/**\n * Connects to formElement and change it to ajax form\n *\n * @param form {HTMLFormElement}\n * @param [type] {String} - type of form\n * @param [settings] {Object}\n * @constructor\n */\n\nvar TrinityForm = function (_EventEmitter) {\n    _inherits(TrinityForm, _EventEmitter);\n\n    function TrinityForm(formElement, settings) {\n        _classCallCheck(this, TrinityForm);\n\n        var _this = _possibleConstructorReturn(this, (TrinityForm.__proto__ || Object.getPrototypeOf(TrinityForm)).call(this));\n\n        if (!formElement) {\n            throw new Error('Missing \"formElement\" parameter!');\n        }\n        _this.form = formElement;\n        _this.buttons = formElement.querySelectorAll('input[type=\"submit\"], button[type=\"submit\"]');\n        _this.activeBtn = null;\n        _this.settings = _lodash2.default.defaultsDeep(settings || {}, defaultSettings);\n        _this.__state = 'ready';\n        _this.__inputs = {};\n\n        //Main initialize\n        // Create inputs\n        _lodash2.default.each(_this.form, function (el) {\n            if (el.name && !~INPUT_TYPE_FILTER.indexOf(el.type)) {\n                _this.__inputs[el.name] = new _FormInput2.default(el);\n            }\n        });\n\n        // Add ready class to all buttons\n        var btnReadyClass = _this.settings.button['ready'].split(' ');\n        _lodash2.default.each(_this.buttons, function (btn) {\n            return _Dom2.default.classlist.addAll(btn, btnReadyClass);\n        });\n\n        // Listeners at last\n        // Add listener to form element\n        _this.unlistenSubmit = _Events2.default.listen(formElement, 'submit', _this.submit.bind(_this));\n        // Add listener for input value change\n        _this.unlistenValueInput = _Events2.default.listen(formElement, 'input', _this.onInputChange.bind(_this));\n        _this.unlistenValueChange = _Events2.default.listen(formElement, 'change', _this.onInputChange.bind(_this));\n        return _this;\n    }\n\n    /**\n     *\n     * @param element {HTMLElement}\n     */\n\n\n    _createClass(TrinityForm, [{\n        key: 'addInput',\n        value: function addInput(element) {\n            this.__inputs[element.name] = new _FormInput2.default(element);\n        }\n\n        /**\n         *\n         * @param element {HTMLElement || string} - name of input or input itself\n         */\n\n    }, {\n        key: 'removeInput',\n        value: function removeInput(element) {\n            var name = _lodash2.default.isString(element) ? element : element.name;\n            delete this.__inputs[name];\n        }\n\n        /**\n         * Sets new form state\n         *  - add state classes to button\n         *  - emit \"state-change\" event\n         * @param newState\n         */\n\n    }, {\n        key: 'lock',\n\n\n        /**\n         * Disable all forms submit inputs\n         */\n        value: function lock() {\n            _lodash2.default.each(this.buttons, _Dom2.default.disable);\n        }\n\n        /**\n         * Enable all forms submit inputs\n         */\n\n    }, {\n        key: 'unlock',\n        value: function unlock() {\n            return this.state !== 'loading' && !!_lodash2.default.each(this.buttons, _Dom2.default.enable);\n        }\n\n        /**\n         * Main function which runs validation\n         * @param e {Event}\n         */\n\n    }, {\n        key: 'onInputChange',\n        value: function onInputChange(e) {\n            // Only elements with name can be tested\n\n            // Filter\n            var isSelectType = e.target.type ? !!~e.target.type.indexOf('select') : false,\n                //tesxtarea does not have type prop\n            isChangeEvent = e.type === 'change';\n\n            if (isSelectType ^ isChangeEvent || !e.target.name) {\n                return;\n            }\n            var inputObj = this.__inputs[e.target.name];\n            if (!inputObj) {\n                return;\n            }\n            inputObj.errors = _lodash2.default.filter(inputObj.errors, function (err) {\n                if (!_lodash2.default.isFunction(err.validate) || err.validate(inputObj.getValue(), inputObj.element)) {\n                    _Dom2.default.removeNode(err.element);\n                    return false;\n                }\n                return true;\n            });\n            this.validate();\n        }\n\n        /*eslint-disable*/\n        /**\n         * TODO: feature\n         * @notImplemented\n         * @param element {HTMLElement || string} - name of input or input itself\n         * @param validator\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'addRule',\n        value: function addRule(element, validator) {}\n        // return;\n        // let inputObj = this.__findInput(element);\n        // if (!inputObj) {\n        //     if (process.env.NODE_ENV !== 'production') {\n        //         throw new Error('Form does not have input ' + (_.isString(element) ? 'with name ' : '') + element + '.');\n        //     }\n        //     return false;\n        // }\n        // return !!inputObj.rules.push(validator);\n\n        /*eslint-enable*/\n\n        /**\n         * Adds new error to TrinityForm instance\n         * @param element {string || HTMLElement} - input name or instance itself\n         * @param error {string || object}\n         * @param [args] {Array}\n         * @public\n         */\n\n    }, {\n        key: 'addError',\n        value: function addError(element, error) {\n            var inputObj = this.__findInput(element);\n            if (!inputObj) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error('Form does not have input ' + (_lodash2.default.isString(element) ? 'with name ' : '') + element + '.');\n                }\n                return false;\n            }\n            this.state = 'error';\n\n            for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n                args[_key - 2] = arguments[_key];\n            }\n\n            var errObj = __createMessage(error, // error object or string\n            this.settings.errorTemplate, // template\n            inputObj.element.name + '_error_', // prefix if no id\n            args // rest of args\n            );\n            return inputObj.addError(errObj);\n        }\n\n        /**\n         * Check if input element has error with provided key\n         * or if key not provided, checks if input has any error\n         * @param element {HTMLElement || string} - name of input or input itself\n         * @param [errorId] {string}\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'hasError',\n        value: function hasError(element, errorId) {\n            var inputObj = this.__findInput(element);\n            if (!inputObj) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error('Form does not have input ' + (_lodash2.default.isString(element) ? 'with name ' : '') + element + '.');\n                }\n                return false;\n            }\n            return errorId ? _lodash2.default.some(inputObj.errors, function (err) {\n                return err.id === errorId;\n            }) : inputObj.errors.length > 0;\n        }\n\n        /**\n         * Remove error with errorKey provided, or remove all errors if errorKey is not provided\n         * @param element {HTMLElement || string} - name of input or input itself\n         * @param [errorId] {string}\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'removeError',\n        value: function removeError(element, errorId) {\n            var inputObj = this.__findInput(element);\n            if (!inputObj) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error('Form does not have input ' + (_lodash2.default.isString(element) ? 'with name ' : '') + element + '.');\n                }\n                return false;\n            }\n\n            if (errorId) {\n                _lodash2.default.remove(inputObj.errors, function (err) {\n                    return err.id === errorId && !!_Dom2.default.removeNode(err.element);\n                });\n            } else {\n                // Remove all if error key not provided\n                _lodash2.default.each(inputObj.errors, function (err) {\n                    return _Dom2.default.removeNode(err.element);\n                });\n                inputObj.errors = [];\n            }\n            this.validate();\n            return true;\n        }\n\n        /**\n         * Set message to requested element\n         * @param element {HTMLElement || string} - name of input or input itself\n         * @param message {object || string}\n         * @param [args]\n         * @returns {*} id or false if element was not found\n         */\n\n    }, {\n        key: 'setMessage',\n        value: function setMessage(element, message) {\n            var inputObj = this.__findInput(element);\n            if (!inputObj) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error('Form does not have input ' + (_lodash2.default.isString(element) ? 'with name ' : '') + element + '.');\n                }\n                return false;\n            }\n\n            for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n                args[_key2 - 2] = arguments[_key2];\n            }\n\n            var msg = __createMessage(message, // msg object or string\n            this.settings.messageTemplate, // template object\n            inputObj.element.name + '_msg_', // prefix\n            args // args\n            );\n            return inputObj.setMessage(msg);\n        }\n\n        /**\n         * Removes message from input\n         * @param element {HTMLElement || string} - name of input or input itself\n         * @returns {*}\n         */\n\n    }, {\n        key: 'removeMessage',\n        value: function removeMessage(element) {\n            var inputObj = this.__findInput(element);\n            if (!inputObj) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error('Form does not have input ' + (_lodash2.default.isString(element) ? 'with name ' : '') + element + '.');\n                }\n                return false;\n            }\n            return inputObj.clearMessage() || true;\n        }\n\n        /**\n         * Validates if all errors are removed from form\n         * @public\n         */\n\n    }, {\n        key: 'validate',\n        value: function validate() {\n            if (!_lodash2.default.some(this.__inputs, function (input) {\n                return !input.isValid();\n            })) {\n                this.unlock();\n                this.state = 'ready';\n                return true;\n            }\n            return false;\n        }\n\n        /**\n         * Submit event listener\n         * - can be also forced\n         * @Note - no event is triggered\n         * @param e\n         */\n\n    }, {\n        key: 'submit',\n        value: function submit(e) {\n            var _this2 = this;\n\n            /** catch button with focus first **/\n            this.activeBtn = document.activeElement.type === 'button' ? document.activeElement : this.buttons[0];\n            /** Continue **/\n            e && e.preventDefault();\n\n            /** Lock and Load **/\n            this.lock();\n            this.state = 'loading';\n\n            /** Parse and send Data **/\n            var data = IS_FORM_DATA ? serializeFrom(this.form, this.activeBtn) : __parseSymfonyForm(this.form, this.activeBtn),\n                url = this.form.action.trim(),\n                method = (data.hasOwnProperty('_method') ? data['_method'] : this.form.method).toUpperCase(),\n                submitEvent = new _TrinityEvent2.default({\n                url: url,\n                method: method,\n                data: data\n            });\n\n            this.emit('submit', submitEvent);\n\n            if (submitEvent.defaultPrevented) {\n                return;\n            }\n\n            var req = (0, _superagent2.default)(method, url).set({\n                'Accept': 'application/json',\n                'X-Requested-With': 'XMLHttpRequest'\n            }).timeout(this.settings.requestTimeout).send(data).on('progress', function (e) {\n                _this2.emit('progress', e);\n            });\n\n            this.emit('before-request', req);\n\n            req.end(function (err, response) {\n                // Redirect ?\n                if (response && response.status === 302) {\n                    var redirectTo = response.body.location;\n                    // Do callback and then redirect\n                    if (_this2.__successHandler(response) === false) {\n                        return false;\n                    }\n                    // Redirect\n                    if (!redirectTo && process.env.NODE_ENV !== 'production') {\n                        throw new Error('Missing \"location\" attribute!');\n                    }\n\n                    redirectTo && window.location.assign(redirectTo);\n                    return;\n                }\n                // Error ?\n                if (err) {\n                    return _this2.__errorHandler(err);\n                }\n\n                _this2.__successHandler(response);\n            });\n        }\n\n        /**\n         * Adds 'success' event Listener\n         * @param callback {function}\n         * @param [context] {Object} - this argument\n         * @returns {TrinityForm}\n         */\n\n    }, {\n        key: 'success',\n        value: function success(callback, context) {\n            this.addListener('success', callback, context);\n            return this; // for chaining\n        }\n\n        /**\n         * Adds 'error' event Listener\n         * @param callback {function}\n         * @param [context] {Object} - this argument\n         * @returns {TrinityForm}\n         */\n\n    }, {\n        key: 'error',\n        value: function error(callback, context) {\n            this.addListener('error', callback, context);\n            return this; // for chaining\n        }\n\n        /**\n         * Abbreviation for addListener\n         * @param eventName {string}\n         * @param callback {function}\n         * @param context {object}\n         * @returns {TrinityForm}\n         */\n        /*eslint-disable*/\n\n    }, {\n        key: 'on',\n        value: function on(eventName, callback, context) {\n            /*eslint-enable*/\n            this.addListener.apply(this, arguments);\n        }\n\n        /**\n         * Force set submit buttons\n         * @param buttons {Array<HTMLElement>}\n         */\n\n    }, {\n        key: 'setSubmitButtons',\n        value: function setSubmitButtons(buttons) {\n            /** Add ready class to all buttons **/\n            var btnReadyClass = this.settings.button['ready'].split(' ');\n            _lodash2.default.each(this.buttons, function (btn) {\n                _Dom2.default.classlist.removeAll(btn, btnReadyClass);\n            });\n            this.buttons = buttons;\n            _lodash2.default.each(this.buttons, function (btn) {\n                _Dom2.default.classlist.addAll(btn, btnReadyClass);\n            });\n        }\n    }, {\n        key: 'detach',\n        value: function detach() {\n            // Main listener\n            this.unlistenSubmit();\n            this.unlistenValueChange();\n            this.unlistenValueInput();\n            this.element = null;\n            this.__inputs = null;\n        }\n    }, {\n        key: '__findInput',\n        value: function __findInput(element) {\n            return this.__inputs[_lodash2.default.isString(element) ? element : element.name];\n        }\n\n        /**\n         * Form success handler\n         * @param response {Object}\n         * @private\n         */\n\n    }, {\n        key: '__successHandler',\n        value: function __successHandler(response) {\n            var _this3 = this;\n\n            var event = new _TrinityEvent2.default(response);\n\n            this.state = 'success';\n            this.emit('success', event);\n\n            this.unlock();\n            var id = setTimeout(function () {\n                _this3.state = 'ready';\n                clearTimeout(id);\n            }, this.settings.successTimeout);\n\n            return !event.defaultPrevented;\n        }\n\n        /**\n         * Form error handler\n         * @param error\n         * @private\n         * @returns {boolean}\n         */\n\n    }, {\n        key: '__errorHandler',\n        value: function __errorHandler(error) {\n            var _this4 = this;\n\n            if (error.timeout) {\n                (function () {\n                    _this4.state = 'timeout';\n                    var id = setTimeout(function () {\n                        _this4.unlock();\n                        _this4.state = 'ready';\n                        clearTimeout(id);\n                    }, _this4.settings.timeoutTimeout);\n                })();\n            } else {\n                this.state = 'error';\n            }\n\n            // Emit event\n            var event = new _TrinityEvent2.default(error);\n            this.emit('error', event);\n            return !event.defaultPrevented;\n        }\n    }, {\n        key: 'state',\n        set: function set(newState) {\n            var _this5 = this;\n\n            if (newState === this.__state) {\n                return;\n            }\n            var oldState = this.__state;\n            this.__state = newState;\n\n            if (newState === 'error' || newState === 'ready') {\n                // For all btns\n                _lodash2.default.each(this.buttons, function (btn) {\n                    _Dom2.default.classlist.removeAll(btn, _this5.settings.button[oldState].split(' '));\n                    _Dom2.default.classlist.addAll(btn, _this5.settings.button[newState].split(' '));\n                });\n            } else {\n                //Switch classes for active\n                _Dom2.default.classlist.removeAll(this.activeBtn, this.settings.button[oldState].split(' '));\n                _Dom2.default.classlist.addAll(this.activeBtn, this.settings.button[newState].split(' '));\n            }\n\n            if (newState === 'error') {\n                this.lock();\n            }\n\n            // Emit new state change\n            this.emit('state-change', {\n                oldValue: oldState,\n                value: newState\n            });\n        }\n\n        /**\n         * returns actual state of form\n         */\n        ,\n        get: function get() {\n            return this.__state;\n        }\n    }]);\n\n    return TrinityForm;\n}(_fbemitter.EventEmitter);\n\n/**\n * Create message and returns object with description and element object\n * @param msg {object || string}\n * @param template {function}\n * @param prefix {string}\n * @param args {Array}\n * @returns {{message: *}|*}\n * @private\n */\n\n\nexports.default = TrinityForm;\nfunction __createMessage(msg, template, prefix, args) {\n    msg = _lodash2.default.isString(msg) ? { message: msg } : msg;\n    msg.id = msg.id || prefix + ('' + Math.random() * 100).substr(3, 4);\n\n    // Create message\n    msg.element = _Dom2.default.htmlToDocumentFragment(msg.isHtml ? msg.message : template.apply(null, [msg.message].concat(args)));\n    msg.element.setAttribute('id', msg.id);\n    return msg;\n}\n\n/**** PRIVATE METHODS ****/\n/** FORM PARSER ************************************************************/\n\n/**\n * Used to parse input name -> object path\n * @type {RegExp}\n */\nvar nameRegExp = /\\w+/g;\n\nfunction serializeFrom(form, button) {\n    var formData = new FormData();\n    (0, _lodash2.default)(form).filter(function (el) {\n\n        if (!el.name) {\n            return false;\n        }\n\n        var isValid = false;\n\n        switch (el.type) {\n            case 'submit':\n                {\n                    isValid = el === button;\n                }break;\n            case 'radio':\n            case 'checkbox':\n                {\n                    isValid = el.checked;\n                }break;\n            default:\n                {\n                    isValid = el.value && el.value.length !== 0;\n                }break;\n        }\n\n        return isValid;\n    }).each(function (el) {\n        return formData.append(el.name, el.value);\n    });\n    return formData;\n}\n\n/**\n * Parse form inputs and create json object according symfony name specifications\n * Example: <input value=\"test\" name=\"necktie_product[name]\" />\n *  {\n *      necktie_product : {\n *          name: 'test'\n *      }\n *  }\n * @private\n * @param form {HTMLFormElement}\n * @param button {HTMLElement}\n * @returns {{object}}\n */\nfunction __parseSymfonyForm(form, button) {\n    var data = {},\n        formLength = form.length;\n    /** Go through all inputs in form */\n    for (var i = 0; i < formLength; i++) {\n        if (!form[i].name || form[i].name.length < 1) {\n            continue;\n        }\n        if ((!form[i].value || form[i].value.length < 1) && form[i].type !== 'submit') {\n            continue; // No need to do any work if there are no values\n        }\n\n        switch (form[i].type) {\n            case 'submit':\n                {\n                    if (form[i] === button) {\n                        break;\n                    }\n                    continue;\n                }\n            case 'radio':\n            case 'checkbox':\n                {\n                    if (!form[i].checked) {\n                        continue;\n                    }\n                    break;\n                }\n            default:\n                break;\n        }\n\n        // Init necessary variables\n        var isArray = ~form[i].name.indexOf('[]'),\n            parsed = form[i].name.match(nameRegExp),\n            reference = data,\n            last = parsed.length - 1;\n        /** Evaluate parsed reference object */\n        for (var j = 0; j <= last; j++) {\n            if (!reference[parsed[j]]) {\n                if (j === last) {\n                    if (isArray) {\n                        reference[parsed[j]] = [];\n                        reference[parsed[j]].push(form[i].value);\n                    } else {\n                        reference[parsed[j]] = form[i].value;\n                    }\n                } else {\n                    /** Not last -> create object */\n                    reference[parsed[j]] = {};\n                    reference = reference[parsed[j]];\n                }\n            } else {\n                if (j === last) {\n                    if (isArray) {\n                        reference[parsed[j]].push(form[i].value);\n                    } else {\n                        reference[parsed[j]] = form[i].value;\n                    }\n                } else {\n                    reference = reference[parsed[j]]; // create reference\n                }\n            }\n        }\n    }\n    return data;\n}\n\n//function __parseSymfonyForm2(form, button){\n//    let data = {};\n//\n//    /** Go through all inputs in form */\n//    _(form).filter((el)=>{\n//        return !el.name\n//            || (\n//                !el.value\n//                && el.type !== 'submit'\n//                && el !== button\n//            )\n//            || (\n//                !el.checked\n//                && (\n//                    el.type === 'radio'\n//                    || el.type === 'checkbox'\n//                )\n//            );\n//    }).each((el)=>{\n//        let isArray = el.name.indexOf('[]') !== -1,\n//            parsed = el.name.match(nameRegExp),\n//            ref = data,\n//            lastIndex = parsed.length -1;\n//\n//        _.each(parsed, ()=>{\n//            //TODO:\n//        })\n//    });\n//}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(34)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L2NvbXBvbmVudHMvVHJpbml0eUZvcm0uanM/MWU4NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9sb2Rhc2ggPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxudmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblxudmFyIF9zdXBlcmFnZW50ID0gcmVxdWlyZSgnc3VwZXJhZ2VudCcpO1xuXG52YXIgX3N1cGVyYWdlbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3VwZXJhZ2VudCk7XG5cbnZhciBfZmJlbWl0dGVyID0gcmVxdWlyZSgnZmJlbWl0dGVyJyk7XG5cbnZhciBfRXZlbnRzID0gcmVxdWlyZSgnLi4vdXRpbHMvRXZlbnRzJyk7XG5cbnZhciBfRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50cyk7XG5cbnZhciBfVHJpbml0eUV2ZW50ID0gcmVxdWlyZSgnLi4vdXRpbHMvVHJpbml0eUV2ZW50Jyk7XG5cbnZhciBfVHJpbml0eUV2ZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyaW5pdHlFdmVudCk7XG5cbnZhciBfRm9ybUlucHV0ID0gcmVxdWlyZSgnLi9Gb3JtSW5wdXQnKTtcblxudmFyIF9Gb3JtSW5wdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRm9ybUlucHV0KTtcblxudmFyIF9Eb20gPSByZXF1aXJlKCcuLi91dGlscy9Eb20nKTtcblxudmFyIF9Eb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRG9tKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIERlZmF1bHQgRk9STSBzZXR0aW5nc1xuICogQHR5cGUge3tcbiAqICAgICAgYnV0dG9uOiB7bG9hZGluZzogc3RyaW5nLCBzdWNjZXNzOiBzdHJpbmcsIGVycm9yOiBzdHJpbmcsIHJlYWR5OiBzdHJpbmd9LFxuICogICAgICBzdWNjZXNzVGltZW91dDogbnVtYmVyXG4gKiAgIH19XG4gKi9cbnZhciBkZWZhdWx0U2V0dGluZ3MgPSB7XG4gICAgYnV0dG9uOiB7IC8vIERlZmluZXMgd2hpY2ggY2xhc3NlcyBhZGQgdG8gYWN0aXZlIGJ1dHRvbiBpbiB3aGljaCBzdGF0ZVxuICAgICAgICBsb2FkaW5nOiAndHJpbml0eS1mb3JtLWxvYWRpbmcnLFxuICAgICAgICBzdWNjZXNzOiAndHJpbml0eS1mb3JtLXN1Y2Nlc3MnLFxuICAgICAgICB0aW1lb3V0OiAndHJpbml0eS1mb3JtLXRpbWVvdXQnLFxuICAgICAgICBlcnJvcjogJ3RyaW5pdHktZm9ybS1lcnJvcicsXG4gICAgICAgIHJlYWR5OiAndHJpbml0eS1mb3JtLXJlYWR5J1xuICAgIH0sXG4gICAgcmVxdWVzdFRpbWVvdXQ6IDEwMDAwLFxuICAgIHN1Y2Nlc3NUaW1lb3V0OiAzMDAwLFxuICAgIHRpbWVvdXRUaW1lb3V0OiAyMDAwLFxuICAgIGVycm9yVGVtcGxhdGU6IGZ1bmN0aW9uIGVycm9yVGVtcGxhdGUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gJzxkaXY+JyArIG1lc3NhZ2UgKyAnPC9kaXY+JztcbiAgICB9LFxuICAgIG1lc3NhZ2VUZW1wbGF0ZTogZnVuY3Rpb24gbWVzc2FnZVRlbXBsYXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuICc8ZGl2PicgKyBtZXNzYWdlICsgJzwvZGl2Pic7XG4gICAgfVxufTtcblxudmFyIElTX0ZPUk1fREFUQSA9ICEhd2luZG93LkZvcm1EYXRhO1xudmFyIElOUFVUX1RZUEVfRklMVEVSID0gWydyYWRpbycsICdjaGVja2JveCddO1xuXG4vKipcbiAqIENvbm5lY3RzIHRvIGZvcm1FbGVtZW50IGFuZCBjaGFuZ2UgaXQgdG8gYWpheCBmb3JtXG4gKlxuICogQHBhcmFtIGZvcm0ge0hUTUxGb3JtRWxlbWVudH1cbiAqIEBwYXJhbSBbdHlwZV0ge1N0cmluZ30gLSB0eXBlIG9mIGZvcm1cbiAqIEBwYXJhbSBbc2V0dGluZ3NdIHtPYmplY3R9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuXG52YXIgVHJpbml0eUZvcm0gPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICAgIF9pbmhlcml0cyhUcmluaXR5Rm9ybSwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICBmdW5jdGlvbiBUcmluaXR5Rm9ybShmb3JtRWxlbWVudCwgc2V0dGluZ3MpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyaW5pdHlGb3JtKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVHJpbml0eUZvcm0uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUcmluaXR5Rm9ybSkpLmNhbGwodGhpcykpO1xuXG4gICAgICAgIGlmICghZm9ybUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBcImZvcm1FbGVtZW50XCIgcGFyYW1ldGVyIScpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmZvcm0gPSBmb3JtRWxlbWVudDtcbiAgICAgICAgX3RoaXMuYnV0dG9ucyA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0sIGJ1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgICAgIF90aGlzLmFjdGl2ZUJ0biA9IG51bGw7XG4gICAgICAgIF90aGlzLnNldHRpbmdzID0gX2xvZGFzaDIuZGVmYXVsdC5kZWZhdWx0c0RlZXAoc2V0dGluZ3MgfHwge30sIGRlZmF1bHRTZXR0aW5ncyk7XG4gICAgICAgIF90aGlzLl9fc3RhdGUgPSAncmVhZHknO1xuICAgICAgICBfdGhpcy5fX2lucHV0cyA9IHt9O1xuXG4gICAgICAgIC8vTWFpbiBpbml0aWFsaXplXG4gICAgICAgIC8vIENyZWF0ZSBpbnB1dHNcbiAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKF90aGlzLmZvcm0sIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgaWYgKGVsLm5hbWUgJiYgIX5JTlBVVF9UWVBFX0ZJTFRFUi5pbmRleE9mKGVsLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX19pbnB1dHNbZWwubmFtZV0gPSBuZXcgX0Zvcm1JbnB1dDIuZGVmYXVsdChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCByZWFkeSBjbGFzcyB0byBhbGwgYnV0dG9uc1xuICAgICAgICB2YXIgYnRuUmVhZHlDbGFzcyA9IF90aGlzLnNldHRpbmdzLmJ1dHRvblsncmVhZHknXS5zcGxpdCgnICcpO1xuICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goX3RoaXMuYnV0dG9ucywgZnVuY3Rpb24gKGJ0bikge1xuICAgICAgICAgICAgcmV0dXJuIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LmFkZEFsbChidG4sIGJ0blJlYWR5Q2xhc3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMaXN0ZW5lcnMgYXQgbGFzdFxuICAgICAgICAvLyBBZGQgbGlzdGVuZXIgdG8gZm9ybSBlbGVtZW50XG4gICAgICAgIF90aGlzLnVubGlzdGVuU3VibWl0ID0gX0V2ZW50czIuZGVmYXVsdC5saXN0ZW4oZm9ybUVsZW1lbnQsICdzdWJtaXQnLCBfdGhpcy5zdWJtaXQuYmluZChfdGhpcykpO1xuICAgICAgICAvLyBBZGQgbGlzdGVuZXIgZm9yIGlucHV0IHZhbHVlIGNoYW5nZVxuICAgICAgICBfdGhpcy51bmxpc3RlblZhbHVlSW5wdXQgPSBfRXZlbnRzMi5kZWZhdWx0Lmxpc3Rlbihmb3JtRWxlbWVudCwgJ2lucHV0JywgX3RoaXMub25JbnB1dENoYW5nZS5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLnVubGlzdGVuVmFsdWVDaGFuZ2UgPSBfRXZlbnRzMi5kZWZhdWx0Lmxpc3Rlbihmb3JtRWxlbWVudCwgJ2NoYW5nZScsIF90aGlzLm9uSW5wdXRDaGFuZ2UuYmluZChfdGhpcykpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbWVudCB7SFRNTEVsZW1lbnR9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUcmluaXR5Rm9ybSwgW3tcbiAgICAgICAga2V5OiAnYWRkSW5wdXQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkSW5wdXQoZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fX2lucHV0c1tlbGVtZW50Lm5hbWVdID0gbmV3IF9Gb3JtSW5wdXQyLmRlZmF1bHQoZWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQge0hUTUxFbGVtZW50IHx8IHN0cmluZ30gLSBuYW1lIG9mIGlucHV0IG9yIGlucHV0IGl0c2VsZlxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVtb3ZlSW5wdXQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlSW5wdXQoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBfbG9kYXNoMi5kZWZhdWx0LmlzU3RyaW5nKGVsZW1lbnQpID8gZWxlbWVudCA6IGVsZW1lbnQubmFtZTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9faW5wdXRzW25hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgbmV3IGZvcm0gc3RhdGVcbiAgICAgICAgICogIC0gYWRkIHN0YXRlIGNsYXNzZXMgdG8gYnV0dG9uXG4gICAgICAgICAqICAtIGVtaXQgXCJzdGF0ZS1jaGFuZ2VcIiBldmVudFxuICAgICAgICAgKiBAcGFyYW0gbmV3U3RhdGVcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xvY2snLFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGUgYWxsIGZvcm1zIHN1Ym1pdCBpbnB1dHNcbiAgICAgICAgICovXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsb2NrKCkge1xuICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHRoaXMuYnV0dG9ucywgX0RvbTIuZGVmYXVsdC5kaXNhYmxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbmFibGUgYWxsIGZvcm1zIHN1Ym1pdCBpbnB1dHNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3VubG9jaycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1bmxvY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSAhPT0gJ2xvYWRpbmcnICYmICEhX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHRoaXMuYnV0dG9ucywgX0RvbTIuZGVmYXVsdC5lbmFibGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1haW4gZnVuY3Rpb24gd2hpY2ggcnVucyB2YWxpZGF0aW9uXG4gICAgICAgICAqIEBwYXJhbSBlIHtFdmVudH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ29uSW5wdXRDaGFuZ2UnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25JbnB1dENoYW5nZShlKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGVsZW1lbnRzIHdpdGggbmFtZSBjYW4gYmUgdGVzdGVkXG5cbiAgICAgICAgICAgIC8vIEZpbHRlclxuICAgICAgICAgICAgdmFyIGlzU2VsZWN0VHlwZSA9IGUudGFyZ2V0LnR5cGUgPyAhIX5lLnRhcmdldC50eXBlLmluZGV4T2YoJ3NlbGVjdCcpIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgLy90ZXN4dGFyZWEgZG9lcyBub3QgaGF2ZSB0eXBlIHByb3BcbiAgICAgICAgICAgIGlzQ2hhbmdlRXZlbnQgPSBlLnR5cGUgPT09ICdjaGFuZ2UnO1xuXG4gICAgICAgICAgICBpZiAoaXNTZWxlY3RUeXBlIF4gaXNDaGFuZ2VFdmVudCB8fCAhZS50YXJnZXQubmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbnB1dE9iaiA9IHRoaXMuX19pbnB1dHNbZS50YXJnZXQubmFtZV07XG4gICAgICAgICAgICBpZiAoIWlucHV0T2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXRPYmouZXJyb3JzID0gX2xvZGFzaDIuZGVmYXVsdC5maWx0ZXIoaW5wdXRPYmouZXJyb3JzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfbG9kYXNoMi5kZWZhdWx0LmlzRnVuY3Rpb24oZXJyLnZhbGlkYXRlKSB8fCBlcnIudmFsaWRhdGUoaW5wdXRPYmouZ2V0VmFsdWUoKSwgaW5wdXRPYmouZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgX0RvbTIuZGVmYXVsdC5yZW1vdmVOb2RlKGVyci5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyplc2xpbnQtZGlzYWJsZSovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUT0RPOiBmZWF0dXJlXG4gICAgICAgICAqIEBub3RJbXBsZW1lbnRlZFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCB7SFRNTEVsZW1lbnQgfHwgc3RyaW5nfSAtIG5hbWUgb2YgaW5wdXQgb3IgaW5wdXQgaXRzZWxmXG4gICAgICAgICAqIEBwYXJhbSB2YWxpZGF0b3JcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhZGRSdWxlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFJ1bGUoZWxlbWVudCwgdmFsaWRhdG9yKSB7fVxuICAgICAgICAvLyByZXR1cm47XG4gICAgICAgIC8vIGxldCBpbnB1dE9iaiA9IHRoaXMuX19maW5kSW5wdXQoZWxlbWVudCk7XG4gICAgICAgIC8vIGlmICghaW5wdXRPYmopIHtcbiAgICAgICAgLy8gICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIC8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3JtIGRvZXMgbm90IGhhdmUgaW5wdXQgJyArIChfLmlzU3RyaW5nKGVsZW1lbnQpID8gJ3dpdGggbmFtZSAnIDogJycpICsgZWxlbWVudCArICcuJyk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gcmV0dXJuICEhaW5wdXRPYmoucnVsZXMucHVzaCh2YWxpZGF0b3IpO1xuXG4gICAgICAgIC8qZXNsaW50LWVuYWJsZSovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZHMgbmV3IGVycm9yIHRvIFRyaW5pdHlGb3JtIGluc3RhbmNlXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IHtzdHJpbmcgfHwgSFRNTEVsZW1lbnR9IC0gaW5wdXQgbmFtZSBvciBpbnN0YW5jZSBpdHNlbGZcbiAgICAgICAgICogQHBhcmFtIGVycm9yIHtzdHJpbmcgfHwgb2JqZWN0fVxuICAgICAgICAgKiBAcGFyYW0gW2FyZ3NdIHtBcnJheX1cbiAgICAgICAgICogQHB1YmxpY1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWRkRXJyb3InLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXJyb3IoZWxlbWVudCwgZXJyb3IpIHtcbiAgICAgICAgICAgIHZhciBpbnB1dE9iaiA9IHRoaXMuX19maW5kSW5wdXQoZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoIWlucHV0T2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3JtIGRvZXMgbm90IGhhdmUgaW5wdXQgJyArIChfbG9kYXNoMi5kZWZhdWx0LmlzU3RyaW5nKGVsZW1lbnQpID8gJ3dpdGggbmFtZSAnIDogJycpICsgZWxlbWVudCArICcuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnZXJyb3InO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGVyck9iaiA9IF9fY3JlYXRlTWVzc2FnZShlcnJvciwgLy8gZXJyb3Igb2JqZWN0IG9yIHN0cmluZ1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5lcnJvclRlbXBsYXRlLCAvLyB0ZW1wbGF0ZVxuICAgICAgICAgICAgaW5wdXRPYmouZWxlbWVudC5uYW1lICsgJ19lcnJvcl8nLCAvLyBwcmVmaXggaWYgbm8gaWRcbiAgICAgICAgICAgIGFyZ3MgLy8gcmVzdCBvZiBhcmdzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0T2JqLmFkZEVycm9yKGVyck9iaik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgaWYgaW5wdXQgZWxlbWVudCBoYXMgZXJyb3Igd2l0aCBwcm92aWRlZCBrZXlcbiAgICAgICAgICogb3IgaWYga2V5IG5vdCBwcm92aWRlZCwgY2hlY2tzIGlmIGlucHV0IGhhcyBhbnkgZXJyb3JcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQge0hUTUxFbGVtZW50IHx8IHN0cmluZ30gLSBuYW1lIG9mIGlucHV0IG9yIGlucHV0IGl0c2VsZlxuICAgICAgICAgKiBAcGFyYW0gW2Vycm9ySWRdIHtzdHJpbmd9XG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFzRXJyb3InLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRXJyb3IoZWxlbWVudCwgZXJyb3JJZCkge1xuICAgICAgICAgICAgdmFyIGlucHV0T2JqID0gdGhpcy5fX2ZpbmRJbnB1dChlbGVtZW50KTtcbiAgICAgICAgICAgIGlmICghaW5wdXRPYmopIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm0gZG9lcyBub3QgaGF2ZSBpbnB1dCAnICsgKF9sb2Rhc2gyLmRlZmF1bHQuaXNTdHJpbmcoZWxlbWVudCkgPyAnd2l0aCBuYW1lICcgOiAnJykgKyBlbGVtZW50ICsgJy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVycm9ySWQgPyBfbG9kYXNoMi5kZWZhdWx0LnNvbWUoaW5wdXRPYmouZXJyb3JzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyci5pZCA9PT0gZXJyb3JJZDtcbiAgICAgICAgICAgIH0pIDogaW5wdXRPYmouZXJyb3JzLmxlbmd0aCA+IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIGVycm9yIHdpdGggZXJyb3JLZXkgcHJvdmlkZWQsIG9yIHJlbW92ZSBhbGwgZXJyb3JzIGlmIGVycm9yS2V5IGlzIG5vdCBwcm92aWRlZFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCB7SFRNTEVsZW1lbnQgfHwgc3RyaW5nfSAtIG5hbWUgb2YgaW5wdXQgb3IgaW5wdXQgaXRzZWxmXG4gICAgICAgICAqIEBwYXJhbSBbZXJyb3JJZF0ge3N0cmluZ31cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW1vdmVFcnJvcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFcnJvcihlbGVtZW50LCBlcnJvcklkKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRPYmogPSB0aGlzLl9fZmluZElucHV0KGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKCFpbnB1dE9iaikge1xuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRm9ybSBkb2VzIG5vdCBoYXZlIGlucHV0ICcgKyAoX2xvZGFzaDIuZGVmYXVsdC5pc1N0cmluZyhlbGVtZW50KSA/ICd3aXRoIG5hbWUgJyA6ICcnKSArIGVsZW1lbnQgKyAnLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnJvcklkKSB7XG4gICAgICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5yZW1vdmUoaW5wdXRPYmouZXJyb3JzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnIuaWQgPT09IGVycm9ySWQgJiYgISFfRG9tMi5kZWZhdWx0LnJlbW92ZU5vZGUoZXJyLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYWxsIGlmIGVycm9yIGtleSBub3QgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goaW5wdXRPYmouZXJyb3JzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfRG9tMi5kZWZhdWx0LnJlbW92ZU5vZGUoZXJyLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlucHV0T2JqLmVycm9ycyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IG1lc3NhZ2UgdG8gcmVxdWVzdGVkIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQge0hUTUxFbGVtZW50IHx8IHN0cmluZ30gLSBuYW1lIG9mIGlucHV0IG9yIGlucHV0IGl0c2VsZlxuICAgICAgICAgKiBAcGFyYW0gbWVzc2FnZSB7b2JqZWN0IHx8IHN0cmluZ31cbiAgICAgICAgICogQHBhcmFtIFthcmdzXVxuICAgICAgICAgKiBAcmV0dXJucyB7Kn0gaWQgb3IgZmFsc2UgaWYgZWxlbWVudCB3YXMgbm90IGZvdW5kXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzZXRNZXNzYWdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1lc3NhZ2UoZWxlbWVudCwgbWVzc2FnZSkge1xuICAgICAgICAgICAgdmFyIGlucHV0T2JqID0gdGhpcy5fX2ZpbmRJbnB1dChlbGVtZW50KTtcbiAgICAgICAgICAgIGlmICghaW5wdXRPYmopIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm0gZG9lcyBub3QgaGF2ZSBpbnB1dCAnICsgKF9sb2Rhc2gyLmRlZmF1bHQuaXNTdHJpbmcoZWxlbWVudCkgPyAnd2l0aCBuYW1lICcgOiAnJykgKyBlbGVtZW50ICsgJy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDIgPyBfbGVuMiAtIDIgOiAwKSwgX2tleTIgPSAyOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1zZyA9IF9fY3JlYXRlTWVzc2FnZShtZXNzYWdlLCAvLyBtc2cgb2JqZWN0IG9yIHN0cmluZ1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5tZXNzYWdlVGVtcGxhdGUsIC8vIHRlbXBsYXRlIG9iamVjdFxuICAgICAgICAgICAgaW5wdXRPYmouZWxlbWVudC5uYW1lICsgJ19tc2dfJywgLy8gcHJlZml4XG4gICAgICAgICAgICBhcmdzIC8vIGFyZ3NcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRPYmouc2V0TWVzc2FnZShtc2cpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgbWVzc2FnZSBmcm9tIGlucHV0XG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IHtIVE1MRWxlbWVudCB8fCBzdHJpbmd9IC0gbmFtZSBvZiBpbnB1dCBvciBpbnB1dCBpdHNlbGZcbiAgICAgICAgICogQHJldHVybnMgeyp9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW1vdmVNZXNzYWdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZU1lc3NhZ2UoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGlucHV0T2JqID0gdGhpcy5fX2ZpbmRJbnB1dChlbGVtZW50KTtcbiAgICAgICAgICAgIGlmICghaW5wdXRPYmopIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm0gZG9lcyBub3QgaGF2ZSBpbnB1dCAnICsgKF9sb2Rhc2gyLmRlZmF1bHQuaXNTdHJpbmcoZWxlbWVudCkgPyAnd2l0aCBuYW1lICcgOiAnJykgKyBlbGVtZW50ICsgJy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlucHV0T2JqLmNsZWFyTWVzc2FnZSgpIHx8IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVmFsaWRhdGVzIGlmIGFsbCBlcnJvcnMgYXJlIHJlbW92ZWQgZnJvbSBmb3JtXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3ZhbGlkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlKCkge1xuICAgICAgICAgICAgaWYgKCFfbG9kYXNoMi5kZWZhdWx0LnNvbWUodGhpcy5fX2lucHV0cywgZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFpbnB1dC5pc1ZhbGlkKCk7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5sb2NrKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdyZWFkeSc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU3VibWl0IGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAqIC0gY2FuIGJlIGFsc28gZm9yY2VkXG4gICAgICAgICAqIEBOb3RlIC0gbm8gZXZlbnQgaXMgdHJpZ2dlcmVkXG4gICAgICAgICAqIEBwYXJhbSBlXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzdWJtaXQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3VibWl0KGUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAvKiogY2F0Y2ggYnV0dG9uIHdpdGggZm9jdXMgZmlyc3QgKiovXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUJ0biA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudHlwZSA9PT0gJ2J1dHRvbicgPyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IDogdGhpcy5idXR0b25zWzBdO1xuICAgICAgICAgICAgLyoqIENvbnRpbnVlICoqL1xuICAgICAgICAgICAgZSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIC8qKiBMb2NrIGFuZCBMb2FkICoqL1xuICAgICAgICAgICAgdGhpcy5sb2NrKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ2xvYWRpbmcnO1xuXG4gICAgICAgICAgICAvKiogUGFyc2UgYW5kIHNlbmQgRGF0YSAqKi9cbiAgICAgICAgICAgIHZhciBkYXRhID0gSVNfRk9STV9EQVRBID8gc2VyaWFsaXplRnJvbSh0aGlzLmZvcm0sIHRoaXMuYWN0aXZlQnRuKSA6IF9fcGFyc2VTeW1mb255Rm9ybSh0aGlzLmZvcm0sIHRoaXMuYWN0aXZlQnRuKSxcbiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLmZvcm0uYWN0aW9uLnRyaW0oKSxcbiAgICAgICAgICAgICAgICBtZXRob2QgPSAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnX21ldGhvZCcpID8gZGF0YVsnX21ldGhvZCddIDogdGhpcy5mb3JtLm1ldGhvZCkudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICAgICAgICBzdWJtaXRFdmVudCA9IG5ldyBfVHJpbml0eUV2ZW50Mi5kZWZhdWx0KHtcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdzdWJtaXQnLCBzdWJtaXRFdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChzdWJtaXRFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVxID0gKDAsIF9zdXBlcmFnZW50Mi5kZWZhdWx0KShtZXRob2QsIHVybCkuc2V0KHtcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0J1xuICAgICAgICAgICAgfSkudGltZW91dCh0aGlzLnNldHRpbmdzLnJlcXVlc3RUaW1lb3V0KS5zZW5kKGRhdGEpLm9uKCdwcm9ncmVzcycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLmVtaXQoJ3Byb2dyZXNzJywgZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdiZWZvcmUtcmVxdWVzdCcsIHJlcSk7XG5cbiAgICAgICAgICAgIHJlcS5lbmQoZnVuY3Rpb24gKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdCA/XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1cyA9PT0gMzAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWRpcmVjdFRvID0gcmVzcG9uc2UuYm9keS5sb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG8gY2FsbGJhY2sgYW5kIHRoZW4gcmVkaXJlY3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5fX3N1Y2Nlc3NIYW5kbGVyKHJlc3BvbnNlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZGlyZWN0VG8gJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFwibG9jYXRpb25cIiBhdHRyaWJ1dGUhJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFRvICYmIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24ocmVkaXJlY3RUbyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRXJyb3IgP1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5fX2Vycm9ySGFuZGxlcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF90aGlzMi5fX3N1Y2Nlc3NIYW5kbGVyKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZHMgJ3N1Y2Nlc3MnIGV2ZW50IExpc3RlbmVyXG4gICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gICAgICAgICAqIEBwYXJhbSBbY29udGV4dF0ge09iamVjdH0gLSB0aGlzIGFyZ3VtZW50XG4gICAgICAgICAqIEByZXR1cm5zIHtUcmluaXR5Rm9ybX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N1Y2Nlc3MnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3VjY2VzcyhjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcignc3VjY2VzcycsIGNhbGxiYWNrLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzOyAvLyBmb3IgY2hhaW5pbmdcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGRzICdlcnJvcicgZXZlbnQgTGlzdGVuZXJcbiAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHBhcmFtIFtjb250ZXh0XSB7T2JqZWN0fSAtIHRoaXMgYXJndW1lbnRcbiAgICAgICAgICogQHJldHVybnMge1RyaW5pdHlGb3JtfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZXJyb3InLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZXJyb3IoY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXIoJ2Vycm9yJywgY2FsbGJhY2ssIGNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7IC8vIGZvciBjaGFpbmluZ1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFiYnJldmlhdGlvbiBmb3IgYWRkTGlzdGVuZXJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50TmFtZSB7c3RyaW5nfVxuICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sge2Z1bmN0aW9ufVxuICAgICAgICAgKiBAcGFyYW0gY29udGV4dCB7b2JqZWN0fVxuICAgICAgICAgKiBAcmV0dXJucyB7VHJpbml0eUZvcm19XG4gICAgICAgICAqL1xuICAgICAgICAvKmVzbGludC1kaXNhYmxlKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnb24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb24oZXZlbnROYW1lLCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICAgICAgLyplc2xpbnQtZW5hYmxlKi9cbiAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3JjZSBzZXQgc3VibWl0IGJ1dHRvbnNcbiAgICAgICAgICogQHBhcmFtIGJ1dHRvbnMge0FycmF5PEhUTUxFbGVtZW50Pn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldFN1Ym1pdEJ1dHRvbnMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U3VibWl0QnV0dG9ucyhidXR0b25zKSB7XG4gICAgICAgICAgICAvKiogQWRkIHJlYWR5IGNsYXNzIHRvIGFsbCBidXR0b25zICoqL1xuICAgICAgICAgICAgdmFyIGJ0blJlYWR5Q2xhc3MgPSB0aGlzLnNldHRpbmdzLmJ1dHRvblsncmVhZHknXS5zcGxpdCgnICcpO1xuICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHRoaXMuYnV0dG9ucywgZnVuY3Rpb24gKGJ0bikge1xuICAgICAgICAgICAgICAgIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LnJlbW92ZUFsbChidG4sIGJ0blJlYWR5Q2xhc3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmJ1dHRvbnMgPSBidXR0b25zO1xuICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHRoaXMuYnV0dG9ucywgZnVuY3Rpb24gKGJ0bikge1xuICAgICAgICAgICAgICAgIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LmFkZEFsbChidG4sIGJ0blJlYWR5Q2xhc3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2RldGFjaCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgICAgICAgICAvLyBNYWluIGxpc3RlbmVyXG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuU3VibWl0KCk7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuVmFsdWVDaGFuZ2UoKTtcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW5WYWx1ZUlucHV0KCk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fX2lucHV0cyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ19fZmluZElucHV0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9fZmluZElucHV0KGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9faW5wdXRzW19sb2Rhc2gyLmRlZmF1bHQuaXNTdHJpbmcoZWxlbWVudCkgPyBlbGVtZW50IDogZWxlbWVudC5uYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3JtIHN1Y2Nlc3MgaGFuZGxlclxuICAgICAgICAgKiBAcGFyYW0gcmVzcG9uc2Uge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ19fc3VjY2Vzc0hhbmRsZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX19zdWNjZXNzSGFuZGxlcihyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBfVHJpbml0eUV2ZW50Mi5kZWZhdWx0KHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdzdWNjZXNzJztcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnc3VjY2VzcycsIGV2ZW50KTtcblxuICAgICAgICAgICAgdGhpcy51bmxvY2soKTtcbiAgICAgICAgICAgIHZhciBpZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzMy5zdGF0ZSA9ICdyZWFkeSc7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muc3VjY2Vzc1RpbWVvdXQpO1xuXG4gICAgICAgICAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRm9ybSBlcnJvciBoYW5kbGVyXG4gICAgICAgICAqIEBwYXJhbSBlcnJvclxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ19fZXJyb3JIYW5kbGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9fZXJyb3JIYW5kbGVyKGVycm9yKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKGVycm9yLnRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuc3RhdGUgPSAndGltZW91dCc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnVubG9jaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnN0YXRlID0gJ3JlYWR5JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIF90aGlzNC5zZXR0aW5ncy50aW1lb3V0VGltZW91dCk7XG4gICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdlcnJvcic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEVtaXQgZXZlbnRcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBfVHJpbml0eUV2ZW50Mi5kZWZhdWx0KGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBldmVudCk7XG4gICAgICAgICAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0YXRlJyxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3U3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRoaXMuX19zdGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvbGRTdGF0ZSA9IHRoaXMuX19zdGF0ZTtcbiAgICAgICAgICAgIHRoaXMuX19zdGF0ZSA9IG5ld1N0YXRlO1xuXG4gICAgICAgICAgICBpZiAobmV3U3RhdGUgPT09ICdlcnJvcicgfHwgbmV3U3RhdGUgPT09ICdyZWFkeScpIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgYWxsIGJ0bnNcbiAgICAgICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2godGhpcy5idXR0b25zLCBmdW5jdGlvbiAoYnRuKSB7XG4gICAgICAgICAgICAgICAgICAgIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LnJlbW92ZUFsbChidG4sIF90aGlzNS5zZXR0aW5ncy5idXR0b25bb2xkU3RhdGVdLnNwbGl0KCcgJykpO1xuICAgICAgICAgICAgICAgICAgICBfRG9tMi5kZWZhdWx0LmNsYXNzbGlzdC5hZGRBbGwoYnRuLCBfdGhpczUuc2V0dGluZ3MuYnV0dG9uW25ld1N0YXRlXS5zcGxpdCgnICcpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9Td2l0Y2ggY2xhc3NlcyBmb3IgYWN0aXZlXG4gICAgICAgICAgICAgICAgX0RvbTIuZGVmYXVsdC5jbGFzc2xpc3QucmVtb3ZlQWxsKHRoaXMuYWN0aXZlQnRuLCB0aGlzLnNldHRpbmdzLmJ1dHRvbltvbGRTdGF0ZV0uc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICAgICAgX0RvbTIuZGVmYXVsdC5jbGFzc2xpc3QuYWRkQWxsKHRoaXMuYWN0aXZlQnRuLCB0aGlzLnNldHRpbmdzLmJ1dHRvbltuZXdTdGF0ZV0uc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9jaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBFbWl0IG5ldyBzdGF0ZSBjaGFuZ2VcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnc3RhdGUtY2hhbmdlJywge1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvbGRTdGF0ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbmV3U3RhdGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgYWN0dWFsIHN0YXRlIG9mIGZvcm1cbiAgICAgICAgICovXG4gICAgICAgICxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fX3N0YXRlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRyaW5pdHlGb3JtO1xufShfZmJlbWl0dGVyLkV2ZW50RW1pdHRlcik7XG5cbi8qKlxuICogQ3JlYXRlIG1lc3NhZ2UgYW5kIHJldHVybnMgb2JqZWN0IHdpdGggZGVzY3JpcHRpb24gYW5kIGVsZW1lbnQgb2JqZWN0XG4gKiBAcGFyYW0gbXNnIHtvYmplY3QgfHwgc3RyaW5nfVxuICogQHBhcmFtIHRlbXBsYXRlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSBwcmVmaXgge3N0cmluZ31cbiAqIEBwYXJhbSBhcmdzIHtBcnJheX1cbiAqIEByZXR1cm5zIHt7bWVzc2FnZTogKn18Kn1cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmluaXR5Rm9ybTtcbmZ1bmN0aW9uIF9fY3JlYXRlTWVzc2FnZShtc2csIHRlbXBsYXRlLCBwcmVmaXgsIGFyZ3MpIHtcbiAgICBtc2cgPSBfbG9kYXNoMi5kZWZhdWx0LmlzU3RyaW5nKG1zZykgPyB7IG1lc3NhZ2U6IG1zZyB9IDogbXNnO1xuICAgIG1zZy5pZCA9IG1zZy5pZCB8fCBwcmVmaXggKyAoJycgKyBNYXRoLnJhbmRvbSgpICogMTAwKS5zdWJzdHIoMywgNCk7XG5cbiAgICAvLyBDcmVhdGUgbWVzc2FnZVxuICAgIG1zZy5lbGVtZW50ID0gX0RvbTIuZGVmYXVsdC5odG1sVG9Eb2N1bWVudEZyYWdtZW50KG1zZy5pc0h0bWwgPyBtc2cubWVzc2FnZSA6IHRlbXBsYXRlLmFwcGx5KG51bGwsIFttc2cubWVzc2FnZV0uY29uY2F0KGFyZ3MpKSk7XG4gICAgbXNnLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdpZCcsIG1zZy5pZCk7XG4gICAgcmV0dXJuIG1zZztcbn1cblxuLyoqKiogUFJJVkFURSBNRVRIT0RTICoqKiovXG4vKiogRk9STSBQQVJTRVIgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIFVzZWQgdG8gcGFyc2UgaW5wdXQgbmFtZSAtPiBvYmplY3QgcGF0aFxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xudmFyIG5hbWVSZWdFeHAgPSAvXFx3Ky9nO1xuXG5mdW5jdGlvbiBzZXJpYWxpemVGcm9tKGZvcm0sIGJ1dHRvbikge1xuICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICgwLCBfbG9kYXNoMi5kZWZhdWx0KShmb3JtKS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG5cbiAgICAgICAgaWYgKCFlbC5uYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNWYWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIHN3aXRjaCAoZWwudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc3VibWl0JzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBlbCA9PT0gYnV0dG9uO1xuICAgICAgICAgICAgICAgIH1icmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBlbC5jaGVja2VkO1xuICAgICAgICAgICAgICAgIH1icmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZWwudmFsdWUgJiYgZWwudmFsdWUubGVuZ3RoICE9PSAwO1xuICAgICAgICAgICAgICAgIH1icmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgIH0pLmVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiBmb3JtRGF0YS5hcHBlbmQoZWwubmFtZSwgZWwudmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3JtRGF0YTtcbn1cblxuLyoqXG4gKiBQYXJzZSBmb3JtIGlucHV0cyBhbmQgY3JlYXRlIGpzb24gb2JqZWN0IGFjY29yZGluZyBzeW1mb255IG5hbWUgc3BlY2lmaWNhdGlvbnNcbiAqIEV4YW1wbGU6IDxpbnB1dCB2YWx1ZT1cInRlc3RcIiBuYW1lPVwibmVja3RpZV9wcm9kdWN0W25hbWVdXCIgLz5cbiAqICB7XG4gKiAgICAgIG5lY2t0aWVfcHJvZHVjdCA6IHtcbiAqICAgICAgICAgIG5hbWU6ICd0ZXN0J1xuICogICAgICB9XG4gKiAgfVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBmb3JtIHtIVE1MRm9ybUVsZW1lbnR9XG4gKiBAcGFyYW0gYnV0dG9uIHtIVE1MRWxlbWVudH1cbiAqIEByZXR1cm5zIHt7b2JqZWN0fX1cbiAqL1xuZnVuY3Rpb24gX19wYXJzZVN5bWZvbnlGb3JtKGZvcm0sIGJ1dHRvbikge1xuICAgIHZhciBkYXRhID0ge30sXG4gICAgICAgIGZvcm1MZW5ndGggPSBmb3JtLmxlbmd0aDtcbiAgICAvKiogR28gdGhyb3VnaCBhbGwgaW5wdXRzIGluIGZvcm0gKi9cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1MZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWZvcm1baV0ubmFtZSB8fCBmb3JtW2ldLm5hbWUubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghZm9ybVtpXS52YWx1ZSB8fCBmb3JtW2ldLnZhbHVlLmxlbmd0aCA8IDEpICYmIGZvcm1baV0udHlwZSAhPT0gJ3N1Ym1pdCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBObyBuZWVkIHRvIGRvIGFueSB3b3JrIGlmIHRoZXJlIGFyZSBubyB2YWx1ZXNcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZm9ybVtpXS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdzdWJtaXQnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1baV0gPT09IGJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxuICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3JtW2ldLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbml0IG5lY2Vzc2FyeSB2YXJpYWJsZXNcbiAgICAgICAgdmFyIGlzQXJyYXkgPSB+Zm9ybVtpXS5uYW1lLmluZGV4T2YoJ1tdJyksXG4gICAgICAgICAgICBwYXJzZWQgPSBmb3JtW2ldLm5hbWUubWF0Y2gobmFtZVJlZ0V4cCksXG4gICAgICAgICAgICByZWZlcmVuY2UgPSBkYXRhLFxuICAgICAgICAgICAgbGFzdCA9IHBhcnNlZC5sZW5ndGggLSAxO1xuICAgICAgICAvKiogRXZhbHVhdGUgcGFyc2VkIHJlZmVyZW5jZSBvYmplY3QgKi9cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPD0gbGFzdDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoIXJlZmVyZW5jZVtwYXJzZWRbal1dKSB7XG4gICAgICAgICAgICAgICAgaWYgKGogPT09IGxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZVtwYXJzZWRbal1dID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VbcGFyc2VkW2pdXS5wdXNoKGZvcm1baV0udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlW3BhcnNlZFtqXV0gPSBmb3JtW2ldLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIE5vdCBsYXN0IC0+IGNyZWF0ZSBvYmplY3QgKi9cbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlW3BhcnNlZFtqXV0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlID0gcmVmZXJlbmNlW3BhcnNlZFtqXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gbGFzdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlW3BhcnNlZFtqXV0ucHVzaChmb3JtW2ldLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZVtwYXJzZWRbal1dID0gZm9ybVtpXS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZSA9IHJlZmVyZW5jZVtwYXJzZWRbal1dOyAvLyBjcmVhdGUgcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuXG4vL2Z1bmN0aW9uIF9fcGFyc2VTeW1mb255Rm9ybTIoZm9ybSwgYnV0dG9uKXtcbi8vICAgIGxldCBkYXRhID0ge307XG4vL1xuLy8gICAgLyoqIEdvIHRocm91Z2ggYWxsIGlucHV0cyBpbiBmb3JtICovXG4vLyAgICBfKGZvcm0pLmZpbHRlcigoZWwpPT57XG4vLyAgICAgICAgcmV0dXJuICFlbC5uYW1lXG4vLyAgICAgICAgICAgIHx8IChcbi8vICAgICAgICAgICAgICAgICFlbC52YWx1ZVxuLy8gICAgICAgICAgICAgICAgJiYgZWwudHlwZSAhPT0gJ3N1Ym1pdCdcbi8vICAgICAgICAgICAgICAgICYmIGVsICE9PSBidXR0b25cbi8vICAgICAgICAgICAgKVxuLy8gICAgICAgICAgICB8fCAoXG4vLyAgICAgICAgICAgICAgICAhZWwuY2hlY2tlZFxuLy8gICAgICAgICAgICAgICAgJiYgKFxuLy8gICAgICAgICAgICAgICAgICAgIGVsLnR5cGUgPT09ICdyYWRpbydcbi8vICAgICAgICAgICAgICAgICAgICB8fCBlbC50eXBlID09PSAnY2hlY2tib3gnXG4vLyAgICAgICAgICAgICAgICApXG4vLyAgICAgICAgICAgICk7XG4vLyAgICB9KS5lYWNoKChlbCk9Pntcbi8vICAgICAgICBsZXQgaXNBcnJheSA9IGVsLm5hbWUuaW5kZXhPZignW10nKSAhPT0gLTEsXG4vLyAgICAgICAgICAgIHBhcnNlZCA9IGVsLm5hbWUubWF0Y2gobmFtZVJlZ0V4cCksXG4vLyAgICAgICAgICAgIHJlZiA9IGRhdGEsXG4vLyAgICAgICAgICAgIGxhc3RJbmRleCA9IHBhcnNlZC5sZW5ndGggLTE7XG4vL1xuLy8gICAgICAgIF8uZWFjaChwYXJzZWQsICgpPT57XG4vLyAgICAgICAgICAgIC8vVE9ETzpcbi8vICAgICAgICB9KVxuLy8gICAgfSk7XG4vL31cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHJpbml0eS9jb21wb25lbnRzL1RyaW5pdHlGb3JtLmpzXG4vLyBtb2R1bGUgaWQgPSA0Nzdcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 478:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Root reference for iframes.\n */\n\nvar root;\nif (typeof window !== 'undefined') { // Browser window\n  root = window;\n} else if (typeof self !== 'undefined') { // Web Worker\n  root = self;\n} else { // Other environments\n  console.warn(\"Using browser-only version of superagent in non-browser environment\");\n  root = this;\n}\n\nvar Emitter = __webpack_require__(479);\nvar requestBase = __webpack_require__(480);\nvar isObject = __webpack_require__(481);\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Expose `request`.\n */\n\nvar request = module.exports = __webpack_require__(482).bind(null, Request);\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest\n      && (!root.location || 'file:' != root.location.protocol\n          || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  throw Error(\"Browser-only verison of superagent could not find XHR\");\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    pushEncodedKeyValuePair(pairs, key, obj[key]);\n  }\n  return pairs.join('&');\n}\n\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (val != null) {\n    if (Array.isArray(val)) {\n      val.forEach(function(v) {\n        pushEncodedKeyValuePair(pairs, key, v);\n      });\n    } else if (isObject(val)) {\n      for(var subkey in val) {\n        pushEncodedKeyValuePair(pairs, key + '[' + subkey + ']', val[subkey]);\n      }\n    } else {\n      pairs.push(encodeURIComponent(key)\n        + '=' + encodeURIComponent(val));\n    }\n  } else if (val === null) {\n    pairs.push(encodeURIComponent(key));\n  }\n}\n\n/**\n * Expose serialization method.\n */\n\n request.serializeObject = serialize;\n\n /**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var pair;\n  var pos;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n    if (pos == -1) {\n      obj[decodeURIComponent(pair)] = '';\n    } else {\n      obj[decodeURIComponent(pair.slice(0, pos))] =\n        decodeURIComponent(pair.slice(pos + 1));\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\n request.serialize = {\n   'application/x-www-form-urlencoded': serialize,\n   'application/json': JSON.stringify\n };\n\n /**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  return /[\\/+]json\\b/.test(mime);\n}\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction type(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction params(str){\n  return str.split(/ *; */).reduce(function(obj, str){\n    var parts = str.split(/ *= */),\n        key = parts.shift(),\n        val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n     ? this.xhr.responseText\n     : null;\n  this.statusText = this.req.xhr.statusText;\n  this._setStatusProperties(this.xhr.status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this._setHeaderProperties(this.header);\n  this.body = this.req.method != 'HEAD'\n    ? this._parseBody(this.text ? this.text : this.xhr.response)\n    : null;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponse.prototype.get = function(field){\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponse.prototype._setHeaderProperties = function(header){\n  // content-type\n  var ct = this.header['content-type'] || '';\n  this.type = type(ct);\n\n  // params\n  var obj = params(ct);\n  for (var key in obj) this[key] = obj[key];\n};\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function(str){\n  var parse = request.parse[this.type];\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n  return parse && str && (str.length || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponse.prototype._setStatusProperties = function(status){\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n\n  var type = status / 100 | 0;\n\n  // status / class\n  this.status = this.statusCode = status;\n  this.statusType = type;\n\n  // basics\n  this.info = 1 == type;\n  this.ok = 2 == type;\n  this.clientError = 4 == type;\n  this.serverError = 5 == type;\n  this.error = (4 == type || 5 == type)\n    ? this.toError()\n    : false;\n\n  // sugar\n  this.accepted = 202 == status;\n  this.noContent = 204 == status;\n  this.badRequest = 400 == status;\n  this.unauthorized = 401 == status;\n  this.notAcceptable = 406 == status;\n  this.notFound = 404 == status;\n  this.forbidden = 403 == status;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n  this._header = {}; // coerces header names to lowercase\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      // issue #675: return the raw response if the response parsing fails\n      err.rawResponse = self.xhr && self.xhr.responseText ? self.xhr.responseText : null;\n      // issue #876: return the http status code if the response parsing fails\n      err.statusCode = self.xhr && self.xhr.status ? self.xhr.status : null;\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    var new_err;\n    try {\n      if (res.status < 200 || res.status >= 300) {\n        new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n        new_err.original = err;\n        new_err.response = res;\n        new_err.status = res.status;\n      }\n    } catch(e) {\n      new_err = e; // #985 touching res may cause INVALID_STATE_ERR on old Android\n    }\n\n    // #1000 don't catch errors from the callback to avoid double calling it\n    if (new_err) {\n      self.callback(new_err, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n\n/**\n * Mixin `Emitter` and `requestBase`.\n */\n\nEmitter(Request.prototype);\nfor (var key in requestBase) {\n  Request.prototype[key] = requestBase[key];\n}\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set responseType to `val`. Presently valid responseTypes are 'blob' and\n * 'arraybuffer'.\n *\n * Examples:\n *\n *      req.get('/')\n *        .responseType('blob')\n *        .end(callback);\n *\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.responseType = function(val){\n  this._responseType = val;\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @param {Object} options with 'type' property 'auto' or 'basic' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass, options){\n  if (!options) {\n    options = {\n      type: 'basic'\n    }\n  }\n\n  switch (options.type) {\n    case 'basic':\n      var str = btoa(user + ':' + pass);\n      this.set('Authorization', 'Basic ' + str);\n    break;\n\n    case 'auto':\n      this.username = user;\n      this.password = pass;\n    break;\n  }\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `filename`.\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String} filename\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, filename){\n  this._getFormData().append(field, file, filename || file.name);\n  return this;\n};\n\nRequest.prototype._getFormData = function(){\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n  return this._formData;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  var fn = this._callback;\n  this.clearTimeout();\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n  err.crossDomain = true;\n\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n\n  this.callback(err);\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequest.prototype._timeoutError = function(){\n  var timeout = this._timeout;\n  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  this.callback(err);\n};\n\n/**\n * Compose querystring to append to req.url\n *\n * @api private\n */\n\nRequest.prototype._appendQueryString = function(){\n  var query = this._query.join('&');\n  if (query) {\n    this.url += ~this.url.indexOf('?')\n      ? '&' + query\n      : '?' + query;\n  }\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  var self = this;\n  var xhr = this.xhr = request.getXHR();\n  var timeout = this._timeout;\n  var data = this._formData || this._data;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function(){\n    if (4 != xhr.readyState) return;\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    var status;\n    try { status = xhr.status } catch(e) { status = 0; }\n\n    if (0 == status) {\n      if (self.timedout) return self._timeoutError();\n      if (self._aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  var handleProgress = function(direction, e) {\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n    }\n    e.direction = direction;\n    self.emit('progress', e);\n  }\n  if (this.hasListeners('progress')) {\n    try {\n      xhr.onprogress = handleProgress.bind(null, 'download');\n      if (xhr.upload) {\n        xhr.upload.onprogress = handleProgress.bind(null, 'upload');\n      }\n    } catch(e) {\n      // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n      // Reported here:\n      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n    }\n  }\n\n  // timeout\n  if (timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self.timedout = true;\n      self.abort();\n    }, timeout);\n  }\n\n  // querystring\n  this._appendQueryString();\n\n  // initiate request\n  if (this.username && this.password) {\n    xhr.open(this.method, this.url, true, this.username, this.password);\n  } else {\n    xhr.open(this.method, this.url, true);\n  }\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !this._isHost(data)) {\n    // serialize stuff\n    var contentType = this._header['content-type'];\n    var serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!serialize && isJSON(contentType)) serialize = request.serialize['application/json'];\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  }\n\n  // send stuff\n  this.emit('request', this);\n\n  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n  xhr.send(typeof data !== 'undefined' ? data : null);\n  return this;\n};\n\n\n/**\n * Expose `Request`.\n */\n\nrequest.Request = Request;\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn){\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn){\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.options = function(url, data, fn){\n  var req = request('OPTIONS', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nfunction del(url, fn){\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\nrequest['del'] = del;\nrequest['delete'] = del;\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn){\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn){\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn){\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9zdXBlcmFnZW50L2xpYi9jbGllbnQuanM/YTU0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJvb3QgcmVmZXJlbmNlIGZvciBpZnJhbWVzLlxuICovXG5cbnZhciByb290O1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7IC8vIEJyb3dzZXIgd2luZG93XG4gIHJvb3QgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykgeyAvLyBXZWIgV29ya2VyXG4gIHJvb3QgPSBzZWxmO1xufSBlbHNlIHsgLy8gT3RoZXIgZW52aXJvbm1lbnRzXG4gIGNvbnNvbGUud2FybihcIlVzaW5nIGJyb3dzZXItb25seSB2ZXJzaW9uIG9mIHN1cGVyYWdlbnQgaW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG4gIHJvb3QgPSB0aGlzO1xufVxuXG52YXIgRW1pdHRlciA9IHJlcXVpcmUoJ2VtaXR0ZXInKTtcbnZhciByZXF1ZXN0QmFzZSA9IHJlcXVpcmUoJy4vcmVxdWVzdC1iYXNlJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzLW9iamVjdCcpO1xuXG4vKipcbiAqIE5vb3AuXG4gKi9cblxuZnVuY3Rpb24gbm9vcCgpe307XG5cbi8qKlxuICogRXhwb3NlIGByZXF1ZXN0YC5cbiAqL1xuXG52YXIgcmVxdWVzdCA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9yZXF1ZXN0JykuYmluZChudWxsLCBSZXF1ZXN0KTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgWEhSLlxuICovXG5cbnJlcXVlc3QuZ2V0WEhSID0gZnVuY3Rpb24gKCkge1xuICBpZiAocm9vdC5YTUxIdHRwUmVxdWVzdFxuICAgICAgJiYgKCFyb290LmxvY2F0aW9uIHx8ICdmaWxlOicgIT0gcm9vdC5sb2NhdGlvbi5wcm90b2NvbFxuICAgICAgICAgIHx8ICFyb290LkFjdGl2ZVhPYmplY3QpKSB7XG4gICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdDtcbiAgfSBlbHNlIHtcbiAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxIVFRQJyk7IH0gY2F0Y2goZSkge31cbiAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQLjYuMCcpOyB9IGNhdGNoKGUpIHt9XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUC4zLjAnKTsgfSBjYXRjaChlKSB7fVxuICAgIHRyeSB7IHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAnKTsgfSBjYXRjaChlKSB7fVxuICB9XG4gIHRocm93IEVycm9yKFwiQnJvd3Nlci1vbmx5IHZlcmlzb24gb2Ygc3VwZXJhZ2VudCBjb3VsZCBub3QgZmluZCBYSFJcIik7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgYWRkZWQgdG8gc3VwcG9ydCBJRS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxudmFyIHRyaW0gPSAnJy50cmltXG4gID8gZnVuY3Rpb24ocykgeyByZXR1cm4gcy50cmltKCk7IH1cbiAgOiBmdW5jdGlvbihzKSB7IHJldHVybiBzLnJlcGxhY2UoLyheXFxzKnxcXHMqJCkvZywgJycpOyB9O1xuXG4vKipcbiAqIFNlcmlhbGl6ZSB0aGUgZ2l2ZW4gYG9iamAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2VyaWFsaXplKG9iaikge1xuICBpZiAoIWlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gIHZhciBwYWlycyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSwgb2JqW2tleV0pO1xuICB9XG4gIHJldHVybiBwYWlycy5qb2luKCcmJyk7XG59XG5cbi8qKlxuICogSGVscHMgJ3NlcmlhbGl6ZScgd2l0aCBzZXJpYWxpemluZyBhcnJheXMuXG4gKiBNdXRhdGVzIHRoZSBwYWlycyBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyc1xuICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKi9cblxuZnVuY3Rpb24gcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSwgdmFsKSB7XG4gIGlmICh2YWwgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgIHZhbC5mb3JFYWNoKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSwgdik7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcbiAgICAgIGZvcih2YXIgc3Via2V5IGluIHZhbCkge1xuICAgICAgICBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywga2V5ICsgJ1snICsgc3Via2V5ICsgJ10nLCB2YWxbc3Via2V5XSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhaXJzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSlcbiAgICAgICAgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgIHBhaXJzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkpO1xuICB9XG59XG5cbi8qKlxuICogRXhwb3NlIHNlcmlhbGl6YXRpb24gbWV0aG9kLlxuICovXG5cbiByZXF1ZXN0LnNlcmlhbGl6ZU9iamVjdCA9IHNlcmlhbGl6ZTtcblxuIC8qKlxuICAqIFBhcnNlIHRoZSBnaXZlbiB4LXd3dy1mb3JtLXVybGVuY29kZWQgYHN0cmAuXG4gICpcbiAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICogQHJldHVybiB7T2JqZWN0fVxuICAqIEBhcGkgcHJpdmF0ZVxuICAqL1xuXG5mdW5jdGlvbiBwYXJzZVN0cmluZyhzdHIpIHtcbiAgdmFyIG9iaiA9IHt9O1xuICB2YXIgcGFpcnMgPSBzdHIuc3BsaXQoJyYnKTtcbiAgdmFyIHBhaXI7XG4gIHZhciBwb3M7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhaXJzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgcGFpciA9IHBhaXJzW2ldO1xuICAgIHBvcyA9IHBhaXIuaW5kZXhPZignPScpO1xuICAgIGlmIChwb3MgPT0gLTEpIHtcbiAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQocGFpcildID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQocGFpci5zbGljZSgwLCBwb3MpKV0gPVxuICAgICAgICBkZWNvZGVVUklDb21wb25lbnQocGFpci5zbGljZShwb3MgKyAxKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBFeHBvc2UgcGFyc2VyLlxuICovXG5cbnJlcXVlc3QucGFyc2VTdHJpbmcgPSBwYXJzZVN0cmluZztcblxuLyoqXG4gKiBEZWZhdWx0IE1JTUUgdHlwZSBtYXAuXG4gKlxuICogICAgIHN1cGVyYWdlbnQudHlwZXMueG1sID0gJ2FwcGxpY2F0aW9uL3htbCc7XG4gKlxuICovXG5cbnJlcXVlc3QudHlwZXMgPSB7XG4gIGh0bWw6ICd0ZXh0L2h0bWwnLFxuICBqc29uOiAnYXBwbGljYXRpb24vanNvbicsXG4gIHhtbDogJ2FwcGxpY2F0aW9uL3htbCcsXG4gIHVybGVuY29kZWQ6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAnZm9ybSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAnZm9ybS1kYXRhJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbn07XG5cbi8qKlxuICogRGVmYXVsdCBzZXJpYWxpemF0aW9uIG1hcC5cbiAqXG4gKiAgICAgc3VwZXJhZ2VudC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL3htbCddID0gZnVuY3Rpb24ob2JqKXtcbiAqICAgICAgIHJldHVybiAnZ2VuZXJhdGVkIHhtbCBoZXJlJztcbiAqICAgICB9O1xuICpcbiAqL1xuXG4gcmVxdWVzdC5zZXJpYWxpemUgPSB7XG4gICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogc2VyaWFsaXplLFxuICAgJ2FwcGxpY2F0aW9uL2pzb24nOiBKU09OLnN0cmluZ2lmeVxuIH07XG5cbiAvKipcbiAgKiBEZWZhdWx0IHBhcnNlcnMuXG4gICpcbiAgKiAgICAgc3VwZXJhZ2VudC5wYXJzZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihzdHIpe1xuICAqICAgICAgIHJldHVybiB7IG9iamVjdCBwYXJzZWQgZnJvbSBzdHIgfTtcbiAgKiAgICAgfTtcbiAgKlxuICAqL1xuXG5yZXF1ZXN0LnBhcnNlID0ge1xuICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogcGFyc2VTdHJpbmcsXG4gICdhcHBsaWNhdGlvbi9qc29uJzogSlNPTi5wYXJzZVxufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gaGVhZGVyIGBzdHJgIGludG9cbiAqIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBtYXBwZWQgZmllbGRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlSGVhZGVyKHN0cikge1xuICB2YXIgbGluZXMgPSBzdHIuc3BsaXQoL1xccj9cXG4vKTtcbiAgdmFyIGZpZWxkcyA9IHt9O1xuICB2YXIgaW5kZXg7XG4gIHZhciBsaW5lO1xuICB2YXIgZmllbGQ7XG4gIHZhciB2YWw7XG5cbiAgbGluZXMucG9wKCk7IC8vIHRyYWlsaW5nIENSTEZcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGluZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICBsaW5lID0gbGluZXNbaV07XG4gICAgaW5kZXggPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBmaWVsZCA9IGxpbmUuc2xpY2UoMCwgaW5kZXgpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdHJpbShsaW5lLnNsaWNlKGluZGV4ICsgMSkpO1xuICAgIGZpZWxkc1tmaWVsZF0gPSB2YWw7XG4gIH1cblxuICByZXR1cm4gZmllbGRzO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGBtaW1lYCBpcyBqc29uIG9yIGhhcyAranNvbiBzdHJ1Y3R1cmVkIHN5bnRheCBzdWZmaXguXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1pbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBpc0pTT04obWltZSkge1xuICByZXR1cm4gL1tcXC8rXWpzb25cXGIvLnRlc3QobWltZSk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBtaW1lIHR5cGUgZm9yIHRoZSBnaXZlbiBgc3RyYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiB0eXBlKHN0cil7XG4gIHJldHVybiBzdHIuc3BsaXQoLyAqOyAqLykuc2hpZnQoKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGhlYWRlciBmaWVsZCBwYXJhbWV0ZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcmFtcyhzdHIpe1xuICByZXR1cm4gc3RyLnNwbGl0KC8gKjsgKi8pLnJlZHVjZShmdW5jdGlvbihvYmosIHN0cil7XG4gICAgdmFyIHBhcnRzID0gc3RyLnNwbGl0KC8gKj0gKi8pLFxuICAgICAgICBrZXkgPSBwYXJ0cy5zaGlmdCgpLFxuICAgICAgICB2YWwgPSBwYXJ0cy5zaGlmdCgpO1xuXG4gICAgaWYgKGtleSAmJiB2YWwpIG9ialtrZXldID0gdmFsO1xuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9KTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgUmVzcG9uc2VgIHdpdGggdGhlIGdpdmVuIGB4aHJgLlxuICpcbiAqICAtIHNldCBmbGFncyAoLm9rLCAuZXJyb3IsIGV0YylcbiAqICAtIHBhcnNlIGhlYWRlclxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICBBbGlhc2luZyBgc3VwZXJhZ2VudGAgYXMgYHJlcXVlc3RgIGlzIG5pY2U6XG4gKlxuICogICAgICByZXF1ZXN0ID0gc3VwZXJhZ2VudDtcbiAqXG4gKiAgV2UgY2FuIHVzZSB0aGUgcHJvbWlzZS1saWtlIEFQSSwgb3IgcGFzcyBjYWxsYmFja3M6XG4gKlxuICogICAgICByZXF1ZXN0LmdldCgnLycpLmVuZChmdW5jdGlvbihyZXMpe30pO1xuICogICAgICByZXF1ZXN0LmdldCgnLycsIGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogIFNlbmRpbmcgZGF0YSBjYW4gYmUgY2hhaW5lZDpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInKVxuICogICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgIC5lbmQoZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiAgT3IgcGFzc2VkIHRvIGAuc2VuZCgpYDpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInKVxuICogICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9LCBmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqICBPciBwYXNzZWQgdG8gYC5wb3N0KClgOlxuICpcbiAqICAgICAgcmVxdWVzdFxuICogICAgICAgIC5wb3N0KCcvdXNlcicsIHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgIC5lbmQoZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiBPciBmdXJ0aGVyIHJlZHVjZWQgdG8gYSBzaW5nbGUgY2FsbCBmb3Igc2ltcGxlIGNhc2VzOlxuICpcbiAqICAgICAgcmVxdWVzdFxuICogICAgICAgIC5wb3N0KCcvdXNlcicsIHsgbmFtZTogJ3RqJyB9LCBmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqIEBwYXJhbSB7WE1MSFRUUFJlcXVlc3R9IHhoclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIFJlc3BvbnNlKHJlcSwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdGhpcy5yZXEgPSByZXE7XG4gIHRoaXMueGhyID0gdGhpcy5yZXEueGhyO1xuICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG4gIHRoaXMudGV4dCA9ICgodGhpcy5yZXEubWV0aG9kICE9J0hFQUQnICYmICh0aGlzLnhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSkgfHwgdHlwZW9mIHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgID8gdGhpcy54aHIucmVzcG9uc2VUZXh0XG4gICAgIDogbnVsbDtcbiAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5yZXEueGhyLnN0YXR1c1RleHQ7XG4gIHRoaXMuX3NldFN0YXR1c1Byb3BlcnRpZXModGhpcy54aHIuc3RhdHVzKTtcbiAgdGhpcy5oZWFkZXIgPSB0aGlzLmhlYWRlcnMgPSBwYXJzZUhlYWRlcih0aGlzLnhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk7XG4gIC8vIGdldEFsbFJlc3BvbnNlSGVhZGVycyBzb21ldGltZXMgZmFsc2VseSByZXR1cm5zIFwiXCIgZm9yIENPUlMgcmVxdWVzdHMsIGJ1dFxuICAvLyBnZXRSZXNwb25zZUhlYWRlciBzdGlsbCB3b3Jrcy4gc28gd2UgZ2V0IGNvbnRlbnQtdHlwZSBldmVuIGlmIGdldHRpbmdcbiAgLy8gb3RoZXIgaGVhZGVycyBmYWlscy5cbiAgdGhpcy5oZWFkZXJbJ2NvbnRlbnQtdHlwZSddID0gdGhpcy54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpO1xuICB0aGlzLl9zZXRIZWFkZXJQcm9wZXJ0aWVzKHRoaXMuaGVhZGVyKTtcbiAgdGhpcy5ib2R5ID0gdGhpcy5yZXEubWV0aG9kICE9ICdIRUFEJ1xuICAgID8gdGhpcy5fcGFyc2VCb2R5KHRoaXMudGV4dCA/IHRoaXMudGV4dCA6IHRoaXMueGhyLnJlc3BvbnNlKVxuICAgIDogbnVsbDtcbn1cblxuLyoqXG4gKiBHZXQgY2FzZS1pbnNlbnNpdGl2ZSBgZmllbGRgIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXNwb25zZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oZmllbGQpe1xuICByZXR1cm4gdGhpcy5oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV07XG59O1xuXG4vKipcbiAqIFNldCBoZWFkZXIgcmVsYXRlZCBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBgLnR5cGVgIHRoZSBjb250ZW50IHR5cGUgd2l0aG91dCBwYXJhbXNcbiAqXG4gKiBBIHJlc3BvbnNlIG9mIFwiQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCJcbiAqIHdpbGwgcHJvdmlkZSB5b3Ugd2l0aCBhIGAudHlwZWAgb2YgXCJ0ZXh0L3BsYWluXCIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGhlYWRlclxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLl9zZXRIZWFkZXJQcm9wZXJ0aWVzID0gZnVuY3Rpb24oaGVhZGVyKXtcbiAgLy8gY29udGVudC10eXBlXG4gIHZhciBjdCA9IHRoaXMuaGVhZGVyWydjb250ZW50LXR5cGUnXSB8fCAnJztcbiAgdGhpcy50eXBlID0gdHlwZShjdCk7XG5cbiAgLy8gcGFyYW1zXG4gIHZhciBvYmogPSBwYXJhbXMoY3QpO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB0aGlzW2tleV0gPSBvYmpba2V5XTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGJvZHkgYHN0cmAuXG4gKlxuICogVXNlZCBmb3IgYXV0by1wYXJzaW5nIG9mIGJvZGllcy4gUGFyc2Vyc1xuICogYXJlIGRlZmluZWQgb24gdGhlIGBzdXBlcmFnZW50LnBhcnNlYCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TWl4ZWR9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXNwb25zZS5wcm90b3R5cGUuX3BhcnNlQm9keSA9IGZ1bmN0aW9uKHN0cil7XG4gIHZhciBwYXJzZSA9IHJlcXVlc3QucGFyc2VbdGhpcy50eXBlXTtcbiAgaWYgKCFwYXJzZSAmJiBpc0pTT04odGhpcy50eXBlKSkge1xuICAgIHBhcnNlID0gcmVxdWVzdC5wYXJzZVsnYXBwbGljYXRpb24vanNvbiddO1xuICB9XG4gIHJldHVybiBwYXJzZSAmJiBzdHIgJiYgKHN0ci5sZW5ndGggfHwgc3RyIGluc3RhbmNlb2YgT2JqZWN0KVxuICAgID8gcGFyc2Uoc3RyKVxuICAgIDogbnVsbDtcbn07XG5cbi8qKlxuICogU2V0IGZsYWdzIHN1Y2ggYXMgYC5va2AgYmFzZWQgb24gYHN0YXR1c2AuXG4gKlxuICogRm9yIGV4YW1wbGUgYSAyeHggcmVzcG9uc2Ugd2lsbCBnaXZlIHlvdSBhIGAub2tgIG9mIF9fdHJ1ZV9fXG4gKiB3aGVyZWFzIDV4eCB3aWxsIGJlIF9fZmFsc2VfXyBhbmQgYC5lcnJvcmAgd2lsbCBiZSBfX3RydWVfXy4gVGhlXG4gKiBgLmNsaWVudEVycm9yYCBhbmQgYC5zZXJ2ZXJFcnJvcmAgYXJlIGFsc28gYXZhaWxhYmxlIHRvIGJlIG1vcmVcbiAqIHNwZWNpZmljLCBhbmQgYC5zdGF0dXNUeXBlYCBpcyB0aGUgY2xhc3Mgb2YgZXJyb3IgcmFuZ2luZyBmcm9tIDEuLjVcbiAqIHNvbWV0aW1lcyB1c2VmdWwgZm9yIG1hcHBpbmcgcmVzcG9uZCBjb2xvcnMgZXRjLlxuICpcbiAqIFwic3VnYXJcIiBwcm9wZXJ0aWVzIGFyZSBhbHNvIGRlZmluZWQgZm9yIGNvbW1vbiBjYXNlcy4gQ3VycmVudGx5IHByb3ZpZGluZzpcbiAqXG4gKiAgIC0gLm5vQ29udGVudFxuICogICAtIC5iYWRSZXF1ZXN0XG4gKiAgIC0gLnVuYXV0aG9yaXplZFxuICogICAtIC5ub3RBY2NlcHRhYmxlXG4gKiAgIC0gLm5vdEZvdW5kXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXR1c1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLl9zZXRTdGF0dXNQcm9wZXJ0aWVzID0gZnVuY3Rpb24oc3RhdHVzKXtcbiAgLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICBpZiAoc3RhdHVzID09PSAxMjIzKSB7XG4gICAgc3RhdHVzID0gMjA0O1xuICB9XG5cbiAgdmFyIHR5cGUgPSBzdGF0dXMgLyAxMDAgfCAwO1xuXG4gIC8vIHN0YXR1cyAvIGNsYXNzXG4gIHRoaXMuc3RhdHVzID0gdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzO1xuICB0aGlzLnN0YXR1c1R5cGUgPSB0eXBlO1xuXG4gIC8vIGJhc2ljc1xuICB0aGlzLmluZm8gPSAxID09IHR5cGU7XG4gIHRoaXMub2sgPSAyID09IHR5cGU7XG4gIHRoaXMuY2xpZW50RXJyb3IgPSA0ID09IHR5cGU7XG4gIHRoaXMuc2VydmVyRXJyb3IgPSA1ID09IHR5cGU7XG4gIHRoaXMuZXJyb3IgPSAoNCA9PSB0eXBlIHx8IDUgPT0gdHlwZSlcbiAgICA/IHRoaXMudG9FcnJvcigpXG4gICAgOiBmYWxzZTtcblxuICAvLyBzdWdhclxuICB0aGlzLmFjY2VwdGVkID0gMjAyID09IHN0YXR1cztcbiAgdGhpcy5ub0NvbnRlbnQgPSAyMDQgPT0gc3RhdHVzO1xuICB0aGlzLmJhZFJlcXVlc3QgPSA0MDAgPT0gc3RhdHVzO1xuICB0aGlzLnVuYXV0aG9yaXplZCA9IDQwMSA9PSBzdGF0dXM7XG4gIHRoaXMubm90QWNjZXB0YWJsZSA9IDQwNiA9PSBzdGF0dXM7XG4gIHRoaXMubm90Rm91bmQgPSA0MDQgPT0gc3RhdHVzO1xuICB0aGlzLmZvcmJpZGRlbiA9IDQwMyA9PSBzdGF0dXM7XG59O1xuXG4vKipcbiAqIFJldHVybiBhbiBgRXJyb3JgIHJlcHJlc2VudGF0aXZlIG9mIHRoaXMgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybiB7RXJyb3J9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlc3BvbnNlLnByb3RvdHlwZS50b0Vycm9yID0gZnVuY3Rpb24oKXtcbiAgdmFyIHJlcSA9IHRoaXMucmVxO1xuICB2YXIgbWV0aG9kID0gcmVxLm1ldGhvZDtcbiAgdmFyIHVybCA9IHJlcS51cmw7XG5cbiAgdmFyIG1zZyA9ICdjYW5ub3QgJyArIG1ldGhvZCArICcgJyArIHVybCArICcgKCcgKyB0aGlzLnN0YXR1cyArICcpJztcbiAgdmFyIGVyciA9IG5ldyBFcnJvcihtc2cpO1xuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSBtZXRob2Q7XG4gIGVyci51cmwgPSB1cmw7XG5cbiAgcmV0dXJuIGVycjtcbn07XG5cbi8qKlxuICogRXhwb3NlIGBSZXNwb25zZWAuXG4gKi9cblxucmVxdWVzdC5SZXNwb25zZSA9IFJlc3BvbnNlO1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlcXVlc3RgIHdpdGggdGhlIGdpdmVuIGBtZXRob2RgIGFuZCBgdXJsYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFJlcXVlc3QobWV0aG9kLCB1cmwpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9xdWVyeSA9IHRoaXMuX3F1ZXJ5IHx8IFtdO1xuICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgdGhpcy51cmwgPSB1cmw7XG4gIHRoaXMuaGVhZGVyID0ge307IC8vIHByZXNlcnZlcyBoZWFkZXIgbmFtZSBjYXNlXG4gIHRoaXMuX2hlYWRlciA9IHt9OyAvLyBjb2VyY2VzIGhlYWRlciBuYW1lcyB0byBsb3dlcmNhc2VcbiAgdGhpcy5vbignZW5kJywgZnVuY3Rpb24oKXtcbiAgICB2YXIgZXJyID0gbnVsbDtcbiAgICB2YXIgcmVzID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICByZXMgPSBuZXcgUmVzcG9uc2Uoc2VsZik7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBlcnIgPSBuZXcgRXJyb3IoJ1BhcnNlciBpcyB1bmFibGUgdG8gcGFyc2UgdGhlIHJlc3BvbnNlJyk7XG4gICAgICBlcnIucGFyc2UgPSB0cnVlO1xuICAgICAgZXJyLm9yaWdpbmFsID0gZTtcbiAgICAgIC8vIGlzc3VlICM2NzU6IHJldHVybiB0aGUgcmF3IHJlc3BvbnNlIGlmIHRoZSByZXNwb25zZSBwYXJzaW5nIGZhaWxzXG4gICAgICBlcnIucmF3UmVzcG9uc2UgPSBzZWxmLnhociAmJiBzZWxmLnhoci5yZXNwb25zZVRleHQgPyBzZWxmLnhoci5yZXNwb25zZVRleHQgOiBudWxsO1xuICAgICAgLy8gaXNzdWUgIzg3NjogcmV0dXJuIHRoZSBodHRwIHN0YXR1cyBjb2RlIGlmIHRoZSByZXNwb25zZSBwYXJzaW5nIGZhaWxzXG4gICAgICBlcnIuc3RhdHVzQ29kZSA9IHNlbGYueGhyICYmIHNlbGYueGhyLnN0YXR1cyA/IHNlbGYueGhyLnN0YXR1cyA6IG51bGw7XG4gICAgICByZXR1cm4gc2VsZi5jYWxsYmFjayhlcnIpO1xuICAgIH1cblxuICAgIHNlbGYuZW1pdCgncmVzcG9uc2UnLCByZXMpO1xuXG4gICAgdmFyIG5ld19lcnI7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyZXMuc3RhdHVzIDwgMjAwIHx8IHJlcy5zdGF0dXMgPj0gMzAwKSB7XG4gICAgICAgIG5ld19lcnIgPSBuZXcgRXJyb3IocmVzLnN0YXR1c1RleHQgfHwgJ1Vuc3VjY2Vzc2Z1bCBIVFRQIHJlc3BvbnNlJyk7XG4gICAgICAgIG5ld19lcnIub3JpZ2luYWwgPSBlcnI7XG4gICAgICAgIG5ld19lcnIucmVzcG9uc2UgPSByZXM7XG4gICAgICAgIG5ld19lcnIuc3RhdHVzID0gcmVzLnN0YXR1cztcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIG5ld19lcnIgPSBlOyAvLyAjOTg1IHRvdWNoaW5nIHJlcyBtYXkgY2F1c2UgSU5WQUxJRF9TVEFURV9FUlIgb24gb2xkIEFuZHJvaWRcbiAgICB9XG5cbiAgICAvLyAjMTAwMCBkb24ndCBjYXRjaCBlcnJvcnMgZnJvbSB0aGUgY2FsbGJhY2sgdG8gYXZvaWQgZG91YmxlIGNhbGxpbmcgaXRcbiAgICBpZiAobmV3X2Vycikge1xuICAgICAgc2VsZi5jYWxsYmFjayhuZXdfZXJyLCByZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmNhbGxiYWNrKG51bGwsIHJlcyk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBNaXhpbiBgRW1pdHRlcmAgYW5kIGByZXF1ZXN0QmFzZWAuXG4gKi9cblxuRW1pdHRlcihSZXF1ZXN0LnByb3RvdHlwZSk7XG5mb3IgKHZhciBrZXkgaW4gcmVxdWVzdEJhc2UpIHtcbiAgUmVxdWVzdC5wcm90b3R5cGVba2V5XSA9IHJlcXVlc3RCYXNlW2tleV07XG59XG5cbi8qKlxuICogU2V0IENvbnRlbnQtVHlwZSB0byBgdHlwZWAsIG1hcHBpbmcgdmFsdWVzIGZyb20gYHJlcXVlc3QudHlwZXNgLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgc3VwZXJhZ2VudC50eXBlcy54bWwgPSAnYXBwbGljYXRpb24veG1sJztcbiAqXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnLycpXG4gKiAgICAgICAgLnR5cGUoJ3htbCcpXG4gKiAgICAgICAgLnNlbmQoeG1sc3RyaW5nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxdWVzdC5wb3N0KCcvJylcbiAqICAgICAgICAudHlwZSgnYXBwbGljYXRpb24veG1sJylcbiAqICAgICAgICAuc2VuZCh4bWxzdHJpbmcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS50eXBlID0gZnVuY3Rpb24odHlwZSl7XG4gIHRoaXMuc2V0KCdDb250ZW50LVR5cGUnLCByZXF1ZXN0LnR5cGVzW3R5cGVdIHx8IHR5cGUpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHJlc3BvbnNlVHlwZSB0byBgdmFsYC4gUHJlc2VudGx5IHZhbGlkIHJlc3BvbnNlVHlwZXMgYXJlICdibG9iJyBhbmRcbiAqICdhcnJheWJ1ZmZlcicuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICByZXEuZ2V0KCcvJylcbiAqICAgICAgICAucmVzcG9uc2VUeXBlKCdibG9iJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUucmVzcG9uc2VUeXBlID0gZnVuY3Rpb24odmFsKXtcbiAgdGhpcy5fcmVzcG9uc2VUeXBlID0gdmFsO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IEFjY2VwdCB0byBgdHlwZWAsIG1hcHBpbmcgdmFsdWVzIGZyb20gYHJlcXVlc3QudHlwZXNgLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgc3VwZXJhZ2VudC50eXBlcy5qc29uID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy9hZ2VudCcpXG4gKiAgICAgICAgLmFjY2VwdCgnanNvbicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogICAgICByZXF1ZXN0LmdldCgnL2FnZW50JylcbiAqICAgICAgICAuYWNjZXB0KCdhcHBsaWNhdGlvbi9qc29uJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYWNjZXB0XG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24odHlwZSl7XG4gIHRoaXMuc2V0KCdBY2NlcHQnLCByZXF1ZXN0LnR5cGVzW3R5cGVdIHx8IHR5cGUpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IEF1dGhvcml6YXRpb24gZmllbGQgdmFsdWUgd2l0aCBgdXNlcmAgYW5kIGBwYXNzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXNlclxuICogQHBhcmFtIHtTdHJpbmd9IHBhc3NcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIHdpdGggJ3R5cGUnIHByb3BlcnR5ICdhdXRvJyBvciAnYmFzaWMnIChkZWZhdWx0ICdiYXNpYycpXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuYXV0aCA9IGZ1bmN0aW9uKHVzZXIsIHBhc3MsIG9wdGlvbnMpe1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgdHlwZTogJ2Jhc2ljJ1xuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAob3B0aW9ucy50eXBlKSB7XG4gICAgY2FzZSAnYmFzaWMnOlxuICAgICAgdmFyIHN0ciA9IGJ0b2EodXNlciArICc6JyArIHBhc3MpO1xuICAgICAgdGhpcy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArIHN0cik7XG4gICAgYnJlYWs7XG5cbiAgICBjYXNlICdhdXRvJzpcbiAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VyO1xuICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3M7XG4gICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiogQWRkIHF1ZXJ5LXN0cmluZyBgdmFsYC5cbipcbiogRXhhbXBsZXM6XG4qXG4qICAgcmVxdWVzdC5nZXQoJy9zaG9lcycpXG4qICAgICAucXVlcnkoJ3NpemU9MTAnKVxuKiAgICAgLnF1ZXJ5KHsgY29sb3I6ICdibHVlJyB9KVxuKlxuKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IHZhbFxuKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiogQGFwaSBwdWJsaWNcbiovXG5cblJlcXVlc3QucHJvdG90eXBlLnF1ZXJ5ID0gZnVuY3Rpb24odmFsKXtcbiAgaWYgKCdzdHJpbmcnICE9IHR5cGVvZiB2YWwpIHZhbCA9IHNlcmlhbGl6ZSh2YWwpO1xuICBpZiAodmFsKSB0aGlzLl9xdWVyeS5wdXNoKHZhbCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBRdWV1ZSB0aGUgZ2l2ZW4gYGZpbGVgIGFzIGFuIGF0dGFjaG1lbnQgdG8gdGhlIHNwZWNpZmllZCBgZmllbGRgLFxuICogd2l0aCBvcHRpb25hbCBgZmlsZW5hbWVgLlxuICpcbiAqIGBgYCBqc1xuICogcmVxdWVzdC5wb3N0KCcvdXBsb2FkJylcbiAqICAgLmF0dGFjaCgnY29udGVudCcsIG5ldyBCbG9iKFsnPGEgaWQ9XCJhXCI+PGIgaWQ9XCJiXCI+aGV5ITwvYj48L2E+J10sIHsgdHlwZTogXCJ0ZXh0L2h0bWxcIn0pKVxuICogICAuZW5kKGNhbGxiYWNrKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHBhcmFtIHtCbG9ifEZpbGV9IGZpbGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlbmFtZVxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uKGZpZWxkLCBmaWxlLCBmaWxlbmFtZSl7XG4gIHRoaXMuX2dldEZvcm1EYXRhKCkuYXBwZW5kKGZpZWxkLCBmaWxlLCBmaWxlbmFtZSB8fCBmaWxlLm5hbWUpO1xuICByZXR1cm4gdGhpcztcbn07XG5cblJlcXVlc3QucHJvdG90eXBlLl9nZXRGb3JtRGF0YSA9IGZ1bmN0aW9uKCl7XG4gIGlmICghdGhpcy5fZm9ybURhdGEpIHtcbiAgICB0aGlzLl9mb3JtRGF0YSA9IG5ldyByb290LkZvcm1EYXRhKCk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuX2Zvcm1EYXRhO1xufTtcblxuLyoqXG4gKiBJbnZva2UgdGhlIGNhbGxiYWNrIHdpdGggYGVycmAgYW5kIGByZXNgXG4gKiBhbmQgaGFuZGxlIGFyaXR5IGNoZWNrLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyclxuICogQHBhcmFtIHtSZXNwb25zZX0gcmVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5jYWxsYmFjayA9IGZ1bmN0aW9uKGVyciwgcmVzKXtcbiAgdmFyIGZuID0gdGhpcy5fY2FsbGJhY2s7XG4gIHRoaXMuY2xlYXJUaW1lb3V0KCk7XG4gIGZuKGVyciwgcmVzKTtcbn07XG5cbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggeC1kb21haW4gZXJyb3IuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuY3Jvc3NEb21haW5FcnJvciA9IGZ1bmN0aW9uKCl7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1JlcXVlc3QgaGFzIGJlZW4gdGVybWluYXRlZFxcblBvc3NpYmxlIGNhdXNlczogdGhlIG5ldHdvcmsgaXMgb2ZmbGluZSwgT3JpZ2luIGlzIG5vdCBhbGxvd2VkIGJ5IEFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiwgdGhlIHBhZ2UgaXMgYmVpbmcgdW5sb2FkZWQsIGV0Yy4nKTtcbiAgZXJyLmNyb3NzRG9tYWluID0gdHJ1ZTtcblxuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSB0aGlzLm1ldGhvZDtcbiAgZXJyLnVybCA9IHRoaXMudXJsO1xuXG4gIHRoaXMuY2FsbGJhY2soZXJyKTtcbn07XG5cbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggdGltZW91dCBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5fdGltZW91dEVycm9yID0gZnVuY3Rpb24oKXtcbiAgdmFyIHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0O1xuICB2YXIgZXJyID0gbmV3IEVycm9yKCd0aW1lb3V0IG9mICcgKyB0aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJyk7XG4gIGVyci50aW1lb3V0ID0gdGltZW91dDtcbiAgdGhpcy5jYWxsYmFjayhlcnIpO1xufTtcblxuLyoqXG4gKiBDb21wb3NlIHF1ZXJ5c3RyaW5nIHRvIGFwcGVuZCB0byByZXEudXJsXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuX2FwcGVuZFF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24oKXtcbiAgdmFyIHF1ZXJ5ID0gdGhpcy5fcXVlcnkuam9pbignJicpO1xuICBpZiAocXVlcnkpIHtcbiAgICB0aGlzLnVybCArPSB+dGhpcy51cmwuaW5kZXhPZignPycpXG4gICAgICA/ICcmJyArIHF1ZXJ5XG4gICAgICA6ICc/JyArIHF1ZXJ5O1xuICB9XG59O1xuXG4vKipcbiAqIEluaXRpYXRlIHJlcXVlc3QsIGludm9raW5nIGNhbGxiYWNrIGBmbihyZXMpYFxuICogd2l0aCBhbiBpbnN0YW5jZW9mIGBSZXNwb25zZWAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbihmbil7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHhociA9IHRoaXMueGhyID0gcmVxdWVzdC5nZXRYSFIoKTtcbiAgdmFyIHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0O1xuICB2YXIgZGF0YSA9IHRoaXMuX2Zvcm1EYXRhIHx8IHRoaXMuX2RhdGE7XG5cbiAgLy8gc3RvcmUgY2FsbGJhY2tcbiAgdGhpcy5fY2FsbGJhY2sgPSBmbiB8fCBub29wO1xuXG4gIC8vIHN0YXRlIGNoYW5nZVxuICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKXtcbiAgICBpZiAoNCAhPSB4aHIucmVhZHlTdGF0ZSkgcmV0dXJuO1xuXG4gICAgLy8gSW4gSUU5LCByZWFkcyB0byBhbnkgcHJvcGVydHkgKGUuZy4gc3RhdHVzKSBvZmYgb2YgYW4gYWJvcnRlZCBYSFIgd2lsbFxuICAgIC8vIHJlc3VsdCBpbiB0aGUgZXJyb3IgXCJDb3VsZCBub3QgY29tcGxldGUgdGhlIG9wZXJhdGlvbiBkdWUgdG8gZXJyb3IgYzAwYzAyM2ZcIlxuICAgIHZhciBzdGF0dXM7XG4gICAgdHJ5IHsgc3RhdHVzID0geGhyLnN0YXR1cyB9IGNhdGNoKGUpIHsgc3RhdHVzID0gMDsgfVxuXG4gICAgaWYgKDAgPT0gc3RhdHVzKSB7XG4gICAgICBpZiAoc2VsZi50aW1lZG91dCkgcmV0dXJuIHNlbGYuX3RpbWVvdXRFcnJvcigpO1xuICAgICAgaWYgKHNlbGYuX2Fib3J0ZWQpIHJldHVybjtcbiAgICAgIHJldHVybiBzZWxmLmNyb3NzRG9tYWluRXJyb3IoKTtcbiAgICB9XG4gICAgc2VsZi5lbWl0KCdlbmQnKTtcbiAgfTtcblxuICAvLyBwcm9ncmVzc1xuICB2YXIgaGFuZGxlUHJvZ3Jlc3MgPSBmdW5jdGlvbihkaXJlY3Rpb24sIGUpIHtcbiAgICBpZiAoZS50b3RhbCA+IDApIHtcbiAgICAgIGUucGVyY2VudCA9IGUubG9hZGVkIC8gZS50b3RhbCAqIDEwMDtcbiAgICB9XG4gICAgZS5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgc2VsZi5lbWl0KCdwcm9ncmVzcycsIGUpO1xuICB9XG4gIGlmICh0aGlzLmhhc0xpc3RlbmVycygncHJvZ3Jlc3MnKSkge1xuICAgIHRyeSB7XG4gICAgICB4aHIub25wcm9ncmVzcyA9IGhhbmRsZVByb2dyZXNzLmJpbmQobnVsbCwgJ2Rvd25sb2FkJyk7XG4gICAgICBpZiAoeGhyLnVwbG9hZCkge1xuICAgICAgICB4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSBoYW5kbGVQcm9ncmVzcy5iaW5kKG51bGwsICd1cGxvYWQnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIC8vIEFjY2Vzc2luZyB4aHIudXBsb2FkIGZhaWxzIGluIElFIGZyb20gYSB3ZWIgd29ya2VyLCBzbyBqdXN0IHByZXRlbmQgaXQgZG9lc24ndCBleGlzdC5cbiAgICAgIC8vIFJlcG9ydGVkIGhlcmU6XG4gICAgICAvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzgzNzI0NS94bWxodHRwcmVxdWVzdC11cGxvYWQtdGhyb3dzLWludmFsaWQtYXJndW1lbnQtd2hlbi11c2VkLWZyb20td2ViLXdvcmtlci1jb250ZXh0XG4gICAgfVxuICB9XG5cbiAgLy8gdGltZW91dFxuICBpZiAodGltZW91dCAmJiAhdGhpcy5fdGltZXIpIHtcbiAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHNlbGYudGltZWRvdXQgPSB0cnVlO1xuICAgICAgc2VsZi5hYm9ydCgpO1xuICAgIH0sIHRpbWVvdXQpO1xuICB9XG5cbiAgLy8gcXVlcnlzdHJpbmdcbiAgdGhpcy5fYXBwZW5kUXVlcnlTdHJpbmcoKTtcblxuICAvLyBpbml0aWF0ZSByZXF1ZXN0XG4gIGlmICh0aGlzLnVzZXJuYW1lICYmIHRoaXMucGFzc3dvcmQpIHtcbiAgICB4aHIub3Blbih0aGlzLm1ldGhvZCwgdGhpcy51cmwsIHRydWUsIHRoaXMudXNlcm5hbWUsIHRoaXMucGFzc3dvcmQpO1xuICB9IGVsc2Uge1xuICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdHJ1ZSk7XG4gIH1cblxuICAvLyBDT1JTXG4gIGlmICh0aGlzLl93aXRoQ3JlZGVudGlhbHMpIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuXG4gIC8vIGJvZHlcbiAgaWYgKCdHRVQnICE9IHRoaXMubWV0aG9kICYmICdIRUFEJyAhPSB0aGlzLm1ldGhvZCAmJiAnc3RyaW5nJyAhPSB0eXBlb2YgZGF0YSAmJiAhdGhpcy5faXNIb3N0KGRhdGEpKSB7XG4gICAgLy8gc2VyaWFsaXplIHN0dWZmXG4gICAgdmFyIGNvbnRlbnRUeXBlID0gdGhpcy5faGVhZGVyWydjb250ZW50LXR5cGUnXTtcbiAgICB2YXIgc2VyaWFsaXplID0gdGhpcy5fc2VyaWFsaXplciB8fCByZXF1ZXN0LnNlcmlhbGl6ZVtjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JylbMF0gOiAnJ107XG4gICAgaWYgKCFzZXJpYWxpemUgJiYgaXNKU09OKGNvbnRlbnRUeXBlKSkgc2VyaWFsaXplID0gcmVxdWVzdC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL2pzb24nXTtcbiAgICBpZiAoc2VyaWFsaXplKSBkYXRhID0gc2VyaWFsaXplKGRhdGEpO1xuICB9XG5cbiAgLy8gc2V0IGhlYWRlciBmaWVsZHNcbiAgZm9yICh2YXIgZmllbGQgaW4gdGhpcy5oZWFkZXIpIHtcbiAgICBpZiAobnVsbCA9PSB0aGlzLmhlYWRlcltmaWVsZF0pIGNvbnRpbnVlO1xuICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGZpZWxkLCB0aGlzLmhlYWRlcltmaWVsZF0pO1xuICB9XG5cbiAgaWYgKHRoaXMuX3Jlc3BvbnNlVHlwZSkge1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLl9yZXNwb25zZVR5cGU7XG4gIH1cblxuICAvLyBzZW5kIHN0dWZmXG4gIHRoaXMuZW1pdCgncmVxdWVzdCcsIHRoaXMpO1xuXG4gIC8vIElFMTEgeGhyLnNlbmQodW5kZWZpbmVkKSBzZW5kcyAndW5kZWZpbmVkJyBzdHJpbmcgYXMgUE9TVCBwYXlsb2FkIChpbnN0ZWFkIG9mIG5vdGhpbmcpXG4gIC8vIFdlIG5lZWQgbnVsbCBoZXJlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gIHhoci5zZW5kKHR5cGVvZiBkYXRhICE9PSAndW5kZWZpbmVkJyA/IGRhdGEgOiBudWxsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogRXhwb3NlIGBSZXF1ZXN0YC5cbiAqL1xuXG5yZXF1ZXN0LlJlcXVlc3QgPSBSZXF1ZXN0O1xuXG4vKipcbiAqIEdFVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QuZ2V0ID0gZnVuY3Rpb24odXJsLCBkYXRhLCBmbil7XG4gIHZhciByZXEgPSByZXF1ZXN0KCdHRVQnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5xdWVyeShkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogSEVBRCBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QuaGVhZCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgZm4pe1xuICB2YXIgcmVxID0gcmVxdWVzdCgnSEVBRCcsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSBmbiA9IGRhdGEsIGRhdGEgPSBudWxsO1xuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKipcbiAqIE9QVElPTlMgcXVlcnkgdG8gYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0Lm9wdGlvbnMgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ09QVElPTlMnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBERUxFVEUgYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGVsKHVybCwgZm4pe1xuICB2YXIgcmVxID0gcmVxdWVzdCgnREVMRVRFJywgdXJsKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbnJlcXVlc3RbJ2RlbCddID0gZGVsO1xucmVxdWVzdFsnZGVsZXRlJ10gPSBkZWw7XG5cbi8qKlxuICogUEFUQ0ggYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfSBbZGF0YV1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QucGF0Y2ggPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ1BBVENIJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogUE9TVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR9IFtkYXRhXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5wb3N0ID0gZnVuY3Rpb24odXJsLCBkYXRhLCBmbil7XG4gIHZhciByZXEgPSByZXF1ZXN0KCdQT1NUJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogUFVUIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LnB1dCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgZm4pe1xuICB2YXIgcmVxID0gcmVxdWVzdCgnUFVUJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3VwZXJhZ2VudC9saWIvY2xpZW50LmpzXG4vLyBtb2R1bGUgaWQgPSA0Nzhcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 479:
/***/ function(module, exports, __webpack_require__) {

	eval("\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (true) {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9jb21wb25lbnQtZW1pdHRlci9pbmRleC5qcz9lYTJmIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG4vKipcclxuICogRXhwb3NlIGBFbWl0dGVyYC5cclxuICovXHJcblxyXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICBtb2R1bGUuZXhwb3J0cyA9IEVtaXR0ZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplIGEgbmV3IGBFbWl0dGVyYC5cclxuICpcclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5mdW5jdGlvbiBFbWl0dGVyKG9iaikge1xyXG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIE1peGluIHRoZSBlbWl0dGVyIHByb3BlcnRpZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKiBAYXBpIHByaXZhdGVcclxuICovXHJcblxyXG5mdW5jdGlvbiBtaXhpbihvYmopIHtcclxuICBmb3IgKHZhciBrZXkgaW4gRW1pdHRlci5wcm90b3R5cGUpIHtcclxuICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTtcclxuICB9XHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuLyoqXHJcbiAqIExpc3RlbiBvbiB0aGUgZ2l2ZW4gYGV2ZW50YCB3aXRoIGBmbmAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9uID1cclxuRW1pdHRlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG4gICh0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXSlcclxuICAgIC5wdXNoKGZuKTtcclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGFuIGBldmVudGAgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgYSBzaW5nbGVcclxuICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XHJcbiAgZnVuY3Rpb24gb24oKSB7XHJcbiAgICB0aGlzLm9mZihldmVudCwgb24pO1xyXG4gICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIG9uLmZuID0gZm47XHJcbiAgdGhpcy5vbihldmVudCwgb24pO1xyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGBldmVudGAgb3IgYWxsXHJcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vZmYgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuXHJcbiAgLy8gYWxsXHJcbiAgaWYgKDAgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgdGhpcy5fY2FsbGJhY2tzID0ge307XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8vIHNwZWNpZmljIGV2ZW50XHJcbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XHJcbiAgaWYgKCFjYWxsYmFja3MpIHJldHVybiB0aGlzO1xyXG5cclxuICAvLyByZW1vdmUgYWxsIGhhbmRsZXJzXHJcbiAgaWYgKDEgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8vIHJlbW92ZSBzcGVjaWZpYyBoYW5kbGVyXHJcbiAgdmFyIGNiO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjYiA9IGNhbGxiYWNrc1tpXTtcclxuICAgIGlmIChjYiA9PT0gZm4gfHwgY2IuZm4gPT09IGZuKSB7XHJcbiAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBFbWl0IGBldmVudGAgd2l0aCB0aGUgZ2l2ZW4gYXJncy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7TWl4ZWR9IC4uLlxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG4gIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpXHJcbiAgICAsIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XHJcblxyXG4gIGlmIChjYWxsYmFja3MpIHtcclxuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgY2FsbGJhY2tzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJuIGFycmF5IG9mIGNhbGxiYWNrcyBmb3IgYGV2ZW50YC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEByZXR1cm4ge0FycmF5fVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcbiAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW107XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdGhpcyBlbWl0dGVyIGhhcyBgZXZlbnRgIGhhbmRsZXJzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5oYXNMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgcmV0dXJuICEhIHRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGg7XHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb21wb25lbnQtZW1pdHRlci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDc5XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 480:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Module of mixed-in functions shared between node and client code\n */\nvar isObject = __webpack_require__(481);\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nexports.clearTimeout = function _clearTimeout(){\n  this._timeout = 0;\n  clearTimeout(this._timer);\n  return this;\n};\n\n/**\n * Override default response body parser\n *\n * This function will be called to convert incoming data into request.body\n *\n * @param {Function}\n * @api public\n */\n\nexports.parse = function parse(fn){\n  this._parser = fn;\n  return this;\n};\n\n/**\n * Override default request body serializer\n *\n * This function will be called to convert data set via .send or .attach into payload to send\n *\n * @param {Function}\n * @api public\n */\n\nexports.serialize = function serialize(fn){\n  this._serializer = fn;\n  return this;\n};\n\n/**\n * Set timeout to `ms`.\n *\n * @param {Number} ms\n * @return {Request} for chaining\n * @api public\n */\n\nexports.timeout = function timeout(ms){\n  this._timeout = ms;\n  return this;\n};\n\n/**\n * Promise support\n *\n * @param {Function} resolve\n * @param {Function} reject\n * @return {Request}\n */\n\nexports.then = function then(resolve, reject) {\n  if (!this._fullfilledPromise) {\n    var self = this;\n    this._fullfilledPromise = new Promise(function(innerResolve, innerReject){\n      self.end(function(err, res){\n        if (err) innerReject(err); else innerResolve(res);\n      });\n    });\n  }\n  return this._fullfilledPromise.then(resolve, reject);\n}\n\nexports.catch = function(cb) {\n  return this.then(undefined, cb);\n};\n\n/**\n * Allow for extension\n */\n\nexports.use = function use(fn) {\n  fn(this);\n  return this;\n}\n\n\n/**\n * Get request header `field`.\n * Case-insensitive.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nexports.get = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Get case-insensitive header `field` value.\n * This is a deprecated internal API. Use `.get(field)` instead.\n *\n * (getHeader is no longer used internally by the superagent code base)\n *\n * @param {String} field\n * @return {String}\n * @api private\n * @deprecated\n */\n\nexports.getHeader = exports.get;\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n * Case-insensitive.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nexports.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n * Case-insensitive.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n */\nexports.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Write the field `name` and `val`, or multiple fields with one object\n * for \"multipart/form-data\" request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n *\n * request.post('/upload')\n *   .field({ foo: 'bar', baz: 'qux' })\n *   .end(callback);\n * ```\n *\n * @param {String|Object} name\n * @param {String|Blob|File|Buffer|fs.ReadStream} val\n * @return {Request} for chaining\n * @api public\n */\nexports.field = function(name, val) {\n\n  // name should be either a string or an object.\n  if (null === name ||  undefined === name) {\n    throw new Error('.field(name, val) name can not be empty');\n  }\n\n  if (isObject(name)) {\n    for (var key in name) {\n      this.field(key, name[key]);\n    }\n    return this;\n  }\n\n  // val should be defined now\n  if (null === val || undefined === val) {\n    throw new Error('.field(name, val) val can not be empty');\n  }\n  this._getFormData().append(name, val);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\nexports.abort = function(){\n  if (this._aborted) {\n    return this;\n  }\n  this._aborted = true;\n  this.xhr && this.xhr.abort(); // browser\n  this.req && this.req.abort(); // node\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nexports.withCredentials = function(){\n  // This is browser-only functionality. Node side is no-op.\n  this._withCredentials = true;\n  return this;\n};\n\n/**\n * Set the max redirects to `n`. Does noting in browser XHR implementation.\n *\n * @param {Number} n\n * @return {Request} for chaining\n * @api public\n */\n\nexports.redirects = function(n){\n  this._maxRedirects = n;\n  return this;\n};\n\n/**\n * Convert to a plain javascript object (not JSON string) of scalar properties.\n * Note as this method is designed to return a useful non-this value,\n * it cannot be chained.\n *\n * @return {Object} describing method, url, and data of this request\n * @api public\n */\n\nexports.toJSON = function(){\n  return {\n    method: this.method,\n    url: this.url,\n    data: this._data,\n    headers: this._header\n  };\n};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * TODO: future proof, move to compoent land\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nexports._isHost = function _isHost(obj) {\n  var str = {}.toString.call(obj);\n\n  switch (str) {\n    case '[object File]':\n    case '[object Blob]':\n    case '[object FormData]':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Send `data` as the request body, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"}')\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n *      request.post('/user')\n *        .send('name=tobi')\n *        .send('species=ferret')\n *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nexports.send = function(data){\n  var obj = isObject(data);\n  var type = this._header['content-type'];\n\n  // merge\n  if (obj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    // default to x-www-form-urlencoded\n    if (!type) this.type('form');\n    type = this._header['content-type'];\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!obj || this._isHost(data)) return this;\n\n  // default to json\n  if (!type) this.type('json');\n  return this;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9zdXBlcmFnZW50L2xpYi9yZXF1ZXN0LWJhc2UuanM/MjA3MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1vZHVsZSBvZiBtaXhlZC1pbiBmdW5jdGlvbnMgc2hhcmVkIGJldHdlZW4gbm9kZSBhbmQgY2xpZW50IGNvZGVcbiAqL1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pcy1vYmplY3QnKTtcblxuLyoqXG4gKiBDbGVhciBwcmV2aW91cyB0aW1lb3V0LlxuICpcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmNsZWFyVGltZW91dCA9IGZ1bmN0aW9uIF9jbGVhclRpbWVvdXQoKXtcbiAgdGhpcy5fdGltZW91dCA9IDA7XG4gIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBPdmVycmlkZSBkZWZhdWx0IHJlc3BvbnNlIGJvZHkgcGFyc2VyXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB0byBjb252ZXJ0IGluY29taW5nIGRhdGEgaW50byByZXF1ZXN0LmJvZHlcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UoZm4pe1xuICB0aGlzLl9wYXJzZXIgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIE92ZXJyaWRlIGRlZmF1bHQgcmVxdWVzdCBib2R5IHNlcmlhbGl6ZXJcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIGNvbnZlcnQgZGF0YSBzZXQgdmlhIC5zZW5kIG9yIC5hdHRhY2ggaW50byBwYXlsb2FkIHRvIHNlbmRcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uIHNlcmlhbGl6ZShmbil7XG4gIHRoaXMuX3NlcmlhbGl6ZXIgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCB0aW1lb3V0IHRvIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy50aW1lb3V0ID0gZnVuY3Rpb24gdGltZW91dChtcyl7XG4gIHRoaXMuX3RpbWVvdXQgPSBtcztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFByb21pc2Ugc3VwcG9ydFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdFxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqL1xuXG5leHBvcnRzLnRoZW4gPSBmdW5jdGlvbiB0aGVuKHJlc29sdmUsIHJlamVjdCkge1xuICBpZiAoIXRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24oaW5uZXJSZXNvbHZlLCBpbm5lclJlamVjdCl7XG4gICAgICBzZWxmLmVuZChmdW5jdGlvbihlcnIsIHJlcyl7XG4gICAgICAgIGlmIChlcnIpIGlubmVyUmVqZWN0KGVycik7IGVsc2UgaW5uZXJSZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gdGhpcy5fZnVsbGZpbGxlZFByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xufVxuXG5leHBvcnRzLmNhdGNoID0gZnVuY3Rpb24oY2IpIHtcbiAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIGNiKTtcbn07XG5cbi8qKlxuICogQWxsb3cgZm9yIGV4dGVuc2lvblxuICovXG5cbmV4cG9ydHMudXNlID0gZnVuY3Rpb24gdXNlKGZuKSB7XG4gIGZuKHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn1cblxuXG4vKipcbiAqIEdldCByZXF1ZXN0IGhlYWRlciBgZmllbGRgLlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbihmaWVsZCl7XG4gIHJldHVybiB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV07XG59O1xuXG4vKipcbiAqIEdldCBjYXNlLWluc2Vuc2l0aXZlIGhlYWRlciBgZmllbGRgIHZhbHVlLlxuICogVGhpcyBpcyBhIGRlcHJlY2F0ZWQgaW50ZXJuYWwgQVBJLiBVc2UgYC5nZXQoZmllbGQpYCBpbnN0ZWFkLlxuICpcbiAqIChnZXRIZWFkZXIgaXMgbm8gbG9uZ2VyIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgc3VwZXJhZ2VudCBjb2RlIGJhc2UpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqIEBkZXByZWNhdGVkXG4gKi9cblxuZXhwb3J0cy5nZXRIZWFkZXIgPSBleHBvcnRzLmdldDtcblxuLyoqXG4gKiBTZXQgaGVhZGVyIGBmaWVsZGAgdG8gYHZhbGAsIG9yIG11bHRpcGxlIGZpZWxkcyB3aXRoIG9uZSBvYmplY3QuXG4gKiBDYXNlLWluc2Vuc2l0aXZlLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKVxuICogICAgICAgIC5zZXQoJ1gtQVBJLUtleScsICdmb29iYXInKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnNldCh7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLCAnWC1BUEktS2V5JzogJ2Zvb2JhcicgfSlcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGZpZWxkXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5zZXQgPSBmdW5jdGlvbihmaWVsZCwgdmFsKXtcbiAgaWYgKGlzT2JqZWN0KGZpZWxkKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBmaWVsZCkge1xuICAgICAgdGhpcy5zZXQoa2V5LCBmaWVsZFtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldID0gdmFsO1xuICB0aGlzLmhlYWRlcltmaWVsZF0gPSB2YWw7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgaGVhZGVyIGBmaWVsZGAuXG4gKiBDYXNlLWluc2Vuc2l0aXZlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgICByZXEuZ2V0KCcvJylcbiAqICAgICAgICAudW5zZXQoJ1VzZXItQWdlbnQnKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICovXG5leHBvcnRzLnVuc2V0ID0gZnVuY3Rpb24oZmllbGQpe1xuICBkZWxldGUgdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldO1xuICBkZWxldGUgdGhpcy5oZWFkZXJbZmllbGRdO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogV3JpdGUgdGhlIGZpZWxkIGBuYW1lYCBhbmQgYHZhbGAsIG9yIG11bHRpcGxlIGZpZWxkcyB3aXRoIG9uZSBvYmplY3RcbiAqIGZvciBcIm11bHRpcGFydC9mb3JtLWRhdGFcIiByZXF1ZXN0IGJvZGllcy5cbiAqXG4gKiBgYGAganNcbiAqIHJlcXVlc3QucG9zdCgnL3VwbG9hZCcpXG4gKiAgIC5maWVsZCgnZm9vJywgJ2JhcicpXG4gKiAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIHJlcXVlc3QucG9zdCgnL3VwbG9hZCcpXG4gKiAgIC5maWVsZCh7IGZvbzogJ2JhcicsIGJhejogJ3F1eCcgfSlcbiAqICAgLmVuZChjYWxsYmFjayk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfEJsb2J8RmlsZXxCdWZmZXJ8ZnMuUmVhZFN0cmVhbX0gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMuZmllbGQgPSBmdW5jdGlvbihuYW1lLCB2YWwpIHtcblxuICAvLyBuYW1lIHNob3VsZCBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LlxuICBpZiAobnVsbCA9PT0gbmFtZSB8fCAgdW5kZWZpbmVkID09PSBuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCcuZmllbGQobmFtZSwgdmFsKSBuYW1lIGNhbiBub3QgYmUgZW1wdHknKTtcbiAgfVxuXG4gIGlmIChpc09iamVjdChuYW1lKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7XG4gICAgICB0aGlzLmZpZWxkKGtleSwgbmFtZVtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyB2YWwgc2hvdWxkIGJlIGRlZmluZWQgbm93XG4gIGlmIChudWxsID09PSB2YWwgfHwgdW5kZWZpbmVkID09PSB2YWwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJy5maWVsZChuYW1lLCB2YWwpIHZhbCBjYW4gbm90IGJlIGVtcHR5Jyk7XG4gIH1cbiAgdGhpcy5fZ2V0Rm9ybURhdGEoKS5hcHBlbmQobmFtZSwgdmFsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFib3J0IHRoZSByZXF1ZXN0LCBhbmQgY2xlYXIgcG90ZW50aWFsIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMuYWJvcnQgPSBmdW5jdGlvbigpe1xuICBpZiAodGhpcy5fYWJvcnRlZCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHRoaXMuX2Fib3J0ZWQgPSB0cnVlO1xuICB0aGlzLnhociAmJiB0aGlzLnhoci5hYm9ydCgpOyAvLyBicm93c2VyXG4gIHRoaXMucmVxICYmIHRoaXMucmVxLmFib3J0KCk7IC8vIG5vZGVcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTtcbiAgdGhpcy5lbWl0KCdhYm9ydCcpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW5hYmxlIHRyYW5zbWlzc2lvbiBvZiBjb29raWVzIHdpdGggeC1kb21haW4gcmVxdWVzdHMuXG4gKlxuICogTm90ZSB0aGF0IGZvciB0aGlzIHRvIHdvcmsgdGhlIG9yaWdpbiBtdXN0IG5vdCBiZVxuICogdXNpbmcgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiB3aXRoIGEgd2lsZGNhcmQsXG4gKiBhbmQgYWxzbyBtdXN0IHNldCBcIkFjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzXCJcbiAqIHRvIFwidHJ1ZVwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy53aXRoQ3JlZGVudGlhbHMgPSBmdW5jdGlvbigpe1xuICAvLyBUaGlzIGlzIGJyb3dzZXItb25seSBmdW5jdGlvbmFsaXR5LiBOb2RlIHNpZGUgaXMgbm8tb3AuXG4gIHRoaXMuX3dpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIG1heCByZWRpcmVjdHMgdG8gYG5gLiBEb2VzIG5vdGluZyBpbiBicm93c2VyIFhIUiBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gblxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMucmVkaXJlY3RzID0gZnVuY3Rpb24obil7XG4gIHRoaXMuX21heFJlZGlyZWN0cyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IHRvIGEgcGxhaW4gamF2YXNjcmlwdCBvYmplY3QgKG5vdCBKU09OIHN0cmluZykgb2Ygc2NhbGFyIHByb3BlcnRpZXMuXG4gKiBOb3RlIGFzIHRoaXMgbWV0aG9kIGlzIGRlc2lnbmVkIHRvIHJldHVybiBhIHVzZWZ1bCBub24tdGhpcyB2YWx1ZSxcbiAqIGl0IGNhbm5vdCBiZSBjaGFpbmVkLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZGVzY3JpYmluZyBtZXRob2QsIHVybCwgYW5kIGRhdGEgb2YgdGhpcyByZXF1ZXN0XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMudG9KU09OID0gZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHtcbiAgICBtZXRob2Q6IHRoaXMubWV0aG9kLFxuICAgIHVybDogdGhpcy51cmwsXG4gICAgZGF0YTogdGhpcy5fZGF0YSxcbiAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJcbiAgfTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYG9iamAgaXMgYSBob3N0IG9iamVjdCxcbiAqIHdlIGRvbid0IHdhbnQgdG8gc2VyaWFsaXplIHRoZXNlIDopXG4gKlxuICogVE9ETzogZnV0dXJlIHByb29mLCBtb3ZlIHRvIGNvbXBvZW50IGxhbmRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5faXNIb3N0ID0gZnVuY3Rpb24gX2lzSG9zdChvYmopIHtcbiAgdmFyIHN0ciA9IHt9LnRvU3RyaW5nLmNhbGwob2JqKTtcblxuICBzd2l0Y2ggKHN0cikge1xuICAgIGNhc2UgJ1tvYmplY3QgRmlsZV0nOlxuICAgIGNhc2UgJ1tvYmplY3QgQmxvYl0nOlxuICAgIGNhc2UgJ1tvYmplY3QgRm9ybURhdGFdJzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBTZW5kIGBkYXRhYCBhcyB0aGUgcmVxdWVzdCBib2R5LCBkZWZhdWx0aW5nIHRoZSBgLnR5cGUoKWAgdG8gXCJqc29uXCIgd2hlblxuICogYW4gb2JqZWN0IGlzIGdpdmVuLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgIC8vIG1hbnVhbCBqc29uXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnR5cGUoJ2pzb24nKVxuICogICAgICAgICAuc2VuZCgne1wibmFtZVwiOlwidGpcIn0nKVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGF1dG8ganNvblxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIG1hbnVhbCB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAudHlwZSgnZm9ybScpXG4gKiAgICAgICAgIC5zZW5kKCduYW1lPXRqJylcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBhdXRvIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC50eXBlKCdmb3JtJylcbiAqICAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gZGVmYXVsdHMgdG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgIC5zZW5kKCduYW1lPXRvYmknKVxuICogICAgICAgIC5zZW5kKCdzcGVjaWVzPWZlcnJldCcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGRhdGFcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnNlbmQgPSBmdW5jdGlvbihkYXRhKXtcbiAgdmFyIG9iaiA9IGlzT2JqZWN0KGRhdGEpO1xuICB2YXIgdHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG5cbiAgLy8gbWVyZ2VcbiAgaWYgKG9iaiAmJiBpc09iamVjdCh0aGlzLl9kYXRhKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICB0aGlzLl9kYXRhW2tleV0gPSBkYXRhW2tleV07XG4gICAgfVxuICB9IGVsc2UgaWYgKCdzdHJpbmcnID09IHR5cGVvZiBkYXRhKSB7XG4gICAgLy8gZGVmYXVsdCB0byB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAgICBpZiAoIXR5cGUpIHRoaXMudHlwZSgnZm9ybScpO1xuICAgIHR5cGUgPSB0aGlzLl9oZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuICAgIGlmICgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyA9PSB0eXBlKSB7XG4gICAgICB0aGlzLl9kYXRhID0gdGhpcy5fZGF0YVxuICAgICAgICA/IHRoaXMuX2RhdGEgKyAnJicgKyBkYXRhXG4gICAgICAgIDogZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZGF0YSA9ICh0aGlzLl9kYXRhIHx8ICcnKSArIGRhdGE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICB9XG5cbiAgaWYgKCFvYmogfHwgdGhpcy5faXNIb3N0KGRhdGEpKSByZXR1cm4gdGhpcztcblxuICAvLyBkZWZhdWx0IHRvIGpzb25cbiAgaWYgKCF0eXBlKSB0aGlzLnR5cGUoJ2pzb24nKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3N1cGVyYWdlbnQvbGliL3JlcXVlc3QtYmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gNDgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 481:
/***/ function(module, exports) {

	eval("/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return null !== obj && 'object' === typeof obj;\n}\n\nmodule.exports = isObject;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9zdXBlcmFnZW50L2xpYi9pcy1vYmplY3QuanM/OWVkZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrIGlmIGBvYmpgIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHJldHVybiBudWxsICE9PSBvYmogJiYgJ29iamVjdCcgPT09IHR5cGVvZiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3VwZXJhZ2VudC9saWIvaXMtb2JqZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSA0ODFcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 482:
/***/ function(module, exports) {

	eval("// The node and browser modules expose versions of this with the\n// appropriate constructor function bound as first argument\n/**\n * Issue a request:\n *\n * Examples:\n *\n *    request('GET', '/users').end(callback)\n *    request('/users').end(callback)\n *    request('/users', callback)\n *\n * @param {String} method\n * @param {String|Function} url or callback\n * @return {Request}\n * @api public\n */\n\nfunction request(RequestConstructor, method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new RequestConstructor('GET', method).end(url);\n  }\n\n  // url first\n  if (2 == arguments.length) {\n    return new RequestConstructor('GET', method);\n  }\n\n  return new RequestConstructor(method, url);\n}\n\nmodule.exports = request;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9zdXBlcmFnZW50L2xpYi9yZXF1ZXN0LmpzPzYxYzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG5vZGUgYW5kIGJyb3dzZXIgbW9kdWxlcyBleHBvc2UgdmVyc2lvbnMgb2YgdGhpcyB3aXRoIHRoZVxuLy8gYXBwcm9wcmlhdGUgY29uc3RydWN0b3IgZnVuY3Rpb24gYm91bmQgYXMgZmlyc3QgYXJndW1lbnRcbi8qKlxuICogSXNzdWUgYSByZXF1ZXN0OlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIHJlcXVlc3QoJ0dFVCcsICcvdXNlcnMnKS5lbmQoY2FsbGJhY2spXG4gKiAgICByZXF1ZXN0KCcvdXNlcnMnKS5lbmQoY2FsbGJhY2spXG4gKiAgICByZXF1ZXN0KCcvdXNlcnMnLCBjYWxsYmFjaylcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gdXJsIG9yIGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiByZXF1ZXN0KFJlcXVlc3RDb25zdHJ1Y3RvciwgbWV0aG9kLCB1cmwpIHtcbiAgLy8gY2FsbGJhY2tcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIHVybCkge1xuICAgIHJldHVybiBuZXcgUmVxdWVzdENvbnN0cnVjdG9yKCdHRVQnLCBtZXRob2QpLmVuZCh1cmwpO1xuICB9XG5cbiAgLy8gdXJsIGZpcnN0XG4gIGlmICgyID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3RDb25zdHJ1Y3RvcignR0VUJywgbWV0aG9kKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVxdWVzdENvbnN0cnVjdG9yKG1ldGhvZCwgdXJsKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1ZXN0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3N1cGVyYWdlbnQvbGliL3JlcXVlc3QuanNcbi8vIG1vZHVsZSBpZCA9IDQ4MlxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 483:
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Events = {\n  /**\n   * Abbreviation for target.addEventListener\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {function}\n   */\n  on: __listen,\n\n  /**\n   * Abbreviation for target.addEventListener\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {function}\n   */\n  listen: __listen,\n\n  /**\n   * Adds wrapper around function and after first invocation, remove listener\n   * @Note Returns correct listener for removing\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {function}\n   */\n  once: __listenOnce,\n\n  /**\n   * Adds wrapper around function and after first invocation, remove listener\n   * @Note Returns correct listener for removing\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {function}\n   */\n  listenOnce: __listenOnce,\n\n  /**\n   * Abbreviation for target.removeEventListener\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {void}\n   */\n  off: __removeListener,\n\n  /**\n   * Abbreviation for target.removeEventListener\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {void}\n   */\n  unlisten: __removeListener,\n\n  /**\n   * Abbreviation for target.removeEventListener\n   * @param target {HTMLElement}\n   * @param event {string}\n   * @param callback {function}\n   * @param capture [boolean]\n   * @returns {void}\n   */\n  removeListener: __removeListener,\n\n  /**\n   * @inherit\n   */\n  onAnimation: __onAnimation,\n\n  /**\n   * @inherit\n   */\n  offAnimation: __offAnimation,\n\n  /**\n   * @inherit\n   */\n  onceAnimation: __onceAnimation\n};\n\n/**\n * Abbreviation for target.addEventListener\n * @param target {HTMLElement}\n * @param event {string}\n * @param callback {function}\n * @param capture [boolean]\n * @returns {function}\n * @private\n */\nfunction __listen(target, event, callback) {\n  var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  target.addEventListener(event, callback, capture);\n  return __removeListener.bind(null, target, event, callback, capture);\n}\n\n/**\n * Adds wrapper around function and after first invocation, remove listener\n * @Note Returns correct listener for removing\n * @param target {HTMLElement}\n * @param event {string}\n * @param callback {function}\n * @param capture [boolean]\n * @private\n * @returns {function}\n */\nfunction __listenOnce(target, event, callback) {\n  var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  var wrapper = function () {\n    return function (e) {\n      target.removeEventListener(event, wrapper, capture);\n      callback(e);\n    };\n  }();\n  target.addEventListener(event, wrapper, capture);\n  return __removeListener.bind(null, target, event, wrapper, capture);\n}\n\n/**\n * Abbreviation for target.removeEventListener\n * @param target {HTMLElement}\n * @param event {string}\n * @param callback {function}\n * @param capture [boolean]\n * @returns {void}\n * @private\n */\nfunction __removeListener(target, event, callback) {\n  var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  return target.removeEventListener(event, callback, capture);\n}\n\n/** ANIMATIONS **/\nvar ANIMATION_TYPE = {\n  end: 'AnimationEnd',\n  start: 'AnimationStart',\n  iteration: 'AnimationIteration'\n};\n\nvar ANIMATION_PREFIX = {\n  'WebkitAnimation': 'webkit',\n  'OAnimation': 'o'\n};\n\n/**\n * Finds Correct animation event name for current browser\n * @param type {string} enum:[start, end, iteration]\n * @returns {string} Animation Event name\n * @throws Incorrect animation type\n * @private\n */\nfunction __whichAnimationEvent(type) {\n  type = ANIMATION_TYPE[type.toLowerCase()];\n  if (!type) {\n    throw new Error('Incorrect animation type! Correct values: [start, end, iteration]');\n  }\n  var el = window.document.createElement('fakeelement'),\n      prefix = '';\n\n  for (var key in ANIMATION_PREFIX) {\n    if (el.style[key] !== undefined) {\n      prefix = ANIMATION_PREFIX[key];\n      break;\n    }\n  }\n\n  return prefix + !prefix ? type.toLowerCase() : type;\n}\n\n/**\n * Adds animation event listener\n * @param element {HTMLElement}\n * @param type {string} enum:[start, end, iteration]\n * @param callback {Function}\n * @param capture {boolean}\n * @returns {Function} - bound callback to remove listener\n * @private\n */\nfunction __onAnimation(element, type, callback) {\n  var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  var eventName = __whichAnimationEvent(type);\n  return __listen(element, eventName, callback, capture);\n}\n\n/**\n * Adds animation event listener and after first execution its removed\n * @param element {HTMLElement}\n * @param type {string} enum:[start, end, iteration]\n * @param callback {Function}\n * @param capture {boolean}\n * @returns {Function} - bound callback to remove listener\n * @private\n */\nfunction __onceAnimation(element, type, callback) {\n  var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  var eventName = __whichAnimationEvent(type);\n  return __listenOnce(element, eventName, callback, capture);\n}\n\n/**\n * Remove animation event listener\n * @param element {HTMLElement}\n * @param type {string} enum:[start, end, iteration]\n * @param callback {Function}\n * @param capture {boolean}\n * @returns {void}\n * @private\n */\nfunction __offAnimation(element, type, callback) {\n  var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  var eventName = __whichAnimationEvent(type);\n  return __removeListener(element, eventName, callback, capture);\n}\n\nexports.default = Events;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L3V0aWxzL0V2ZW50cy5qcz9jYTE4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBFdmVudHMgPSB7XG4gIC8qKlxuICAgKiBBYmJyZXZpYXRpb24gZm9yIHRhcmdldC5hZGRFdmVudExpc3RlbmVyXG4gICAqIEBwYXJhbSB0YXJnZXQge0hUTUxFbGVtZW50fVxuICAgKiBAcGFyYW0gZXZlbnQge3N0cmluZ31cbiAgICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn1cbiAgICogQHBhcmFtIGNhcHR1cmUgW2Jvb2xlYW5dXG4gICAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAgICovXG4gIG9uOiBfX2xpc3RlbixcblxuICAvKipcbiAgICogQWJicmV2aWF0aW9uIGZvciB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lclxuICAgKiBAcGFyYW0gdGFyZ2V0IHtIVE1MRWxlbWVudH1cbiAgICogQHBhcmFtIGV2ZW50IHtzdHJpbmd9XG4gICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gICAqIEBwYXJhbSBjYXB0dXJlIFtib29sZWFuXVxuICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gICAqL1xuICBsaXN0ZW46IF9fbGlzdGVuLFxuXG4gIC8qKlxuICAgKiBBZGRzIHdyYXBwZXIgYXJvdW5kIGZ1bmN0aW9uIGFuZCBhZnRlciBmaXJzdCBpbnZvY2F0aW9uLCByZW1vdmUgbGlzdGVuZXJcbiAgICogQE5vdGUgUmV0dXJucyBjb3JyZWN0IGxpc3RlbmVyIGZvciByZW1vdmluZ1xuICAgKiBAcGFyYW0gdGFyZ2V0IHtIVE1MRWxlbWVudH1cbiAgICogQHBhcmFtIGV2ZW50IHtzdHJpbmd9XG4gICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gICAqIEBwYXJhbSBjYXB0dXJlIFtib29sZWFuXVxuICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gICAqL1xuICBvbmNlOiBfX2xpc3Rlbk9uY2UsXG5cbiAgLyoqXG4gICAqIEFkZHMgd3JhcHBlciBhcm91bmQgZnVuY3Rpb24gYW5kIGFmdGVyIGZpcnN0IGludm9jYXRpb24sIHJlbW92ZSBsaXN0ZW5lclxuICAgKiBATm90ZSBSZXR1cm5zIGNvcnJlY3QgbGlzdGVuZXIgZm9yIHJlbW92aW5nXG4gICAqIEBwYXJhbSB0YXJnZXQge0hUTUxFbGVtZW50fVxuICAgKiBAcGFyYW0gZXZlbnQge3N0cmluZ31cbiAgICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn1cbiAgICogQHBhcmFtIGNhcHR1cmUgW2Jvb2xlYW5dXG4gICAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAgICovXG4gIGxpc3Rlbk9uY2U6IF9fbGlzdGVuT25jZSxcblxuICAvKipcbiAgICogQWJicmV2aWF0aW9uIGZvciB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lclxuICAgKiBAcGFyYW0gdGFyZ2V0IHtIVE1MRWxlbWVudH1cbiAgICogQHBhcmFtIGV2ZW50IHtzdHJpbmd9XG4gICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gICAqIEBwYXJhbSBjYXB0dXJlIFtib29sZWFuXVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIG9mZjogX19yZW1vdmVMaXN0ZW5lcixcblxuICAvKipcbiAgICogQWJicmV2aWF0aW9uIGZvciB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lclxuICAgKiBAcGFyYW0gdGFyZ2V0IHtIVE1MRWxlbWVudH1cbiAgICogQHBhcmFtIGV2ZW50IHtzdHJpbmd9XG4gICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gICAqIEBwYXJhbSBjYXB0dXJlIFtib29sZWFuXVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIHVubGlzdGVuOiBfX3JlbW92ZUxpc3RlbmVyLFxuXG4gIC8qKlxuICAgKiBBYmJyZXZpYXRpb24gZm9yIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyXG4gICAqIEBwYXJhbSB0YXJnZXQge0hUTUxFbGVtZW50fVxuICAgKiBAcGFyYW0gZXZlbnQge3N0cmluZ31cbiAgICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn1cbiAgICogQHBhcmFtIGNhcHR1cmUgW2Jvb2xlYW5dXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgcmVtb3ZlTGlzdGVuZXI6IF9fcmVtb3ZlTGlzdGVuZXIsXG5cbiAgLyoqXG4gICAqIEBpbmhlcml0XG4gICAqL1xuICBvbkFuaW1hdGlvbjogX19vbkFuaW1hdGlvbixcblxuICAvKipcbiAgICogQGluaGVyaXRcbiAgICovXG4gIG9mZkFuaW1hdGlvbjogX19vZmZBbmltYXRpb24sXG5cbiAgLyoqXG4gICAqIEBpbmhlcml0XG4gICAqL1xuICBvbmNlQW5pbWF0aW9uOiBfX29uY2VBbmltYXRpb25cbn07XG5cbi8qKlxuICogQWJicmV2aWF0aW9uIGZvciB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lclxuICogQHBhcmFtIHRhcmdldCB7SFRNTEVsZW1lbnR9XG4gKiBAcGFyYW0gZXZlbnQge3N0cmluZ31cbiAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gKiBAcGFyYW0gY2FwdHVyZSBbYm9vbGVhbl1cbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fbGlzdGVuKHRhcmdldCwgZXZlbnQsIGNhbGxiYWNrKSB7XG4gIHZhciBjYXB0dXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2ssIGNhcHR1cmUpO1xuICByZXR1cm4gX19yZW1vdmVMaXN0ZW5lci5iaW5kKG51bGwsIHRhcmdldCwgZXZlbnQsIGNhbGxiYWNrLCBjYXB0dXJlKTtcbn1cblxuLyoqXG4gKiBBZGRzIHdyYXBwZXIgYXJvdW5kIGZ1bmN0aW9uIGFuZCBhZnRlciBmaXJzdCBpbnZvY2F0aW9uLCByZW1vdmUgbGlzdGVuZXJcbiAqIEBOb3RlIFJldHVybnMgY29ycmVjdCBsaXN0ZW5lciBmb3IgcmVtb3ZpbmdcbiAqIEBwYXJhbSB0YXJnZXQge0hUTUxFbGVtZW50fVxuICogQHBhcmFtIGV2ZW50IHtzdHJpbmd9XG4gKiBAcGFyYW0gY2FsbGJhY2sge2Z1bmN0aW9ufVxuICogQHBhcmFtIGNhcHR1cmUgW2Jvb2xlYW5dXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBfX2xpc3Rlbk9uY2UodGFyZ2V0LCBldmVudCwgY2FsbGJhY2spIHtcbiAgdmFyIGNhcHR1cmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuXG4gIHZhciB3cmFwcGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHdyYXBwZXIsIGNhcHR1cmUpO1xuICAgICAgY2FsbGJhY2soZSk7XG4gICAgfTtcbiAgfSgpO1xuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgd3JhcHBlciwgY2FwdHVyZSk7XG4gIHJldHVybiBfX3JlbW92ZUxpc3RlbmVyLmJpbmQobnVsbCwgdGFyZ2V0LCBldmVudCwgd3JhcHBlciwgY2FwdHVyZSk7XG59XG5cbi8qKlxuICogQWJicmV2aWF0aW9uIGZvciB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lclxuICogQHBhcmFtIHRhcmdldCB7SFRNTEVsZW1lbnR9XG4gKiBAcGFyYW0gZXZlbnQge3N0cmluZ31cbiAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gKiBAcGFyYW0gY2FwdHVyZSBbYm9vbGVhbl1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19yZW1vdmVMaXN0ZW5lcih0YXJnZXQsIGV2ZW50LCBjYWxsYmFjaykge1xuICB2YXIgY2FwdHVyZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgcmV0dXJuIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgY2FwdHVyZSk7XG59XG5cbi8qKiBBTklNQVRJT05TICoqL1xudmFyIEFOSU1BVElPTl9UWVBFID0ge1xuICBlbmQ6ICdBbmltYXRpb25FbmQnLFxuICBzdGFydDogJ0FuaW1hdGlvblN0YXJ0JyxcbiAgaXRlcmF0aW9uOiAnQW5pbWF0aW9uSXRlcmF0aW9uJ1xufTtcblxudmFyIEFOSU1BVElPTl9QUkVGSVggPSB7XG4gICdXZWJraXRBbmltYXRpb24nOiAnd2Via2l0JyxcbiAgJ09BbmltYXRpb24nOiAnbydcbn07XG5cbi8qKlxuICogRmluZHMgQ29ycmVjdCBhbmltYXRpb24gZXZlbnQgbmFtZSBmb3IgY3VycmVudCBicm93c2VyXG4gKiBAcGFyYW0gdHlwZSB7c3RyaW5nfSBlbnVtOltzdGFydCwgZW5kLCBpdGVyYXRpb25dXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBbmltYXRpb24gRXZlbnQgbmFtZVxuICogQHRocm93cyBJbmNvcnJlY3QgYW5pbWF0aW9uIHR5cGVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fd2hpY2hBbmltYXRpb25FdmVudCh0eXBlKSB7XG4gIHR5cGUgPSBBTklNQVRJT05fVFlQRVt0eXBlLnRvTG93ZXJDYXNlKCldO1xuICBpZiAoIXR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29ycmVjdCBhbmltYXRpb24gdHlwZSEgQ29ycmVjdCB2YWx1ZXM6IFtzdGFydCwgZW5kLCBpdGVyYXRpb25dJyk7XG4gIH1cbiAgdmFyIGVsID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zha2VlbGVtZW50JyksXG4gICAgICBwcmVmaXggPSAnJztcblxuICBmb3IgKHZhciBrZXkgaW4gQU5JTUFUSU9OX1BSRUZJWCkge1xuICAgIGlmIChlbC5zdHlsZVtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHByZWZpeCA9IEFOSU1BVElPTl9QUkVGSVhba2V5XTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcmVmaXggKyAhcHJlZml4ID8gdHlwZS50b0xvd2VyQ2FzZSgpIDogdHlwZTtcbn1cblxuLyoqXG4gKiBBZGRzIGFuaW1hdGlvbiBldmVudCBsaXN0ZW5lclxuICogQHBhcmFtIGVsZW1lbnQge0hUTUxFbGVtZW50fVxuICogQHBhcmFtIHR5cGUge3N0cmluZ30gZW51bTpbc3RhcnQsIGVuZCwgaXRlcmF0aW9uXVxuICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn1cbiAqIEBwYXJhbSBjYXB0dXJlIHtib29sZWFufVxuICogQHJldHVybnMge0Z1bmN0aW9ufSAtIGJvdW5kIGNhbGxiYWNrIHRvIHJlbW92ZSBsaXN0ZW5lclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19vbkFuaW1hdGlvbihlbGVtZW50LCB0eXBlLCBjYWxsYmFjaykge1xuICB2YXIgY2FwdHVyZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgdmFyIGV2ZW50TmFtZSA9IF9fd2hpY2hBbmltYXRpb25FdmVudCh0eXBlKTtcbiAgcmV0dXJuIF9fbGlzdGVuKGVsZW1lbnQsIGV2ZW50TmFtZSwgY2FsbGJhY2ssIGNhcHR1cmUpO1xufVxuXG4vKipcbiAqIEFkZHMgYW5pbWF0aW9uIGV2ZW50IGxpc3RlbmVyIGFuZCBhZnRlciBmaXJzdCBleGVjdXRpb24gaXRzIHJlbW92ZWRcbiAqIEBwYXJhbSBlbGVtZW50IHtIVE1MRWxlbWVudH1cbiAqIEBwYXJhbSB0eXBlIHtzdHJpbmd9IGVudW06W3N0YXJ0LCBlbmQsIGl0ZXJhdGlvbl1cbiAqIEBwYXJhbSBjYWxsYmFjayB7RnVuY3Rpb259XG4gKiBAcGFyYW0gY2FwdHVyZSB7Ym9vbGVhbn1cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gLSBib3VuZCBjYWxsYmFjayB0byByZW1vdmUgbGlzdGVuZXJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fb25jZUFuaW1hdGlvbihlbGVtZW50LCB0eXBlLCBjYWxsYmFjaykge1xuICB2YXIgY2FwdHVyZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgdmFyIGV2ZW50TmFtZSA9IF9fd2hpY2hBbmltYXRpb25FdmVudCh0eXBlKTtcbiAgcmV0dXJuIF9fbGlzdGVuT25jZShlbGVtZW50LCBldmVudE5hbWUsIGNhbGxiYWNrLCBjYXB0dXJlKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYW5pbWF0aW9uIGV2ZW50IGxpc3RlbmVyXG4gKiBAcGFyYW0gZWxlbWVudCB7SFRNTEVsZW1lbnR9XG4gKiBAcGFyYW0gdHlwZSB7c3RyaW5nfSBlbnVtOltzdGFydCwgZW5kLCBpdGVyYXRpb25dXG4gKiBAcGFyYW0gY2FsbGJhY2sge0Z1bmN0aW9ufVxuICogQHBhcmFtIGNhcHR1cmUge2Jvb2xlYW59XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fb2ZmQW5pbWF0aW9uKGVsZW1lbnQsIHR5cGUsIGNhbGxiYWNrKSB7XG4gIHZhciBjYXB0dXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICB2YXIgZXZlbnROYW1lID0gX193aGljaEFuaW1hdGlvbkV2ZW50KHR5cGUpO1xuICByZXR1cm4gX19yZW1vdmVMaXN0ZW5lcihlbGVtZW50LCBldmVudE5hbWUsIGNhbGxiYWNrLCBjYXB0dXJlKTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRzO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90cmluaXR5L3V0aWxzL0V2ZW50cy5qc1xuLy8gbW9kdWxlIGlkID0gNDgzXG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 484:
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction TrinityEvent(data) {\n    this.defaultPrevented = false;\n    this.data = data;\n    return this;\n}\n\nTrinityEvent.prototype.preventDefault = function () {\n    this.defaultPrevented = true;\n};\n\nexports.default = TrinityEvent;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L3V0aWxzL1RyaW5pdHlFdmVudC5qcz81OTU2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZnVuY3Rpb24gVHJpbml0eUV2ZW50KGRhdGEpIHtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHJldHVybiB0aGlzO1xufVxuXG5UcmluaXR5RXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmluaXR5RXZlbnQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3RyaW5pdHkvdXRpbHMvVHJpbml0eUV2ZW50LmpzXG4vLyBtb2R1bGUgaWQgPSA0ODRcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 485:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Dom = __webpack_require__(486);\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nvar _classlist = __webpack_require__(487);\n\nvar _classlist2 = _interopRequireDefault(_classlist);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Default is value\nvar TYPE_VAL_MAP = {\n    radio: 'checked',\n    checkbox: 'checked'\n};\n\nvar FormInput = function () {\n    function FormInput(element) {\n        _classCallCheck(this, FormInput);\n\n        this.element = element;\n        this.rules = [];\n        this.errors = [];\n        this.message = null;\n        this.msgWrapper = _Dom2.default.createDom('div', { 'class': 'form-msg-wrapper' });\n        this.errorWrapper = _Dom2.default.createDom('div', { 'class': 'form-error-wrapper' });\n\n        var sibling = element.nextSibling;\n        if (sibling) {\n            element.parentElement.insertBefore(this.msgWrapper, sibling);\n        } else {\n            element.parentElement.appendChild(this.msgWrapper);\n        }\n        this.msgWrapper.appendChild(this.errorWrapper);\n    }\n\n    /**\n     * Returns value of input element\n     * It depends on type of element, if checkbox or radio, returns value of checked property\n     * @returns {*}\n     */\n\n\n    _createClass(FormInput, [{\n        key: 'getValue',\n        value: function getValue() {\n            return this.element[TYPE_VAL_MAP[this.element.type] || 'value'];\n        }\n\n        /**\n         * Validates if input has any error, if not removes 'error' className\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'isValid',\n        value: function isValid() {\n            return this.errors.length === 0 ? _classlist2.default.remove(this.element, 'error') || true : false;\n        }\n\n        /**\n         * Adds error to form input\n         * @param error\n         * @returns {*}\n         */\n\n    }, {\n        key: 'addError',\n        value: function addError(error) {\n            this.errors.push(error);\n            this.errorWrapper.appendChild(error.element);\n            _Dom2.default.classlist.add(this.element, 'error');\n            return error.id;\n        }\n\n        /**\n         * Set information message to input\n         * @param msg\n         * @returns {*}\n         */\n\n    }, {\n        key: 'setMessage',\n        value: function setMessage(msg) {\n            this.clearMessage();\n            this.message = msg;\n            this.msgWrapper.appendChild(msg.element);\n            return msg.id;\n        }\n\n        /**\n         * Delete message\n         */\n\n    }, {\n        key: 'clearMessage',\n        value: function clearMessage() {\n            if (this.message) {\n                _Dom2.default.removeNode(this.message.element);\n                this.message = null;\n            }\n        }\n    }]);\n\n    return FormInput;\n}();\n\nexports.default = FormInput;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L2NvbXBvbmVudHMvRm9ybUlucHV0LmpzP2FkODIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfRG9tID0gcmVxdWlyZSgnLi4vdXRpbHMvRG9tJyk7XG5cbnZhciBfRG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RvbSk7XG5cbnZhciBfY2xhc3NsaXN0ID0gcmVxdWlyZSgnLi4vdXRpbHMvY2xhc3NsaXN0Jyk7XG5cbnZhciBfY2xhc3NsaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbGlzdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8vIERlZmF1bHQgaXMgdmFsdWVcbnZhciBUWVBFX1ZBTF9NQVAgPSB7XG4gICAgcmFkaW86ICdjaGVja2VkJyxcbiAgICBjaGVja2JveDogJ2NoZWNrZWQnXG59O1xuXG52YXIgRm9ybUlucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZvcm1JbnB1dChlbGVtZW50KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGb3JtSW5wdXQpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMucnVsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5tc2dXcmFwcGVyID0gX0RvbTIuZGVmYXVsdC5jcmVhdGVEb20oJ2RpdicsIHsgJ2NsYXNzJzogJ2Zvcm0tbXNnLXdyYXBwZXInIH0pO1xuICAgICAgICB0aGlzLmVycm9yV3JhcHBlciA9IF9Eb20yLmRlZmF1bHQuY3JlYXRlRG9tKCdkaXYnLCB7ICdjbGFzcyc6ICdmb3JtLWVycm9yLXdyYXBwZXInIH0pO1xuXG4gICAgICAgIHZhciBzaWJsaW5nID0gZWxlbWVudC5uZXh0U2libGluZztcbiAgICAgICAgaWYgKHNpYmxpbmcpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5tc2dXcmFwcGVyLCBzaWJsaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLm1zZ1dyYXBwZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXNnV3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmVycm9yV3JhcHBlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB2YWx1ZSBvZiBpbnB1dCBlbGVtZW50XG4gICAgICogSXQgZGVwZW5kcyBvbiB0eXBlIG9mIGVsZW1lbnQsIGlmIGNoZWNrYm94IG9yIHJhZGlvLCByZXR1cm5zIHZhbHVlIG9mIGNoZWNrZWQgcHJvcGVydHlcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEZvcm1JbnB1dCwgW3tcbiAgICAgICAga2V5OiAnZ2V0VmFsdWUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50W1RZUEVfVkFMX01BUFt0aGlzLmVsZW1lbnQudHlwZV0gfHwgJ3ZhbHVlJ107XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVmFsaWRhdGVzIGlmIGlucHV0IGhhcyBhbnkgZXJyb3IsIGlmIG5vdCByZW1vdmVzICdlcnJvcicgY2xhc3NOYW1lXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaXNWYWxpZCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1ZhbGlkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzLmxlbmd0aCA9PT0gMCA/IF9jbGFzc2xpc3QyLmRlZmF1bHQucmVtb3ZlKHRoaXMuZWxlbWVudCwgJ2Vycm9yJykgfHwgdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZHMgZXJyb3IgdG8gZm9ybSBpbnB1dFxuICAgICAgICAgKiBAcGFyYW0gZXJyb3JcbiAgICAgICAgICogQHJldHVybnMgeyp9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhZGRFcnJvcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFcnJvcihlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICB0aGlzLmVycm9yV3JhcHBlci5hcHBlbmRDaGlsZChlcnJvci5lbGVtZW50KTtcbiAgICAgICAgICAgIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LmFkZCh0aGlzLmVsZW1lbnQsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yLmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBpbmZvcm1hdGlvbiBtZXNzYWdlIHRvIGlucHV0XG4gICAgICAgICAqIEBwYXJhbSBtc2dcbiAgICAgICAgICogQHJldHVybnMgeyp9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzZXRNZXNzYWdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1lc3NhZ2UobXNnKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyTWVzc2FnZSgpO1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gbXNnO1xuICAgICAgICAgICAgdGhpcy5tc2dXcmFwcGVyLmFwcGVuZENoaWxkKG1zZy5lbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybiBtc2cuaWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVsZXRlIG1lc3NhZ2VcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NsZWFyTWVzc2FnZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhck1lc3NhZ2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgX0RvbTIuZGVmYXVsdC5yZW1vdmVOb2RlKHRoaXMubWVzc2FnZS5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEZvcm1JbnB1dDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRm9ybUlucHV0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90cmluaXR5L2NvbXBvbmVudHMvRm9ybUlucHV0LmpzXG4vLyBtb2R1bGUgaWQgPSA0ODVcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 486:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.classlist = undefined;\nexports.disable = disable;\nexports.enable = enable;\nexports.removeNode = removeNode;\nexports.removeChildren = removeChildren;\nexports.htmlToDocumentFragment = htmlToDocumentFragment;\nexports.replaceNode = replaceNode;\nexports.createDom = createDom;\n\nvar _classlist = __webpack_require__(487);\n\nvar _classlist2 = _interopRequireDefault(_classlist);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Just export classlist to have it all in one component\n * @type {{}}\n */\nvar classlist = exports.classlist = _classlist2.default;\n\n/**\n * Disable element by adding attribute disabled=\"disabled\"\n * @param element\n */\n/**\n * Created by fisa on 10/26/15.\n */\n\nfunction disable(element) {\n    if (!element.disabled) {\n        element.setAttribute('disabled', 'disabled');\n    }\n}\n\n/**\n * Enable disabled attribute by removing attribute \"disabled\"\n * @param element\n */\nfunction enable(element) {\n    if (element.disabled) {\n        element.removeAttribute('disabled');\n    }\n}\n\n/**\n * Removes a node from its parent.\n * @param {Node} node The node to remove.\n * @return {Node} The node removed if removed; else, null.\n */\nfunction removeNode(node) {\n    return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n}\n\n/**\n * Removes all the child nodes on a DOM node.\n * @param {Node} node Node to remove children from.\n */\nfunction removeChildren(node) {\n    var child;\n    while (child = node.firstChild) {\n        node.removeChild(child);\n    }\n}\n\n/**\n * Create document fragment from html string\n * @param htmlString\n * @returns {*}\n */\nfunction htmlToDocumentFragment(htmlString) {\n    var tempDiv = document.createElement('div');\n    tempDiv.innerHTML = htmlString;\n\n    if (tempDiv.childNodes.length == 1) {\n        return tempDiv.removeChild(tempDiv.firstChild);\n    }\n    var fragment = document.createDocumentFragment();\n    while (tempDiv.firstChild) {\n        fragment.appendChild(tempDiv.firstChild);\n    }\n    return fragment;\n}\n\n/**\n * Replaces a node in the DOM tree. Will do nothing if {@code oldNode} has no\n * parent.\n * @param {Node} newNode Node to insert.\n * @param {Node} oldNode Node to replace.\n */\nfunction replaceNode(newNode, oldNode) {\n    var parent = oldNode.parentNode;\n    if (parent) {\n        parent.replaceChild(newNode, oldNode);\n    }\n}\n\n/**\n * Creates DOM element\n * @param tagName\n * @param elementAttributes\n * @param innerHTML\n * @returns {Element}\n */\nfunction createDom(tagName, elementAttributes, innerHTML) {\n    var tmpElement = document.createElement(tagName);\n    // Attributes?\n    if (elementAttributes) {\n        var attKeys = Object.keys(elementAttributes),\n            keysLength = attKeys.length;\n\n        for (var i = 0; i < keysLength; i++) {\n            tmpElement.setAttribute(attKeys[i], elementAttributes[attKeys[i]]);\n        }\n    }\n    // InnerHTML?\n    if (innerHTML && typeof innerHTML === 'string') {\n        //TODO: innerHTML should be checked - sanitized\n        tmpElement.innerHTML = innerHTML;\n    } else if (innerHTML instanceof HTMLElement) {\n        tmpElement.appendChild(innerHTML);\n    }\n    return tmpElement;\n}\n\nvar Dom = {\n    classlist: _classlist2.default,\n    disable: disable,\n    enable: enable,\n    removeNode: removeNode,\n    removeChildren: removeChildren,\n    htmlToDocumentFragment: htmlToDocumentFragment,\n    replaceNode: replaceNode,\n    createDom: createDom\n};\nexports.default = Dom;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L3V0aWxzL0RvbS5qcz82MTg2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jbGFzc2xpc3QgPSB1bmRlZmluZWQ7XG5leHBvcnRzLmRpc2FibGUgPSBkaXNhYmxlO1xuZXhwb3J0cy5lbmFibGUgPSBlbmFibGU7XG5leHBvcnRzLnJlbW92ZU5vZGUgPSByZW1vdmVOb2RlO1xuZXhwb3J0cy5yZW1vdmVDaGlsZHJlbiA9IHJlbW92ZUNoaWxkcmVuO1xuZXhwb3J0cy5odG1sVG9Eb2N1bWVudEZyYWdtZW50ID0gaHRtbFRvRG9jdW1lbnRGcmFnbWVudDtcbmV4cG9ydHMucmVwbGFjZU5vZGUgPSByZXBsYWNlTm9kZTtcbmV4cG9ydHMuY3JlYXRlRG9tID0gY3JlYXRlRG9tO1xuXG52YXIgX2NsYXNzbGlzdCA9IHJlcXVpcmUoJy4vY2xhc3NsaXN0LmpzJyk7XG5cbnZhciBfY2xhc3NsaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbGlzdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogSnVzdCBleHBvcnQgY2xhc3NsaXN0IHRvIGhhdmUgaXQgYWxsIGluIG9uZSBjb21wb25lbnRcbiAqIEB0eXBlIHt7fX1cbiAqL1xudmFyIGNsYXNzbGlzdCA9IGV4cG9ydHMuY2xhc3NsaXN0ID0gX2NsYXNzbGlzdDIuZGVmYXVsdDtcblxuLyoqXG4gKiBEaXNhYmxlIGVsZW1lbnQgYnkgYWRkaW5nIGF0dHJpYnV0ZSBkaXNhYmxlZD1cImRpc2FibGVkXCJcbiAqIEBwYXJhbSBlbGVtZW50XG4gKi9cbi8qKlxuICogQ3JlYXRlZCBieSBmaXNhIG9uIDEwLzI2LzE1LlxuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoZWxlbWVudCkge1xuICAgIGlmICghZWxlbWVudC5kaXNhYmxlZCkge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICB9XG59XG5cbi8qKlxuICogRW5hYmxlIGRpc2FibGVkIGF0dHJpYnV0ZSBieSByZW1vdmluZyBhdHRyaWJ1dGUgXCJkaXNhYmxlZFwiXG4gKiBAcGFyYW0gZWxlbWVudFxuICovXG5mdW5jdGlvbiBlbmFibGUoZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50LmRpc2FibGVkKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGEgbm9kZSBmcm9tIGl0cyBwYXJlbnQuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlLlxuICogQHJldHVybiB7Tm9kZX0gVGhlIG5vZGUgcmVtb3ZlZCBpZiByZW1vdmVkOyBlbHNlLCBudWxsLlxuICovXG5mdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZSAmJiBub2RlLnBhcmVudE5vZGUgPyBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSkgOiBudWxsO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHRoZSBjaGlsZCBub2RlcyBvbiBhIERPTSBub2RlLlxuICogQHBhcmFtIHtOb2RlfSBub2RlIE5vZGUgdG8gcmVtb3ZlIGNoaWxkcmVuIGZyb20uXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKG5vZGUpIHtcbiAgICB2YXIgY2hpbGQ7XG4gICAgd2hpbGUgKGNoaWxkID0gbm9kZS5maXJzdENoaWxkKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgZG9jdW1lbnQgZnJhZ21lbnQgZnJvbSBodG1sIHN0cmluZ1xuICogQHBhcmFtIGh0bWxTdHJpbmdcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBodG1sVG9Eb2N1bWVudEZyYWdtZW50KGh0bWxTdHJpbmcpIHtcbiAgICB2YXIgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRlbXBEaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZztcblxuICAgIGlmICh0ZW1wRGl2LmNoaWxkTm9kZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBEaXYucmVtb3ZlQ2hpbGQodGVtcERpdi5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIHdoaWxlICh0ZW1wRGl2LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQodGVtcERpdi5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG4vKipcbiAqIFJlcGxhY2VzIGEgbm9kZSBpbiB0aGUgRE9NIHRyZWUuIFdpbGwgZG8gbm90aGluZyBpZiB7QGNvZGUgb2xkTm9kZX0gaGFzIG5vXG4gKiBwYXJlbnQuXG4gKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgTm9kZSB0byBpbnNlcnQuXG4gKiBAcGFyYW0ge05vZGV9IG9sZE5vZGUgTm9kZSB0byByZXBsYWNlLlxuICovXG5mdW5jdGlvbiByZXBsYWNlTm9kZShuZXdOb2RlLCBvbGROb2RlKSB7XG4gICAgdmFyIHBhcmVudCA9IG9sZE5vZGUucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgb2xkTm9kZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB0YWdOYW1lXG4gKiBAcGFyYW0gZWxlbWVudEF0dHJpYnV0ZXNcbiAqIEBwYXJhbSBpbm5lckhUTUxcbiAqIEByZXR1cm5zIHtFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGVEb20odGFnTmFtZSwgZWxlbWVudEF0dHJpYnV0ZXMsIGlubmVySFRNTCkge1xuICAgIHZhciB0bXBFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgICAvLyBBdHRyaWJ1dGVzP1xuICAgIGlmIChlbGVtZW50QXR0cmlidXRlcykge1xuICAgICAgICB2YXIgYXR0S2V5cyA9IE9iamVjdC5rZXlzKGVsZW1lbnRBdHRyaWJ1dGVzKSxcbiAgICAgICAgICAgIGtleXNMZW5ndGggPSBhdHRLZXlzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdG1wRWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0S2V5c1tpXSwgZWxlbWVudEF0dHJpYnV0ZXNbYXR0S2V5c1tpXV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIElubmVySFRNTD9cbiAgICBpZiAoaW5uZXJIVE1MICYmIHR5cGVvZiBpbm5lckhUTUwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vVE9ETzogaW5uZXJIVE1MIHNob3VsZCBiZSBjaGVja2VkIC0gc2FuaXRpemVkXG4gICAgICAgIHRtcEVsZW1lbnQuaW5uZXJIVE1MID0gaW5uZXJIVE1MO1xuICAgIH0gZWxzZSBpZiAoaW5uZXJIVE1MIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdG1wRWxlbWVudC5hcHBlbmRDaGlsZChpbm5lckhUTUwpO1xuICAgIH1cbiAgICByZXR1cm4gdG1wRWxlbWVudDtcbn1cblxudmFyIERvbSA9IHtcbiAgICBjbGFzc2xpc3Q6IF9jbGFzc2xpc3QyLmRlZmF1bHQsXG4gICAgZGlzYWJsZTogZGlzYWJsZSxcbiAgICBlbmFibGU6IGVuYWJsZSxcbiAgICByZW1vdmVOb2RlOiByZW1vdmVOb2RlLFxuICAgIHJlbW92ZUNoaWxkcmVuOiByZW1vdmVDaGlsZHJlbixcbiAgICBodG1sVG9Eb2N1bWVudEZyYWdtZW50OiBodG1sVG9Eb2N1bWVudEZyYWdtZW50LFxuICAgIHJlcGxhY2VOb2RlOiByZXBsYWNlTm9kZSxcbiAgICBjcmVhdGVEb206IGNyZWF0ZURvbVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IERvbTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHJpbml0eS91dGlscy9Eb20uanNcbi8vIG1vZHVsZSBpZCA9IDQ4NlxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 487:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar classlist = {}; /**\n                     * Created by fisa on 10/26/15.\n                     */\nexports.default = classlist;\n\n/**\n * Gets classlist Object\n * @param element {HTMLElement}\n * @returns {*}\n */\n\nclasslist.get = function (element) {\n    if (element.classList) {\n        return element.classList;\n    }\n\n    var className = element.className;\n    // Some types of elements don't have a className in IE (e.g. iframes).\n    // Furthermore, in Firefox, className is not a string when the element is\n    // an SVG element.\n    return _lodash2.default.isString(className) && className.match(/\\S+/g) || [];\n};\n\n/**\n * Adds a class to an element.  Does not add multiples of class names.  This\n * method may throw a DOM exception for an invalid or empty class name if\n * DOMTokenList is used.\n * @param {Element} element DOM node to add class to.\n * @param {string} className Class name to add.\n */\nclasslist.add = function (element, className) {\n    if (element.classList) {\n        element.classList.add(className);\n        return;\n    }\n\n    if (!classlist.contains(element, className)) {\n        // Ensure we add a space if this is not the first class name added.\n        element.className += element.className.length > 0 ? ' ' + className : className;\n    }\n};\n\n/**\n * Add all classes to element, avoid duplicates\n * @param {Element} element\n * @param {Array<string>} classesToAdd\n */\nclasslist.addAll = function (element, classesToAdd) {\n    if (element.classList) {\n        _lodash2.default.each(classesToAdd, function (c) {\n            return element.classList.add(c);\n        });\n        return;\n    }\n\n    var classMap = {};\n\n    // Get all current class names into a map.\n    _lodash2.default.each(classlist.get(element), function (className) {\n        classMap[className] = true;\n    });\n\n    // Add new class names to the map.\n    _lodash2.default.each(classesToAdd, function (className) {\n        classMap[className] = true;\n    });\n\n    // Flatten the keys of the map into the className.\n    element.className = '';\n    for (var className in classMap) {\n        element.className += element.className.length > 0 ? ' ' + className : className;\n    }\n};\n\n/**\n * Removes a class from an element.  This method may throw a DOM exception\n * for an invalid or empty class name if DOMTokenList is used.\n * @param {Element} element DOM node to remove class from.\n * @param {string} className Class name to remove.\n */\nclasslist.remove = function (element, className) {\n    if (element.classList) {\n        element.classList.remove(className);\n        return;\n    }\n\n    if (classlist.contains(element, className)) {\n        // Filter out the class name.\n        element.className = _lodash2.default.filter(classlist.get(element), function (c) {\n            return c != className;\n        }).join(' ');\n    }\n};\n\n/**\n * Removes all classes\n * @param {Element} element\n * @param {Array<string>} classesToRemove\n */\nclasslist.removeAll = function (element, classesToRemove) {\n    if (element.classList) {\n        _lodash2.default.each(classesToRemove, function (c) {\n            return element.classList.remove(c);\n        });\n        return;\n    }\n    // Filter out those classes in classesToRemove.\n    element.className = _lodash2.default.filter(classlist.get(element), function (className) {\n        // If this class is not one we are trying to remove,\n        // add it to the array of new class names.\n        return !_lodash2.default.contains(classesToRemove, className);\n    }).join(' ');\n};\n\n/**\n * Returns true if element contains className provided\n * @param {Element} element\n * @param {string} className\n * @returns {boolean}\n */\nclasslist.contains = function (element, className) {\n    return element.classList ? element.classList.contains(className) : _lodash2.default.includes(classlist.get(element), className);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L3V0aWxzL2NsYXNzbGlzdC5qcz9kNjA5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY2xhc3NsaXN0ID0ge307IC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVkIGJ5IGZpc2Egb24gMTAvMjYvMTUuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuZXhwb3J0cy5kZWZhdWx0ID0gY2xhc3NsaXN0O1xuXG4vKipcbiAqIEdldHMgY2xhc3NsaXN0IE9iamVjdFxuICogQHBhcmFtIGVsZW1lbnQge0hUTUxFbGVtZW50fVxuICogQHJldHVybnMgeyp9XG4gKi9cblxuY2xhc3NsaXN0LmdldCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdDtcbiAgICB9XG5cbiAgICB2YXIgY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWU7XG4gICAgLy8gU29tZSB0eXBlcyBvZiBlbGVtZW50cyBkb24ndCBoYXZlIGEgY2xhc3NOYW1lIGluIElFIChlLmcuIGlmcmFtZXMpLlxuICAgIC8vIEZ1cnRoZXJtb3JlLCBpbiBGaXJlZm94LCBjbGFzc05hbWUgaXMgbm90IGEgc3RyaW5nIHdoZW4gdGhlIGVsZW1lbnQgaXNcbiAgICAvLyBhbiBTVkcgZWxlbWVudC5cbiAgICByZXR1cm4gX2xvZGFzaDIuZGVmYXVsdC5pc1N0cmluZyhjbGFzc05hbWUpICYmIGNsYXNzTmFtZS5tYXRjaCgvXFxTKy9nKSB8fCBbXTtcbn07XG5cbi8qKlxuICogQWRkcyBhIGNsYXNzIHRvIGFuIGVsZW1lbnQuICBEb2VzIG5vdCBhZGQgbXVsdGlwbGVzIG9mIGNsYXNzIG5hbWVzLiAgVGhpc1xuICogbWV0aG9kIG1heSB0aHJvdyBhIERPTSBleGNlcHRpb24gZm9yIGFuIGludmFsaWQgb3IgZW1wdHkgY2xhc3MgbmFtZSBpZlxuICogRE9NVG9rZW5MaXN0IGlzIHVzZWQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgRE9NIG5vZGUgdG8gYWRkIGNsYXNzIHRvLlxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBDbGFzcyBuYW1lIHRvIGFkZC5cbiAqL1xuY2xhc3NsaXN0LmFkZCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWNsYXNzbGlzdC5jb250YWlucyhlbGVtZW50LCBjbGFzc05hbWUpKSB7XG4gICAgICAgIC8vIEVuc3VyZSB3ZSBhZGQgYSBzcGFjZSBpZiB0aGlzIGlzIG5vdCB0aGUgZmlyc3QgY2xhc3MgbmFtZSBhZGRlZC5cbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gZWxlbWVudC5jbGFzc05hbWUubGVuZ3RoID4gMCA/ICcgJyArIGNsYXNzTmFtZSA6IGNsYXNzTmFtZTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFkZCBhbGwgY2xhc3NlcyB0byBlbGVtZW50LCBhdm9pZCBkdXBsaWNhdGVzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gY2xhc3Nlc1RvQWRkXG4gKi9cbmNsYXNzbGlzdC5hZGRBbGwgPSBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3Nlc1RvQWRkKSB7XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaChjbGFzc2VzVG9BZGQsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuYWRkKGMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjbGFzc01hcCA9IHt9O1xuXG4gICAgLy8gR2V0IGFsbCBjdXJyZW50IGNsYXNzIG5hbWVzIGludG8gYSBtYXAuXG4gICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKGNsYXNzbGlzdC5nZXQoZWxlbWVudCksIGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgY2xhc3NNYXBbY2xhc3NOYW1lXSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgbmV3IGNsYXNzIG5hbWVzIHRvIHRoZSBtYXAuXG4gICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKGNsYXNzZXNUb0FkZCwgZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICBjbGFzc01hcFtjbGFzc05hbWVdID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIC8vIEZsYXR0ZW4gdGhlIGtleXMgb2YgdGhlIG1hcCBpbnRvIHRoZSBjbGFzc05hbWUuXG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSAnJztcbiAgICBmb3IgKHZhciBjbGFzc05hbWUgaW4gY2xhc3NNYXApIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gZWxlbWVudC5jbGFzc05hbWUubGVuZ3RoID4gMCA/ICcgJyArIGNsYXNzTmFtZSA6IGNsYXNzTmFtZTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYSBjbGFzcyBmcm9tIGFuIGVsZW1lbnQuICBUaGlzIG1ldGhvZCBtYXkgdGhyb3cgYSBET00gZXhjZXB0aW9uXG4gKiBmb3IgYW4gaW52YWxpZCBvciBlbXB0eSBjbGFzcyBuYW1lIGlmIERPTVRva2VuTGlzdCBpcyB1c2VkLlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IERPTSBub2RlIHRvIHJlbW92ZSBjbGFzcyBmcm9tLlxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBDbGFzcyBuYW1lIHRvIHJlbW92ZS5cbiAqL1xuY2xhc3NsaXN0LnJlbW92ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2xhc3NsaXN0LmNvbnRhaW5zKGVsZW1lbnQsIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgLy8gRmlsdGVyIG91dCB0aGUgY2xhc3MgbmFtZS5cbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBfbG9kYXNoMi5kZWZhdWx0LmZpbHRlcihjbGFzc2xpc3QuZ2V0KGVsZW1lbnQpLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgcmV0dXJuIGMgIT0gY2xhc3NOYW1lO1xuICAgICAgICB9KS5qb2luKCcgJyk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBjbGFzc2VzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gY2xhc3Nlc1RvUmVtb3ZlXG4gKi9cbmNsYXNzbGlzdC5yZW1vdmVBbGwgPSBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3Nlc1RvUmVtb3ZlKSB7XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaChjbGFzc2VzVG9SZW1vdmUsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBGaWx0ZXIgb3V0IHRob3NlIGNsYXNzZXMgaW4gY2xhc3Nlc1RvUmVtb3ZlLlxuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gX2xvZGFzaDIuZGVmYXVsdC5maWx0ZXIoY2xhc3NsaXN0LmdldChlbGVtZW50KSwgZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICAvLyBJZiB0aGlzIGNsYXNzIGlzIG5vdCBvbmUgd2UgYXJlIHRyeWluZyB0byByZW1vdmUsXG4gICAgICAgIC8vIGFkZCBpdCB0byB0aGUgYXJyYXkgb2YgbmV3IGNsYXNzIG5hbWVzLlxuICAgICAgICByZXR1cm4gIV9sb2Rhc2gyLmRlZmF1bHQuY29udGFpbnMoY2xhc3Nlc1RvUmVtb3ZlLCBjbGFzc05hbWUpO1xuICAgIH0pLmpvaW4oJyAnKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGVsZW1lbnQgY29udGFpbnMgY2xhc3NOYW1lIHByb3ZpZGVkXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jbGFzc2xpc3QuY29udGFpbnMgPSBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0ID8gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSA6IF9sb2Rhc2gyLmRlZmF1bHQuaW5jbHVkZXMoY2xhc3NsaXN0LmdldChlbGVtZW50KSwgY2xhc3NOYW1lKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3RyaW5pdHkvdXRpbHMvY2xhc3NsaXN0LmpzXG4vLyBtb2R1bGUgaWQgPSA0ODdcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 488:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 10/26/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.messageService = messageService;\n\nvar _Dom = __webpack_require__(486);\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Flash messages\n * @param message\n * @param type\n */\nfunction messageService(message, type) {\n    type = type || 'info';\n    message = message || type;\n\n    var ajaxInput = document.querySelector('.ajax-checkbox'),\n        ajaxAlert = document.querySelector('.ajax-alert'),\n        box = document.getElementById('flashMessages');\n\n    if (!ajaxInput || !ajaxAlert) {\n        /*eslint-disable*/\n        console.log('MESSAGE', message);\n        /*eslint-enable*/\n        alert(message);\n        return;\n    }\n\n    ajaxInput = ajaxInput.cloneNode(true);\n    ajaxAlert = ajaxAlert.cloneNode(true);\n\n    var iconClass = '';\n    switch (type) {\n        case 'success':\n            {\n                iconClass = 'trinity trinity-ok';\n            }\n            break;\n        case 'warning':\n            {\n                iconClass = 'trinity trinity-warning';\n            }\n            break;\n        case 'error':\n        case 'danger':\n            {\n                type = 'danger';\n                iconClass = 'tiecons tiecons-exclamation-mark-circle';\n            }\n            break;\n        default:\n            {\n                iconClass = 'trinity trinity-info';\n            }\n            break;\n    }\n\n    // Assign new values\n    var id = Math.floor(Math.random() * (9999 - 10));\n    ajaxInput.setAttribute('id', 'close-alert-' + type + '-' + id);\n    ajaxAlert.innerHTML = ajaxAlert.innerHTML.replace('{id}', id.toString()).replace('{message}', message).replace('{icon}', iconClass).replace('{type}', type);\n    ajaxAlert.className = ajaxAlert.className.replace('{type}', type);\n\n    _Dom2.default.classlist.remove(ajaxInput, 'ajax-checkbox');\n    _Dom2.default.classlist.remove(ajaxAlert, 'ajax-alert');\n\n    box.appendChild(ajaxInput);\n    box.appendChild(ajaxAlert);\n\n    if (type == 'success') {\n        (function () {\n            var timeOutId = setTimeout(function () {\n                _Dom2.default.removeNode(ajaxInput);\n                _Dom2.default.removeNode(ajaxAlert);\n                clearTimeout(timeOutId); // just to be sure\n            }, 2000);\n        })();\n    }\n    return {\n        ajaxInput: ajaxInput,\n        ajaxAlert: ajaxAlert\n    };\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L1NlcnZpY2VzLmpzP2Y0MDUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGZpc2Egb24gMTAvMjYvMTUuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5tZXNzYWdlU2VydmljZSA9IG1lc3NhZ2VTZXJ2aWNlO1xuXG52YXIgX0RvbSA9IHJlcXVpcmUoJy4vdXRpbHMvRG9tLmpzJyk7XG5cbnZhciBfRG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RvbSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogRmxhc2ggbWVzc2FnZXNcbiAqIEBwYXJhbSBtZXNzYWdlXG4gKiBAcGFyYW0gdHlwZVxuICovXG5mdW5jdGlvbiBtZXNzYWdlU2VydmljZShtZXNzYWdlLCB0eXBlKSB7XG4gICAgdHlwZSA9IHR5cGUgfHwgJ2luZm8nO1xuICAgIG1lc3NhZ2UgPSBtZXNzYWdlIHx8IHR5cGU7XG5cbiAgICB2YXIgYWpheElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFqYXgtY2hlY2tib3gnKSxcbiAgICAgICAgYWpheEFsZXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFqYXgtYWxlcnQnKSxcbiAgICAgICAgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZsYXNoTWVzc2FnZXMnKTtcblxuICAgIGlmICghYWpheElucHV0IHx8ICFhamF4QWxlcnQpIHtcbiAgICAgICAgLyplc2xpbnQtZGlzYWJsZSovXG4gICAgICAgIGNvbnNvbGUubG9nKCdNRVNTQUdFJywgbWVzc2FnZSk7XG4gICAgICAgIC8qZXNsaW50LWVuYWJsZSovXG4gICAgICAgIGFsZXJ0KG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYWpheElucHV0ID0gYWpheElucHV0LmNsb25lTm9kZSh0cnVlKTtcbiAgICBhamF4QWxlcnQgPSBhamF4QWxlcnQuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgdmFyIGljb25DbGFzcyA9ICcnO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdzdWNjZXNzJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpY29uQ2xhc3MgPSAndHJpbml0eSB0cmluaXR5LW9rJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd3YXJuaW5nJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpY29uQ2xhc3MgPSAndHJpbml0eSB0cmluaXR5LXdhcm5pbmcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgY2FzZSAnZGFuZ2VyJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gJ2Rhbmdlcic7XG4gICAgICAgICAgICAgICAgaWNvbkNsYXNzID0gJ3RpZWNvbnMgdGllY29ucy1leGNsYW1hdGlvbi1tYXJrLWNpcmNsZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpY29uQ2xhc3MgPSAndHJpbml0eSB0cmluaXR5LWluZm8nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gQXNzaWduIG5ldyB2YWx1ZXNcbiAgICB2YXIgaWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoOTk5OSAtIDEwKSk7XG4gICAgYWpheElucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCAnY2xvc2UtYWxlcnQtJyArIHR5cGUgKyAnLScgKyBpZCk7XG4gICAgYWpheEFsZXJ0LmlubmVySFRNTCA9IGFqYXhBbGVydC5pbm5lckhUTUwucmVwbGFjZSgne2lkfScsIGlkLnRvU3RyaW5nKCkpLnJlcGxhY2UoJ3ttZXNzYWdlfScsIG1lc3NhZ2UpLnJlcGxhY2UoJ3tpY29ufScsIGljb25DbGFzcykucmVwbGFjZSgne3R5cGV9JywgdHlwZSk7XG4gICAgYWpheEFsZXJ0LmNsYXNzTmFtZSA9IGFqYXhBbGVydC5jbGFzc05hbWUucmVwbGFjZSgne3R5cGV9JywgdHlwZSk7XG5cbiAgICBfRG9tMi5kZWZhdWx0LmNsYXNzbGlzdC5yZW1vdmUoYWpheElucHV0LCAnYWpheC1jaGVja2JveCcpO1xuICAgIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LnJlbW92ZShhamF4QWxlcnQsICdhamF4LWFsZXJ0Jyk7XG5cbiAgICBib3guYXBwZW5kQ2hpbGQoYWpheElucHV0KTtcbiAgICBib3guYXBwZW5kQ2hpbGQoYWpheEFsZXJ0KTtcblxuICAgIGlmICh0eXBlID09ICdzdWNjZXNzJykge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRpbWVPdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9Eb20yLmRlZmF1bHQucmVtb3ZlTm9kZShhamF4SW5wdXQpO1xuICAgICAgICAgICAgICAgIF9Eb20yLmRlZmF1bHQucmVtb3ZlTm9kZShhamF4QWxlcnQpO1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lT3V0SWQpOyAvLyBqdXN0IHRvIGJlIHN1cmVcbiAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhamF4SW5wdXQ6IGFqYXhJbnB1dCxcbiAgICAgICAgYWpheEFsZXJ0OiBhamF4QWxlcnRcbiAgICB9O1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90cmluaXR5L1NlcnZpY2VzLmpzXG4vLyBtb2R1bGUgaWQgPSA0ODhcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 489:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _fbemitter = __webpack_require__(182);\n\nvar _Tab = __webpack_require__(490);\n\nvar _Tab2 = _interopRequireDefault(_Tab);\n\nvar _Events = __webpack_require__(483);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Event name constants\n * @type {string}\n */\nvar TAB_LOAD = 'tab-load',\n    TAB_CHANGED = 'tab-changed',\n    TAB_UNLOAD = 'tab-unload';\n\n/**\n * Trinity Tab\n */\n\nvar TrinityTab = function (_EventEmitter) {\n    _inherits(TrinityTab, _EventEmitter);\n\n    /**\n     * Heads of tab component\n     * @param [tabHeads] {Array<HTMLElement>}\n     * @param [configuration] {object}\n     */\n    function TrinityTab(tabHeads, configuration) {\n        _classCallCheck(this, TrinityTab);\n\n        tabHeads = tabHeads || document.querySelectorAll('.tab-head');\n        if (tabHeads.length < 1) {\n            throw new Error('No \"tabHeads\" provided or elements with \"tab-head\" class not found!');\n        }\n\n        var _this = _possibleConstructorReturn(this, (TrinityTab.__proto__ || Object.getPrototypeOf(TrinityTab)).call(this));\n\n        _this.configuration = configuration || {};\n        _this.heads = tabHeads;\n        _this.aliasIdPairs = { alToId: {}, idToAl: {} };\n        // find heads with aliases\n        _lodash2.default.each(tabHeads, function (head) {\n            head.alias = head.getAttribute('data-alias'); // sets custom attribute, for not having to use getAttribute anny later\n            if (head.alias) {\n                _this.aliasIdPairs.alToId[head.alias] = head.id;\n                _this.aliasIdPairs.idToAl[head.id] = head.alias;\n            }\n        });\n\n        _this.tabs = {};\n        _this.__activeTabName = null;\n        _this.__prevTabName = null;\n\n        // Create tabs\n        _lodash2.default.each(tabHeads, function (head) {\n            _this.tabs[head.id] = new _Tab2.default(head);\n            // If no config is provided, try look also for _other\n            _this.configuration[head.id] = _lodash2.default.extend({}, _this.configuration['_default'], _this.configuration[head.id]);\n        });\n\n        // Find active Head\n        // Check which tab to load first\n        var tabName = location.hash.substring(1),\n            activeHead = null;\n\n        if (tabName.length > 0) {\n            if (_this.aliasIdPairs.alToId[tabName]) {\n                (function () {\n                    var tabId = _this.aliasIdPairs.alToId[tabName];\n                    activeHead = _lodash2.default.find(_this.heads, function (head) {\n                        return head.id === tabId;\n                    });\n                })();\n            } else {\n                activeHead = _lodash2.default.find(_this.heads, function (head) {\n                    return head.id === tabName;\n                });\n                if (activeHead && activeHead.alias) {\n                    // if head have alias, replace hash and tabName to it\n                    tabName = activeHead.alias;\n                    window.location.hash = '#' + activeHead.alias;\n                }\n            }\n        }\n\n        if (activeHead) {\n            activeHead.setAttribute('checked', 'checked'); //sets head from url as active\n        } else {\n            activeHead = _lodash2.default.find(_this.heads, function (tab) {\n                var checked = false;\n                if (_lodash2.default.isUndefined(tab.checked)) {\n                    checked = !_lodash2.default.isNull(tab.getAttribute('checked'));\n                } else {\n                    checked = tab.checked;\n                }\n                return checked;\n            });\n            if (!activeHead) {\n                activeHead = _this.heads[0];\n            }\n            tabName = activeHead.alias || activeHead.id;\n            // Replace history string\n            window.history.replaceState(null, tabName, '#' + tabName);\n        }\n        // Got active head\n        _this.__activeTabName = activeHead.id;\n\n        // Request content for active tab\n        _this.tabs[activeHead.id].loadContent(_this.__onTabLoad.bind(_this));\n\n        /** Attach click event Listeners to other heads **/\n        _this.__listeners = _this.__attachHeadClickEvents();\n\n        // Navigation\n        window.addEventListener('popstate', __handleNavigation.bind(_this));\n        return _this;\n    }\n\n    /**\n     * Attach onClick events to tab heads\n     * @returns Array<function> - unlisteners\n     * @private\n     */\n\n\n    _createClass(TrinityTab, [{\n        key: '__attachHeadClickEvents',\n        value: function __attachHeadClickEvents() {\n            var _this2 = this;\n\n            return _lodash2.default.map(this.heads, function (head) {\n                return _Events2.default.listen(head, 'click', _this2.setActiveTab.bind(_this2, head.id));\n            });\n        }\n\n        /**\n         * Private callback, called when tab is loaded\n         * @param err {object} can be null\n         * @param tab {Tab} object\n         * @private\n         */\n\n    }, {\n        key: '__onTabLoad',\n        value: function __onTabLoad(err, tab) {\n            if (err) {\n                this.emit('error', err);\n                return;\n            }\n            var tabId = tab.id;\n\n            // No error\n            // Call onLoad callback if set\n            var onLoadCallback = this.configuration[tabId].onLoad;\n            if (_lodash2.default.isFunction(onLoadCallback)) {\n                onLoadCallback(tab);\n            }\n            // Emit event\n            this.emit(TAB_LOAD, tab);\n\n            // if loaded tab is also active tab -> call Active callbacks\n            if (tabId === this.__activeTabName) {\n                // On Active callback\n                var onActiveCallback = this.configuration[tabId].onActive;\n                if (_lodash2.default.isFunction(onActiveCallback)) {\n                    onActiveCallback(tab, this.__prevTabName);\n                }\n                // Emit event\n                this.emit(TAB_CHANGED, tab, this.__prevTabName);\n            }\n        }\n\n        /**\n         * Set active Tab by provided tabID\n         * @param tabId {string}\n         * @throws {Error} if tab with provided ID does't exit\n         * @public\n         */\n\n    }, {\n        key: 'setActiveTab',\n        value: function setActiveTab(tabId) {\n            tabId = tabId ? this.aliasIdPairs.alToId[tabId] || tabId : this.heads[0].id;\n\n            var tab = this.tabs[tabId];\n            if (!tab) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error('Tab with id or alias: ' + tabId + ' does not exist!');\n                }\n                return false;\n            }\n\n            // If not loaded -> Load it\n            if (!tab.loaded) {\n                tab.loadContent(this.__onTabLoad.bind(this));\n            }\n\n            if (tabId === this.__activeTabName) {\n                return;\n            }\n            this.__prevTabName = this.__activeTabName;\n            this.__activeTabName = tabId;\n\n            // Select prevTab instance\n            var prevTab = this.tabs[this.__prevTabName];\n\n            // Switch checked attribute\n            prevTab.head.removeAttribute('checked');\n            prevTab.head.checked = false;\n            tab.head.setAttribute('checked', 'checked');\n            tab.head.checked = true;\n\n            //Update Hash URL\n            __pushHistory(tab.alias || tabId);\n\n            // Emit only when is already fetched\n            if (!tab.isFetching) {\n                // On Active callback\n                var onActiveCallback = this.configuration[tabId].onActive;\n                if (_lodash2.default.isFunction(onActiveCallback)) {\n                    onActiveCallback(tab, this.__prevTabName);\n                }\n                // Emit event\n                this.emit(TAB_CHANGED, tab, this.__prevTabName);\n            }\n        }\n\n        /**\n         * Returns active tab\n         * @NOTE: may return NULL if active tab still processing\n         * @public\n         * @returns {Tab}\n         */\n\n    }, {\n        key: 'getActiveTab',\n        value: function getActiveTab() {\n            return this.tabs[this.__activeTabName];\n        }\n\n        /**\n         * Reloads content of tab\n         * @param tabId {string || Array<string>}\n         */\n\n    }, {\n        key: 'reload',\n        value: function reload(tabId) {\n            var _this3 = this;\n\n            var tabs = [].concat(tabId);\n            _lodash2.default.each(tabs, function (tmpTabId) {\n                var tab = _this3.tabs[_this3.aliasIdPairs.alToId[tmpTabId] || tmpTabId];\n                if (tab) {\n                    _this3.__reloadTab(tab);\n                }\n            });\n        }\n\n        /**\n         * Reload content of all tabs\n         */\n\n    }, {\n        key: 'reloadAll',\n        value: function reloadAll() {\n            var _this4 = this;\n\n            _lodash2.default.each(this.tabs, function (tab) {\n                return _this4.__reloadTab(tab);\n            });\n        }\n\n        /**\n         * Destroy all tabs and unload trinityTab so it can be garbage collected,\n         * Also emits tab-unload event and calls delete callback, but cannot be prevented\n         */\n\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            var _this5 = this;\n\n            // unload listeners\n            _lodash2.default.each(this.__listeners, function (f) {\n                return f();\n            });\n            // Delete tabs\n            _lodash2.default.each(this.tabs, function (tab) {\n                // life cycle hook\n                var onDeleteCallback = _this5.configuration[tab.id].onDelete;\n                _lodash2.default.isFunction(onDeleteCallback) && onDeleteCallback(tab, true);\n\n                // global event\n                _this5.emit(TAB_UNLOAD, tab, true);\n\n                // call destroy to Tab\n                tab.destroy();\n            });\n        }\n\n        /**\n         * Emits \"tab-unload\" event and call callback onDelete function\n         * If callback returns false, then do not reload content\n         * This is inner function, should not be called from outside\n         * @param tab {Tab}\n         * @private\n         */\n\n    }, {\n        key: '__reloadTab',\n        value: function __reloadTab(tab) {\n            // reload only if there is what to reload\n            if (tab.loaded) {\n                var callbackFunction = this.configuration[tab.id].onDelete;\n                if (_lodash2.default.isFunction(callbackFunction) && callbackFunction(tab, false) === false) {\n                    return;\n                }\n                this.emit(TAB_UNLOAD, tab);\n                tab.reloadContent(this.__onTabLoad.bind(this));\n            }\n        }\n\n        /**\n         * @deprecated\n         * @param tabID\n         * @param callback\n         * @param context\n         */\n\n    }, {\n        key: 'onLoad',\n        value: function onLoad(tabID, callback, context) {\n            this.addListener(tabID, callback, context);\n        }\n    }]);\n\n    return TrinityTab;\n}(_fbemitter.EventEmitter);\n\n/**\n * Handles pop state navigation\n * @private\n */\n\n\nexports.default = TrinityTab;\nfunction __handleNavigation() {\n    var tabName = location.hash.substring(1);\n    if (tabName.length > 0) {\n        this.setActiveTab(tabName);\n    }\n}\n\n/**\n * Push new history\n * @param newHash\n * @private\n */\nfunction __pushHistory(newHash) {\n    if (newHash !== window.location.hash.substring(1)) {\n        window.history.pushState(null, newHash, '#' + newHash);\n    }\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(34)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L2NvbXBvbmVudHMvVHJpbml0eVRhYi5qcz85MjViIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG52YXIgX2ZiZW1pdHRlciA9IHJlcXVpcmUoJ2ZiZW1pdHRlcicpO1xuXG52YXIgX1RhYiA9IHJlcXVpcmUoJy4vVGFiJyk7XG5cbnZhciBfVGFiMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYik7XG5cbnZhciBfRXZlbnRzID0gcmVxdWlyZSgnLi4vdXRpbHMvRXZlbnRzJyk7XG5cbnZhciBfRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50cyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBFdmVudCBuYW1lIGNvbnN0YW50c1xuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIFRBQl9MT0FEID0gJ3RhYi1sb2FkJyxcbiAgICBUQUJfQ0hBTkdFRCA9ICd0YWItY2hhbmdlZCcsXG4gICAgVEFCX1VOTE9BRCA9ICd0YWItdW5sb2FkJztcblxuLyoqXG4gKiBUcmluaXR5IFRhYlxuICovXG5cbnZhciBUcmluaXR5VGFiID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgICBfaW5oZXJpdHMoVHJpbml0eVRhYiwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBIZWFkcyBvZiB0YWIgY29tcG9uZW50XG4gICAgICogQHBhcmFtIFt0YWJIZWFkc10ge0FycmF5PEhUTUxFbGVtZW50Pn1cbiAgICAgKiBAcGFyYW0gW2NvbmZpZ3VyYXRpb25dIHtvYmplY3R9XG4gICAgICovXG4gICAgZnVuY3Rpb24gVHJpbml0eVRhYih0YWJIZWFkcywgY29uZmlndXJhdGlvbikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJpbml0eVRhYik7XG5cbiAgICAgICAgdGFiSGVhZHMgPSB0YWJIZWFkcyB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWhlYWQnKTtcbiAgICAgICAgaWYgKHRhYkhlYWRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gXCJ0YWJIZWFkc1wiIHByb3ZpZGVkIG9yIGVsZW1lbnRzIHdpdGggXCJ0YWItaGVhZFwiIGNsYXNzIG5vdCBmb3VuZCEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUcmluaXR5VGFiLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHJpbml0eVRhYikpLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uIHx8IHt9O1xuICAgICAgICBfdGhpcy5oZWFkcyA9IHRhYkhlYWRzO1xuICAgICAgICBfdGhpcy5hbGlhc0lkUGFpcnMgPSB7IGFsVG9JZDoge30sIGlkVG9BbDoge30gfTtcbiAgICAgICAgLy8gZmluZCBoZWFkcyB3aXRoIGFsaWFzZXNcbiAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHRhYkhlYWRzLCBmdW5jdGlvbiAoaGVhZCkge1xuICAgICAgICAgICAgaGVhZC5hbGlhcyA9IGhlYWQuZ2V0QXR0cmlidXRlKCdkYXRhLWFsaWFzJyk7IC8vIHNldHMgY3VzdG9tIGF0dHJpYnV0ZSwgZm9yIG5vdCBoYXZpbmcgdG8gdXNlIGdldEF0dHJpYnV0ZSBhbm55IGxhdGVyXG4gICAgICAgICAgICBpZiAoaGVhZC5hbGlhcykge1xuICAgICAgICAgICAgICAgIF90aGlzLmFsaWFzSWRQYWlycy5hbFRvSWRbaGVhZC5hbGlhc10gPSBoZWFkLmlkO1xuICAgICAgICAgICAgICAgIF90aGlzLmFsaWFzSWRQYWlycy5pZFRvQWxbaGVhZC5pZF0gPSBoZWFkLmFsaWFzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy50YWJzID0ge307XG4gICAgICAgIF90aGlzLl9fYWN0aXZlVGFiTmFtZSA9IG51bGw7XG4gICAgICAgIF90aGlzLl9fcHJldlRhYk5hbWUgPSBudWxsO1xuXG4gICAgICAgIC8vIENyZWF0ZSB0YWJzXG4gICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaCh0YWJIZWFkcywgZnVuY3Rpb24gKGhlYWQpIHtcbiAgICAgICAgICAgIF90aGlzLnRhYnNbaGVhZC5pZF0gPSBuZXcgX1RhYjIuZGVmYXVsdChoZWFkKTtcbiAgICAgICAgICAgIC8vIElmIG5vIGNvbmZpZyBpcyBwcm92aWRlZCwgdHJ5IGxvb2sgYWxzbyBmb3IgX290aGVyXG4gICAgICAgICAgICBfdGhpcy5jb25maWd1cmF0aW9uW2hlYWQuaWRdID0gX2xvZGFzaDIuZGVmYXVsdC5leHRlbmQoe30sIF90aGlzLmNvbmZpZ3VyYXRpb25bJ19kZWZhdWx0J10sIF90aGlzLmNvbmZpZ3VyYXRpb25baGVhZC5pZF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBGaW5kIGFjdGl2ZSBIZWFkXG4gICAgICAgIC8vIENoZWNrIHdoaWNoIHRhYiB0byBsb2FkIGZpcnN0XG4gICAgICAgIHZhciB0YWJOYW1lID0gbG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSksXG4gICAgICAgICAgICBhY3RpdmVIZWFkID0gbnVsbDtcblxuICAgICAgICBpZiAodGFiTmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuYWxpYXNJZFBhaXJzLmFsVG9JZFt0YWJOYW1lXSkge1xuICAgICAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJJZCA9IF90aGlzLmFsaWFzSWRQYWlycy5hbFRvSWRbdGFiTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUhlYWQgPSBfbG9kYXNoMi5kZWZhdWx0LmZpbmQoX3RoaXMuaGVhZHMsIGZ1bmN0aW9uIChoZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGVhZC5pZCA9PT0gdGFiSWQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUhlYWQgPSBfbG9kYXNoMi5kZWZhdWx0LmZpbmQoX3RoaXMuaGVhZHMsIGZ1bmN0aW9uIChoZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoZWFkLmlkID09PSB0YWJOYW1lO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVIZWFkICYmIGFjdGl2ZUhlYWQuYWxpYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaGVhZCBoYXZlIGFsaWFzLCByZXBsYWNlIGhhc2ggYW5kIHRhYk5hbWUgdG8gaXRcbiAgICAgICAgICAgICAgICAgICAgdGFiTmFtZSA9IGFjdGl2ZUhlYWQuYWxpYXM7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJyMnICsgYWN0aXZlSGVhZC5hbGlhcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aXZlSGVhZCkge1xuICAgICAgICAgICAgYWN0aXZlSGVhZC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpOyAvL3NldHMgaGVhZCBmcm9tIHVybCBhcyBhY3RpdmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZUhlYWQgPSBfbG9kYXNoMi5kZWZhdWx0LmZpbmQoX3RoaXMuaGVhZHMsIGZ1bmN0aW9uICh0YWIpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChfbG9kYXNoMi5kZWZhdWx0LmlzVW5kZWZpbmVkKHRhYi5jaGVja2VkKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0gIV9sb2Rhc2gyLmRlZmF1bHQuaXNOdWxsKHRhYi5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IHRhYi5jaGVja2VkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2tlZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFhY3RpdmVIZWFkKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlSGVhZCA9IF90aGlzLmhlYWRzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFiTmFtZSA9IGFjdGl2ZUhlYWQuYWxpYXMgfHwgYWN0aXZlSGVhZC5pZDtcbiAgICAgICAgICAgIC8vIFJlcGxhY2UgaGlzdG9yeSBzdHJpbmdcbiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCB0YWJOYW1lLCAnIycgKyB0YWJOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBHb3QgYWN0aXZlIGhlYWRcbiAgICAgICAgX3RoaXMuX19hY3RpdmVUYWJOYW1lID0gYWN0aXZlSGVhZC5pZDtcblxuICAgICAgICAvLyBSZXF1ZXN0IGNvbnRlbnQgZm9yIGFjdGl2ZSB0YWJcbiAgICAgICAgX3RoaXMudGFic1thY3RpdmVIZWFkLmlkXS5sb2FkQ29udGVudChfdGhpcy5fX29uVGFiTG9hZC5iaW5kKF90aGlzKSk7XG5cbiAgICAgICAgLyoqIEF0dGFjaCBjbGljayBldmVudCBMaXN0ZW5lcnMgdG8gb3RoZXIgaGVhZHMgKiovXG4gICAgICAgIF90aGlzLl9fbGlzdGVuZXJzID0gX3RoaXMuX19hdHRhY2hIZWFkQ2xpY2tFdmVudHMoKTtcblxuICAgICAgICAvLyBOYXZpZ2F0aW9uXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIF9faGFuZGxlTmF2aWdhdGlvbi5iaW5kKF90aGlzKSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggb25DbGljayBldmVudHMgdG8gdGFiIGhlYWRzXG4gICAgICogQHJldHVybnMgQXJyYXk8ZnVuY3Rpb24+IC0gdW5saXN0ZW5lcnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVHJpbml0eVRhYiwgW3tcbiAgICAgICAga2V5OiAnX19hdHRhY2hIZWFkQ2xpY2tFdmVudHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX19hdHRhY2hIZWFkQ2xpY2tFdmVudHMoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgcmV0dXJuIF9sb2Rhc2gyLmRlZmF1bHQubWFwKHRoaXMuaGVhZHMsIGZ1bmN0aW9uIChoZWFkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9FdmVudHMyLmRlZmF1bHQubGlzdGVuKGhlYWQsICdjbGljaycsIF90aGlzMi5zZXRBY3RpdmVUYWIuYmluZChfdGhpczIsIGhlYWQuaWQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgY2FsbGJhY2ssIGNhbGxlZCB3aGVuIHRhYiBpcyBsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIGVyciB7b2JqZWN0fSBjYW4gYmUgbnVsbFxuICAgICAgICAgKiBAcGFyYW0gdGFiIHtUYWJ9IG9iamVjdFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX19vblRhYkxvYWQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX19vblRhYkxvYWQoZXJyLCB0YWIpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGFiSWQgPSB0YWIuaWQ7XG5cbiAgICAgICAgICAgIC8vIE5vIGVycm9yXG4gICAgICAgICAgICAvLyBDYWxsIG9uTG9hZCBjYWxsYmFjayBpZiBzZXRcbiAgICAgICAgICAgIHZhciBvbkxvYWRDYWxsYmFjayA9IHRoaXMuY29uZmlndXJhdGlvblt0YWJJZF0ub25Mb2FkO1xuICAgICAgICAgICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNGdW5jdGlvbihvbkxvYWRDYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICBvbkxvYWRDYWxsYmFjayh0YWIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRW1pdCBldmVudFxuICAgICAgICAgICAgdGhpcy5lbWl0KFRBQl9MT0FELCB0YWIpO1xuXG4gICAgICAgICAgICAvLyBpZiBsb2FkZWQgdGFiIGlzIGFsc28gYWN0aXZlIHRhYiAtPiBjYWxsIEFjdGl2ZSBjYWxsYmFja3NcbiAgICAgICAgICAgIGlmICh0YWJJZCA9PT0gdGhpcy5fX2FjdGl2ZVRhYk5hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBBY3RpdmUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICB2YXIgb25BY3RpdmVDYWxsYmFjayA9IHRoaXMuY29uZmlndXJhdGlvblt0YWJJZF0ub25BY3RpdmU7XG4gICAgICAgICAgICAgICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNGdW5jdGlvbihvbkFjdGl2ZUNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgICAgICBvbkFjdGl2ZUNhbGxiYWNrKHRhYiwgdGhpcy5fX3ByZXZUYWJOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRW1pdCBldmVudFxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChUQUJfQ0hBTkdFRCwgdGFiLCB0aGlzLl9fcHJldlRhYk5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhY3RpdmUgVGFiIGJ5IHByb3ZpZGVkIHRhYklEXG4gICAgICAgICAqIEBwYXJhbSB0YWJJZCB7c3RyaW5nfVxuICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn0gaWYgdGFiIHdpdGggcHJvdmlkZWQgSUQgZG9lcyd0IGV4aXRcbiAgICAgICAgICogQHB1YmxpY1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2V0QWN0aXZlVGFiJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFjdGl2ZVRhYih0YWJJZCkge1xuICAgICAgICAgICAgdGFiSWQgPSB0YWJJZCA/IHRoaXMuYWxpYXNJZFBhaXJzLmFsVG9JZFt0YWJJZF0gfHwgdGFiSWQgOiB0aGlzLmhlYWRzWzBdLmlkO1xuXG4gICAgICAgICAgICB2YXIgdGFiID0gdGhpcy50YWJzW3RhYklkXTtcbiAgICAgICAgICAgIGlmICghdGFiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYWIgd2l0aCBpZCBvciBhbGlhczogJyArIHRhYklkICsgJyBkb2VzIG5vdCBleGlzdCEnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBub3QgbG9hZGVkIC0+IExvYWQgaXRcbiAgICAgICAgICAgIGlmICghdGFiLmxvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRhYi5sb2FkQ29udGVudCh0aGlzLl9fb25UYWJMb2FkLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGFiSWQgPT09IHRoaXMuX19hY3RpdmVUYWJOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fX3ByZXZUYWJOYW1lID0gdGhpcy5fX2FjdGl2ZVRhYk5hbWU7XG4gICAgICAgICAgICB0aGlzLl9fYWN0aXZlVGFiTmFtZSA9IHRhYklkO1xuXG4gICAgICAgICAgICAvLyBTZWxlY3QgcHJldlRhYiBpbnN0YW5jZVxuICAgICAgICAgICAgdmFyIHByZXZUYWIgPSB0aGlzLnRhYnNbdGhpcy5fX3ByZXZUYWJOYW1lXTtcblxuICAgICAgICAgICAgLy8gU3dpdGNoIGNoZWNrZWQgYXR0cmlidXRlXG4gICAgICAgICAgICBwcmV2VGFiLmhlYWQucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJyk7XG4gICAgICAgICAgICBwcmV2VGFiLmhlYWQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGFiLmhlYWQuc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIHRhYi5oZWFkLmNoZWNrZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvL1VwZGF0ZSBIYXNoIFVSTFxuICAgICAgICAgICAgX19wdXNoSGlzdG9yeSh0YWIuYWxpYXMgfHwgdGFiSWQpO1xuXG4gICAgICAgICAgICAvLyBFbWl0IG9ubHkgd2hlbiBpcyBhbHJlYWR5IGZldGNoZWRcbiAgICAgICAgICAgIGlmICghdGFiLmlzRmV0Y2hpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBBY3RpdmUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICB2YXIgb25BY3RpdmVDYWxsYmFjayA9IHRoaXMuY29uZmlndXJhdGlvblt0YWJJZF0ub25BY3RpdmU7XG4gICAgICAgICAgICAgICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNGdW5jdGlvbihvbkFjdGl2ZUNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgICAgICBvbkFjdGl2ZUNhbGxiYWNrKHRhYiwgdGhpcy5fX3ByZXZUYWJOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRW1pdCBldmVudFxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChUQUJfQ0hBTkdFRCwgdGFiLCB0aGlzLl9fcHJldlRhYk5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYWN0aXZlIHRhYlxuICAgICAgICAgKiBATk9URTogbWF5IHJldHVybiBOVUxMIGlmIGFjdGl2ZSB0YWIgc3RpbGwgcHJvY2Vzc2luZ1xuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqIEByZXR1cm5zIHtUYWJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRBY3RpdmVUYWInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWN0aXZlVGFiKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFic1t0aGlzLl9fYWN0aXZlVGFiTmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVsb2FkcyBjb250ZW50IG9mIHRhYlxuICAgICAgICAgKiBAcGFyYW0gdGFiSWQge3N0cmluZyB8fCBBcnJheTxzdHJpbmc+fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVsb2FkJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbG9hZCh0YWJJZCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciB0YWJzID0gW10uY29uY2F0KHRhYklkKTtcbiAgICAgICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaCh0YWJzLCBmdW5jdGlvbiAodG1wVGFiSWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFiID0gX3RoaXMzLnRhYnNbX3RoaXMzLmFsaWFzSWRQYWlycy5hbFRvSWRbdG1wVGFiSWRdIHx8IHRtcFRhYklkXTtcbiAgICAgICAgICAgICAgICBpZiAodGFiKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5fX3JlbG9hZFRhYih0YWIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbG9hZCBjb250ZW50IG9mIGFsbCB0YWJzXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZWxvYWRBbGwnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVsb2FkQWxsKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaCh0aGlzLnRhYnMsIGZ1bmN0aW9uICh0YWIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0Ll9fcmVsb2FkVGFiKHRhYik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0cm95IGFsbCB0YWJzIGFuZCB1bmxvYWQgdHJpbml0eVRhYiBzbyBpdCBjYW4gYmUgZ2FyYmFnZSBjb2xsZWN0ZWQsXG4gICAgICAgICAqIEFsc28gZW1pdHMgdGFiLXVubG9hZCBldmVudCBhbmQgY2FsbHMgZGVsZXRlIGNhbGxiYWNrLCBidXQgY2Fubm90IGJlIHByZXZlbnRlZFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZGVzdHJveScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgICAgICAgIC8vIHVubG9hZCBsaXN0ZW5lcnNcbiAgICAgICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaCh0aGlzLl9fbGlzdGVuZXJzLCBmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIERlbGV0ZSB0YWJzXG4gICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2godGhpcy50YWJzLCBmdW5jdGlvbiAodGFiKSB7XG4gICAgICAgICAgICAgICAgLy8gbGlmZSBjeWNsZSBob29rXG4gICAgICAgICAgICAgICAgdmFyIG9uRGVsZXRlQ2FsbGJhY2sgPSBfdGhpczUuY29uZmlndXJhdGlvblt0YWIuaWRdLm9uRGVsZXRlO1xuICAgICAgICAgICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuaXNGdW5jdGlvbihvbkRlbGV0ZUNhbGxiYWNrKSAmJiBvbkRlbGV0ZUNhbGxiYWNrKHRhYiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBnbG9iYWwgZXZlbnRcbiAgICAgICAgICAgICAgICBfdGhpczUuZW1pdChUQUJfVU5MT0FELCB0YWIsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gY2FsbCBkZXN0cm95IHRvIFRhYlxuICAgICAgICAgICAgICAgIHRhYi5kZXN0cm95KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbWl0cyBcInRhYi11bmxvYWRcIiBldmVudCBhbmQgY2FsbCBjYWxsYmFjayBvbkRlbGV0ZSBmdW5jdGlvblxuICAgICAgICAgKiBJZiBjYWxsYmFjayByZXR1cm5zIGZhbHNlLCB0aGVuIGRvIG5vdCByZWxvYWQgY29udGVudFxuICAgICAgICAgKiBUaGlzIGlzIGlubmVyIGZ1bmN0aW9uLCBzaG91bGQgbm90IGJlIGNhbGxlZCBmcm9tIG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHRhYiB7VGFifVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX19yZWxvYWRUYWInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX19yZWxvYWRUYWIodGFiKSB7XG4gICAgICAgICAgICAvLyByZWxvYWQgb25seSBpZiB0aGVyZSBpcyB3aGF0IHRvIHJlbG9hZFxuICAgICAgICAgICAgaWYgKHRhYi5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tGdW5jdGlvbiA9IHRoaXMuY29uZmlndXJhdGlvblt0YWIuaWRdLm9uRGVsZXRlO1xuICAgICAgICAgICAgICAgIGlmIChfbG9kYXNoMi5kZWZhdWx0LmlzRnVuY3Rpb24oY2FsbGJhY2tGdW5jdGlvbikgJiYgY2FsbGJhY2tGdW5jdGlvbih0YWIsIGZhbHNlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoVEFCX1VOTE9BRCwgdGFiKTtcbiAgICAgICAgICAgICAgICB0YWIucmVsb2FkQ29udGVudCh0aGlzLl9fb25UYWJMb2FkLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkXG4gICAgICAgICAqIEBwYXJhbSB0YWJJRFxuICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICAgICAgICogQHBhcmFtIGNvbnRleHRcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ29uTG9hZCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkxvYWQodGFiSUQsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmFkZExpc3RlbmVyKHRhYklELCBjYWxsYmFjaywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVHJpbml0eVRhYjtcbn0oX2ZiZW1pdHRlci5FdmVudEVtaXR0ZXIpO1xuXG4vKipcbiAqIEhhbmRsZXMgcG9wIHN0YXRlIG5hdmlnYXRpb25cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmluaXR5VGFiO1xuZnVuY3Rpb24gX19oYW5kbGVOYXZpZ2F0aW9uKCkge1xuICAgIHZhciB0YWJOYW1lID0gbG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSk7XG4gICAgaWYgKHRhYk5hbWUubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnNldEFjdGl2ZVRhYih0YWJOYW1lKTtcbiAgICB9XG59XG5cbi8qKlxuICogUHVzaCBuZXcgaGlzdG9yeVxuICogQHBhcmFtIG5ld0hhc2hcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fcHVzaEhpc3RvcnkobmV3SGFzaCkge1xuICAgIGlmIChuZXdIYXNoICE9PSB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkpIHtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG5ld0hhc2gsICcjJyArIG5ld0hhc2gpO1xuICAgIH1cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHJpbml0eS9jb21wb25lbnRzL1RyaW5pdHlUYWIuanNcbi8vIG1vZHVsZSBpZCA9IDQ4OVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 490:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Dom = __webpack_require__(486);\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nvar _Gateway = __webpack_require__(491);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nvar _Events = __webpack_require__(483);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MAX_TRY = 3;\n\n/**\n * Tab class\n */\n\nvar Tab = function () {\n    function Tab(head) {\n        _classCallCheck(this, Tab);\n\n        this.alias = head.alias;\n        this.id = head.id;\n        this.head = head;\n        this.root = null;\n        this.loaded = false;\n        this.isFetching = false;\n\n        // Tab body\n        this.body = document.getElementById(head.id.replace('tab', 'tab-body-'));\n\n        //link of body for root child\n        this.sourceUrl = this.body.getAttribute('data-source');\n    }\n\n    /**\n     * Removes actual content from Dom and repeat request\n     * @note its crucial to remove all event listeners from Dom which will be remove before calling function\n     * otherwise it can cause memory leak, especially if you are using jQuery event system\n     * @param callback [function]\n     */\n\n\n    _createClass(Tab, [{\n        key: 'reloadContent',\n        value: function reloadContent(callback) {\n            this.destroy();\n            this.loadContent(callback);\n        }\n\n        /**\n         * Loads content of Tab\n         * @param callback [function]\n         */\n\n    }, {\n        key: 'loadContent',\n        value: function loadContent(callback) {\n            if (!this.isFetching) {\n                this.__requestWidget(this.sourceUrl, callback);\n            }\n        }\n\n        /**\n         * Remove content of tab from DOM\n         */\n\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            _Dom2.default.removeNode(this.root);\n        }\n\n        /**\n         * Sends request for content html and attach it to Dom\n         * @param url {string}\n         * @param callback [function]\n         * @param numTry [number]\n         * @private\n         */\n\n    }, {\n        key: '__requestWidget',\n        value: function __requestWidget(url, callback) {\n            var _this = this;\n\n            var numTry = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n            this.isFetching = true;\n            __showLoading(this.body);\n\n            _Gateway2.default.get(url, null, function (res) {\n                if (res.type !== 'text/html') {\n                    _this.isFetching = false; // To be sure it will work after error\n                    throw new Error('Unexpected response!: ', res);\n                }\n\n                var data = res.text,\n                    tmpDiv = _Dom2.default.createDom('div', null, data.trim());\n\n                // It can be more elements, not wrapped in root div, so we have to wrap them\n                _this.root = tmpDiv.children.length === 1 ? tmpDiv.children[0] : tmpDiv;\n\n                // hide loading icon and append new HTML to body\n                __hideLoading(_this.body);\n                _this.body.appendChild(_this.root);\n\n                // set flags\n                _this.isFetching = false;\n                _this.loaded = true;\n                // Success\n                callback(null, _this);\n            }, function (error) {\n                if (error.timeout) {\n                    if (numTry && numTry === MAX_TRY) {\n                        // TODO: Logger service?\n                        console.error('Call for maintenance');\n                        _this.isFetching = false;\n                        __tabNotLoaded(_this, callback);\n                        callback({ timeout: true, message: 'Request timed out' });\n                    } else {\n                        (function () {\n                            console.warn('Request timed out, trying again in 2 sec');\n                            var id = setTimeout(function () {\n                                _this.__requestWidget(url, callback, numTry + 1);\n                                clearTimeout(id);\n                            }, 2000);\n                        })();\n                    }\n                } else {\n                    console.error(error);\n                    _this.isFetching = false;\n                    __tabNotLoaded(_this, callback);\n                    callback(error);\n                }\n            });\n        }\n    }]);\n\n    return Tab;\n}();\n\n/**\n * Temporary solution for Error-like page\n * @param tab {Tab}\n * @param callback [function]\n * @private\n */\n\n\nexports.default = Tab;\nfunction __tabNotLoaded(tab, callback) {\n    var wrapper = document.createElement('div'),\n        button = document.createElement('input');\n    button.type = 'submit';\n    button.className = 'button button-primary trinityJS-reload-tab-button';\n    button.value = 'Reload';\n\n    wrapper.innerHTML = '<p class=\"trinityJS-reload-tab-text\">We are sorry, something went wrong. Please reload this tab. If the problem persist, contact us.</p>';\n    wrapper.className = 'trinityJS-reload-tab';\n    wrapper.appendChild(button);\n\n    __hideLoading(tab.body);\n    tab.body.appendChild(wrapper);\n    _Events2.default.listenOnce(button, 'click', function () {\n        tab.body.removeChild(wrapper);\n        __showLoading(tab.body);\n        tab.__requestWidget(tab.sourceUrl, callback);\n    });\n}\n\n/**\n * TODO: loading icon to settings\n * TODO: Loading icon (whole content) should be variable from outside, not strictly defined as it is now\n */\nfunction __showLoading(element) {\n    var loader = element.querySelector('.trinity-tab-loader');\n    if (_lodash2.default.isNull(loader)) {\n        var icon = _Dom2.default.createDom('i', { 'class': 'tiecons tiecons-loading tiecons-rotate font-40' });\n        loader = _Dom2.default.createDom('div', { 'class': 'trinity-tab-loader tab-loader' }, icon);\n        element.appendChild(loader);\n    } else {\n        _Dom2.default.classlist.remove(loader, 'display-none');\n    }\n}\n\nfunction __hideLoading(element) {\n    var loader = element.querySelector('.trinity-tab-loader');\n    if (loader) {\n        _Dom2.default.classlist.add(loader, 'display-none');\n    }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L2NvbXBvbmVudHMvVGFiLmpzPzk0MjkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbG9kYXNoID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbnZhciBfbG9kYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaCk7XG5cbnZhciBfRG9tID0gcmVxdWlyZSgnLi4vdXRpbHMvRG9tJyk7XG5cbnZhciBfRG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RvbSk7XG5cbnZhciBfR2F0ZXdheSA9IHJlcXVpcmUoJy4uL0dhdGV3YXknKTtcblxudmFyIF9HYXRld2F5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dhdGV3YXkpO1xuXG52YXIgX0V2ZW50cyA9IHJlcXVpcmUoJy4uL3V0aWxzL0V2ZW50cycpO1xuXG52YXIgX0V2ZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgTUFYX1RSWSA9IDM7XG5cbi8qKlxuICogVGFiIGNsYXNzXG4gKi9cblxudmFyIFRhYiA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYWIoaGVhZCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFiKTtcblxuICAgICAgICB0aGlzLmFsaWFzID0gaGVhZC5hbGlhcztcbiAgICAgICAgdGhpcy5pZCA9IGhlYWQuaWQ7XG4gICAgICAgIHRoaXMuaGVhZCA9IGhlYWQ7XG4gICAgICAgIHRoaXMucm9vdCA9IG51bGw7XG4gICAgICAgIHRoaXMubG9hZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNGZXRjaGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIFRhYiBib2R5XG4gICAgICAgIHRoaXMuYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhlYWQuaWQucmVwbGFjZSgndGFiJywgJ3RhYi1ib2R5LScpKTtcblxuICAgICAgICAvL2xpbmsgb2YgYm9keSBmb3Igcm9vdCBjaGlsZFxuICAgICAgICB0aGlzLnNvdXJjZVVybCA9IHRoaXMuYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc291cmNlJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhY3R1YWwgY29udGVudCBmcm9tIERvbSBhbmQgcmVwZWF0IHJlcXVlc3RcbiAgICAgKiBAbm90ZSBpdHMgY3J1Y2lhbCB0byByZW1vdmUgYWxsIGV2ZW50IGxpc3RlbmVycyBmcm9tIERvbSB3aGljaCB3aWxsIGJlIHJlbW92ZSBiZWZvcmUgY2FsbGluZyBmdW5jdGlvblxuICAgICAqIG90aGVyd2lzZSBpdCBjYW4gY2F1c2UgbWVtb3J5IGxlYWssIGVzcGVjaWFsbHkgaWYgeW91IGFyZSB1c2luZyBqUXVlcnkgZXZlbnQgc3lzdGVtXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIFtmdW5jdGlvbl1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRhYiwgW3tcbiAgICAgICAga2V5OiAncmVsb2FkQ29udGVudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWxvYWRDb250ZW50KGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMubG9hZENvbnRlbnQoY2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvYWRzIGNvbnRlbnQgb2YgVGFiXG4gICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayBbZnVuY3Rpb25dXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsb2FkQ29udGVudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkQ29udGVudChjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzRmV0Y2hpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fcmVxdWVzdFdpZGdldCh0aGlzLnNvdXJjZVVybCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSBjb250ZW50IG9mIHRhYiBmcm9tIERPTVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZGVzdHJveScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgX0RvbTIuZGVmYXVsdC5yZW1vdmVOb2RlKHRoaXMucm9vdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2VuZHMgcmVxdWVzdCBmb3IgY29udGVudCBodG1sIGFuZCBhdHRhY2ggaXQgdG8gRG9tXG4gICAgICAgICAqIEBwYXJhbSB1cmwge3N0cmluZ31cbiAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIFtmdW5jdGlvbl1cbiAgICAgICAgICogQHBhcmFtIG51bVRyeSBbbnVtYmVyXVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX19yZXF1ZXN0V2lkZ2V0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9fcmVxdWVzdFdpZGdldCh1cmwsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgbnVtVHJ5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuXG4gICAgICAgICAgICB0aGlzLmlzRmV0Y2hpbmcgPSB0cnVlO1xuICAgICAgICAgICAgX19zaG93TG9hZGluZyh0aGlzLmJvZHkpO1xuXG4gICAgICAgICAgICBfR2F0ZXdheTIuZGVmYXVsdC5nZXQodXJsLCBudWxsLCBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy50eXBlICE9PSAndGV4dC9odG1sJykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc0ZldGNoaW5nID0gZmFsc2U7IC8vIFRvIGJlIHN1cmUgaXQgd2lsbCB3b3JrIGFmdGVyIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCByZXNwb25zZSE6ICcsIHJlcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdG1wRGl2ID0gX0RvbTIuZGVmYXVsdC5jcmVhdGVEb20oJ2RpdicsIG51bGwsIGRhdGEudHJpbSgpKTtcblxuICAgICAgICAgICAgICAgIC8vIEl0IGNhbiBiZSBtb3JlIGVsZW1lbnRzLCBub3Qgd3JhcHBlZCBpbiByb290IGRpdiwgc28gd2UgaGF2ZSB0byB3cmFwIHRoZW1cbiAgICAgICAgICAgICAgICBfdGhpcy5yb290ID0gdG1wRGl2LmNoaWxkcmVuLmxlbmd0aCA9PT0gMSA/IHRtcERpdi5jaGlsZHJlblswXSA6IHRtcERpdjtcblxuICAgICAgICAgICAgICAgIC8vIGhpZGUgbG9hZGluZyBpY29uIGFuZCBhcHBlbmQgbmV3IEhUTUwgdG8gYm9keVxuICAgICAgICAgICAgICAgIF9faGlkZUxvYWRpbmcoX3RoaXMuYm9keSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuYm9keS5hcHBlbmRDaGlsZChfdGhpcy5yb290KTtcblxuICAgICAgICAgICAgICAgIC8vIHNldCBmbGFnc1xuICAgICAgICAgICAgICAgIF90aGlzLmlzRmV0Y2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIFN1Y2Nlc3NcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBfdGhpcyk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IudGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtVHJ5ICYmIG51bVRyeSA9PT0gTUFYX1RSWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogTG9nZ2VyIHNlcnZpY2U/XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYWxsIGZvciBtYWludGVuYW5jZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXNGZXRjaGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX190YWJOb3RMb2FkZWQoX3RoaXMsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHsgdGltZW91dDogdHJ1ZSwgbWVzc2FnZTogJ1JlcXVlc3QgdGltZWQgb3V0JyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdSZXF1ZXN0IHRpbWVkIG91dCwgdHJ5aW5nIGFnYWluIGluIDIgc2VjJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9fcmVxdWVzdFdpZGdldCh1cmwsIGNhbGxiYWNrLCBudW1UcnkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXNGZXRjaGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBfX3RhYk5vdExvYWRlZChfdGhpcywgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGFiO1xufSgpO1xuXG4vKipcbiAqIFRlbXBvcmFyeSBzb2x1dGlvbiBmb3IgRXJyb3ItbGlrZSBwYWdlXG4gKiBAcGFyYW0gdGFiIHtUYWJ9XG4gKiBAcGFyYW0gY2FsbGJhY2sgW2Z1bmN0aW9uXVxuICogQHByaXZhdGVcbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRhYjtcbmZ1bmN0aW9uIF9fdGFiTm90TG9hZGVkKHRhYiwgY2FsbGJhY2spIHtcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGJ1dHRvbi50eXBlID0gJ3N1Ym1pdCc7XG4gICAgYnV0dG9uLmNsYXNzTmFtZSA9ICdidXR0b24gYnV0dG9uLXByaW1hcnkgdHJpbml0eUpTLXJlbG9hZC10YWItYnV0dG9uJztcbiAgICBidXR0b24udmFsdWUgPSAnUmVsb2FkJztcblxuICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidHJpbml0eUpTLXJlbG9hZC10YWItdGV4dFwiPldlIGFyZSBzb3JyeSwgc29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSByZWxvYWQgdGhpcyB0YWIuIElmIHRoZSBwcm9ibGVtIHBlcnNpc3QsIGNvbnRhY3QgdXMuPC9wPic7XG4gICAgd3JhcHBlci5jbGFzc05hbWUgPSAndHJpbml0eUpTLXJlbG9hZC10YWInO1xuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICAgIF9faGlkZUxvYWRpbmcodGFiLmJvZHkpO1xuICAgIHRhYi5ib2R5LmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuICAgIF9FdmVudHMyLmRlZmF1bHQubGlzdGVuT25jZShidXR0b24sICdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGFiLmJvZHkucmVtb3ZlQ2hpbGQod3JhcHBlcik7XG4gICAgICAgIF9fc2hvd0xvYWRpbmcodGFiLmJvZHkpO1xuICAgICAgICB0YWIuX19yZXF1ZXN0V2lkZ2V0KHRhYi5zb3VyY2VVcmwsIGNhbGxiYWNrKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBUT0RPOiBsb2FkaW5nIGljb24gdG8gc2V0dGluZ3NcbiAqIFRPRE86IExvYWRpbmcgaWNvbiAod2hvbGUgY29udGVudCkgc2hvdWxkIGJlIHZhcmlhYmxlIGZyb20gb3V0c2lkZSwgbm90IHN0cmljdGx5IGRlZmluZWQgYXMgaXQgaXMgbm93XG4gKi9cbmZ1bmN0aW9uIF9fc2hvd0xvYWRpbmcoZWxlbWVudCkge1xuICAgIHZhciBsb2FkZXIgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cmluaXR5LXRhYi1sb2FkZXInKTtcbiAgICBpZiAoX2xvZGFzaDIuZGVmYXVsdC5pc051bGwobG9hZGVyKSkge1xuICAgICAgICB2YXIgaWNvbiA9IF9Eb20yLmRlZmF1bHQuY3JlYXRlRG9tKCdpJywgeyAnY2xhc3MnOiAndGllY29ucyB0aWVjb25zLWxvYWRpbmcgdGllY29ucy1yb3RhdGUgZm9udC00MCcgfSk7XG4gICAgICAgIGxvYWRlciA9IF9Eb20yLmRlZmF1bHQuY3JlYXRlRG9tKCdkaXYnLCB7ICdjbGFzcyc6ICd0cmluaXR5LXRhYi1sb2FkZXIgdGFiLWxvYWRlcicgfSwgaWNvbik7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobG9hZGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBfRG9tMi5kZWZhdWx0LmNsYXNzbGlzdC5yZW1vdmUobG9hZGVyLCAnZGlzcGxheS1ub25lJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX2hpZGVMb2FkaW5nKGVsZW1lbnQpIHtcbiAgICB2YXIgbG9hZGVyID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudHJpbml0eS10YWItbG9hZGVyJyk7XG4gICAgaWYgKGxvYWRlcikge1xuICAgICAgICBfRG9tMi5kZWZhdWx0LmNsYXNzbGlzdC5hZGQobG9hZGVyLCAnZGlzcGxheS1ub25lJyk7XG4gICAgfVxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90cmluaXR5L2NvbXBvbmVudHMvVGFiLmpzXG4vLyBtb2R1bGUgaWQgPSA0OTBcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 491:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.configure = undefined;\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _superagent = __webpack_require__(478);\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Global configuration\nvar config = {\n    timeout: 10000,\n    fileTimeout: 10000\n};\n\nvar Gateway = {\n    /**\n     *  normal GET request to defined URL\n     * @param url {string}\n     * @param data [object]\n     * @param successCallback [function]\n     * @param errorCallback [function]\n     */\n    get: function get(url, data, successCallback, errorCallback) {\n        __send(url, 'GET', data, successCallback, errorCallback);\n    },\n    /**\n     * JSON GET request\n     * @param url {string}\n     * @param data [object]\n     * @param successCallback [function]\n     * @param errorCallback [function]\n     */\n    getJSON: function getJSON(url, data, successCallback, errorCallback) {\n        __sendJSON(url, 'GET', data, successCallback, errorCallback);\n    },\n\n    /**\n     * normal POST request\n     * @param url {string}\n     * @param data [object]\n     * @param successCallback [function]\n     * @param errorCallback [function]\n     */\n    post: function post(url, data, successCallback, errorCallback) {\n        __send(url, 'POST', data, successCallback, errorCallback);\n    },\n    /**\n     * JSON POST request\n     * @param url {string}\n     * @param data [object]\n     * @param successCallback [function]\n     * @param errorCallback [function]\n     */\n    postJSON: function postJSON(url, data, successCallback, errorCallback) {\n        __sendJSON(url, 'POST', data, successCallback, errorCallback);\n    },\n    /**\n     * normal PUT request\n     * @param url {string}\n     * @param data [object]\n     * @param successCallback [function]\n     * @param errorCallback [function]\n     */\n    put: function put(url, data, successCallback, errorCallback) {\n        __send(url, 'PUT', data, successCallback, errorCallback);\n    },\n    /**\n     * JSON PUT request\n     * @param url {string}\n     * @param data [object]\n     * @param successCallback [function]\n     * @param errorCallback [function]\n     */\n    putJSON: function putJSON(url, data, successCallback, errorCallback) {\n        __sendJSON(url, 'PUT', data, successCallback, errorCallback);\n    },\n\n    /**\n     * JSON DELETE request\n     * @param url {string}\n     * @param data [object]\n     * @param successCallback [function]\n     * @param errorCallback [function]\n     */\n    deleteJSON: function deleteJSON(url, data, successCallback, errorCallback) {\n        __sendJSON(url, 'DELETE', data, successCallback, errorCallback);\n    },\n\n    /**\n     * Same as others, just allow specify method.\n     * @param url {string}\n     * @param method {string}\n     * @param data [object]\n     * @param successCallback [function]\n     * @param errorCallback [function]\n     */\n    send: __send,\n\n    /**\n     * Send JSON request and accepts only json\n     * @param url {string}\n     * @param method {string}\n     * @param data [object]\n     * @param successCallback [function]\n     * @param errorCallback [function]\n     */\n    sendJSON: __sendJSON,\n\n    /**\n     * Send file fnc\n     * @param url {string}\n     * @param method {string}\n     * @param file {object}\n     * @param fieldName [string]\n     * @param successCallback [function]\n     * @param errorCallback [function]\n     * @param progressCallback [function]\n     */\n    sendFile: __sendFile,\n\n    /**\n     * settings for gateway\n     */\n    settings: config\n};\n\n/** PRIVATE METHODS **/\n/**\n * private abstract send request method\n * @param url {string}\n * @param method {string}\n * @param [data] {object}\n * @param successCallback {function}\n * @param errorCallback {function}\n * @param [isManual] {boolean}\n * @returns {Xhr}\n * @private\n */\nfunction __send(url, method, data, successCallback, errorCallback, isManual) {\n    method = method.toUpperCase();\n    var r = (0, _superagent2.default)(method, url.trim()).set('X-Requested-With', 'XMLHttpRequest').timeout(Gateway.settings.timeout);\n\n    if (data) {\n        if (method === 'GET' && !(window.FormData && data instanceof window.FormData)) {\n            r.query(data);\n        } else {\n            r.send(data);\n        }\n    }\n\n    r.finish = function () {\n        return r.end(__responseHandler(successCallback, errorCallback));\n    };\n    if (isManual) {\n        return r;\n    }\n    r.finish();\n}\n\n/**\n * Private abstract send JSON request method\n * @param url {string}\n * @param method {string}\n * @param [data] {object}\n * @param successCallback {function}\n * @param errorCallback {function}\n * @param [isManual] {boolean}\n * @returns {Xhr}\n * @private\n */\nfunction __sendJSON(url, method, data, successCallback, errorCallback, isManual) {\n    method = method.toUpperCase();\n    var r = (0, _superagent2.default)(method, url.trim()).set({\n        'Content-type': 'application/json',\n        'Accept': 'application/json',\n        'X-Requested-With': 'XMLHttpRequest'\n    }).timeout(Gateway.settings.timeout);\n\n    if (data) {\n        if (method === 'GET') {\n            r.query(data);\n        } else {\n            r.send(data);\n        }\n    }\n\n    r.finish = function () {\n        return r.end(__responseHandler(successCallback, errorCallback));\n    };\n    if (isManual) {\n        return r;\n    }\n    r.finish();\n}\n\n/**\n * Send file fnc\n * @param url {string}\n * @param method {string}\n * @param file {object}\n * @param fieldName [string]\n * @param successCallback [function]\n * @param errorCallback [function]\n * @param progressCallback [function]\n * @private\n */\nfunction __sendFile(url, method, file, fieldName, successCallback, errorCallback, progressCallback) {\n    method = method || 'POST';\n    fieldName = fieldName || 'files';\n    successCallback = successCallback || _lodash2.default.noop;\n    errorCallback = errorCallback || _lodash2.default.noop;\n\n    var r = (0, _superagent2.default)(method.toUpperCase(), url.trim()).set('X-Requested-With', 'XMLHttpRequest').timeout(config.fileTimeout);\n\n    if (_lodash2.default.isArrayLike(file)) {\n        _lodash2.default.each(file, function (f) {\n            r.attach(fieldName, f);\n        });\n    } else {\n        r.attach(fieldName, file);\n    }\n    if (progressCallback) {\n        r.on('progress', progressCallback);\n    }\n    r.end(__responseHandler(successCallback, errorCallback));\n}\n\n/**\n * Abstract response handler\n * @param successCallback {function}\n * @param errorCallback {function}\n * @returns {function}\n * @private\n */\nfunction __responseHandler(successCallback, errorCallback) {\n    return function __abstractHandler(err, response) {\n        if (response && response.status === 302) {\n            var redirectTo = response.body.location;\n            // Do callback and then redirect\n            if (successCallback(response) === false) {\n                return false;\n            }\n            // Redirect\n            if (process.env.NODE_ENV !== 'production' && !redirectTo) {\n                throw new Error('Missing \"location\" attribute!');\n            }\n            window.location.assign(redirectTo);\n            return;\n        }\n        if (err) {\n            return errorCallback(err);\n        }\n        successCallback(response);\n    };\n}\n\n/**\n * Set global configuration object\n * @param conf\n * @returns {{timeout: number}}\n */\nfunction configure(conf) {\n    return _lodash2.default.extend(config, conf);\n}\n\n/** EXPORTS **/\nexports.default = Gateway;\nexports.configure = configure;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(34)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L0dhdGV3YXkuanM/YTY1OSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY29uZmlndXJlID0gdW5kZWZpbmVkO1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG52YXIgX3N1cGVyYWdlbnQgPSByZXF1aXJlKCdzdXBlcmFnZW50Jyk7XG5cbnZhciBfc3VwZXJhZ2VudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdXBlcmFnZW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gR2xvYmFsIGNvbmZpZ3VyYXRpb25cbnZhciBjb25maWcgPSB7XG4gICAgdGltZW91dDogMTAwMDAsXG4gICAgZmlsZVRpbWVvdXQ6IDEwMDAwXG59O1xuXG52YXIgR2F0ZXdheSA9IHtcbiAgICAvKipcbiAgICAgKiAgbm9ybWFsIEdFVCByZXF1ZXN0IHRvIGRlZmluZWQgVVJMXG4gICAgICogQHBhcmFtIHVybCB7c3RyaW5nfVxuICAgICAqIEBwYXJhbSBkYXRhIFtvYmplY3RdXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFjayBbZnVuY3Rpb25dXG4gICAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgW2Z1bmN0aW9uXVxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KHVybCwgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIF9fc2VuZCh1cmwsICdHRVQnLCBkYXRhLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogSlNPTiBHRVQgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB1cmwge3N0cmluZ31cbiAgICAgKiBAcGFyYW0gZGF0YSBbb2JqZWN0XVxuICAgICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2sgW2Z1bmN0aW9uXVxuICAgICAqIEBwYXJhbSBlcnJvckNhbGxiYWNrIFtmdW5jdGlvbl1cbiAgICAgKi9cbiAgICBnZXRKU09OOiBmdW5jdGlvbiBnZXRKU09OKHVybCwgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIF9fc2VuZEpTT04odXJsLCAnR0VUJywgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbm9ybWFsIFBPU1QgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB1cmwge3N0cmluZ31cbiAgICAgKiBAcGFyYW0gZGF0YSBbb2JqZWN0XVxuICAgICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2sgW2Z1bmN0aW9uXVxuICAgICAqIEBwYXJhbSBlcnJvckNhbGxiYWNrIFtmdW5jdGlvbl1cbiAgICAgKi9cbiAgICBwb3N0OiBmdW5jdGlvbiBwb3N0KHVybCwgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIF9fc2VuZCh1cmwsICdQT1NUJywgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEpTT04gUE9TVCByZXF1ZXN0XG4gICAgICogQHBhcmFtIHVybCB7c3RyaW5nfVxuICAgICAqIEBwYXJhbSBkYXRhIFtvYmplY3RdXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFjayBbZnVuY3Rpb25dXG4gICAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgW2Z1bmN0aW9uXVxuICAgICAqL1xuICAgIHBvc3RKU09OOiBmdW5jdGlvbiBwb3N0SlNPTih1cmwsIGRhdGEsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgICAgICBfX3NlbmRKU09OKHVybCwgJ1BPU1QnLCBkYXRhLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogbm9ybWFsIFBVVCByZXF1ZXN0XG4gICAgICogQHBhcmFtIHVybCB7c3RyaW5nfVxuICAgICAqIEBwYXJhbSBkYXRhIFtvYmplY3RdXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFjayBbZnVuY3Rpb25dXG4gICAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgW2Z1bmN0aW9uXVxuICAgICAqL1xuICAgIHB1dDogZnVuY3Rpb24gcHV0KHVybCwgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIF9fc2VuZCh1cmwsICdQVVQnLCBkYXRhLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogSlNPTiBQVVQgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB1cmwge3N0cmluZ31cbiAgICAgKiBAcGFyYW0gZGF0YSBbb2JqZWN0XVxuICAgICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2sgW2Z1bmN0aW9uXVxuICAgICAqIEBwYXJhbSBlcnJvckNhbGxiYWNrIFtmdW5jdGlvbl1cbiAgICAgKi9cbiAgICBwdXRKU09OOiBmdW5jdGlvbiBwdXRKU09OKHVybCwgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIF9fc2VuZEpTT04odXJsLCAnUFVUJywgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSlNPTiBERUxFVEUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB1cmwge3N0cmluZ31cbiAgICAgKiBAcGFyYW0gZGF0YSBbb2JqZWN0XVxuICAgICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2sgW2Z1bmN0aW9uXVxuICAgICAqIEBwYXJhbSBlcnJvckNhbGxiYWNrIFtmdW5jdGlvbl1cbiAgICAgKi9cbiAgICBkZWxldGVKU09OOiBmdW5jdGlvbiBkZWxldGVKU09OKHVybCwgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIF9fc2VuZEpTT04odXJsLCAnREVMRVRFJywgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2FtZSBhcyBvdGhlcnMsIGp1c3QgYWxsb3cgc3BlY2lmeSBtZXRob2QuXG4gICAgICogQHBhcmFtIHVybCB7c3RyaW5nfVxuICAgICAqIEBwYXJhbSBtZXRob2Qge3N0cmluZ31cbiAgICAgKiBAcGFyYW0gZGF0YSBbb2JqZWN0XVxuICAgICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2sgW2Z1bmN0aW9uXVxuICAgICAqIEBwYXJhbSBlcnJvckNhbGxiYWNrIFtmdW5jdGlvbl1cbiAgICAgKi9cbiAgICBzZW5kOiBfX3NlbmQsXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIEpTT04gcmVxdWVzdCBhbmQgYWNjZXB0cyBvbmx5IGpzb25cbiAgICAgKiBAcGFyYW0gdXJsIHtzdHJpbmd9XG4gICAgICogQHBhcmFtIG1ldGhvZCB7c3RyaW5nfVxuICAgICAqIEBwYXJhbSBkYXRhIFtvYmplY3RdXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFjayBbZnVuY3Rpb25dXG4gICAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgW2Z1bmN0aW9uXVxuICAgICAqL1xuICAgIHNlbmRKU09OOiBfX3NlbmRKU09OLFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBmaWxlIGZuY1xuICAgICAqIEBwYXJhbSB1cmwge3N0cmluZ31cbiAgICAgKiBAcGFyYW0gbWV0aG9kIHtzdHJpbmd9XG4gICAgICogQHBhcmFtIGZpbGUge29iamVjdH1cbiAgICAgKiBAcGFyYW0gZmllbGROYW1lIFtzdHJpbmddXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFjayBbZnVuY3Rpb25dXG4gICAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgW2Z1bmN0aW9uXVxuICAgICAqIEBwYXJhbSBwcm9ncmVzc0NhbGxiYWNrIFtmdW5jdGlvbl1cbiAgICAgKi9cbiAgICBzZW5kRmlsZTogX19zZW5kRmlsZSxcblxuICAgIC8qKlxuICAgICAqIHNldHRpbmdzIGZvciBnYXRld2F5XG4gICAgICovXG4gICAgc2V0dGluZ3M6IGNvbmZpZ1xufTtcblxuLyoqIFBSSVZBVEUgTUVUSE9EUyAqKi9cbi8qKlxuICogcHJpdmF0ZSBhYnN0cmFjdCBzZW5kIHJlcXVlc3QgbWV0aG9kXG4gKiBAcGFyYW0gdXJsIHtzdHJpbmd9XG4gKiBAcGFyYW0gbWV0aG9kIHtzdHJpbmd9XG4gKiBAcGFyYW0gW2RhdGFdIHtvYmplY3R9XG4gKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSBlcnJvckNhbGxiYWNrIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSBbaXNNYW51YWxdIHtib29sZWFufVxuICogQHJldHVybnMge1hocn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fc2VuZCh1cmwsIG1ldGhvZCwgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBpc01hbnVhbCkge1xuICAgIG1ldGhvZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICAgIHZhciByID0gKDAsIF9zdXBlcmFnZW50Mi5kZWZhdWx0KShtZXRob2QsIHVybC50cmltKCkpLnNldCgnWC1SZXF1ZXN0ZWQtV2l0aCcsICdYTUxIdHRwUmVxdWVzdCcpLnRpbWVvdXQoR2F0ZXdheS5zZXR0aW5ncy50aW1lb3V0KTtcblxuICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09ICdHRVQnICYmICEod2luZG93LkZvcm1EYXRhICYmIGRhdGEgaW5zdGFuY2VvZiB3aW5kb3cuRm9ybURhdGEpKSB7XG4gICAgICAgICAgICByLnF1ZXJ5KGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgci5zZW5kKGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgci5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByLmVuZChfX3Jlc3BvbnNlSGFuZGxlcihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spKTtcbiAgICB9O1xuICAgIGlmIChpc01hbnVhbCkge1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgci5maW5pc2goKTtcbn1cblxuLyoqXG4gKiBQcml2YXRlIGFic3RyYWN0IHNlbmQgSlNPTiByZXF1ZXN0IG1ldGhvZFxuICogQHBhcmFtIHVybCB7c3RyaW5nfVxuICogQHBhcmFtIG1ldGhvZCB7c3RyaW5nfVxuICogQHBhcmFtIFtkYXRhXSB7b2JqZWN0fVxuICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFjayB7ZnVuY3Rpb259XG4gKiBAcGFyYW0gZXJyb3JDYWxsYmFjayB7ZnVuY3Rpb259XG4gKiBAcGFyYW0gW2lzTWFudWFsXSB7Ym9vbGVhbn1cbiAqIEByZXR1cm5zIHtYaHJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfX3NlbmRKU09OKHVybCwgbWV0aG9kLCBkYXRhLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIGlzTWFudWFsKSB7XG4gICAgbWV0aG9kID0gbWV0aG9kLnRvVXBwZXJDYXNlKCk7XG4gICAgdmFyIHIgPSAoMCwgX3N1cGVyYWdlbnQyLmRlZmF1bHQpKG1ldGhvZCwgdXJsLnRyaW0oKSkuc2V0KHtcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnXG4gICAgfSkudGltZW91dChHYXRld2F5LnNldHRpbmdzLnRpbWVvdXQpO1xuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICAgICAgICAgIHIucXVlcnkoZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByLnNlbmQoZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHIuZW5kKF9fcmVzcG9uc2VIYW5kbGVyKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykpO1xuICAgIH07XG4gICAgaWYgKGlzTWFudWFsKSB7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICByLmZpbmlzaCgpO1xufVxuXG4vKipcbiAqIFNlbmQgZmlsZSBmbmNcbiAqIEBwYXJhbSB1cmwge3N0cmluZ31cbiAqIEBwYXJhbSBtZXRob2Qge3N0cmluZ31cbiAqIEBwYXJhbSBmaWxlIHtvYmplY3R9XG4gKiBAcGFyYW0gZmllbGROYW1lIFtzdHJpbmddXG4gKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrIFtmdW5jdGlvbl1cbiAqIEBwYXJhbSBlcnJvckNhbGxiYWNrIFtmdW5jdGlvbl1cbiAqIEBwYXJhbSBwcm9ncmVzc0NhbGxiYWNrIFtmdW5jdGlvbl1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fc2VuZEZpbGUodXJsLCBtZXRob2QsIGZpbGUsIGZpZWxkTmFtZSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgbWV0aG9kID0gbWV0aG9kIHx8ICdQT1NUJztcbiAgICBmaWVsZE5hbWUgPSBmaWVsZE5hbWUgfHwgJ2ZpbGVzJztcbiAgICBzdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2sgfHwgX2xvZGFzaDIuZGVmYXVsdC5ub29wO1xuICAgIGVycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrIHx8IF9sb2Rhc2gyLmRlZmF1bHQubm9vcDtcblxuICAgIHZhciByID0gKDAsIF9zdXBlcmFnZW50Mi5kZWZhdWx0KShtZXRob2QudG9VcHBlckNhc2UoKSwgdXJsLnRyaW0oKSkuc2V0KCdYLVJlcXVlc3RlZC1XaXRoJywgJ1hNTEh0dHBSZXF1ZXN0JykudGltZW91dChjb25maWcuZmlsZVRpbWVvdXQpO1xuXG4gICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNBcnJheUxpa2UoZmlsZSkpIHtcbiAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKGZpbGUsIGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICByLmF0dGFjaChmaWVsZE5hbWUsIGYpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByLmF0dGFjaChmaWVsZE5hbWUsIGZpbGUpO1xuICAgIH1cbiAgICBpZiAocHJvZ3Jlc3NDYWxsYmFjaykge1xuICAgICAgICByLm9uKCdwcm9ncmVzcycsIHByb2dyZXNzQ2FsbGJhY2spO1xuICAgIH1cbiAgICByLmVuZChfX3Jlc3BvbnNlSGFuZGxlcihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spKTtcbn1cblxuLyoqXG4gKiBBYnN0cmFjdCByZXNwb25zZSBoYW5kbGVyXG4gKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSBlcnJvckNhbGxiYWNrIHtmdW5jdGlvbn1cbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fcmVzcG9uc2VIYW5kbGVyKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbiBfX2Fic3RyYWN0SGFuZGxlcihlcnIsIHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXMgPT09IDMwMikge1xuICAgICAgICAgICAgdmFyIHJlZGlyZWN0VG8gPSByZXNwb25zZS5ib2R5LmxvY2F0aW9uO1xuICAgICAgICAgICAgLy8gRG8gY2FsbGJhY2sgYW5kIHRoZW4gcmVkaXJlY3RcbiAgICAgICAgICAgIGlmIChzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlZGlyZWN0XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhcmVkaXJlY3RUbykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBcImxvY2F0aW9uXCIgYXR0cmlidXRlIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihyZWRpcmVjdFRvKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3JDYWxsYmFjayhlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBTZXQgZ2xvYmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gKiBAcGFyYW0gY29uZlxuICogQHJldHVybnMge3t0aW1lb3V0OiBudW1iZXJ9fVxuICovXG5mdW5jdGlvbiBjb25maWd1cmUoY29uZikge1xuICAgIHJldHVybiBfbG9kYXNoMi5kZWZhdWx0LmV4dGVuZChjb25maWcsIGNvbmYpO1xufVxuXG4vKiogRVhQT1JUUyAqKi9cbmV4cG9ydHMuZGVmYXVsdCA9IEdhdGV3YXk7XG5leHBvcnRzLmNvbmZpZ3VyZSA9IGNvbmZpZ3VyZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHJpbml0eS9HYXRld2F5LmpzXG4vLyBtb2R1bGUgaWQgPSA0OTFcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 492:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by Jakub Fajkus on 10.12.15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Controller2 = __webpack_require__(475);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _VeniceForm = __webpack_require__(476);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _GlobalLib = __webpack_require__(493);\n\nvar _TrinityTab = __webpack_require__(489);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(218);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _DateAndTime = __webpack_require__(494);\n\nvar _DateAndTime2 = _interopRequireDefault(_DateAndTime);\n\nvar _FroalaLib = __webpack_require__(496);\n\nvar _VeniceGridBuilder = __webpack_require__(497);\n\nvar _VeniceGridBuilder2 = _interopRequireDefault(_VeniceGridBuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BlogArticleController = function (_Controller) {\n    _inherits(BlogArticleController, _Controller);\n\n    function BlogArticleController() {\n        _classCallCheck(this, BlogArticleController);\n\n        return _possibleConstructorReturn(this, (BlogArticleController.__proto__ || Object.getPrototypeOf(BlogArticleController)).apply(this, arguments));\n    }\n\n    _createClass(BlogArticleController, [{\n        key: 'indexAction',\n        value: function indexAction($scope) {\n            $scope.productGrid = _VeniceGridBuilder2.default.build(_jquery2.default.id('blog-article-grid'), this.request.query);\n        }\n\n        /**\n         * Tabs action\n         * @param $scope\n         */\n\n    }, {\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            //Tell trinity there is tab to be loaded\n            $scope.trinityTab = new _TrinityTab2.default();\n\n            var app = this.getApp();\n            //On tabs load\n            $scope.trinityTab.addListener('tab-load', function (e) {\n\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n                if (e.id === 'tab2') {\n                    // let article = $('#blog_article_content')[0];\n                    // startFroala(article);\n                    $scope[e.id] = app.parseScope();\n                    (0, _FroalaLib.startFroala)($scope[e.id].froalaInput, null, function () {\n                        (0, _jquery2.default)($scope[e.id].froalaInput).find('.fr-element.fr-view').bind('DOMSubtreeModified', function () {\n                            if ($scope.veniceForms[e.id].hasError('blog_article[content]')) {\n                                $scope.veniceForms[e.id].removeError('blog_article[content]');\n                            }\n                        });\n                    });\n\n                    var helper = _jquery2.default.id('blog-article-date-format'),\n                        dateEl = _jquery2.default.id('blog_article_dateToPublish'),\n                        div = document.createElement('div');\n\n                    dateEl.parentNode.appendChild(div);\n\n                    var limits = JSON.parse(dateEl.getAttribute('data-limit')),\n                        min = BlogArticleController._parseDate(limits.min),\n                        max = BlogArticleController._parseDate(limits.max);\n\n                    var fromDate = _react2.default.createElement(_DateAndTime2.default, {\n                        minDate: min,\n                        maxDate: max,\n                        type: 'dt',\n                        format: helper.value,\n                        value: new Date(helper.getAttribute('data-dateVal') * 1000),\n                        oldElem: dateEl,\n                        required: 'required'\n                    });\n\n                    _reactDom2.default.render(fromDate, div);\n                    BlogArticleController._handleHandleGeneration();\n                }\n            });\n        }\n\n        /**\n         * New blog article action\n         * @param $scope\n         */\n\n    }, {\n        key: 'newAction',\n        value: function newAction($scope) {\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"blog_article\"]')[0]);\n\n            var format = _jquery2.default.id('blog-article-date-format').value,\n                dateEl = _jquery2.default.id('blog_article_dateToPublish');\n\n            var div = document.createElement('div');\n            dateEl.parentNode.appendChild(div);\n\n            var limits = JSON.parse(dateEl.getAttribute('data-limit')),\n                min = BlogArticleController._parseDate(limits.min),\n                max = BlogArticleController._parseDate(limits.max);\n            var fromDate = _react2.default.createElement(_DateAndTime2.default, {\n                minDate: min,\n                maxDate: max,\n                type: 'dt',\n                format: format,\n                value: new Date(),\n                oldElem: dateEl,\n                required: 'required'\n            });\n\n            dateEl.required = true;\n            _reactDom2.default.render(fromDate, div);\n\n            BlogArticleController._handleHandleGeneration();\n            (0, _FroalaLib.startFroala)($scope.froalaInput, null, function () {\n                (0, _jquery2.default)($scope.froalaInput).find('.fr-element.fr-view').bind('DOMSubtreeModified', function () {\n                    if ($scope.form.hasError('blog_article[content]')) {\n                        $scope.form.removeError('blog_article[content]');\n                    }\n                });\n            });\n\n            // HIDE TRIAL VERSION BANNER\n            if (true) {\n                var $notLicenced = (0, _jquery2.default)('a[href=\"https://froala.com/wysiwyg-editor\"]');\n                if ($notLicenced[0]) {\n                    $notLicenced.parent().css('display', 'none');\n                }\n            }\n        }\n\n        /**\n         * Shortcut\n         * @returns {*}\n         * @private\n         */\n\n    }], [{\n        key: '_handleHandleGeneration',\n        value: function _handleHandleGeneration() {\n            return (0, _GlobalLib.handleHandleGeneration)((0, _jquery2.default)('#blog-article-form').attr('data-slugify'), _jquery2.default.id('blog_article_title'), _jquery2.default.id('blog_article_handle'));\n        }\n\n        /**\n         * Parse date object from venice\n         * @param date\n         * @returns {Date}\n         * @private\n         */\n\n    }, {\n        key: '_parseDate',\n        value: function _parseDate(date) {\n            return date === 'now' ? new Date() : new Date(date.year, date.month || 11, date.day || 31);\n        }\n    }]);\n\n    return BlogArticleController;\n}(_Controller3.default);\n\nexports.default = BlogArticleController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvQmxvZ0FydGljbGVDb250cm9sbGVyLmpzPzZhZWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IEpha3ViIEZhamt1cyBvbiAxMC4xMi4xNS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAndHJpbml0eS9Db250cm9sbGVyJztcbmltcG9ydCBWZW5pY2VGb3JtIGZyb20gJy4uL0xpYnJhcmllcy9WZW5pY2VGb3JtJztcbmltcG9ydCB7aGFuZGxlSGFuZGxlR2VuZXJhdGlvbn0gZnJvbSAnLi4vTGlicmFyaWVzL0dsb2JhbExpYic7XG5pbXBvcnQgVHJpbml0eVRhYiBmcm9tICd0cmluaXR5L2NvbXBvbmVudHMvVHJpbml0eVRhYic7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgTmVja3RpZURhdGVBbmRUaW1lIGZyb20gJy4uL0xpYnJhcmllcy9Db21wb25lbnRzL0RhdGVBbmRUaW1lLmpzeCc7XG5pbXBvcnQge3N0YXJ0RnJvYWxhfSBmcm9tICd0cmluaXR5L3V0aWxzL0Zyb2FsYUxpYic7XG5pbXBvcnQgR3JpZEJ1aWxkZXIgZnJvbSAnLi4vTGlicmFyaWVzL1ZlbmljZUdyaWRCdWlsZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmxvZ0FydGljbGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG5cbiAgICBpbmRleEFjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnByb2R1Y3RHcmlkID0gR3JpZEJ1aWxkZXIuYnVpbGQoJC5pZCgnYmxvZy1hcnRpY2xlLWdyaWQnKSwgdGhpcy5yZXF1ZXN0LnF1ZXJ5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWJzIGFjdGlvblxuICAgICAqIEBwYXJhbSAkc2NvcGVcbiAgICAgKi9cbiAgICB0YWJzQWN0aW9uKCRzY29wZSkge1xuICAgICAgICAvL1RlbGwgdHJpbml0eSB0aGVyZSBpcyB0YWIgdG8gYmUgbG9hZGVkXG4gICAgICAgICRzY29wZS50cmluaXR5VGFiID0gbmV3IFRyaW5pdHlUYWIoKTtcblxuICAgICAgICBsZXQgYXBwID0gdGhpcy5nZXRBcHAoKTtcbiAgICAgICAgLy9PbiB0YWJzIGxvYWRcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIuYWRkTGlzdGVuZXIoJ3RhYi1sb2FkJywgKGUpID0+IHtcblxuICAgICAgICAgICAgbGV0IGZvcm0gPSAkKCdmb3JtJywgZS5lbGVtZW50KVswXTtcbiAgICAgICAgICAgIGlmIChmb3JtKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zID0gJHNjb3BlLnZlbmljZUZvcm1zIHx8IHt9O1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXSA9IG5ldyBWZW5pY2VGb3JtKGZvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGUuaWQgPT09ICd0YWIyJykge1xuICAgICAgICAgICAgICAgIC8vIGxldCBhcnRpY2xlID0gJCgnI2Jsb2dfYXJ0aWNsZV9jb250ZW50JylbMF07XG4gICAgICAgICAgICAgICAgLy8gc3RhcnRGcm9hbGEoYXJ0aWNsZSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlW2UuaWRdID0gYXBwLnBhcnNlU2NvcGUoKTtcbiAgICAgICAgICAgICAgICBzdGFydEZyb2FsYSgkc2NvcGVbZS5pZF0uZnJvYWxhSW5wdXQsIG51bGwsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgJCgkc2NvcGVbZS5pZF0uZnJvYWxhSW5wdXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmZyLWVsZW1lbnQuZnItdmlldycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYmluZCgnRE9NU3VidHJlZU1vZGlmaWVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0uaGFzRXJyb3IoJ2Jsb2dfYXJ0aWNsZVtjb250ZW50XScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXS5yZW1vdmVFcnJvcignYmxvZ19hcnRpY2xlW2NvbnRlbnRdJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgaGVscGVyID0gJC5pZCgnYmxvZy1hcnRpY2xlLWRhdGUtZm9ybWF0JyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGVFbCA9ICQuaWQoJ2Jsb2dfYXJ0aWNsZV9kYXRlVG9QdWJsaXNoJyksXG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICAgICAgICAgIDtcblxuICAgICAgICAgICAgICAgIGRhdGVFbC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGRpdik7XG5cbiAgICAgICAgICAgICAgICBsZXQgbGltaXRzID0gSlNPTi5wYXJzZShkYXRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLWxpbWl0JykpLFxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBCbG9nQXJ0aWNsZUNvbnRyb2xsZXIuX3BhcnNlRGF0ZShsaW1pdHMubWluKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gQmxvZ0FydGljbGVDb250cm9sbGVyLl9wYXJzZURhdGUobGltaXRzLm1heClcbiAgICAgICAgICAgICAgICAgICAgO1xuXG4gICAgICAgICAgICAgICAgbGV0IGZyb21EYXRlID0gUmVhY3QuY3JlYXRlRWxlbWVudChOZWNrdGllRGF0ZUFuZFRpbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgbWluRGF0ZTogbWluLFxuICAgICAgICAgICAgICAgICAgICBtYXhEYXRlOiBtYXgsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkdCcsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogaGVscGVyLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoaGVscGVyLmdldEF0dHJpYnV0ZSgnZGF0YS1kYXRlVmFsJykgKiAxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgb2xkRWxlbTogZGF0ZUVsLFxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogJ3JlcXVpcmVkJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgUmVhY3RET00ucmVuZGVyKGZyb21EYXRlLCBkaXYpO1xuICAgICAgICAgICAgICAgIEJsb2dBcnRpY2xlQ29udHJvbGxlci5faGFuZGxlSGFuZGxlR2VuZXJhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOZXcgYmxvZyBhcnRpY2xlIGFjdGlvblxuICAgICAqIEBwYXJhbSAkc2NvcGVcbiAgICAgKi9cbiAgICBuZXdBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5mb3JtID0gbmV3IFZlbmljZUZvcm0oJCgnZm9ybVtuYW1lPVwiYmxvZ19hcnRpY2xlXCJdJylbMF0pO1xuXG4gICAgICAgIGxldCBmb3JtYXQgPSAkLmlkKCdibG9nLWFydGljbGUtZGF0ZS1mb3JtYXQnKS52YWx1ZSxcbiAgICAgICAgICAgIGRhdGVFbCA9ICQuaWQoJ2Jsb2dfYXJ0aWNsZV9kYXRlVG9QdWJsaXNoJyk7XG5cbiAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkYXRlRWwucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkaXYpO1xuXG4gICAgICAgIGxldCBsaW1pdHMgPSBKU09OLnBhcnNlKGRhdGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbGltaXQnKSksXG4gICAgICAgICAgICBtaW4gPSBCbG9nQXJ0aWNsZUNvbnRyb2xsZXIuX3BhcnNlRGF0ZShsaW1pdHMubWluKSxcbiAgICAgICAgICAgIG1heCA9IEJsb2dBcnRpY2xlQ29udHJvbGxlci5fcGFyc2VEYXRlKGxpbWl0cy5tYXgpXG4gICAgICAgICAgICA7XG4gICAgICAgIGxldCBmcm9tRGF0ZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTmVja3RpZURhdGVBbmRUaW1lLCB7XG4gICAgICAgICAgICBtaW5EYXRlOiBtaW4sXG4gICAgICAgICAgICBtYXhEYXRlOiBtYXgsXG4gICAgICAgICAgICB0eXBlOiAnZHQnLFxuICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIG9sZEVsZW06IGRhdGVFbCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiAncmVxdWlyZWQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRhdGVFbC5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgIFJlYWN0RE9NLnJlbmRlcihmcm9tRGF0ZSwgZGl2KTtcblxuICAgICAgICBCbG9nQXJ0aWNsZUNvbnRyb2xsZXIuX2hhbmRsZUhhbmRsZUdlbmVyYXRpb24oKTtcbiAgICAgICAgc3RhcnRGcm9hbGEoJHNjb3BlLmZyb2FsYUlucHV0LCBudWxsLCAoKSA9PiB7XG4gICAgICAgICAgICAkKCRzY29wZS5mcm9hbGFJbnB1dClcbiAgICAgICAgICAgICAgICAuZmluZCgnLmZyLWVsZW1lbnQuZnItdmlldycpXG4gICAgICAgICAgICAgICAgLmJpbmQoJ0RPTVN1YnRyZWVNb2RpZmllZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5mb3JtLmhhc0Vycm9yKCdibG9nX2FydGljbGVbY29udGVudF0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvcm0ucmVtb3ZlRXJyb3IoJ2Jsb2dfYXJ0aWNsZVtjb250ZW50XScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy8gSElERSBUUklBTCBWRVJTSU9OIEJBTk5FUlxuICAgICAgICBpZiAoREVWRUxPUE1FTlQpIHtcbiAgICAgICAgICAgIGxldCAkbm90TGljZW5jZWQgPSAkKCdhW2hyZWY9XCJodHRwczovL2Zyb2FsYS5jb20vd3lzaXd5Zy1lZGl0b3JcIl0nKTtcbiAgICAgICAgICAgIGlmICgkbm90TGljZW5jZWRbMF0pIHtcbiAgICAgICAgICAgICAgICAkbm90TGljZW5jZWQucGFyZW50KCkuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3J0Y3V0XG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzdGF0aWMgX2hhbmRsZUhhbmRsZUdlbmVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVIYW5kbGVHZW5lcmF0aW9uKFxuICAgICAgICAgICAgJCgnI2Jsb2ctYXJ0aWNsZS1mb3JtJykuYXR0cignZGF0YS1zbHVnaWZ5JyksXG4gICAgICAgICAgICAkLmlkKCdibG9nX2FydGljbGVfdGl0bGUnKSxcbiAgICAgICAgICAgICQuaWQoJ2Jsb2dfYXJ0aWNsZV9oYW5kbGUnKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlIGRhdGUgb2JqZWN0IGZyb20gdmVuaWNlXG4gICAgICogQHBhcmFtIGRhdGVcbiAgICAgKiBAcmV0dXJucyB7RGF0ZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VEYXRlKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUgPT09ICdub3cnID9cbiAgICAgICAgICAgIG5ldyBEYXRlKCkgOiBuZXcgRGF0ZShkYXRlLnllYXIsIGRhdGUubW9udGggfHwgMTEsIGRhdGUuZGF5IHx8IDMxKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvQmxvZ0FydGljbGVDb250cm9sbGVyLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0FBR0E7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7QUFDQTs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQU1BO0FBQ0E7QUFFQTs7Ozs7O0FBMUlBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 493:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.slugify = slugify;\nexports.handleHandleGeneration = handleHandleGeneration;\nexports.connectTrinityTabMenu = connectTrinityTabMenu;\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Gateway = __webpack_require__(491);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nvar _Events = __webpack_require__(483);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar counter = 0; /**\n                  * Created by rockuo on 23.6.16.\n                  */\n\nvar last = 0;\n\n/**\n * Validates name and creates \"handle\" from it\n * @param route {string}\n * @param sourceField  {HTMLInputElement}\n * @param outputField {HTMLInputElement}\n */\nfunction slugify(route, sourceField, outputField) {\n    var myCounter = ++counter;\n    _Gateway2.default.postJSON(route, { string: sourceField.value }, function (response) {\n        if (myCounter >= last) {\n            outputField.value = response.body.handle;\n            last = myCounter;\n        }\n    }, function (err) {\n        if (DEVELOPLEMT) {\n            console.error(err);\n        }\n    });\n}\n\n/**\n * TODO: @RichardBures comment\n * @param route\n * @param titleField\n * @param handleField\n * @returns {*}\n */\nfunction handleHandleGeneration(route, titleField, handleField) {\n    if (titleField && handleField) {\n        // TODO: @RichardBures Timer listener\n        return _Events2.default.listen(titleField, 'input', function () {\n            slugify(route, titleField, handleField);\n        });\n    } else {\n        return function () {};\n    }\n}\n\n/**\n * Dropdown menu for trinity tabs\n * @param menuElement\n * @param trinityTab\n */\nfunction connectTrinityTabMenu(menuElement, trinityTab) {\n    // connect Sidebar navigation\n    _.each(_jquery2.default.find('ul li a', menuElement), function (el) {\n        // +1 because of  hash itself\n        if (~el.href.indexOf(location.pathname)) {\n            var index = el.href.lastIndexOf('#'),\n                tabId = null;\n            if (~index) {\n                tabId = el.href.substr(index + 1);\n            }\n            _Events2.default.listen(el, 'click', function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                trinityTab.setActiveTab(tabId);\n            });\n        }\n    });\n}\n\n// /**\n//  * Initialize Floara editor\n//  * Also adds removing error fn on trinityForm error\n//  * TODO: @RichardBures use trinityForm error methods - @Fisa has to add method for it first\n//  * @param element {object} - jquery object\n//  * @param settings {object}\n//  */\n// export function initializeFroala(element, settings) {\n//     element.froalaEditor(settings);\n//     element.on('froalaEditor.input', function () {\n//         console.log('input');\n//         let button = $('.trinity-form-error');\n//         if(button[0]) {\n//             button[0].disabled = false;\n//             button.first().removeClass('trinity-form-error');\n//         }\n//     });\n// }//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dsb2JhbExpYi5qcz8wZmY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSByb2NrdW8gb24gMjMuNi4xNi5cbiAqL1xuXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IEdhdGV3YXkgZnJvbSAndHJpbml0eS9HYXRld2F5JztcbmltcG9ydCBFdmVudHMgZnJvbSAndHJpbml0eS91dGlscy9FdmVudHMnO1xuXG5cbmxldCBjb3VudGVyID0gMDtcbmxldCBsYXN0ID0gMDtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgbmFtZSBhbmQgY3JlYXRlcyBcImhhbmRsZVwiIGZyb20gaXRcbiAqIEBwYXJhbSByb3V0ZSB7c3RyaW5nfVxuICogQHBhcmFtIHNvdXJjZUZpZWxkICB7SFRNTElucHV0RWxlbWVudH1cbiAqIEBwYXJhbSBvdXRwdXRGaWVsZCB7SFRNTElucHV0RWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNsdWdpZnkocm91dGUsIHNvdXJjZUZpZWxkLCBvdXRwdXRGaWVsZCkge1xuICAgIGxldCBteUNvdW50ZXIgPSArK2NvdW50ZXI7XG4gICAgR2F0ZXdheS5wb3N0SlNPTihyb3V0ZSwge3N0cmluZzogc291cmNlRmllbGQudmFsdWV9LFxuICAgICAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGlmKG15Q291bnRlciA+PSBsYXN0KSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0RmllbGQudmFsdWUgPSByZXNwb25zZS5ib2R5LmhhbmRsZTtcbiAgICAgICAgICAgICAgICBsYXN0ID0gbXlDb3VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZihERVZFTE9QTEVNVCl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcbn1cblxuLyoqXG4gKiBUT0RPOiBAUmljaGFyZEJ1cmVzIGNvbW1lbnRcbiAqIEBwYXJhbSByb3V0ZVxuICogQHBhcmFtIHRpdGxlRmllbGRcbiAqIEBwYXJhbSBoYW5kbGVGaWVsZFxuICogQHJldHVybnMgeyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVIYW5kbGVHZW5lcmF0aW9uKHJvdXRlLCB0aXRsZUZpZWxkLCBoYW5kbGVGaWVsZCkge1xuICAgIGlmICh0aXRsZUZpZWxkICYmIGhhbmRsZUZpZWxkKSB7XG4gICAgICAgIC8vIFRPRE86IEBSaWNoYXJkQnVyZXMgVGltZXIgbGlzdGVuZXJcbiAgICAgICAgcmV0dXJuIEV2ZW50cy5saXN0ZW4odGl0bGVGaWVsZCwgJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgc2x1Z2lmeShyb3V0ZSwgdGl0bGVGaWVsZCwgaGFuZGxlRmllbGQpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKCk9Pnt9O1xuICAgIH1cbn1cblxuLyoqXG4gKiBEcm9wZG93biBtZW51IGZvciB0cmluaXR5IHRhYnNcbiAqIEBwYXJhbSBtZW51RWxlbWVudFxuICogQHBhcmFtIHRyaW5pdHlUYWJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3RUcmluaXR5VGFiTWVudShtZW51RWxlbWVudCwgdHJpbml0eVRhYikge1xuICAgIC8vIGNvbm5lY3QgU2lkZWJhciBuYXZpZ2F0aW9uXG4gICAgXy5lYWNoKCQuZmluZCgndWwgbGkgYScsIG1lbnVFbGVtZW50KSwgZWwgPT4ge1xuICAgICAgICAvLyArMSBiZWNhdXNlIG9mICBoYXNoIGl0c2VsZlxuICAgICAgICBpZiAofmVsLmhyZWYuaW5kZXhPZihsb2NhdGlvbi5wYXRobmFtZSkpIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGVsLmhyZWYubGFzdEluZGV4T2YoJyMnKSxcbiAgICAgICAgICAgICAgICB0YWJJZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAofmluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGFiSWQgPSBlbC5ocmVmLnN1YnN0cihpbmRleCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRXZlbnRzLmxpc3RlbihlbCwgJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdHJpbml0eVRhYi5zZXRBY3RpdmVUYWIodGFiSWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8gLyoqXG4vLyAgKiBJbml0aWFsaXplIEZsb2FyYSBlZGl0b3Jcbi8vICAqIEFsc28gYWRkcyByZW1vdmluZyBlcnJvciBmbiBvbiB0cmluaXR5Rm9ybSBlcnJvclxuLy8gICogVE9ETzogQFJpY2hhcmRCdXJlcyB1c2UgdHJpbml0eUZvcm0gZXJyb3IgbWV0aG9kcyAtIEBGaXNhIGhhcyB0byBhZGQgbWV0aG9kIGZvciBpdCBmaXJzdFxuLy8gICogQHBhcmFtIGVsZW1lbnQge29iamVjdH0gLSBqcXVlcnkgb2JqZWN0XG4vLyAgKiBAcGFyYW0gc2V0dGluZ3Mge29iamVjdH1cbi8vICAqL1xuLy8gZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVGcm9hbGEoZWxlbWVudCwgc2V0dGluZ3MpIHtcbi8vICAgICBlbGVtZW50LmZyb2FsYUVkaXRvcihzZXR0aW5ncyk7XG4vLyAgICAgZWxlbWVudC5vbignZnJvYWxhRWRpdG9yLmlucHV0JywgZnVuY3Rpb24gKCkge1xuLy8gICAgICAgICBjb25zb2xlLmxvZygnaW5wdXQnKTtcbi8vICAgICAgICAgbGV0IGJ1dHRvbiA9ICQoJy50cmluaXR5LWZvcm0tZXJyb3InKTtcbi8vICAgICAgICAgaWYoYnV0dG9uWzBdKSB7XG4vLyAgICAgICAgICAgICBidXR0b25bMF0uZGlzYWJsZWQgPSBmYWxzZTtcbi8vICAgICAgICAgICAgIGJ1dHRvbi5maXJzdCgpLnJlbW92ZUNsYXNzKCd0cmluaXR5LWZvcm0tZXJyb3InKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH0pO1xuLy8gfVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvdmVuaWNlLWpzL0xpYnJhcmllcy9HbG9iYWxMaWIuanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBa0JBO0FBdUJBO0FBZ0JBO0FBQ0E7QUF0REE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFFQTs7OztBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 494:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by Bures on 23/4/16.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _moment = __webpack_require__(39);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _moment3 = __webpack_require__(495);\n\nvar _moment4 = _interopRequireDefault(_moment3);\n\nvar _DateTimePicker = __webpack_require__(459);\n\nvar _DateTimePicker2 = _interopRequireDefault(_DateTimePicker);\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar dateFormMap = {\n    'd': 'YYYY-MM-DD',\n    't': 'hh-mm-ss',\n    'dt': 'YYYY-MM-DD hh:mm:ss'\n};\n\nvar NecktieDateAndTime = function (_React$Component) {\n    _inherits(NecktieDateAndTime, _React$Component);\n\n    function NecktieDateAndTime(props) {\n        _classCallCheck(this, NecktieDateAndTime);\n\n        var _this = _possibleConstructorReturn(this, (NecktieDateAndTime.__proto__ || Object.getPrototypeOf(NecktieDateAndTime)).call(this, props));\n\n        (0, _moment4.default)(_moment2.default);\n        _this.state = { value: props.value }; // Initial state\n        if (props.func) {\n            props.func(_this);\n        }\n        props.oldElem.style.display = 'none';\n        if (props.required) {\n            props.oldElem.value = (0, _moment2.default)(props.value).format(dateFormMap[props.type]);\n        }\n        return _this;\n    }\n\n    _createClass(NecktieDateAndTime, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            return _react2.default.createElement(_DateTimePicker2.default, {\n                value: this.state.value || null,\n                format: getLongFormat(this.props.format),\n                className: this.props.className,\n                id: this.props.id,\n                name: this.props.name,\n                min: this.props.minDate || new Date(1900, 0, 1) // new Date(1900, 0, 1) is react-widgets default\n                , max: this.props.maxDate || new Date(2099, 11, 31) // new Date(2099, 11, 31) is react-widgets default\n                , required: this.props.required,\n                time: this.props.type.indexOf('t') > -1,\n                calendar: this.props.type.indexOf('d') > -1,\n                onChange: function onChange(value) {\n                    _this2.setState({ value: value });\n                    _this2.props.oldElem.value = (0, _moment2.default)(value).format(dateFormMap[_this2.props.type]);\n                }\n            });\n        }\n    }]);\n\n    return NecktieDateAndTime;\n}(_react2.default.Component);\n\nexports.default = NecktieDateAndTime;\n\nNecktieDateAndTime.defaultProps = {\n    type: 'dt',\n    format: 'Y-M-D H:m',\n    required: 'required',\n    value: null\n};\n\nvar changeTo = {\n    Y: 'YYYY',\n    y: 'YY',\n    i: 'mm',\n    h: 'hh',\n    D: 'ddd',\n    d: 'DD',\n    M: 'MMM',\n    m: 'MM',\n    H: 'HH',\n    s: 'ss'\n};\n\n/**\n * Get moment format from user format\n * @param format {string}\n * @return {string}\n */\nfunction getLongFormat(format) {\n    var longFormat = '';\n    _lodash2.default.each(Array.from(format), function (char) {\n        longFormat += changeTo[char] ? char.replace(char, changeTo[char]) : char;\n    });\n    return longFormat;\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0NvbXBvbmVudHMvRGF0ZUFuZFRpbWUuanN4PzliNzkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IEJ1cmVzIG9uIDIzLzQvMTYuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBtb21lbnRMb2NhbGl6ZXIgZnJvbSAncmVhY3Qtd2lkZ2V0cy9saWIvbG9jYWxpemVycy9tb21lbnQnO1xuaW1wb3J0IERhdGVUaW1lUGlja2VyIGZyb20gJ3JlYWN0LXdpZGdldHMvbGliL0RhdGVUaW1lUGlja2VyJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbmNvbnN0IGRhdGVGb3JtTWFwID0ge1xuICAgICdkJzogJ1lZWVktTU0tREQnLFxuICAgICd0JzogJ2hoLW1tLXNzJyxcbiAgICAnZHQnOiAnWVlZWS1NTS1ERCBoaDptbTpzcydcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5lY2t0aWVEYXRlQW5kVGltZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICBtb21lbnRMb2NhbGl6ZXIobW9tZW50KTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt2YWx1ZTogcHJvcHMudmFsdWV9OyAvLyBJbml0aWFsIHN0YXRlXG4gICAgICAgIGlmIChwcm9wcy5mdW5jKSB7XG4gICAgICAgICAgICBwcm9wcy5mdW5jKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHByb3BzLm9sZEVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgaWYocHJvcHMucmVxdWlyZWQpe1xuICAgICAgICAgICAgcHJvcHMub2xkRWxlbS52YWx1ZSA9IG1vbWVudChwcm9wcy52YWx1ZSkuZm9ybWF0KGRhdGVGb3JtTWFwW3Byb3BzLnR5cGVdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxEYXRlVGltZVBpY2tlclxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnZhbHVlIHx8IG51bGx9XG4gICAgICAgICAgICAgICAgZm9ybWF0PXtnZXRMb25nRm9ybWF0KHRoaXMucHJvcHMuZm9ybWF0KX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfVxuICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZX1cbiAgICAgICAgICAgICAgICBtaW49e3RoaXMucHJvcHMubWluRGF0ZSB8fCBuZXcgRGF0ZSgxOTAwLCAwLCAxKX0gLy8gbmV3IERhdGUoMTkwMCwgMCwgMSkgaXMgcmVhY3Qtd2lkZ2V0cyBkZWZhdWx0XG4gICAgICAgICAgICAgICAgbWF4PXt0aGlzLnByb3BzLm1heERhdGUgfHwgbmV3IERhdGUoMjA5OSwgMTEsIDMxKX0gLy8gbmV3IERhdGUoMjA5OSwgMTEsIDMxKSBpcyByZWFjdC13aWRnZXRzIGRlZmF1bHRcbiAgICAgICAgICAgICAgICByZXF1aXJlZD17dGhpcy5wcm9wcy5yZXF1aXJlZH1cbiAgICAgICAgICAgICAgICB0aW1lPXsodGhpcy5wcm9wcy50eXBlLmluZGV4T2YoJ3QnKSA+IC0xKX1cbiAgICAgICAgICAgICAgICBjYWxlbmRhcj17KHRoaXMucHJvcHMudHlwZS5pbmRleE9mKCdkJyk+IC0xKX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17XG4gICAgICAgICAgICAgICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7dmFsdWUgOiB2YWx1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbGRFbGVtLnZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoZGF0ZUZvcm1NYXBbdGhpcy5wcm9wcy50eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH1cbn1cbk5lY2t0aWVEYXRlQW5kVGltZS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgdHlwZTogJ2R0JyxcbiAgICBmb3JtYXQ6ICdZLU0tRCBIOm0nLFxuICAgIHJlcXVpcmVkOiAncmVxdWlyZWQnLFxuICAgIHZhbHVlOiBudWxsXG59O1xuXG5jb25zdCBjaGFuZ2VUbyA9IHtcbiAgICBZOidZWVlZJyxcbiAgICB5OidZWScsXG4gICAgaTonbW0nLFxuICAgIGg6J2hoJyxcbiAgICBEOidkZGQnLFxuICAgIGQ6J0REJyxcbiAgICBNOidNTU0nLFxuICAgIG06J01NJyxcbiAgICBIOidISCcsXG4gICAgczonc3MnXG59O1xuXG4vKipcbiAqIEdldCBtb21lbnQgZm9ybWF0IGZyb20gdXNlciBmb3JtYXRcbiAqIEBwYXJhbSBmb3JtYXQge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0TG9uZ0Zvcm1hdChmb3JtYXQpIHtcbiAgICBsZXQgbG9uZ0Zvcm1hdCA9ICcnO1xuICAgIF8uZWFjaChBcnJheS5mcm9tKGZvcm1hdCksKGNoYXIpPT57XG4gICAgICAgIGxvbmdGb3JtYXQgKz0gKGNoYW5nZVRvW2NoYXJdKT9jaGFyLnJlcGxhY2UoY2hhcixjaGFuZ2VUb1tjaGFyXSk6Y2hhcjtcbiAgICB9KTtcbiAgICByZXR1cm4gbG9uZ0Zvcm1hdDtcblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0NvbXBvbmVudHMvRGF0ZUFuZFRpbWUuanN4Il0sIm1hcHBpbmdzIjoiQUFBQTs7O0FBR0E7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7OztBQUdBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQVlBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWZBO0FBbUJBOzs7O0FBdENBO0FBQ0E7QUFEQTtBQUNBO0FBdUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBQ0E7QUFZQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 495:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nexports.__esModule = true;\n\nexports.default = function (moment) {\n  if (typeof moment !== 'function') throw new TypeError('You must provide a valid moment object');\n\n  var localField = typeof moment().locale === 'function' ? 'locale' : 'lang',\n      hasLocaleData = !!moment.localeData;\n\n  if (!hasLocaleData) throw new TypeError('The Moment localizer depends on the `localeData` api, please provide a moment object v2.2.0 or higher');\n\n  function getMoment(culture, value, format) {\n    return culture ? moment(value, format)[localField](culture) : moment(value, format);\n  }\n\n  function endOfDecade(date) {\n    return moment(date).add(10, 'year').add(-1, 'millisecond').toDate();\n  }\n\n  function endOfCentury(date) {\n    return moment(date).add(100, 'year').add(-1, 'millisecond').toDate();\n  }\n\n  var localizer = {\n    formats: {\n      date: 'L',\n      time: 'LT',\n      default: 'lll',\n      header: 'MMMM YYYY',\n      footer: 'LL',\n      weekday: 'dd',\n      dayOfMonth: 'DD',\n      month: 'MMM',\n      year: 'YYYY',\n\n      decade: function decade(date, culture, localizer) {\n        return localizer.format(date, 'YYYY', culture) + ' - ' + localizer.format(endOfDecade(date), 'YYYY', culture);\n      },\n      century: function century(date, culture, localizer) {\n        return localizer.format(date, 'YYYY', culture) + ' - ' + localizer.format(endOfCentury(date), 'YYYY', culture);\n      }\n    },\n\n    firstOfWeek: function firstOfWeek(culture) {\n      return moment.localeData(culture).firstDayOfWeek();\n    },\n    parse: function parse(value, format, culture) {\n      if (!value) return null;\n      var m = getMoment(culture, value, format);\n      if (m.isValid()) return m.toDate();\n      return null;\n    },\n    format: function format(value, _format, culture) {\n      return getMoment(culture, value).format(_format);\n    }\n  };\n\n  _configure2.default.setDateLocalizer(localizer);\n\n  return localizer;\n};\n\nvar _configure = __webpack_require__(385);\n\nvar _configure2 = _interopRequireDefault(_configure);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC13aWRnZXRzL2xpYi9sb2NhbGl6ZXJzL21vbWVudC5qcz8xMjYyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG1vbWVudCkge1xuICBpZiAodHlwZW9mIG1vbWVudCAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcHJvdmlkZSBhIHZhbGlkIG1vbWVudCBvYmplY3QnKTtcblxuICB2YXIgbG9jYWxGaWVsZCA9IHR5cGVvZiBtb21lbnQoKS5sb2NhbGUgPT09ICdmdW5jdGlvbicgPyAnbG9jYWxlJyA6ICdsYW5nJyxcbiAgICAgIGhhc0xvY2FsZURhdGEgPSAhIW1vbWVudC5sb2NhbGVEYXRhO1xuXG4gIGlmICghaGFzTG9jYWxlRGF0YSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIE1vbWVudCBsb2NhbGl6ZXIgZGVwZW5kcyBvbiB0aGUgYGxvY2FsZURhdGFgIGFwaSwgcGxlYXNlIHByb3ZpZGUgYSBtb21lbnQgb2JqZWN0IHYyLjIuMCBvciBoaWdoZXInKTtcblxuICBmdW5jdGlvbiBnZXRNb21lbnQoY3VsdHVyZSwgdmFsdWUsIGZvcm1hdCkge1xuICAgIHJldHVybiBjdWx0dXJlID8gbW9tZW50KHZhbHVlLCBmb3JtYXQpW2xvY2FsRmllbGRdKGN1bHR1cmUpIDogbW9tZW50KHZhbHVlLCBmb3JtYXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT2ZEZWNhZGUoZGF0ZSkge1xuICAgIHJldHVybiBtb21lbnQoZGF0ZSkuYWRkKDEwLCAneWVhcicpLmFkZCgtMSwgJ21pbGxpc2Vjb25kJykudG9EYXRlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBlbmRPZkNlbnR1cnkoZGF0ZSkge1xuICAgIHJldHVybiBtb21lbnQoZGF0ZSkuYWRkKDEwMCwgJ3llYXInKS5hZGQoLTEsICdtaWxsaXNlY29uZCcpLnRvRGF0ZSgpO1xuICB9XG5cbiAgdmFyIGxvY2FsaXplciA9IHtcbiAgICBmb3JtYXRzOiB7XG4gICAgICBkYXRlOiAnTCcsXG4gICAgICB0aW1lOiAnTFQnLFxuICAgICAgZGVmYXVsdDogJ2xsbCcsXG4gICAgICBoZWFkZXI6ICdNTU1NIFlZWVknLFxuICAgICAgZm9vdGVyOiAnTEwnLFxuICAgICAgd2Vla2RheTogJ2RkJyxcbiAgICAgIGRheU9mTW9udGg6ICdERCcsXG4gICAgICBtb250aDogJ01NTScsXG4gICAgICB5ZWFyOiAnWVlZWScsXG5cbiAgICAgIGRlY2FkZTogZnVuY3Rpb24gZGVjYWRlKGRhdGUsIGN1bHR1cmUsIGxvY2FsaXplcikge1xuICAgICAgICByZXR1cm4gbG9jYWxpemVyLmZvcm1hdChkYXRlLCAnWVlZWScsIGN1bHR1cmUpICsgJyAtICcgKyBsb2NhbGl6ZXIuZm9ybWF0KGVuZE9mRGVjYWRlKGRhdGUpLCAnWVlZWScsIGN1bHR1cmUpO1xuICAgICAgfSxcbiAgICAgIGNlbnR1cnk6IGZ1bmN0aW9uIGNlbnR1cnkoZGF0ZSwgY3VsdHVyZSwgbG9jYWxpemVyKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZXIuZm9ybWF0KGRhdGUsICdZWVlZJywgY3VsdHVyZSkgKyAnIC0gJyArIGxvY2FsaXplci5mb3JtYXQoZW5kT2ZDZW50dXJ5KGRhdGUpLCAnWVlZWScsIGN1bHR1cmUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBmaXJzdE9mV2VlazogZnVuY3Rpb24gZmlyc3RPZldlZWsoY3VsdHVyZSkge1xuICAgICAgcmV0dXJuIG1vbWVudC5sb2NhbGVEYXRhKGN1bHR1cmUpLmZpcnN0RGF5T2ZXZWVrKCk7XG4gICAgfSxcbiAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UodmFsdWUsIGZvcm1hdCwgY3VsdHVyZSkge1xuICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgbSA9IGdldE1vbWVudChjdWx0dXJlLCB2YWx1ZSwgZm9ybWF0KTtcbiAgICAgIGlmIChtLmlzVmFsaWQoKSkgcmV0dXJuIG0udG9EYXRlKCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCBfZm9ybWF0LCBjdWx0dXJlKSB7XG4gICAgICByZXR1cm4gZ2V0TW9tZW50KGN1bHR1cmUsIHZhbHVlKS5mb3JtYXQoX2Zvcm1hdCk7XG4gICAgfVxuICB9O1xuXG4gIF9jb25maWd1cmUyLmRlZmF1bHQuc2V0RGF0ZUxvY2FsaXplcihsb2NhbGl6ZXIpO1xuXG4gIHJldHVybiBsb2NhbGl6ZXI7XG59O1xuXG52YXIgX2NvbmZpZ3VyZSA9IHJlcXVpcmUoJy4uL2NvbmZpZ3VyZScpO1xuXG52YXIgX2NvbmZpZ3VyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWd1cmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtd2lkZ2V0cy9saWIvbG9jYWxpemVycy9tb21lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDQ5NVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 496:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.startFroala = startFroala;\nexports.editFroala = editFroala;\nexports.harmonicaPlugin = harmonicaPlugin;\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Events = __webpack_require__(483);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nvar _Gateway = __webpack_require__(491);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Created by rockuo on 24.8.16.\n */\nvar froalaState = 'none';\n/**\n *\n * @param containers {HTMLElement[]|HTMLElement}\n * @param froalaBundlePath {String}\n * @param callback {Function}\n * @param packages\n */\nfunction startFroala(containers, froalaBundlePath) {\n    var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n    var url = froalaBundlePath;\n    if (!url) {\n        url = '/js/dist/froala.bundle.min.js';\n        if (process.env.NODE_ENV !== 'production') {\n            url = '/js/dist/froala.bundle.js';\n        }\n    }\n    var doneFn = function doneFn() {\n        _lodash2.default.each([].concat(containers), function (container) {\n            var settings = JSON.parse(container.getAttribute('data-settings')),\n                froala = (0, _jquery2.default)(container.children[0]).froalaEditor(settings);\n            manageFroala(froala, settings);\n        });\n        callback();\n        froalaState = 'done';\n    };\n    var testFroala = function testFroala() {\n        switch (froalaState) {\n            case 'none':\n                {\n                    froalaState = 'loading';\n                    _jquery2.default.getScript(url).done(doneFn).fail(function () {\n                        froalaState = 'none';\n                    });\n                }\n                break;\n            case 'loading':\n                {\n                    setTimeout(testFroala, 100);\n                }\n                break;\n            default:\n                {\n                    doneFn();\n                }\n        }\n    };\n    testFroala();\n}\n\nfunction manageFroala(froala, settings) {\n    _lodash2.default.each(settings, function (value, key) {\n        if (key === 'imageDeleteURL') {\n            froala.on('froalaEditor.image.removed', function (e, editor, $img) {\n                _Gateway2.default.post(value, {\n                    src: $img.attr('src')\n                }, function (response) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        console.log(response);\n                    }\n                }, function (error) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        console.log(error);\n                    }\n                });\n            });\n        }\n    });\n}\n\n/**\n *\n * @param containers\n * @param how\n */\nfunction editFroala(containers, how) {\n    _lodash2.default.each([].concat(containers), function (container) {\n        var $cont = (0, _jquery2.default)(container.children[1]);\n        $cont.froalaEditor.apply($cont, how);\n    });\n}\n\n/**\n * @param $harmonicaContainer {$}\n */\nfunction harmonicaPlugin($harmonicaContainer) {\n    var harmonicaForms = [];\n    return _lodash2.default.map($harmonicaContainer.find('input[id*=\\'harmonica-global-\\']'), function (radio) {\n        var $harmonicaForm = (0, _jquery2.default)(radio).next().find('form');\n        harmonicaForms.push($harmonicaForm);\n        if (!radio.checked) {\n            $harmonicaForm.css('display', 'none');\n        }\n        return _Events2.default.listen(radio, 'click', function () {\n            _lodash2.default.each(harmonicaForms, function (form) {\n                return form.css('display', 'none');\n            });\n            $harmonicaForm.css('display', 'block');\n        });\n    });\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(34)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L3V0aWxzL0Zyb2FsYUxpYi5qcz9hNTE2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zdGFydEZyb2FsYSA9IHN0YXJ0RnJvYWxhO1xuZXhwb3J0cy5lZGl0RnJvYWxhID0gZWRpdEZyb2FsYTtcbmV4cG9ydHMuaGFybW9uaWNhUGx1Z2luID0gaGFybW9uaWNhUGx1Z2luO1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG52YXIgX2pxdWVyeSA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG52YXIgX2pxdWVyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qcXVlcnkpO1xuXG52YXIgX0V2ZW50cyA9IHJlcXVpcmUoJ3RyaW5pdHkvdXRpbHMvRXZlbnRzJyk7XG5cbnZhciBfRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50cyk7XG5cbnZhciBfR2F0ZXdheSA9IHJlcXVpcmUoJ3RyaW5pdHkvR2F0ZXdheScpO1xuXG52YXIgX0dhdGV3YXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR2F0ZXdheSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQ3JlYXRlZCBieSByb2NrdW8gb24gMjQuOC4xNi5cbiAqL1xudmFyIGZyb2FsYVN0YXRlID0gJ25vbmUnO1xuLyoqXG4gKlxuICogQHBhcmFtIGNvbnRhaW5lcnMge0hUTUxFbGVtZW50W118SFRNTEVsZW1lbnR9XG4gKiBAcGFyYW0gZnJvYWxhQnVuZGxlUGF0aCB7U3RyaW5nfVxuICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn1cbiAqIEBwYXJhbSBwYWNrYWdlc1xuICovXG5mdW5jdGlvbiBzdGFydEZyb2FsYShjb250YWluZXJzLCBmcm9hbGFCdW5kbGVQYXRoKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmdW5jdGlvbiAoKSB7fTtcblxuICAgIHZhciB1cmwgPSBmcm9hbGFCdW5kbGVQYXRoO1xuICAgIGlmICghdXJsKSB7XG4gICAgICAgIHVybCA9ICcvanMvZGlzdC9mcm9hbGEuYnVuZGxlLm1pbi5qcyc7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICB1cmwgPSAnL2pzL2Rpc3QvZnJvYWxhLmJ1bmRsZS5qcyc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGRvbmVGbiA9IGZ1bmN0aW9uIGRvbmVGbigpIHtcbiAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKFtdLmNvbmNhdChjb250YWluZXJzKSwgZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gSlNPTi5wYXJzZShjb250YWluZXIuZ2V0QXR0cmlidXRlKCdkYXRhLXNldHRpbmdzJykpLFxuICAgICAgICAgICAgICAgIGZyb2FsYSA9ICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KShjb250YWluZXIuY2hpbGRyZW5bMF0pLmZyb2FsYUVkaXRvcihzZXR0aW5ncyk7XG4gICAgICAgICAgICBtYW5hZ2VGcm9hbGEoZnJvYWxhLCBzZXR0aW5ncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICBmcm9hbGFTdGF0ZSA9ICdkb25lJztcbiAgICB9O1xuICAgIHZhciB0ZXN0RnJvYWxhID0gZnVuY3Rpb24gdGVzdEZyb2FsYSgpIHtcbiAgICAgICAgc3dpdGNoIChmcm9hbGFTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmcm9hbGFTdGF0ZSA9ICdsb2FkaW5nJztcbiAgICAgICAgICAgICAgICAgICAgX2pxdWVyeTIuZGVmYXVsdC5nZXRTY3JpcHQodXJsKS5kb25lKGRvbmVGbikuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9hbGFTdGF0ZSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbG9hZGluZyc6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRlc3RGcm9hbGEsIDEwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmVGbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgdGVzdEZyb2FsYSgpO1xufVxuXG5mdW5jdGlvbiBtYW5hZ2VGcm9hbGEoZnJvYWxhLCBzZXR0aW5ncykge1xuICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaChzZXR0aW5ncywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2ltYWdlRGVsZXRlVVJMJykge1xuICAgICAgICAgICAgZnJvYWxhLm9uKCdmcm9hbGFFZGl0b3IuaW1hZ2UucmVtb3ZlZCcsIGZ1bmN0aW9uIChlLCBlZGl0b3IsICRpbWcpIHtcbiAgICAgICAgICAgICAgICBfR2F0ZXdheTIuZGVmYXVsdC5wb3N0KHZhbHVlLCB7XG4gICAgICAgICAgICAgICAgICAgIHNyYzogJGltZy5hdHRyKCdzcmMnKVxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBjb250YWluZXJzXG4gKiBAcGFyYW0gaG93XG4gKi9cbmZ1bmN0aW9uIGVkaXRGcm9hbGEoY29udGFpbmVycywgaG93KSB7XG4gICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKFtdLmNvbmNhdChjb250YWluZXJzKSwgZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgJGNvbnQgPSAoMCwgX2pxdWVyeTIuZGVmYXVsdCkoY29udGFpbmVyLmNoaWxkcmVuWzFdKTtcbiAgICAgICAgJGNvbnQuZnJvYWxhRWRpdG9yLmFwcGx5KCRjb250LCBob3cpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSAkaGFybW9uaWNhQ29udGFpbmVyIHskfVxuICovXG5mdW5jdGlvbiBoYXJtb25pY2FQbHVnaW4oJGhhcm1vbmljYUNvbnRhaW5lcikge1xuICAgIHZhciBoYXJtb25pY2FGb3JtcyA9IFtdO1xuICAgIHJldHVybiBfbG9kYXNoMi5kZWZhdWx0Lm1hcCgkaGFybW9uaWNhQ29udGFpbmVyLmZpbmQoJ2lucHV0W2lkKj1cXCdoYXJtb25pY2EtZ2xvYmFsLVxcJ10nKSwgZnVuY3Rpb24gKHJhZGlvKSB7XG4gICAgICAgIHZhciAkaGFybW9uaWNhRm9ybSA9ICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KShyYWRpbykubmV4dCgpLmZpbmQoJ2Zvcm0nKTtcbiAgICAgICAgaGFybW9uaWNhRm9ybXMucHVzaCgkaGFybW9uaWNhRm9ybSk7XG4gICAgICAgIGlmICghcmFkaW8uY2hlY2tlZCkge1xuICAgICAgICAgICAgJGhhcm1vbmljYUZvcm0uY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX0V2ZW50czIuZGVmYXVsdC5saXN0ZW4ocmFkaW8sICdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaChoYXJtb25pY2FGb3JtcywgZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkaGFybW9uaWNhRm9ybS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3RyaW5pdHkvdXRpbHMvRnJvYWxhTGliLmpzXG4vLyBtb2R1bGUgaWQgPSA0OTZcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 497:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _flux = __webpack_require__(189);\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(218);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _TableDataStore = __webpack_require__(498);\n\nvar _TableDataStore2 = _interopRequireDefault(_TableDataStore);\n\nvar _CommonGrid = __webpack_require__(503);\n\nvar _CommonGrid2 = _interopRequireDefault(_CommonGrid);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultOptionsNew = {\n    components: {\n        search: true,\n        pagination: true,\n        queryBuilder: true,\n        loadMoreButton: false\n    },\n    paginateComponent: {\n        marginPagesDisplayed: 2,\n        pageRangeDisplayed: 3,\n        containerClassName: 'pagination',\n        subContainerClassName: 'pages pagination',\n        activeClassName: 'active',\n        nextLinkClassName: 'pull-right bold',\n        previousLinkClassName: 'bold',\n        breakLabel: _react2.default.createElement('i', { className: 'tiecons tiecons-dots-negative' }),\n        previousLabel: _react2.default.createElement('i', { className: 'trinity trinity-arrow-down-two' }),\n        nextLabel: _react2.default.createElement('i', { className: 'trinity trinity-arrow-down-two' })\n    },\n    tableComponent: {\n        orderByClassName: 'order-by',\n        ascClassName: 'order-by-asc',\n        descClassName: 'order-by-desc'\n    },\n    forceFilter: undefined,\n    filter: undefined,\n    search: undefined,\n    page: 0,\n    limit: 15,\n    max: 1\n};\n\nvar VeniceGridBuilder = {\n    build: function build(container, query) {\n        var customOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        //imports do not work, i suppose, that is because imports are \"executed\" before app\n        // is loaded, so window.jQuery does not exist at that time\n\n        // return this.buildCustom(container, query, GridContainer, customOptions);\n        return this.buildCustom(container, query, _CommonGrid2.default, customOptions);\n    },\n    buildCustom: function buildCustom(container, query, grid) {\n        var customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n        if (!container) {\n            throw new Error('Container cannot be ' + container);\n        }\n        var options = JSON.parse(container.getAttribute('data-config'));\n        var gridConfiguration = _lodash2.default.defaultsDeep({},\n        // Url request settings\n        query && {\n            limit: +query.limit,\n            page: +query.page,\n            filter: query.filter && window.atob(query.filter),\n            search: query.search && window.atob(query.search),\n            orderBy: query.orderby\n        },\n        // Server settings\n        {\n            page: 1,\n            max: options.max,\n            limit: options.limit,\n            orderBy: options.defaultOrder,\n            forceFilter: options.forceFilter || options.filter,\n            components: options.components\n        }, customOptions, defaultOptionsNew);\n\n        console.log('Grid configuration', _lodash2.default.extend({}, gridConfiguration));\n\n        var dispatcher = new _flux.Dispatcher(),\n            store = new _TableDataStore2.default(dispatcher, options.url,\n        // '/app_dev.php/admin/user/new',\n        options.columns, {\n            limit: gridConfiguration.limit,\n            orderBy: gridConfiguration.orderBy,\n            page: gridConfiguration.page,\n            filter: gridConfiguration.filter,\n            search: gridConfiguration.search,\n            max: gridConfiguration.max,\n            forceFilter: gridConfiguration.forceFilter,\n            allowSearch: gridConfiguration.components.search,\n            allowFilter: gridConfiguration.components.filter\n        });\n\n        _reactDom2.default.render(_react2.default.createElement(grid, _extends({\n            store: store,\n            dispatcher: dispatcher\n        }, gridConfiguration, {\n            columns: options.columns\n        })), container);\n\n        return gridConfiguration;\n    }\n};\n\nexports.default = VeniceGridBuilder;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL1ZlbmljZUdyaWRCdWlsZGVyLmpzPzIwZjgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHtEaXNwYXRjaGVyfSBmcm9tICdmbHV4JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBEYXRhU3RvcmUgZnJvbSAnLi9HcmlkL1RhYmxlRGF0YVN0b3JlJztcbmltcG9ydCBDb21tb25HcmlkIGZyb20gJy4vR3JpZC9Db21tb25HcmlkLmpzeCc7XG5cblxuY29uc3QgZGVmYXVsdE9wdGlvbnNOZXcgPSB7XG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBzZWFyY2g6IHRydWUsXG4gICAgICAgIHBhZ2luYXRpb246IHRydWUsXG4gICAgICAgIHF1ZXJ5QnVpbGRlcjogdHJ1ZSxcbiAgICAgICAgbG9hZE1vcmVCdXR0b246IGZhbHNlXG4gICAgfSxcbiAgICBwYWdpbmF0ZUNvbXBvbmVudDoge1xuICAgICAgICBtYXJnaW5QYWdlc0Rpc3BsYXllZDogMixcbiAgICAgICAgcGFnZVJhbmdlRGlzcGxheWVkOiAzLFxuICAgICAgICBjb250YWluZXJDbGFzc05hbWU6ICdwYWdpbmF0aW9uJyxcbiAgICAgICAgc3ViQ29udGFpbmVyQ2xhc3NOYW1lOiAncGFnZXMgcGFnaW5hdGlvbicsXG4gICAgICAgIGFjdGl2ZUNsYXNzTmFtZTogJ2FjdGl2ZScsXG4gICAgICAgIG5leHRMaW5rQ2xhc3NOYW1lOiAncHVsbC1yaWdodCBib2xkJyxcbiAgICAgICAgcHJldmlvdXNMaW5rQ2xhc3NOYW1lOiAnYm9sZCcsXG4gICAgICAgIGJyZWFrTGFiZWw6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2knLCB7Y2xhc3NOYW1lOiAndGllY29ucyB0aWVjb25zLWRvdHMtbmVnYXRpdmUnfSksXG4gICAgICAgIHByZXZpb3VzTGFiZWw6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2knLCB7Y2xhc3NOYW1lOiAndHJpbml0eSB0cmluaXR5LWFycm93LWRvd24tdHdvJ30pLFxuICAgICAgICBuZXh0TGFiZWw6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2knLCB7Y2xhc3NOYW1lOiAndHJpbml0eSB0cmluaXR5LWFycm93LWRvd24tdHdvJ30pXG4gICAgfSxcbiAgICB0YWJsZUNvbXBvbmVudDoge1xuICAgICAgICBvcmRlckJ5Q2xhc3NOYW1lOiAnb3JkZXItYnknLFxuICAgICAgICBhc2NDbGFzc05hbWU6ICdvcmRlci1ieS1hc2MnLFxuICAgICAgICBkZXNjQ2xhc3NOYW1lOiAnb3JkZXItYnktZGVzYydcbiAgICB9LFxuICAgIGZvcmNlRmlsdGVyOiB1bmRlZmluZWQsXG4gICAgZmlsdGVyOiB1bmRlZmluZWQsXG4gICAgc2VhcmNoOiB1bmRlZmluZWQsXG4gICAgcGFnZTogMCxcbiAgICBsaW1pdDogMTUsXG4gICAgbWF4OiAxXG59O1xuXG5cbmNvbnN0IFZlbmljZUdyaWRCdWlsZGVyID0ge1xuICAgIGJ1aWxkKGNvbnRhaW5lciwgcXVlcnksIGN1c3RvbU9wdGlvbnMgPSB7fSl7XG4gICAgICAgIC8vaW1wb3J0cyBkbyBub3Qgd29yaywgaSBzdXBwb3NlLCB0aGF0IGlzIGJlY2F1c2UgaW1wb3J0cyBhcmUgXCJleGVjdXRlZFwiIGJlZm9yZSBhcHBcbiAgICAgICAgLy8gaXMgbG9hZGVkLCBzbyB3aW5kb3cualF1ZXJ5IGRvZXMgbm90IGV4aXN0IGF0IHRoYXQgdGltZVxuXG4gICAgICAgIC8vIHJldHVybiB0aGlzLmJ1aWxkQ3VzdG9tKGNvbnRhaW5lciwgcXVlcnksIEdyaWRDb250YWluZXIsIGN1c3RvbU9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5idWlsZEN1c3RvbShjb250YWluZXIsIHF1ZXJ5LCBDb21tb25HcmlkLCBjdXN0b21PcHRpb25zKTtcbiAgICB9LFxuXG4gICAgYnVpbGRDdXN0b20oY29udGFpbmVyLCBxdWVyeSwgZ3JpZCwgY3VzdG9tT3B0aW9ucyA9IHt9KXtcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29udGFpbmVyIGNhbm5vdCBiZSAnICsgY29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3B0aW9ucyA9IEpTT04ucGFyc2UoY29udGFpbmVyLmdldEF0dHJpYnV0ZSgnZGF0YS1jb25maWcnKSk7XG4gICAgICAgIGxldCBncmlkQ29uZmlndXJhdGlvbiA9IF8uZGVmYXVsdHNEZWVwKFxuICAgICAgICAgICAge30sXG4gICAgICAgICAgICAvLyBVcmwgcmVxdWVzdCBzZXR0aW5nc1xuICAgICAgICAgICAgcXVlcnkgJiYge1xuICAgICAgICAgICAgICAgIGxpbWl0OiArcXVlcnkubGltaXQsXG4gICAgICAgICAgICAgICAgcGFnZTogK3F1ZXJ5LnBhZ2UsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiBxdWVyeS5maWx0ZXIgJiYgd2luZG93LmF0b2IocXVlcnkuZmlsdGVyKSxcbiAgICAgICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5LnNlYXJjaCAmJiB3aW5kb3cuYXRvYihxdWVyeS5zZWFyY2gpLFxuICAgICAgICAgICAgICAgIG9yZGVyQnk6IHF1ZXJ5Lm9yZGVyYnlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBTZXJ2ZXIgc2V0dGluZ3NcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgIG1heDogb3B0aW9ucy5tYXgsXG4gICAgICAgICAgICAgICAgbGltaXQ6IG9wdGlvbnMubGltaXQsXG4gICAgICAgICAgICAgICAgb3JkZXJCeTogb3B0aW9ucy5kZWZhdWx0T3JkZXIsXG4gICAgICAgICAgICAgICAgZm9yY2VGaWx0ZXI6IG9wdGlvbnMuZm9yY2VGaWx0ZXIgfHwgb3B0aW9ucy5maWx0ZXIsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogb3B0aW9ucy5jb21wb25lbnRzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VzdG9tT3B0aW9ucyxcbiAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zTmV3XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ0dyaWQgY29uZmlndXJhdGlvbicsICBfLmV4dGVuZCh7fSxncmlkQ29uZmlndXJhdGlvbikpO1xuXG4gICAgICAgIGxldCBkaXNwYXRjaGVyID0gbmV3IERpc3BhdGNoZXIoKSxcbiAgICAgICAgICAgIHN0b3JlID0gbmV3IERhdGFTdG9yZShcbiAgICAgICAgICAgICAgICBkaXNwYXRjaGVyLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMudXJsLFxuICAgICAgICAgICAgICAgIC8vICcvYXBwX2Rldi5waHAvYWRtaW4vdXNlci9uZXcnLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMuY29sdW1ucyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0OiBncmlkQ29uZmlndXJhdGlvbi5saW1pdCxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJCeTogZ3JpZENvbmZpZ3VyYXRpb24ub3JkZXJCeSxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogZ3JpZENvbmZpZ3VyYXRpb24ucGFnZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiBncmlkQ29uZmlndXJhdGlvbi5maWx0ZXIsXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaDogZ3JpZENvbmZpZ3VyYXRpb24uc2VhcmNoLFxuICAgICAgICAgICAgICAgICAgICBtYXg6IGdyaWRDb25maWd1cmF0aW9uLm1heCxcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VGaWx0ZXI6IGdyaWRDb25maWd1cmF0aW9uLmZvcmNlRmlsdGVyLFxuICAgICAgICAgICAgICAgICAgICBhbGxvd1NlYXJjaDogZ3JpZENvbmZpZ3VyYXRpb24uY29tcG9uZW50cy5zZWFyY2gsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93RmlsdGVyOiBncmlkQ29uZmlndXJhdGlvbi5jb21wb25lbnRzLmZpbHRlclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cblxuICAgICAgICBSZWFjdERPTS5yZW5kZXIoUmVhY3QuY3JlYXRlRWxlbWVudChncmlkLCB7XG4gICAgICAgICAgICBzdG9yZSxcbiAgICAgICAgICAgIGRpc3BhdGNoZXIsXG4gICAgICAgICAgICAuLi5ncmlkQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIGNvbHVtbnM6IG9wdGlvbnMuY29sdW1uc1xuICAgICAgICB9KSwgY29udGFpbmVyKTtcblxuICAgICAgICByZXR1cm4gZ3JpZENvbmZpZ3VyYXRpb247XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgVmVuaWNlR3JpZEJ1aWxkZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL1ZlbmljZUdyaWRCdWlsZGVyLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0JBO0FBQ0E7QUFnQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQW5FQTtBQUNBO0FBcUVBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 498:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 11/27/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Gateway = __webpack_require__(491);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nvar _TrinityQueryBuilder = __webpack_require__(499);\n\nvar _TrinityQueryBuilder2 = _interopRequireDefault(_TrinityQueryBuilder);\n\nvar _FluxStore = __webpack_require__(500);\n\nvar _FluxStore2 = _interopRequireDefault(_FluxStore);\n\nvar _GlobalHistory = __webpack_require__(501);\n\nvar _GlobalHistory2 = _interopRequireDefault(_GlobalHistory);\n\nvar _GridActions = __webpack_require__(502);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar messageService = null;\nvar fakeTimeout = false;\n\nif (true) {\n    messageService = __webpack_require__(488).messageService;\n}\n\n// Initial options\nvar defaultOptions = {\n    limit: 15,\n    page: 1,\n    max: 1,\n    orderBy: 'id:ASC',\n    allowFilter: true,\n    allowSearch: true,\n    filter: null,\n    search: null,\n    forceFilter: null\n};\n\nvar ORDER_BY_SPIT_RX = /:(?=ASC$|DESC$)/,\n    FILTER_STORAGE = 'filter',\n    NORMAL_STORAGE = 'normal',\n    SEARCH_STORAGE = 'search';\n\n/**\n * Store data component for grid tables\n */\n\nvar TableDataStore = function (_Store) {\n    _inherits(TableDataStore, _Store);\n\n    function TableDataStore(dispatcher, url, columns, options) {\n        _classCallCheck(this, TableDataStore);\n\n        var _this = _possibleConstructorReturn(this, (TableDataStore.__proto__ || Object.getPrototypeOf(TableDataStore)).call(this, dispatcher));\n\n        _this.options = __processOptions(options);\n        _this.url = url;\n        _this.columns = columns;\n        _this.select = (0, _lodash2.default)(columns).filter(function (col) {\n            return col.select !== false;\n        }).map(function (col) {\n            return col.name;\n        }).value();\n\n        _this.select.push('_id');\n        _this.isFetching = false;\n        _this.isError = false;\n        _this.__repeatLastRequest = false;\n\n        // Data storage\n        _this.__data = {\n            normal: {\n                cache: new Array(_this.options.maxPages),\n                page: _this.options.page,\n                maxPages: _this.options.maxPages,\n                max: _this.options.max\n            },\n            filter: {\n                cache: [],\n                page: 0,\n                maxPages: 1,\n                max: 0\n            },\n            search: {\n                cache: [],\n                page: 0,\n                maxPages: 1,\n                max: 0\n            }\n        };\n\n        if (!_this.options.allowFilter) {\n            _this.options.filter = null;\n        }\n        if (!_this.options.allowSearch) {\n            _this.options.search = null;\n        }\n\n        _this.activeStorage = NORMAL_STORAGE;\n        if (!_lodash2.default.isEmpty(_this.options.search)) {\n            _this.activeStorage = SEARCH_STORAGE;\n        } else if (!_lodash2.default.isEmpty(_this.options.filter)) {\n            _this.activeStorage = FILTER_STORAGE;\n        }\n        // current view\n        _this.dataView = [];\n\n        // History\n        var firstRequest = true;\n        _this.__historyListener = _GlobalHistory2.default.listen(function (loc) {\n            if (firstRequest) {\n                firstRequest = false;\n                return;\n            }\n            if (loc.action === 'POP' && loc.state) {\n                if (loc.state.orderBy !== _this.options.orderBy || loc.state.filter !== _this.options.filter) {\n                    _this.cleanCache();\n                }\n                _this.options = _lodash2.default.clone(loc.state);\n                _this.updateDataView();\n            }\n        });\n        // Initial request\n        _this.__initialPageSet();\n        return _this;\n    }\n\n    /**\n     * Dispatch action\n     * @param action {object}\n     */\n\n\n    _createClass(TableDataStore, [{\n        key: 'dispatch',\n        value: function dispatch(action) {\n            this.__dispatcher.dispatch(action);\n        }\n\n        /**\n         * Returns actual state of table\n         * @returns {object}\n         */\n\n    }, {\n        key: 'getState',\n        value: function getState() {\n            return _lodash2.default.cloneDeep({\n                data: this.dataView,\n                orderBy: this.options.orderBy,\n                pagination: this.getPaginationInfo(),\n                isFetching: this.isFetching,\n                isError: this.isError\n            });\n        }\n\n        /**\n         * Returns actual inner view state of active data\n         * @returns {Array|*}\n         */\n\n    }, {\n        key: 'getData',\n        value: function getData() {\n            return this.dataView;\n        }\n\n        /**\n         * Returns actual ORDER BY setup\n         * @returns {string|*|string}\n         */\n\n    }, {\n        key: 'getOrderBy',\n        value: function getOrderBy() {\n            return this.options.orderBy;\n        }\n\n        /**\n         * Returns actual pagination info\n         * @returns {{maxPages: number, page: (number|*|string|string)}}\n         */\n\n    }, {\n        key: 'getPaginationInfo',\n        value: function getPaginationInfo() {\n            var storage = this.__data[this.activeStorage];\n            return {\n                maxPages: storage.maxPages,\n                page: storage.page\n            };\n        }\n\n        /**\n         * Clear cached Data\n         */\n\n    }, {\n        key: 'cleanCache',\n        value: function cleanCache() {\n            this.__data[FILTER_STORAGE].cache = [];\n            this.__data[SEARCH_STORAGE].cache = [];\n            this.__data[NORMAL_STORAGE].cache = new Array(this.__data[NORMAL_STORAGE].maxPages);\n        }\n\n        /**\n         * Main method handling dispatched actions\n         * @param payload {Object}\n         * @private\n         */\n\n    }, {\n        key: '__onDispatch',\n        value: function __onDispatch(payload) {\n            switch (payload.action) {\n\n                // Pagination\n                case _GridActions.SET_PAGE:\n                    {\n                        this.__setPage(payload.page);\n                    }break;\n\n                // Order by change\n                case _GridActions.ORDER_BY:\n                    {\n                        this.__orderBy(payload.column);\n                    }break;\n                // Search\n                case _GridActions.SEARCH:\n                    {\n                        this.__search(payload.search);\n                    }break;\n                // Filter\n                case _GridActions.FILTER:\n                    {\n                        this.__filter(payload.filter);\n                    }break;\n                // Clear Filter\n                case _GridActions.CLEAR_FILTER:\n                    {\n                        this.__clearFilter(payload.filter);\n                    }break;\n                // Request again\n                case _GridActions.REPEAT_REQUEST:\n                    {\n                        this.__repeatRequest();\n                    }break;\n                default:\n                    break;\n            }\n        }\n\n        /**\n         * Shortcut for emit state change\n         * @private\n         */\n\n    }, {\n        key: '__stateChange',\n        value: function __stateChange() {\n            this.__emitter.emit(this.__changeEvent);\n        }\n\n        /**\n         * Apply search filter\n         * @param queryString {string}\n         * @private\n         */\n\n    }, {\n        key: '__search',\n        value: function __search(queryString) {\n            if (queryString === this.options.search) {\n                return;\n            }\n\n            if (_lodash2.default.isEmpty(queryString)) {\n                this.activeStorage = NORMAL_STORAGE;\n                this.options.search = null;\n                this.isFetching = false;\n                if (this.__lastRequest) {\n                    this.__lastRequest.abort();\n                }\n            } else {\n                this.options.search = queryString;\n                this.activeStorage = SEARCH_STORAGE;\n            }\n\n            this.__data[SEARCH_STORAGE].page = 0;\n            this.__data[SEARCH_STORAGE].cache = [];\n            this.__pushHistory();\n            this.updateDataView();\n        }\n\n        /**\n         * Apply filter\n         * @param queryString {string}\n         * @private\n         */\n\n    }, {\n        key: '__filter',\n        value: function __filter(queryString) {\n            if (queryString !== this.options.filter) {\n                this.options.filter = queryString;\n                this.activeStorage = FILTER_STORAGE;\n                this.__data[FILTER_STORAGE].page = 0;\n                this.__data[FILTER_STORAGE].cache = [];\n                this.__pushHistory();\n                this.updateDataView();\n            }\n        }\n\n        /**\n         * Clears Filter\n         * @private\n         */\n\n    }, {\n        key: '__clearFilter',\n        value: function __clearFilter() {\n            if (!_lodash2.default.isEmpty(this.options.filter)) {\n                this.options.filter = null;\n                this.activeStorage = _lodash2.default.isNull(this.options.search) ? NORMAL_STORAGE : SEARCH_STORAGE;\n                this.__data[FILTER_STORAGE].page = 0;\n                this.__data[FILTER_STORAGE].cache = [];\n                this.__pushHistory();\n                this.updateDataView();\n            }\n        }\n\n        /**\n         * Handles SET PAGE request\n         * @param page {number}\n         * @private\n         */\n\n    }, {\n        key: '__setPage',\n        value: function __setPage(page) {\n            var storage = this.__data[this.activeStorage];\n            if (!this.isFetching || storage !== page) {\n                storage.page = page;\n                this.__pushHistory();\n                this.updateDataView();\n            }\n        }\n\n        /**\n         * Handles orderBy action request\n         * @param column {string}\n         * @private\n         */\n\n    }, {\n        key: '__orderBy',\n        value: function __orderBy(column) {\n\n            var previousColumn = this.options.orderBy.column,\n                order = this.options.orderBy.order;\n\n            // Set new order\n            this.options.orderBy.column = column;\n            // look at previous column, if its same as actual -> change order, if not -> order ASC\n            this.options.orderBy.order = previousColumn === column && order === 'ASC' ? 'DESC' : 'ASC';\n\n            this.cleanCache();\n            this.__pushHistory();\n            this.updateDataView();\n        }\n    }, {\n        key: '__repeatRequest',\n        value: function __repeatRequest() {\n            this.__repeatLastRequest = true;\n            this.updateDataView();\n        }\n\n        /**\n         * Update data view\n         */\n\n    }, {\n        key: 'updateDataView',\n        value: function updateDataView() {\n            var _this2 = this;\n\n            // Clear error cache\n            this.isError = false;\n\n            var storage = this.__data[this.activeStorage],\n                page = storage.page;\n\n            // Do we have Data?\n            if (storage.cache[page] && storage.cache[page].length > 0) {\n                this.dataView = storage.cache[page];\n                this.__stateChange();\n                return;\n            }\n\n            // We have to download Data\n            this.isFetching = true;\n            this.__stateChange();\n\n            // REQUEST\n            var currentQuery = this.requestData(function (response) {\n                var queryTest = currentQuery === _this2.__lastQuery,\n                    dataTest = !storage.cache[page] || _lodash2.default.isEmpty(storage.cache[page]);\n\n                // Check if some other request was triggered\n                if (queryTest && dataTest) {\n                    _this2.isFetching = false;\n                    storage.cache.max = response.body.count.total;\n                    storage.cache.maxPages = Math.ceil(storage.cache.max / _this2.options.limit);\n                    _this2.dataView = storage.cache[page] = response.body.result;\n                    _this2.__stateChange();\n                }\n            }, function (error) {\n                // ERROR\n                if (true) {\n                    console.error(error);\n                    console.log('RESPONSE', error.response);\n                    if (messageService && error.response) {\n                        messageService(error.response.statusCode + '<br>' + error.response.statusText, 'error');\n                    }\n                }\n\n                // Check if some other request was triggered\n                if (currentQuery === _this2.__lastQuery) {\n                    _this2.isFetching = false;\n                    _this2.isError = true;\n                    _this2.__stateChange();\n                }\n            }, this.__repeatLastRequest);\n        }\n\n        /**\n         * Request for all queries\n         * @param successCallback\n         * @param errorCallback\n         * @param repeatLast {boolean}\n         */\n\n    }, {\n        key: 'requestData',\n        value: function requestData(successCallback, errorCallback, repeatLast) {\n            // If there is last then abort it\n            this.__lastRequest && this.__lastRequest.abort();\n\n            if (repeatLast) {\n                if ((true) && fakeTimeout) {\n                    fakeTimeout = false;\n                    this.__lastRequest.timeout(30000);\n                }\n                this.__repeatLastRequest = false;\n                this.__lastRequest.finish();\n                return this.__lastQuery;\n            }\n\n            var storage = this.__data[this.activeStorage];\n            var queryRequest = this.activeStorage === SEARCH_STORAGE && this.options.allowSearch ? _TrinityQueryBuilder2.default.createSearch(this.url, // Url\n            this.select, this.options.search, {\n                offset: storage.page * this.options.limit,\n                limit: this.options.limit,\n                orderBy: this.options.orderBy\n            }\n            // TODO: Extra query params\n            ) : _TrinityQueryBuilder2.default.create(this.url, // Url\n            this.select, // Select\n            this.options.forceFilter, // filter\n            // Query\n            {\n                offset: storage.page * this.options.limit,\n                limit: this.options.limit,\n                orderBy: this.options.orderBy,\n                filter: this.options.allowFilter ? this.options.filter : null\n            });\n\n            if (true) {\n                console.log('REQUEST', queryRequest);\n            }\n\n            var request = _Gateway2.default.sendJSON(encodeURI(queryRequest), 'GET', null, successCallback, errorCallback, true // override\n            );\n\n            request.timeout(30000);\n            if ((true) && fakeTimeout) {\n                request.timeout(1);\n            }\n            request.finish();\n            this.__lastRequest = request;\n\n            return this.__lastQuery = queryRequest;\n        }\n\n        /**\n         * Initial request\n         * @private\n         */\n\n    }, {\n        key: '__initialPageSet',\n        value: function __initialPageSet() {\n            this.updateDataView();\n            _GlobalHistory2.default.replace(this.__createHistoryUrl());\n        }\n\n        /**\n         * Add new state to history\n         * @private\n         */\n\n    }, {\n        key: '__pushHistory',\n        value: function __pushHistory() {\n            _GlobalHistory2.default.push(this.__createHistoryUrl());\n        }\n    }, {\n        key: '__createHistoryUrl',\n        value: function __createHistoryUrl() {\n            var storage = this.__data[this.activeStorage];\n            var queryUrl = [];\n            queryUrl.push('page=' + (storage.page + 1));\n            queryUrl.push('limit=' + this.options.limit);\n            queryUrl.push('orderby=' + this.options.orderBy.column + ':' + this.options.orderBy.order);\n            if (this.options.search) {\n                queryUrl.push('search=' + window.btoa(this.options.search));\n            } else if (this.options.filter) {\n                queryUrl.push('filter=' + window.btoa(this.options.filter));\n            }\n            return {\n                pathname: window.location.pathname,\n                search: '?' + window.encodeURI(queryUrl.join('&')) + window.location.hash,\n                state: _lodash2.default.clone(this.options)\n            };\n        }\n    }]);\n\n    return TableDataStore;\n}(_FluxStore2.default);\n\n/**\n * Correct options\n * @param options\n * @returns {*}\n * @private\n */\n\n\nexports.default = TableDataStore;\nfunction __processOptions(options) {\n    options = _lodash2.default.defaultsDeep(options || {}, defaultOptions);\n\n    if (_lodash2.default.isString(options.orderBy)) {\n        var orderBy = options.orderBy.split(ORDER_BY_SPIT_RX);\n        // if not name\n        options.orderBy = orderBy[0] ? {\n            column: orderBy[0],\n            order: orderBy[1]\n        } : { // Default options\n            column: 'id',\n            order: 'ASC'\n        };\n    }\n\n    options.limit = options.limit && options.limit > 0 ? options.limit : 15;\n    options.maxPages = Math.ceil(options.max / options.limit);\n    options.page = options.page && options.page > 0 ? options.page - 1 : 0;\n\n    if (options.page >= options.maxPages) {\n        options.page = options.maxPages - 1;\n    }\n    return options;\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvVGFibGVEYXRhU3RvcmUuanM/ODEyMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgZmlzYSBvbiAxMS8yNy8xNS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IEdhdGV3YXkgZnJvbSAndHJpbml0eS9HYXRld2F5JztcbmltcG9ydCBRdWVyeUJ1aWxkZXIgZnJvbSAnLi9UcmluaXR5UXVlcnlCdWlsZGVyJztcbmltcG9ydCBTdG9yZSBmcm9tICdmbHV4L2xpYi9GbHV4U3RvcmUnO1xuaW1wb3J0IEhpc3RvcnkgZnJvbSAnLi4vR2xvYmFsSGlzdG9yeSc7XG5pbXBvcnQge1xuICAgIFNFVF9QQUdFLFxuICAgIEZJTFRFUixcbiAgICBPUkRFUl9CWSxcbiAgICBDTEVBUl9GSUxURVIsXG4gICAgU0VBUkNILFxuICAgIFJFUEVBVF9SRVFVRVNUXG59IGZyb20gJy4vR3JpZEFjdGlvbnMnO1xuXG5sZXQgbWVzc2FnZVNlcnZpY2UgPSBudWxsO1xubGV0IGZha2VUaW1lb3V0ID0gZmFsc2U7XG5cblxuaWYoREVWRUxPUE1FTlQpe1xuICAgIG1lc3NhZ2VTZXJ2aWNlID0gcmVxdWlyZSgndHJpbml0eS9TZXJ2aWNlcy5qcycpLm1lc3NhZ2VTZXJ2aWNlO1xufVxuXG5cbi8vIEluaXRpYWwgb3B0aW9uc1xuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgbGltaXQgOiAxNSxcbiAgICBwYWdlIDogMSxcbiAgICBtYXggOiAxLFxuICAgIG9yZGVyQnk6ICdpZDpBU0MnLFxuICAgIGFsbG93RmlsdGVyOiB0cnVlLFxuICAgIGFsbG93U2VhcmNoOiB0cnVlLFxuICAgIGZpbHRlcjogbnVsbCxcbiAgICBzZWFyY2g6IG51bGwsXG4gICAgZm9yY2VGaWx0ZXI6IG51bGxcbn07XG5cblxuY29uc3QgT1JERVJfQllfU1BJVF9SWCA9IC86KD89QVNDJHxERVNDJCkvLFxuICAgIEZJTFRFUl9TVE9SQUdFID0gJ2ZpbHRlcicsXG4gICAgTk9STUFMX1NUT1JBR0UgPSAnbm9ybWFsJyxcbiAgICBTRUFSQ0hfU1RPUkFHRSA9ICdzZWFyY2gnXG4gICAgO1xuXG4vKipcbiAqIFN0b3JlIGRhdGEgY29tcG9uZW50IGZvciBncmlkIHRhYmxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZURhdGFTdG9yZSBleHRlbmRzIFN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcihkaXNwYXRjaGVyLCB1cmwsIGNvbHVtbnMsIG9wdGlvbnMpe1xuICAgICAgICBzdXBlcihkaXNwYXRjaGVyKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBfX3Byb2Nlc3NPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucztcbiAgICAgICAgdGhpcy5zZWxlY3QgPSBfKGNvbHVtbnMpXG4gICAgICAgICAgICAuZmlsdGVyKGNvbCA9PiBjb2wuc2VsZWN0ICE9PSBmYWxzZSlcbiAgICAgICAgICAgIC5tYXAoY29sID0+IGNvbC5uYW1lKVxuICAgICAgICAgICAgLnZhbHVlKCk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3QucHVzaCgnX2lkJyk7XG4gICAgICAgIHRoaXMuaXNGZXRjaGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fX3JlcGVhdExhc3RSZXF1ZXN0ID0gZmFsc2U7XG5cbiAgICAgICAgLy8gRGF0YSBzdG9yYWdlXG4gICAgICAgIHRoaXMuX19kYXRhID0ge1xuICAgICAgICAgICAgbm9ybWFsOiB7XG4gICAgICAgICAgICAgICAgY2FjaGU6IG5ldyBBcnJheSh0aGlzLm9wdGlvbnMubWF4UGFnZXMpLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHRoaXMub3B0aW9ucy5wYWdlLFxuICAgICAgICAgICAgICAgIG1heFBhZ2VzOiB0aGlzLm9wdGlvbnMubWF4UGFnZXMsXG4gICAgICAgICAgICAgICAgbWF4OiB0aGlzLm9wdGlvbnMubWF4XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgY2FjaGU6IFtdLFxuICAgICAgICAgICAgICAgIHBhZ2U6IDAsXG4gICAgICAgICAgICAgICAgbWF4UGFnZXM6IDEsXG4gICAgICAgICAgICAgICAgbWF4OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VhcmNoOiB7XG4gICAgICAgICAgICAgICAgY2FjaGU6IFtdLFxuICAgICAgICAgICAgICAgIHBhZ2U6IDAsXG4gICAgICAgICAgICAgICAgbWF4UGFnZXM6IDEsXG4gICAgICAgICAgICAgICAgbWF4OiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYoIXRoaXMub3B0aW9ucy5hbGxvd0ZpbHRlcil7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZmlsdGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZighdGhpcy5vcHRpb25zLmFsbG93U2VhcmNoKXtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zZWFyY2ggPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmVTdG9yYWdlID0gTk9STUFMX1NUT1JBR0U7XG4gICAgICAgIGlmKCFfLmlzRW1wdHkodGhpcy5vcHRpb25zLnNlYXJjaCkpe1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdG9yYWdlID0gU0VBUkNIX1NUT1JBR0U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZighXy5pc0VtcHR5KHRoaXMub3B0aW9ucy5maWx0ZXIpKXtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU3RvcmFnZSA9IEZJTFRFUl9TVE9SQUdFO1xuICAgICAgICB9XG4gICAgICAgIC8vIGN1cnJlbnQgdmlld1xuICAgICAgICB0aGlzLmRhdGFWaWV3ID0gW107XG5cbiAgICAgICAgLy8gSGlzdG9yeVxuICAgICAgICBsZXQgZmlyc3RSZXF1ZXN0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fX2hpc3RvcnlMaXN0ZW5lciA9IEhpc3RvcnkubGlzdGVuKChsb2MpPT57XG4gICAgICAgICAgICBpZihmaXJzdFJlcXVlc3Qpe1xuICAgICAgICAgICAgICAgIGZpcnN0UmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGxvYy5hY3Rpb24gPT09ICdQT1AnICYmIGxvYy5zdGF0ZSl7XG4gICAgICAgICAgICAgICAgaWYobG9jLnN0YXRlLm9yZGVyQnkgIT09IHRoaXMub3B0aW9ucy5vcmRlckJ5IHx8IGxvYy5zdGF0ZS5maWx0ZXIgIT09IHRoaXMub3B0aW9ucy5maWx0ZXIpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFuQ2FjaGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gXy5jbG9uZShsb2Muc3RhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YVZpZXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEluaXRpYWwgcmVxdWVzdFxuICAgICAgICB0aGlzLl9faW5pdGlhbFBhZ2VTZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaCBhY3Rpb25cbiAgICAgKiBAcGFyYW0gYWN0aW9uIHtvYmplY3R9XG4gICAgICovXG4gICAgZGlzcGF0Y2goYWN0aW9uKXtcbiAgICAgICAgdGhpcy5fX2Rpc3BhdGNoZXIuZGlzcGF0Y2goYWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFjdHVhbCBzdGF0ZSBvZiB0YWJsZVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgZ2V0U3RhdGUoKXtcbiAgICAgICAgcmV0dXJuIF8uY2xvbmVEZWVwKHtcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YVZpZXcsXG4gICAgICAgICAgICBvcmRlckJ5OiB0aGlzLm9wdGlvbnMub3JkZXJCeSxcbiAgICAgICAgICAgIHBhZ2luYXRpb246IHRoaXMuZ2V0UGFnaW5hdGlvbkluZm8oKSxcbiAgICAgICAgICAgIGlzRmV0Y2hpbmc6IHRoaXMuaXNGZXRjaGluZyxcbiAgICAgICAgICAgIGlzRXJyb3I6IHRoaXMuaXNFcnJvcixcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhY3R1YWwgaW5uZXIgdmlldyBzdGF0ZSBvZiBhY3RpdmUgZGF0YVxuICAgICAqIEByZXR1cm5zIHtBcnJheXwqfVxuICAgICAqL1xuICAgIGdldERhdGEoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVZpZXc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhY3R1YWwgT1JERVIgQlkgc2V0dXBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfCp8c3RyaW5nfVxuICAgICAqL1xuICAgIGdldE9yZGVyQnkoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5vcmRlckJ5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWN0dWFsIHBhZ2luYXRpb24gaW5mb1xuICAgICAqIEByZXR1cm5zIHt7bWF4UGFnZXM6IG51bWJlciwgcGFnZTogKG51bWJlcnwqfHN0cmluZ3xzdHJpbmcpfX1cbiAgICAgKi9cbiAgICBnZXRQYWdpbmF0aW9uSW5mbygpe1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuX19kYXRhW3RoaXMuYWN0aXZlU3RvcmFnZV07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXhQYWdlczogc3RvcmFnZS5tYXhQYWdlcyxcbiAgICAgICAgICAgIHBhZ2U6IHN0b3JhZ2UucGFnZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFyIGNhY2hlZCBEYXRhXG4gICAgICovXG4gICAgY2xlYW5DYWNoZSgpe1xuICAgICAgICB0aGlzLl9fZGF0YVtGSUxURVJfU1RPUkFHRV0uY2FjaGUgPSBbXTtcbiAgICAgICAgdGhpcy5fX2RhdGFbU0VBUkNIX1NUT1JBR0VdLmNhY2hlID0gW107XG4gICAgICAgIHRoaXMuX19kYXRhW05PUk1BTF9TVE9SQUdFXS5jYWNoZSA9IG5ldyBBcnJheSh0aGlzLl9fZGF0YVtOT1JNQUxfU1RPUkFHRV0ubWF4UGFnZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1haW4gbWV0aG9kIGhhbmRsaW5nIGRpc3BhdGNoZWQgYWN0aW9uc1xuICAgICAqIEBwYXJhbSBwYXlsb2FkIHtPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfX29uRGlzcGF0Y2gocGF5bG9hZCl7XG4gICAgICAgIHN3aXRjaChwYXlsb2FkLmFjdGlvbil7XG5cbiAgICAgICAgICAgIC8vIFBhZ2luYXRpb25cbiAgICAgICAgICAgIGNhc2UgU0VUX1BBR0UgOntcbiAgICAgICAgICAgICAgICB0aGlzLl9fc2V0UGFnZShwYXlsb2FkLnBhZ2UpO1xuICAgICAgICAgICAgfSBicmVhaztcblxuICAgICAgICAgICAgLy8gT3JkZXIgYnkgY2hhbmdlXG4gICAgICAgICAgICBjYXNlIE9SREVSX0JZIDp7XG4gICAgICAgICAgICAgICAgdGhpcy5fX29yZGVyQnkocGF5bG9hZC5jb2x1bW4pO1xuICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgICAgIC8vIFNlYXJjaFxuICAgICAgICAgICAgY2FzZSBTRUFSQ0g6e1xuICAgICAgICAgICAgICAgIHRoaXMuX19zZWFyY2gocGF5bG9hZC5zZWFyY2gpO1xuICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgICAgIC8vIEZpbHRlclxuICAgICAgICAgICAgY2FzZSBGSUxURVIgOntcbiAgICAgICAgICAgICAgICB0aGlzLl9fZmlsdGVyKHBheWxvYWQuZmlsdGVyKTtcbiAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgICAgICAvLyBDbGVhciBGaWx0ZXJcbiAgICAgICAgICAgIGNhc2UgQ0xFQVJfRklMVEVSIDp7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2NsZWFyRmlsdGVyKHBheWxvYWQuZmlsdGVyKTtcbiAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgICAgICAvLyBSZXF1ZXN0IGFnYWluXG4gICAgICAgICAgICBjYXNlIFJFUEVBVF9SRVFVRVNUIDp7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3JlcGVhdFJlcXVlc3QoKTtcbiAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3J0Y3V0IGZvciBlbWl0IHN0YXRlIGNoYW5nZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX19zdGF0ZUNoYW5nZSgpe1xuICAgICAgICB0aGlzLl9fZW1pdHRlci5lbWl0KHRoaXMuX19jaGFuZ2VFdmVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgc2VhcmNoIGZpbHRlclxuICAgICAqIEBwYXJhbSBxdWVyeVN0cmluZyB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX19zZWFyY2gocXVlcnlTdHJpbmcpe1xuICAgICAgICBpZihxdWVyeVN0cmluZyA9PT0gdGhpcy5vcHRpb25zLnNlYXJjaCl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZihfLmlzRW1wdHkocXVlcnlTdHJpbmcpKXtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU3RvcmFnZSA9IE5PUk1BTF9TVE9SQUdFO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNlYXJjaCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmlzRmV0Y2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmKHRoaXMuX19sYXN0UmVxdWVzdCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2xhc3RSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2VhcmNoID0gcXVlcnlTdHJpbmc7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVN0b3JhZ2UgPSBTRUFSQ0hfU1RPUkFHRTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX19kYXRhW1NFQVJDSF9TVE9SQUdFXS5wYWdlID0gMDtcbiAgICAgICAgdGhpcy5fX2RhdGFbU0VBUkNIX1NUT1JBR0VdLmNhY2hlID0gW107XG4gICAgICAgIHRoaXMuX19wdXNoSGlzdG9yeSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZURhdGFWaWV3KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgZmlsdGVyXG4gICAgICogQHBhcmFtIHF1ZXJ5U3RyaW5nIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfX2ZpbHRlcihxdWVyeVN0cmluZyl7XG4gICAgICAgIGlmKHF1ZXJ5U3RyaW5nICE9PSB0aGlzLm9wdGlvbnMuZmlsdGVyKXtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5maWx0ZXIgPSBxdWVyeVN0cmluZztcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU3RvcmFnZSA9IEZJTFRFUl9TVE9SQUdFO1xuICAgICAgICAgICAgdGhpcy5fX2RhdGFbRklMVEVSX1NUT1JBR0VdLnBhZ2UgPSAwO1xuICAgICAgICAgICAgdGhpcy5fX2RhdGFbRklMVEVSX1NUT1JBR0VdLmNhY2hlID0gW107XG4gICAgICAgICAgICB0aGlzLl9fcHVzaEhpc3RvcnkoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YVZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyBGaWx0ZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9fY2xlYXJGaWx0ZXIoKXtcbiAgICAgICAgaWYoIV8uaXNFbXB0eSh0aGlzLm9wdGlvbnMuZmlsdGVyKSl7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZmlsdGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU3RvcmFnZSA9IF8uaXNOdWxsKHRoaXMub3B0aW9ucy5zZWFyY2gpID8gTk9STUFMX1NUT1JBR0UgOiBTRUFSQ0hfU1RPUkFHRTtcbiAgICAgICAgICAgIHRoaXMuX19kYXRhW0ZJTFRFUl9TVE9SQUdFXS5wYWdlID0gMDtcbiAgICAgICAgICAgIHRoaXMuX19kYXRhW0ZJTFRFUl9TVE9SQUdFXS5jYWNoZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fX3B1c2hIaXN0b3J5KCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFWaWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIFNFVCBQQUdFIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gcGFnZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX19zZXRQYWdlKHBhZ2Upe1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuX19kYXRhW3RoaXMuYWN0aXZlU3RvcmFnZV07XG4gICAgICAgIGlmKCF0aGlzLmlzRmV0Y2hpbmcgfHwgc3RvcmFnZSAhPT0gcGFnZSkge1xuICAgICAgICAgICAgc3RvcmFnZS5wYWdlID0gcGFnZTtcbiAgICAgICAgICAgIHRoaXMuX19wdXNoSGlzdG9yeSgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhVmlldygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBvcmRlckJ5IGFjdGlvbiByZXF1ZXN0XG4gICAgICogQHBhcmFtIGNvbHVtbiB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX19vcmRlckJ5KGNvbHVtbil7XG5cbiAgICAgICAgbGV0IHByZXZpb3VzQ29sdW1uID0gdGhpcy5vcHRpb25zLm9yZGVyQnkuY29sdW1uLFxuICAgICAgICAgICAgb3JkZXIgPSB0aGlzLm9wdGlvbnMub3JkZXJCeS5vcmRlcjtcblxuICAgICAgICAvLyBTZXQgbmV3IG9yZGVyXG4gICAgICAgIHRoaXMub3B0aW9ucy5vcmRlckJ5LmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgLy8gbG9vayBhdCBwcmV2aW91cyBjb2x1bW4sIGlmIGl0cyBzYW1lIGFzIGFjdHVhbCAtPiBjaGFuZ2Ugb3JkZXIsIGlmIG5vdCAtPiBvcmRlciBBU0NcbiAgICAgICAgdGhpcy5vcHRpb25zLm9yZGVyQnkub3JkZXIgPSBwcmV2aW91c0NvbHVtbiA9PT0gY29sdW1uICYmIG9yZGVyID09PSAnQVNDJyA/ICdERVNDJyA6ICdBU0MnO1xuXG4gICAgICAgIHRoaXMuY2xlYW5DYWNoZSgpO1xuICAgICAgICB0aGlzLl9fcHVzaEhpc3RvcnkoKTtcbiAgICAgICAgdGhpcy51cGRhdGVEYXRhVmlldygpO1xuICAgIH1cblxuICAgIF9fcmVwZWF0UmVxdWVzdCgpe1xuICAgICAgICB0aGlzLl9fcmVwZWF0TGFzdFJlcXVlc3QgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZURhdGFWaWV3KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGRhdGEgdmlld1xuICAgICAqL1xuICAgIHVwZGF0ZURhdGFWaWV3KCl7XG4gICAgICAgIC8vIENsZWFyIGVycm9yIGNhY2hlXG4gICAgICAgIHRoaXMuaXNFcnJvciA9IGZhbHNlO1xuXG4gICAgICAgIGxldCBzdG9yYWdlID0gdGhpcy5fX2RhdGFbdGhpcy5hY3RpdmVTdG9yYWdlXSxcbiAgICAgICAgICAgIHBhZ2UgPSBzdG9yYWdlLnBhZ2U7XG5cbiAgICAgICAgLy8gRG8gd2UgaGF2ZSBEYXRhP1xuICAgICAgICBpZihzdG9yYWdlLmNhY2hlW3BhZ2VdICYmIHN0b3JhZ2UuY2FjaGVbcGFnZV0ubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICB0aGlzLmRhdGFWaWV3ID0gc3RvcmFnZS5jYWNoZVtwYWdlXTtcbiAgICAgICAgICAgIHRoaXMuX19zdGF0ZUNoYW5nZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgaGF2ZSB0byBkb3dubG9hZCBEYXRhXG4gICAgICAgIHRoaXMuaXNGZXRjaGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuX19zdGF0ZUNoYW5nZSgpO1xuXG4gICAgICAgIC8vIFJFUVVFU1RcbiAgICAgICAgbGV0IGN1cnJlbnRRdWVyeSA9IHRoaXMucmVxdWVzdERhdGEoKHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgbGV0IHF1ZXJ5VGVzdCA9IGN1cnJlbnRRdWVyeSA9PT0gdGhpcy5fX2xhc3RRdWVyeSxcbiAgICAgICAgICAgICAgICBkYXRhVGVzdCA9ICFzdG9yYWdlLmNhY2hlW3BhZ2VdIHx8IF8uaXNFbXB0eShzdG9yYWdlLmNhY2hlW3BhZ2VdKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc29tZSBvdGhlciByZXF1ZXN0IHdhcyB0cmlnZ2VyZWRcbiAgICAgICAgICAgIGlmKHF1ZXJ5VGVzdCAmJiBkYXRhVGVzdCl7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZldGNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc3RvcmFnZS5jYWNoZS5tYXggPSByZXNwb25zZS5ib2R5LmNvdW50LnRvdGFsO1xuICAgICAgICAgICAgICAgIHN0b3JhZ2UuY2FjaGUubWF4UGFnZXMgPSBNYXRoLmNlaWwoc3RvcmFnZS5jYWNoZS5tYXggLyB0aGlzLm9wdGlvbnMubGltaXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVZpZXcgPSBzdG9yYWdlLmNhY2hlW3BhZ2VdID0gcmVzcG9uc2UuYm9keS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3N0YXRlQ2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIChlcnJvcik9PntcbiAgICAgICAgICAgIC8vIEVSUk9SXG4gICAgICAgICAgICBpZihERVZFTE9QTUVOVCl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JFU1BPTlNFJywgZXJyb3IucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGlmKG1lc3NhZ2VTZXJ2aWNlICYmIGVycm9yLnJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVNlcnZpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5yZXNwb25zZS5zdGF0dXNDb2RlICsgJzxicj4nXG4gICAgICAgICAgICAgICAgICAgICAgICArIGVycm9yLnJlc3BvbnNlLnN0YXR1c1RleHQsICdlcnJvcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc29tZSBvdGhlciByZXF1ZXN0IHdhcyB0cmlnZ2VyZWRcbiAgICAgICAgICAgIGlmKGN1cnJlbnRRdWVyeSA9PT0gdGhpcy5fX2xhc3RRdWVyeSl7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZldGNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9fc3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5fX3JlcGVhdExhc3RSZXF1ZXN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IGZvciBhbGwgcXVlcmllc1xuICAgICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gZXJyb3JDYWxsYmFja1xuICAgICAqIEBwYXJhbSByZXBlYXRMYXN0IHtib29sZWFufVxuICAgICAqL1xuICAgIHJlcXVlc3REYXRhKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgcmVwZWF0TGFzdCl7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGxhc3QgdGhlbiBhYm9ydCBpdFxuICAgICAgICB0aGlzLl9fbGFzdFJlcXVlc3QgJiYgdGhpcy5fX2xhc3RSZXF1ZXN0LmFib3J0KCk7XG5cbiAgICAgICAgaWYocmVwZWF0TGFzdCl7XG4gICAgICAgICAgICBpZihERVZFTE9QTUVOVCAmJiBmYWtlVGltZW91dCl7XG4gICAgICAgICAgICAgICAgZmFrZVRpbWVvdXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9fbGFzdFJlcXVlc3QudGltZW91dCgzMDAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9fcmVwZWF0TGFzdFJlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX19sYXN0UmVxdWVzdC5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9fbGFzdFF1ZXJ5O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLl9fZGF0YVt0aGlzLmFjdGl2ZVN0b3JhZ2VdO1xuICAgICAgICBsZXQgcXVlcnlSZXF1ZXN0ID0gdGhpcy5hY3RpdmVTdG9yYWdlID09PSBTRUFSQ0hfU1RPUkFHRSAmJiB0aGlzLm9wdGlvbnMuYWxsb3dTZWFyY2ggP1xuICAgICAgICAgICAgUXVlcnlCdWlsZGVyLmNyZWF0ZVNlYXJjaChcbiAgICAgICAgICAgICAgICB0aGlzLnVybCwgLy8gVXJsXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3QsXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNlYXJjaCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogKHN0b3JhZ2UucGFnZSkgKiB0aGlzLm9wdGlvbnMubGltaXQsXG4gICAgICAgICAgICAgICAgICAgIGxpbWl0OiB0aGlzLm9wdGlvbnMubGltaXQsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyQnk6IHRoaXMub3B0aW9ucy5vcmRlckJ5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IEV4dHJhIHF1ZXJ5IHBhcmFtc1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBRdWVyeUJ1aWxkZXIuY3JlYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMudXJsLCAvLyBVcmxcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdCwgLy8gU2VsZWN0XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvcmNlRmlsdGVyLCAvLyBmaWx0ZXJcbiAgICAgICAgICAgICAgICAvLyBRdWVyeVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAoc3RvcmFnZS5wYWdlKSAqIHRoaXMub3B0aW9ucy5saW1pdCxcbiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IHRoaXMub3B0aW9ucy5saW1pdCxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJCeTogdGhpcy5vcHRpb25zLm9yZGVyQnksXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcjogdGhpcy5vcHRpb25zLmFsbG93RmlsdGVyID8gdGhpcy5vcHRpb25zLmZpbHRlciA6IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG5cbiAgICAgICAgaWYoREVWRUxPUE1FTlQpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JFUVVFU1QnLCBxdWVyeVJlcXVlc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3QgPSBHYXRld2F5LnNlbmRKU09OKFxuICAgICAgICAgICAgZW5jb2RlVVJJKHF1ZXJ5UmVxdWVzdCksXG4gICAgICAgICAgICAnR0VUJyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2ssXG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrLFxuICAgICAgICAgICAgdHJ1ZSAvLyBvdmVycmlkZVxuICAgICAgICApO1xuXG4gICAgICAgIHJlcXVlc3QudGltZW91dCgzMDAwMCk7XG4gICAgICAgIGlmKERFVkVMT1BNRU5UICYmIGZha2VUaW1lb3V0KXtcbiAgICAgICAgICAgIHJlcXVlc3QudGltZW91dCgxKTtcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0LmZpbmlzaCgpO1xuICAgICAgICB0aGlzLl9fbGFzdFJlcXVlc3QgPSByZXF1ZXN0O1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9fbGFzdFF1ZXJ5ID0gcXVlcnlSZXF1ZXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWwgcmVxdWVzdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX19pbml0aWFsUGFnZVNldCgpe1xuICAgICAgICB0aGlzLnVwZGF0ZURhdGFWaWV3KCk7XG4gICAgICAgIEhpc3RvcnkucmVwbGFjZSh0aGlzLl9fY3JlYXRlSGlzdG9yeVVybCgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgbmV3IHN0YXRlIHRvIGhpc3RvcnlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9fcHVzaEhpc3RvcnkoKXtcbiAgICAgICAgSGlzdG9yeS5wdXNoKHRoaXMuX19jcmVhdGVIaXN0b3J5VXJsKCkpO1xuICAgIH1cbiAgICBcbiAgICBfX2NyZWF0ZUhpc3RvcnlVcmwoKXtcbiAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLl9fZGF0YVt0aGlzLmFjdGl2ZVN0b3JhZ2VdO1xuICAgICAgICBsZXQgcXVlcnlVcmwgPSBbXTtcbiAgICAgICAgcXVlcnlVcmwucHVzaCgncGFnZT0nICsgKHN0b3JhZ2UucGFnZSArIDEpKTtcbiAgICAgICAgcXVlcnlVcmwucHVzaCgnbGltaXQ9JyArIHRoaXMub3B0aW9ucy5saW1pdCk7XG4gICAgICAgIHF1ZXJ5VXJsLnB1c2goYG9yZGVyYnk9JHt0aGlzLm9wdGlvbnMub3JkZXJCeS5jb2x1bW59OiR7dGhpcy5vcHRpb25zLm9yZGVyQnkub3JkZXJ9YCk7XG4gICAgICAgIGlmKHRoaXMub3B0aW9ucy5zZWFyY2gpe1xuICAgICAgICAgICAgcXVlcnlVcmwucHVzaChgc2VhcmNoPSR7d2luZG93LmJ0b2EodGhpcy5vcHRpb25zLnNlYXJjaCl9YCk7XG4gICAgICAgIH0gZWxzZSBpZih0aGlzLm9wdGlvbnMuZmlsdGVyKXtcbiAgICAgICAgICAgIHF1ZXJ5VXJsLnB1c2goYGZpbHRlcj0ke3dpbmRvdy5idG9hKHRoaXMub3B0aW9ucy5maWx0ZXIpfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXRobmFtZTp3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgICAgICBzZWFyY2g6Jz8nICsgd2luZG93LmVuY29kZVVSSShxdWVyeVVybC5qb2luKCcmJykpICsgd2luZG93LmxvY2F0aW9uLmhhc2gsXG4gICAgICAgICAgICBzdGF0ZTpfLmNsb25lKHRoaXMub3B0aW9ucylcbiAgICAgICAgfTtcbiAgICB9XG59XG5cblxuLyoqXG4gKiBDb3JyZWN0IG9wdGlvbnNcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyB7Kn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fcHJvY2Vzc09wdGlvbnMob3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IF8uZGVmYXVsdHNEZWVwKG9wdGlvbnMgfHwge30sIGRlZmF1bHRPcHRpb25zKTtcblxuICAgIGlmKF8uaXNTdHJpbmcob3B0aW9ucy5vcmRlckJ5KSl7XG4gICAgICAgIGxldCBvcmRlckJ5ID0gb3B0aW9ucy5vcmRlckJ5LnNwbGl0KE9SREVSX0JZX1NQSVRfUlgpO1xuICAgICAgICAvLyBpZiBub3QgbmFtZVxuICAgICAgICBvcHRpb25zLm9yZGVyQnkgPSBvcmRlckJ5WzBdID8ge1xuICAgICAgICAgICAgY29sdW1uOiBvcmRlckJ5WzBdLFxuICAgICAgICAgICAgb3JkZXI6IG9yZGVyQnlbMV1cbiAgICAgICAgfSA6IHsgICAvLyBEZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgICAgIGNvbHVtbjogJ2lkJyxcbiAgICAgICAgICAgIG9yZGVyOiAnQVNDJ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIG9wdGlvbnMubGltaXQgPSBvcHRpb25zLmxpbWl0ICYmIG9wdGlvbnMubGltaXQgPiAwID8gb3B0aW9ucy5saW1pdCA6IDE1O1xuICAgIG9wdGlvbnMubWF4UGFnZXMgPSBNYXRoLmNlaWwob3B0aW9ucy5tYXggLyBvcHRpb25zLmxpbWl0KTtcbiAgICBvcHRpb25zLnBhZ2UgPSAob3B0aW9ucy5wYWdlICYmIG9wdGlvbnMucGFnZSA+IDApID8gb3B0aW9ucy5wYWdlIC0gMSA6IDA7XG5cbiAgICBpZiggb3B0aW9ucy5wYWdlID49IG9wdGlvbnMubWF4UGFnZXMgKXtcbiAgICAgICAgb3B0aW9ucy5wYWdlID0gKG9wdGlvbnMubWF4UGFnZXMgLSAxKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvVGFibGVEYXRhU3RvcmUuanMiXSwibWFwcGluZ3MiOiJBQUFBOzs7QUFHQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFDQTtBQVlBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFLQTs7OztBQUdBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFiQTtBQUNBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZFQTtBQXdFQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBM0JBO0FBNkJBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBVEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTs7Ozs7O0FBSUE7Ozs7Ozs7O0FBdmJBO0FBNmJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 499:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 1/15/16.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TrinityQueryBuilder = function () {\n    function TrinityQueryBuilder() {\n        _classCallCheck(this, TrinityQueryBuilder);\n    }\n\n    _createClass(TrinityQueryBuilder, null, [{\n        key: 'create',\n        value: function create(baseUrl, select, where, query) {\n            // base URL\n            baseUrl = _lodash2.default.last(baseUrl) === '/' ? _lodash2.default.initial(baseUrl).join('') : baseUrl;\n            // Select\n            var buffer = [];\n            buffer.push('(' + select.join(',') + ')');\n\n            // Constrains\n            var constraintsBuffer = [];\n            if (query.limit) {\n                constraintsBuffer.push('LIMIT=' + query.limit);\n            }\n            if (query.offset) {\n                constraintsBuffer.push('OFFSET=' + query.offset);\n            }\n            if (!_lodash2.default.isEmpty(query.orderBy)) {\n                var order = query.orderBy.order || 'ASC';\n                constraintsBuffer.push('ORDERBY ' + query.orderBy.column + ' ' + order.toUpperCase());\n            }\n            var filter = query.filter;\n            if (where) {\n                if (!_lodash2.default.isEmpty(filter)) {\n                    filter = where + ' AND (' + filter + ')';\n                } else {\n                    filter = where;\n                }\n            }\n            if (!_lodash2.default.isEmpty(filter)) {\n                buffer.push('{' + filter + '}');\n            }\n            buffer.push(constraintsBuffer.join(' '));\n            return baseUrl + '?q=' + buffer.join(' ');\n        }\n    }, {\n        key: 'createSearch',\n        value: function createSearch(baseUrl, select, search, query) {\n            // base URL\n            baseUrl = _lodash2.default.last(baseUrl) === '/' ? _lodash2.default.initial(baseUrl).join('') : baseUrl;\n\n            var queryParams = [];\n            if (query.offset) {\n                queryParams.push('offset=' + query.offset);\n            }\n            if (query.limit) {\n                queryParams.push('limit=' + query.limit);\n            }\n            var queryStr = _lodash2.default.isEmpty(queryParams) ? '' : '&' + queryParams.join('&');\n\n            return baseUrl + '?q=' + search + '&c=' + select.join(',') + queryStr;\n        }\n    }]);\n\n    return TrinityQueryBuilder;\n}();\n\nexports.default = TrinityQueryBuilder;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvVHJpbml0eVF1ZXJ5QnVpbGRlci5qcz9jMzZhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBmaXNhIG9uIDEvMTUvMTYuXG4gKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJpbml0eVF1ZXJ5QnVpbGRlciB7XG4gICAgc3RhdGljIGNyZWF0ZShiYXNlVXJsLCBzZWxlY3QsIHdoZXJlLCBxdWVyeSkge1xuICAgICAgICAvLyBiYXNlIFVSTFxuICAgICAgICBiYXNlVXJsID0gXy5sYXN0KGJhc2VVcmwpID09PSAnLycgPyBfLmluaXRpYWwoYmFzZVVybCkuam9pbignJykgOiBiYXNlVXJsO1xuICAgICAgICAvLyBTZWxlY3RcbiAgICAgICAgbGV0IGJ1ZmZlciA9IFtdO1xuICAgICAgICBidWZmZXIucHVzaCgnKCcgKyBzZWxlY3Quam9pbignLCcpICsgJyknKTtcblxuICAgICAgICAvLyBDb25zdHJhaW5zXG4gICAgICAgIGxldCBjb25zdHJhaW50c0J1ZmZlciA9IFtdO1xuICAgICAgICBpZiAocXVlcnkubGltaXQpIHtcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzQnVmZmVyLnB1c2goJ0xJTUlUPScgKyBxdWVyeS5saW1pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHF1ZXJ5Lm9mZnNldCkge1xuICAgICAgICAgICAgY29uc3RyYWludHNCdWZmZXIucHVzaCgnT0ZGU0VUPScgKyBxdWVyeS5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghXy5pc0VtcHR5KHF1ZXJ5Lm9yZGVyQnkpKSB7XG4gICAgICAgICAgICBsZXQgb3JkZXIgPSBxdWVyeS5vcmRlckJ5Lm9yZGVyIHx8ICdBU0MnO1xuICAgICAgICAgICAgY29uc3RyYWludHNCdWZmZXIucHVzaChgT1JERVJCWSAke3F1ZXJ5Lm9yZGVyQnkuY29sdW1ufSAke29yZGVyLnRvVXBwZXJDYXNlKCl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZpbHRlciA9IHF1ZXJ5LmZpbHRlcjtcbiAgICAgICAgaWYgKHdoZXJlKSB7XG4gICAgICAgICAgICBpZiAoIV8uaXNFbXB0eShmaWx0ZXIpKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyID0gYCR7d2hlcmV9IEFORCAoJHtmaWx0ZXJ9KWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbHRlciA9IHdoZXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghXy5pc0VtcHR5KGZpbHRlcikpIHtcbiAgICAgICAgICAgIGJ1ZmZlci5wdXNoKGB7JHtmaWx0ZXJ9fWApO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlci5wdXNoKGNvbnN0cmFpbnRzQnVmZmVyLmpvaW4oJyAnKSk7XG4gICAgICAgIHJldHVybiBiYXNlVXJsICsgJz9xPScgKyBidWZmZXIuam9pbignICcpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVTZWFyY2goYmFzZVVybCwgc2VsZWN0LCBzZWFyY2gsIHF1ZXJ5KSB7XG4gICAgICAgIC8vIGJhc2UgVVJMXG4gICAgICAgIGJhc2VVcmwgPSAoXy5sYXN0KGJhc2VVcmwpID09PSAnLycgPyBfLmluaXRpYWwoYmFzZVVybCkuam9pbignJykgOiBiYXNlVXJsKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbXMgPSBbXTtcbiAgICAgICAgaWYgKHF1ZXJ5Lm9mZnNldCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMucHVzaCgnb2Zmc2V0PScgKyBxdWVyeS5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxdWVyeS5saW1pdCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMucHVzaCgnbGltaXQ9JyArIHF1ZXJ5LmxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcXVlcnlTdHIgPSBfLmlzRW1wdHkocXVlcnlQYXJhbXMpID8gJycgOiAnJicgKyBxdWVyeVBhcmFtcy5qb2luKCcmJyk7XG5cbiAgICAgICAgcmV0dXJuIGAke2Jhc2VVcmx9P3E9JHtzZWFyY2h9JmM9JHtzZWxlY3Quam9pbignLCcpfSR7cXVlcnlTdHJ9YDtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvVHJpbml0eVF1ZXJ5QnVpbGRlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7OztBQUdBO0FBQ0E7Ozs7Ozs7QUFBQTtBQUNBOzs7Ozs7O0FBRUE7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBakRBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 500:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule FluxStore\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _require = __webpack_require__(182);\n\nvar EventEmitter = _require.EventEmitter;\n\nvar invariant = __webpack_require__(187);\n\n/**\n * This class should be extended by the stores in your application, like so:\n *\n * var FluxStore = require('FluxStore');\n * var MyDispatcher = require('MyDispatcher');\n *\n * var _foo;\n *\n * class MyStore extends FluxStore {\n *\n *   getFoo() {\n *     return _foo;\n *   }\n *\n *   __onDispatch = function(action) {\n *     switch(action.type) {\n *\n *       case 'an-action':\n *         changeState(action.someData);\n *         this.__emitChange();\n *         break;\n *\n *       case 'another-action':\n *         changeStateAnotherWay(action.otherData);\n *         this.__emitChange();\n *         break;\n *\n *       default:\n *         // no op\n *     }\n *   }\n *\n * }\n *\n * module.exports = new MyStore(MyDispatcher);\n */\n\nvar FluxStore = (function () {\n\n  /**\n   * @public\n   * @param {Dispatcher} dispatcher\n   */\n\n  function FluxStore(dispatcher) {\n    var _this = this;\n\n    _classCallCheck(this, FluxStore);\n\n    this.__className = this.constructor.name;\n\n    this.__changed = false;\n    this.__changeEvent = 'change';\n    this.__dispatcher = dispatcher;\n    this.__emitter = new EventEmitter();\n    this._dispatchToken = dispatcher.register(function (payload) {\n      _this.__invokeOnDispatch(payload);\n    });\n  }\n\n  /**\n   * @public\n   * @param {function} callback\n   * @return {object} EmitterSubscription that can be used with\n   *   SubscriptionsHandler or directly used to release the subscription.\n   */\n\n  FluxStore.prototype.addListener = function addListener(callback) {\n    return this.__emitter.addListener(this.__changeEvent, callback);\n  };\n\n  /**\n   * @public\n   * @return {Dispatcher} The dispatcher that this store is registered with.\n   */\n\n  FluxStore.prototype.getDispatcher = function getDispatcher() {\n    return this.__dispatcher;\n  };\n\n  /**\n   * @public\n   * @return {string} A string the dispatcher uses to identify each store's\n   *   registered callback. This is used with the dispatcher's waitFor method\n   *   to declaratively depend on other stores updating themselves first.\n   */\n\n  FluxStore.prototype.getDispatchToken = function getDispatchToken() {\n    return this._dispatchToken;\n  };\n\n  /**\n   * @public\n   * @return {boolean} Whether the store has changed during the most recent\n   *   dispatch.\n   */\n\n  FluxStore.prototype.hasChanged = function hasChanged() {\n    !this.__dispatcher.isDispatching() ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.hasChanged(): Must be invoked while dispatching.', this.__className) : invariant(false) : undefined;\n    return this.__changed;\n  };\n\n  /**\n   * @protected\n   * Emit an event notifying listeners that the state of the store has changed.\n   */\n\n  FluxStore.prototype.__emitChange = function __emitChange() {\n    !this.__dispatcher.isDispatching() ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.__emitChange(): Must be invoked while dispatching.', this.__className) : invariant(false) : undefined;\n    this.__changed = true;\n  };\n\n  /**\n   * This method encapsulates all logic for invoking __onDispatch. It should\n   * be used for things like catching changes and emitting them after the\n   * subclass has handled a payload.\n   *\n   * @protected\n   * @param {object} payload The data dispatched by the dispatcher, describing\n   *   something that has happened in the real world: the user clicked, the\n   *   server responded, time passed, etc.\n   */\n\n  FluxStore.prototype.__invokeOnDispatch = function __invokeOnDispatch(payload) {\n    this.__changed = false;\n    this.__onDispatch(payload);\n    if (this.__changed) {\n      this.__emitter.emit(this.__changeEvent);\n    }\n  };\n\n  /**\n   * The callback that will be registered with the dispatcher during\n   * instantiation. Subclasses must override this method. This callback is the\n   * only way the store receives new data.\n   *\n   * @protected\n   * @override\n   * @param {object} payload The data dispatched by the dispatcher, describing\n   *   something that has happened in the real world: the user clicked, the\n   *   server responded, time passed, etc.\n   */\n\n  FluxStore.prototype.__onDispatch = function __onDispatch(payload) {\n     true ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s has not overridden FluxStore.__onDispatch(), which is required', this.__className) : invariant(false) : undefined;\n  };\n\n  return FluxStore;\n})();\n\nmodule.exports = FluxStore;\n\n// private\n\n// protected, available to subclasses\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(34)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9mbHV4L2xpYi9GbHV4U3RvcmUuanM/NjQwYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEZsdXhTdG9yZVxuICogXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnZmJlbWl0dGVyJyk7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSBfcmVxdWlyZS5FdmVudEVtaXR0ZXI7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHNob3VsZCBiZSBleHRlbmRlZCBieSB0aGUgc3RvcmVzIGluIHlvdXIgYXBwbGljYXRpb24sIGxpa2Ugc286XG4gKlxuICogdmFyIEZsdXhTdG9yZSA9IHJlcXVpcmUoJ0ZsdXhTdG9yZScpO1xuICogdmFyIE15RGlzcGF0Y2hlciA9IHJlcXVpcmUoJ015RGlzcGF0Y2hlcicpO1xuICpcbiAqIHZhciBfZm9vO1xuICpcbiAqIGNsYXNzIE15U3RvcmUgZXh0ZW5kcyBGbHV4U3RvcmUge1xuICpcbiAqICAgZ2V0Rm9vKCkge1xuICogICAgIHJldHVybiBfZm9vO1xuICogICB9XG4gKlxuICogICBfX29uRGlzcGF0Y2ggPSBmdW5jdGlvbihhY3Rpb24pIHtcbiAqICAgICBzd2l0Y2goYWN0aW9uLnR5cGUpIHtcbiAqXG4gKiAgICAgICBjYXNlICdhbi1hY3Rpb24nOlxuICogICAgICAgICBjaGFuZ2VTdGF0ZShhY3Rpb24uc29tZURhdGEpO1xuICogICAgICAgICB0aGlzLl9fZW1pdENoYW5nZSgpO1xuICogICAgICAgICBicmVhaztcbiAqXG4gKiAgICAgICBjYXNlICdhbm90aGVyLWFjdGlvbic6XG4gKiAgICAgICAgIGNoYW5nZVN0YXRlQW5vdGhlcldheShhY3Rpb24ub3RoZXJEYXRhKTtcbiAqICAgICAgICAgdGhpcy5fX2VtaXRDaGFuZ2UoKTtcbiAqICAgICAgICAgYnJlYWs7XG4gKlxuICogICAgICAgZGVmYXVsdDpcbiAqICAgICAgICAgLy8gbm8gb3BcbiAqICAgICB9XG4gKiAgIH1cbiAqXG4gKiB9XG4gKlxuICogbW9kdWxlLmV4cG9ydHMgPSBuZXcgTXlTdG9yZShNeURpc3BhdGNoZXIpO1xuICovXG5cbnZhciBGbHV4U3RvcmUgPSAoZnVuY3Rpb24gKCkge1xuXG4gIC8qKlxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7RGlzcGF0Y2hlcn0gZGlzcGF0Y2hlclxuICAgKi9cblxuICBmdW5jdGlvbiBGbHV4U3RvcmUoZGlzcGF0Y2hlcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmx1eFN0b3JlKTtcblxuICAgIHRoaXMuX19jbGFzc05hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG5cbiAgICB0aGlzLl9fY2hhbmdlZCA9IGZhbHNlO1xuICAgIHRoaXMuX19jaGFuZ2VFdmVudCA9ICdjaGFuZ2UnO1xuICAgIHRoaXMuX19kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICB0aGlzLl9fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICB0aGlzLl9kaXNwYXRjaFRva2VuID0gZGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgX3RoaXMuX19pbnZva2VPbkRpc3BhdGNoKHBheWxvYWQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICogQHJldHVybiB7b2JqZWN0fSBFbWl0dGVyU3Vic2NyaXB0aW9uIHRoYXQgY2FuIGJlIHVzZWQgd2l0aFxuICAgKiAgIFN1YnNjcmlwdGlvbnNIYW5kbGVyIG9yIGRpcmVjdGx5IHVzZWQgdG8gcmVsZWFzZSB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKi9cblxuICBGbHV4U3RvcmUucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5fX2VtaXR0ZXIuYWRkTGlzdGVuZXIodGhpcy5fX2NoYW5nZUV2ZW50LCBjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybiB7RGlzcGF0Y2hlcn0gVGhlIGRpc3BhdGNoZXIgdGhhdCB0aGlzIHN0b3JlIGlzIHJlZ2lzdGVyZWQgd2l0aC5cbiAgICovXG5cbiAgRmx1eFN0b3JlLnByb3RvdHlwZS5nZXREaXNwYXRjaGVyID0gZnVuY3Rpb24gZ2V0RGlzcGF0Y2hlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fX2Rpc3BhdGNoZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybiB7c3RyaW5nfSBBIHN0cmluZyB0aGUgZGlzcGF0Y2hlciB1c2VzIHRvIGlkZW50aWZ5IGVhY2ggc3RvcmUnc1xuICAgKiAgIHJlZ2lzdGVyZWQgY2FsbGJhY2suIFRoaXMgaXMgdXNlZCB3aXRoIHRoZSBkaXNwYXRjaGVyJ3Mgd2FpdEZvciBtZXRob2RcbiAgICogICB0byBkZWNsYXJhdGl2ZWx5IGRlcGVuZCBvbiBvdGhlciBzdG9yZXMgdXBkYXRpbmcgdGhlbXNlbHZlcyBmaXJzdC5cbiAgICovXG5cbiAgRmx1eFN0b3JlLnByb3RvdHlwZS5nZXREaXNwYXRjaFRva2VuID0gZnVuY3Rpb24gZ2V0RGlzcGF0Y2hUb2tlbigpIHtcbiAgICByZXR1cm4gdGhpcy5fZGlzcGF0Y2hUb2tlbjtcbiAgfTtcblxuICAvKipcbiAgICogQHB1YmxpY1xuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBzdG9yZSBoYXMgY2hhbmdlZCBkdXJpbmcgdGhlIG1vc3QgcmVjZW50XG4gICAqICAgZGlzcGF0Y2guXG4gICAqL1xuXG4gIEZsdXhTdG9yZS5wcm90b3R5cGUuaGFzQ2hhbmdlZCA9IGZ1bmN0aW9uIGhhc0NoYW5nZWQoKSB7XG4gICAgIXRoaXMuX19kaXNwYXRjaGVyLmlzRGlzcGF0Y2hpbmcoKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5oYXNDaGFuZ2VkKCk6IE11c3QgYmUgaW52b2tlZCB3aGlsZSBkaXNwYXRjaGluZy4nLCB0aGlzLl9fY2xhc3NOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHRoaXMuX19jaGFuZ2VkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEVtaXQgYW4gZXZlbnQgbm90aWZ5aW5nIGxpc3RlbmVycyB0aGF0IHRoZSBzdGF0ZSBvZiB0aGUgc3RvcmUgaGFzIGNoYW5nZWQuXG4gICAqL1xuXG4gIEZsdXhTdG9yZS5wcm90b3R5cGUuX19lbWl0Q2hhbmdlID0gZnVuY3Rpb24gX19lbWl0Q2hhbmdlKCkge1xuICAgICF0aGlzLl9fZGlzcGF0Y2hlci5pc0Rpc3BhdGNoaW5nKCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMuX19lbWl0Q2hhbmdlKCk6IE11c3QgYmUgaW52b2tlZCB3aGlsZSBkaXNwYXRjaGluZy4nLCB0aGlzLl9fY2xhc3NOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5fX2NoYW5nZWQgPSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBlbmNhcHN1bGF0ZXMgYWxsIGxvZ2ljIGZvciBpbnZva2luZyBfX29uRGlzcGF0Y2guIEl0IHNob3VsZFxuICAgKiBiZSB1c2VkIGZvciB0aGluZ3MgbGlrZSBjYXRjaGluZyBjaGFuZ2VzIGFuZCBlbWl0dGluZyB0aGVtIGFmdGVyIHRoZVxuICAgKiBzdWJjbGFzcyBoYXMgaGFuZGxlZCBhIHBheWxvYWQuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHBhcmFtIHtvYmplY3R9IHBheWxvYWQgVGhlIGRhdGEgZGlzcGF0Y2hlZCBieSB0aGUgZGlzcGF0Y2hlciwgZGVzY3JpYmluZ1xuICAgKiAgIHNvbWV0aGluZyB0aGF0IGhhcyBoYXBwZW5lZCBpbiB0aGUgcmVhbCB3b3JsZDogdGhlIHVzZXIgY2xpY2tlZCwgdGhlXG4gICAqICAgc2VydmVyIHJlc3BvbmRlZCwgdGltZSBwYXNzZWQsIGV0Yy5cbiAgICovXG5cbiAgRmx1eFN0b3JlLnByb3RvdHlwZS5fX2ludm9rZU9uRGlzcGF0Y2ggPSBmdW5jdGlvbiBfX2ludm9rZU9uRGlzcGF0Y2gocGF5bG9hZCkge1xuICAgIHRoaXMuX19jaGFuZ2VkID0gZmFsc2U7XG4gICAgdGhpcy5fX29uRGlzcGF0Y2gocGF5bG9hZCk7XG4gICAgaWYgKHRoaXMuX19jaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9fZW1pdHRlci5lbWl0KHRoaXMuX19jaGFuZ2VFdmVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIHJlZ2lzdGVyZWQgd2l0aCB0aGUgZGlzcGF0Y2hlciBkdXJpbmdcbiAgICogaW5zdGFudGlhdGlvbi4gU3ViY2xhc3NlcyBtdXN0IG92ZXJyaWRlIHRoaXMgbWV0aG9kLiBUaGlzIGNhbGxiYWNrIGlzIHRoZVxuICAgKiBvbmx5IHdheSB0aGUgc3RvcmUgcmVjZWl2ZXMgbmV3IGRhdGEuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQG92ZXJyaWRlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXlsb2FkIFRoZSBkYXRhIGRpc3BhdGNoZWQgYnkgdGhlIGRpc3BhdGNoZXIsIGRlc2NyaWJpbmdcbiAgICogICBzb21ldGhpbmcgdGhhdCBoYXMgaGFwcGVuZWQgaW4gdGhlIHJlYWwgd29ybGQ6IHRoZSB1c2VyIGNsaWNrZWQsIHRoZVxuICAgKiAgIHNlcnZlciByZXNwb25kZWQsIHRpbWUgcGFzc2VkLCBldGMuXG4gICAqL1xuXG4gIEZsdXhTdG9yZS5wcm90b3R5cGUuX19vbkRpc3BhdGNoID0gZnVuY3Rpb24gX19vbkRpc3BhdGNoKHBheWxvYWQpIHtcbiAgICAhZmFsc2UgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMgaGFzIG5vdCBvdmVycmlkZGVuIEZsdXhTdG9yZS5fX29uRGlzcGF0Y2goKSwgd2hpY2ggaXMgcmVxdWlyZWQnLCB0aGlzLl9fY2xhc3NOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgcmV0dXJuIEZsdXhTdG9yZTtcbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gRmx1eFN0b3JlO1xuXG4vLyBwcml2YXRlXG5cbi8vIHByb3RlY3RlZCwgYXZhaWxhYmxlIHRvIHN1YmNsYXNzZXNcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZmx1eC9saWIvRmx1eFN0b3JlLmpzXG4vLyBtb2R1bGUgaWQgPSA1MDBcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 501:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 1/18/16.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _history = __webpack_require__(158);\n\nvar instance = (0, _history.createHistory)();\nexports.default = instance;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dsb2JhbEhpc3RvcnkuanM/MGM0OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgZmlzYSBvbiAxLzE4LzE2LlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7Y3JlYXRlSGlzdG9yeX0gZnJvbSAnaGlzdG9yeSc7XG5cbmNvbnN0IGluc3RhbmNlID0gY3JlYXRlSGlzdG9yeSgpO1xuZXhwb3J0IGRlZmF1bHQgaW5zdGFuY2U7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dsb2JhbEhpc3RvcnkuanMiXSwibWFwcGluZ3MiOiJBQUFBOzs7QUFHQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 502:
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar SET_PAGE = exports.SET_PAGE = 'set-page';\nvar FILTER = exports.FILTER = 'filter';\nvar ORDER_BY = exports.ORDER_BY = 'order-by';\nvar CLEAR_FILTER = exports.CLEAR_FILTER = 'clear-filter';\nvar SEARCH = exports.SEARCH = 'search';\nvar REPEAT_REQUEST = exports.REPEAT_REQUEST = 'repeat-request';//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvR3JpZEFjdGlvbnMuanM/YzVhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgbGV0IFNFVF9QQUdFID0gJ3NldC1wYWdlJztcbmV4cG9ydCBsZXQgRklMVEVSID0gJ2ZpbHRlcic7XG5leHBvcnQgbGV0IE9SREVSX0JZID0gJ29yZGVyLWJ5JztcbmV4cG9ydCBsZXQgQ0xFQVJfRklMVEVSID0gJ2NsZWFyLWZpbHRlcic7XG5leHBvcnQgbGV0IFNFQVJDSCA9ICdzZWFyY2gnO1xuZXhwb3J0IGxldCBSRVBFQVRfUkVRVUVTVCA9ICdyZXBlYXQtcmVxdWVzdCc7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvR3JpZEFjdGlvbnMuanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 503:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _DefaultGrid2 = __webpack_require__(504);\n\nvar _DefaultGrid3 = _interopRequireDefault(_DefaultGrid2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CommonGrid = function (_DefaultGrid) {\n    _inherits(CommonGrid, _DefaultGrid);\n\n    function CommonGrid() {\n        _classCallCheck(this, CommonGrid);\n\n        return _possibleConstructorReturn(this, (CommonGrid.__proto__ || Object.getPrototypeOf(CommonGrid)).apply(this, arguments));\n    }\n\n    _createClass(CommonGrid, [{\n        key: 'renderRows',\n        value: function renderRows() {\n            var _this2 = this;\n\n            this.useDetail = false;\n            return _lodash2.default.map(this.state.data, function (el, i) {\n                var dataColumns = _lodash2.default.map(_this2.columns, function (col, i) {\n                    var colProps = {\n                        key: i,\n                        style: col.hidden ? { 'display': 'none' } : {},\n                        className: col.className,\n                        dangerouslySetInnerHTML: { __html: el[col.name] }\n                    };\n\n                    return _react2.default.createElement('td', colProps);\n                });\n                return _react2.default.createElement(\n                    'tr',\n                    { key: '' + i + el._id },\n                    dataColumns\n                );\n            });\n        }\n    }]);\n\n    return CommonGrid;\n}(_DefaultGrid3.default);\n\nexports.default = CommonGrid;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvQ29tbW9uR3JpZC5qc3g/ZDE2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERlZmF1bHRHcmlkIGZyb20gJy4vRGVmYXVsdEdyaWQuanN4JztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21tb25HcmlkIGV4dGVuZHMgRGVmYXVsdEdyaWQge1xuICAgIHJlbmRlclJvd3MoKXtcbiAgICAgICAgdGhpcy51c2VEZXRhaWwgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF8ubWFwKHRoaXMuc3RhdGUuZGF0YSwgKGVsLCBpKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGF0YUNvbHVtbnMgPSBfLm1hcCh0aGlzLmNvbHVtbnMsIChjb2wsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY29sUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogaSxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGNvbC5oaWRkZW4gPyB7J2Rpc3BsYXknOidub25lJ30gOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjb2wuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IGVsW2NvbC5uYW1lXSB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiA8dGQgey4uLmNvbFByb3BzfSAvPjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx0ciBrZXk9eycnICsgaSArIGVsLl9pZH0+XG4gICAgICAgICAgICAgICAge2RhdGFDb2x1bW5zfVxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9Db21tb25HcmlkLmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBRUE7Ozs7Ozs7Ozs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUlBO0FBQ0E7Ozs7OztBQXBCQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 504:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = __webpack_require__(505);\n\nvar _GridWrapper = __webpack_require__(507);\n\nvar _GridWrapper2 = _interopRequireDefault(_GridWrapper);\n\nvar _BaseGridContainer = __webpack_require__(521);\n\nvar _BaseGridContainer2 = _interopRequireDefault(_BaseGridContainer);\n\nvar _ErrorView = __webpack_require__(522);\n\nvar _ErrorView2 = _interopRequireDefault(_ErrorView);\n\nvar _EmptyView = __webpack_require__(523);\n\nvar _EmptyView2 = _interopRequireDefault(_EmptyView);\n\nvar _FetchingView = __webpack_require__(524);\n\nvar _FetchingView2 = _interopRequireDefault(_FetchingView);\n\nvar _GridActions = __webpack_require__(502);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DefaultGrid = function (_BaseGrid) {\n    _inherits(DefaultGrid, _BaseGrid);\n\n    function DefaultGrid(props) {\n        _classCallCheck(this, DefaultGrid);\n\n        var _this = _possibleConstructorReturn(this, (DefaultGrid.__proto__ || Object.getPrototypeOf(DefaultGrid)).call(this, props));\n\n        _this.didMountCallbacks = [];\n        _this.useDetail = true;\n        // Filtered columns\n        _this.columns = _lodash2.default.filter(props.columns, function (col) {\n            return !col.hidden && col.select !== false;\n        });\n        // Filter rules\n        _this.filterRules = (0, _utils.prepareFilterColumns)(props.columns);\n        props.components.queryBuilder = props.components.queryBuilder && !_lodash2.default.isEmpty(_this.filterRules);\n        return _this;\n    }\n\n    /**\n     * Switch search mode\n     */\n\n\n    _createClass(DefaultGrid, [{\n        key: 'switchSearchMode',\n        value: function switchSearchMode() {\n            if (this.state.showQueryBuilder) {\n                this.dispatch({ action: _GridActions.CLEAR_FILTER });\n            }\n            this.setState({ showQueryBuilder: !this.state.showQueryBuilder });\n        }\n\n        /**\n         * Handles search event - dispatch search action to store\n         * @param search {string}\n         */\n\n    }, {\n        key: 'handleSearch',\n        value: function handleSearch(search) {\n            this.dispatch({ action: _GridActions.SEARCH, search: search });\n        }\n\n        /**\n         * Handles filter event - dispatch Filter action to store\n         * @param filter {string}\n         */\n\n    }, {\n        key: 'handleQuerySearch',\n        value: function handleQuerySearch(filter) {\n            this.dispatch({ action: _GridActions.FILTER, filter: filter });\n        }\n\n        /**\n         * Handles orderBy action\n         * @param property {object}\n         */\n\n    }, {\n        key: 'handleOrderBy',\n        value: function handleOrderBy(property) {\n            this.dispatch({ action: _GridActions.ORDER_BY, column: property.name });\n        }\n\n        /**\n         * Handle page select\n         * @param page {number}\n         */\n\n    }, {\n        key: 'handlePageSelect',\n        value: function handlePageSelect(page) {\n            this.dispatch({ action: _GridActions.SET_PAGE, page: page.selected });\n        }\n\n        /**\n         * Handle row select\n         * @param id\n         * @param e\n         */\n\n    }, {\n        key: 'handleRowSelect',\n        value: function handleRowSelect(id, e) {\n            //TODO:\n            // e.stopPropagation();\n            if (true) {\n                e.persist();\n                console.log(e);\n                console.log('SELECT EVENT');\n                console.log('ID', id);\n            }\n        }\n    }, {\n        key: 'handleRowClick',\n        value: function handleRowClick(productId, event) {\n            //TODO:\n            if (true) {\n                console.log('EVENT', event);\n                console.log('SHOW PRODUCT DETAIL WITH ID:', productId);\n            }\n\n            if (event.isDefaultPrevented) {\n                return;\n            }\n            if (event.ctrlKey || event.metaKey || event.button === 1) {\n                console.log('NOW IT SHOULD REDIRECT');\n            } else {\n                this.setState({ showDetailId: this.state.showDetailId === productId ? null : productId });\n            }\n        }\n    }, {\n        key: 'repeatRequest',\n        value: function repeatRequest() {\n            this.dispatch({ action: _GridActions.REPEAT_REQUEST });\n        }\n    }, {\n        key: 'handleDetailClose',\n        value: function handleDetailClose() {\n            this.setState({ showDetailId: null });\n        }\n\n        /**\n         * Template method\n         * @returns {Array}\n         */\n\n    }, {\n        key: 'renderRows',\n        value: function renderRows() {\n            return [];\n        }\n\n        /** Render **/\n\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var props = this.props,\n                show = props.components,\n                paginateOptions = props.paginateComponent,\n                tableOptions = props.tableComponent,\n                showSearch = show.search || show.queryBuilder,\n                activeSearchComponent = 'QUERY_BUILDER',\n                gridSearchProps = void 0,\n                errorComponent = void 0,\n                emptyComponent = void 0,\n                columns = this.columns;\n\n            if (showSearch) {\n                if (show.search && show.queryBuilder) {\n                    // if Both, loot at state\n                    activeSearchComponent = this.state.showQueryBuilder ? 'QUERY_BUILDER' : 'QUERY_SEARCH';\n                } else {\n                    // only one\n                    activeSearchComponent = show.search ? 'QUERY_SEARCH' : 'QUERY_BUILDER';\n                }\n\n                gridSearchProps = {\n                    transition: {\n                        className: 'text-center padding-20'\n                    },\n                    initialFilter: props.filter,\n                    initialSearch: props.search,\n                    filterRules: this.filterRules,\n                    queryBuilder: show.queryBuilder,\n                    querySearch: show.search,\n                    activeComponent: activeSearchComponent || 'QUERY_BUILDER',\n                    onClose: this.switchSearchMode.bind(this),\n                    onSearch: function onSearch(search) {\n                        return _this2.handleSearch(search);\n                    },\n                    onQuerySearch: function onQuerySearch(filter) {\n                        return _this2.handleQuerySearch(filter);\n                    }\n                };\n            }\n\n            if (this.state.isError) {\n                errorComponent = _react2.default.createElement(_ErrorView2.default, { reloadCallback: this.repeatRequest.bind(this) });\n            }\n            emptyComponent = this.state.isFetching ? _react2.default.createElement(_FetchingView2.default, null) : _react2.default.createElement(_EmptyView2.default, null);\n\n            // Get it before, because of useDetail override\n            var rows = this.renderRows();\n\n            return _react2.default.createElement(\n                _GridWrapper2.default,\n                _extends({\n                    detail: this.useDetail,\n                    columns: columns,\n                    orderBy: this.state.orderBy,\n                    isEditMode: this.state.isEditMode,\n                    isFetching: this.state.isFetching,\n                    tableOptions: tableOptions\n\n                    /** Pagination **/\n                    , pagination: show.pagination,\n                    paginateOptions: paginateOptions\n                }, this.state.pagination, {\n\n                    /** Search **/\n                    showSearch: showSearch,\n                    searchProperties: gridSearchProps\n\n                    /** content **/\n                    , emptyData: emptyComponent,\n                    error: errorComponent\n\n                    /** Callbacks **/\n                    , onSelectAll: function onSelectAll(e) {\n                        return _this2.handleRowSelect('all', e);\n                    },\n                    onOrderBy: function onOrderBy(prop) {\n                        return _this2.handleOrderBy(prop);\n                    },\n                    onPageSelect: function onPageSelect(page) {\n                        return _this2.handlePageSelect(page);\n                    }\n                }),\n                rows\n            );\n        }\n    }]);\n\n    return DefaultGrid;\n}(_BaseGridContainer2.default);\n\nexports.default = DefaultGrid;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvRGVmYXVsdEdyaWQuanN4PzNmYjkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7cHJlcGFyZUZpbHRlckNvbHVtbnN9IGZyb20gJy4vdXRpbHMuanN4JztcbmltcG9ydCBHcmlkV3JhcHBlciBmcm9tICcuL2NvbXBvbmVudHMvR3JpZFdyYXBwZXIuanN4JztcbmltcG9ydCBCYXNlR3JpZCBmcm9tICcuL2NvbXBvbmVudHMvQmFzZUdyaWRDb250YWluZXIuanN4JztcbmltcG9ydCBFcnJvclZpZXcgZnJvbSAnLi9FcnJvclZpZXcuanN4JztcbmltcG9ydCBFbXB0eVZpZXcgZnJvbSAnLi9FbXB0eVZpZXcuanN4JztcbmltcG9ydCBGZXRjaGluZ1ZpZXcgZnJvbSAnLi9GZXRjaGluZ1ZpZXcuanN4JztcblxuaW1wb3J0IHtcbiAgICBTRVRfUEFHRSxcbiAgICBGSUxURVIsXG4gICAgT1JERVJfQlksXG4gICAgQ0xFQVJfRklMVEVSLFxuICAgIFNFQVJDSCxcbiAgICBSRVBFQVRfUkVRVUVTVFxufSBmcm9tICcuL0dyaWRBY3Rpb25zJztcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlZmF1bHRHcmlkIGV4dGVuZHMgQmFzZUdyaWQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLmRpZE1vdW50Q2FsbGJhY2tzID0gW107XG4gICAgICAgIHRoaXMudXNlRGV0YWlsID0gdHJ1ZTtcbiAgICAgICAgLy8gRmlsdGVyZWQgY29sdW1uc1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSBfLmZpbHRlcihwcm9wcy5jb2x1bW5zLCBjb2wgPT4gIWNvbC5oaWRkZW4gJiYgY29sLnNlbGVjdCAhPT0gZmFsc2UpO1xuICAgICAgICAvLyBGaWx0ZXIgcnVsZXNcbiAgICAgICAgdGhpcy5maWx0ZXJSdWxlcyA9IHByZXBhcmVGaWx0ZXJDb2x1bW5zKHByb3BzLmNvbHVtbnMpO1xuICAgICAgICBwcm9wcy5jb21wb25lbnRzLnF1ZXJ5QnVpbGRlciA9IHByb3BzLmNvbXBvbmVudHMucXVlcnlCdWlsZGVyICYmICFfLmlzRW1wdHkodGhpcy5maWx0ZXJSdWxlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3dpdGNoIHNlYXJjaCBtb2RlXG4gICAgICovXG4gICAgc3dpdGNoU2VhcmNoTW9kZSgpe1xuICAgICAgICBpZih0aGlzLnN0YXRlLnNob3dRdWVyeUJ1aWxkZXIpe1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCh7IGFjdGlvbjogQ0xFQVJfRklMVEVSIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93UXVlcnlCdWlsZGVyOiAhdGhpcy5zdGF0ZS5zaG93UXVlcnlCdWlsZGVyIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgc2VhcmNoIGV2ZW50IC0gZGlzcGF0Y2ggc2VhcmNoIGFjdGlvbiB0byBzdG9yZVxuICAgICAqIEBwYXJhbSBzZWFyY2gge3N0cmluZ31cbiAgICAgKi9cbiAgICBoYW5kbGVTZWFyY2goc2VhcmNoKXtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IGFjdGlvbjogU0VBUkNILCBzZWFyY2ggfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBmaWx0ZXIgZXZlbnQgLSBkaXNwYXRjaCBGaWx0ZXIgYWN0aW9uIHRvIHN0b3JlXG4gICAgICogQHBhcmFtIGZpbHRlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGhhbmRsZVF1ZXJ5U2VhcmNoKGZpbHRlcil7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyBhY3Rpb246IEZJTFRFUiwgZmlsdGVyIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgb3JkZXJCeSBhY3Rpb25cbiAgICAgKiBAcGFyYW0gcHJvcGVydHkge29iamVjdH1cbiAgICAgKi9cbiAgICBoYW5kbGVPcmRlckJ5KHByb3BlcnR5KXtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IGFjdGlvbjogT1JERVJfQlksIGNvbHVtbjogcHJvcGVydHkubmFtZSB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcGFnZSBzZWxlY3RcbiAgICAgKiBAcGFyYW0gcGFnZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGhhbmRsZVBhZ2VTZWxlY3QocGFnZSl7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyBhY3Rpb246IFNFVF9QQUdFLCBwYWdlOiBwYWdlLnNlbGVjdGVkIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSByb3cgc2VsZWN0XG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIGVcbiAgICAgKi9cbiAgICBoYW5kbGVSb3dTZWxlY3QoaWQsIGUpe1xuICAgICAgICAvL1RPRE86XG4gICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmKERFVkVMT1BNRU5UKXtcbiAgICAgICAgICAgIGUucGVyc2lzdCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU0VMRUNUIEVWRU5UJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSUQnLCBpZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVSb3dDbGljayhwcm9kdWN0SWQsIGV2ZW50KXtcbiAgICAgICAgLy9UT0RPOlxuICAgICAgICBpZihERVZFTE9QTUVOVCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0VWRU5UJywgZXZlbnQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NIT1cgUFJPRFVDVCBERVRBSUwgV0lUSCBJRDonLCBwcm9kdWN0SWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZihldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuYnV0dG9uID09PSAxKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTk9XIElUIFNIT1VMRCBSRURJUkVDVCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dEZXRhaWxJZDogdGhpcy5zdGF0ZS5zaG93RGV0YWlsSWQgPT09IHByb2R1Y3RJZCA/IG51bGwgOiBwcm9kdWN0SWQgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXBlYXRSZXF1ZXN0KCl7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyBhY3Rpb246IFJFUEVBVF9SRVFVRVNUIH0pO1xuICAgIH1cblxuXG4gICAgaGFuZGxlRGV0YWlsQ2xvc2UoKXtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dEZXRhaWxJZDogbnVsbCB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZW1wbGF0ZSBtZXRob2RcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgcmVuZGVyUm93cygpe1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqIFJlbmRlciAqKi9cbiAgICByZW5kZXIoKXtcbiAgICAgICAgbGV0IHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHNob3cgPSBwcm9wcy5jb21wb25lbnRzLFxuICAgICAgICAgICAgcGFnaW5hdGVPcHRpb25zID0gcHJvcHMucGFnaW5hdGVDb21wb25lbnQsXG4gICAgICAgICAgICB0YWJsZU9wdGlvbnMgPSBwcm9wcy50YWJsZUNvbXBvbmVudCxcbiAgICAgICAgICAgIHNob3dTZWFyY2ggPSBzaG93LnNlYXJjaCB8fCBzaG93LnF1ZXJ5QnVpbGRlcixcbiAgICAgICAgICAgIGFjdGl2ZVNlYXJjaENvbXBvbmVudCA9ICdRVUVSWV9CVUlMREVSJyxcbiAgICAgICAgICAgIGdyaWRTZWFyY2hQcm9wcyxcbiAgICAgICAgICAgIGVycm9yQ29tcG9uZW50LFxuICAgICAgICAgICAgZW1wdHlDb21wb25lbnQsXG4gICAgICAgICAgICBjb2x1bW5zID0gdGhpcy5jb2x1bW5zXG4gICAgICAgICAgICA7XG5cbiAgICAgICAgaWYoc2hvd1NlYXJjaCl7XG4gICAgICAgICAgICBpZihzaG93LnNlYXJjaCAmJiBzaG93LnF1ZXJ5QnVpbGRlcil7XG4gICAgICAgICAgICAgICAgLy8gaWYgQm90aCwgbG9vdCBhdCBzdGF0ZVxuICAgICAgICAgICAgICAgIGFjdGl2ZVNlYXJjaENvbXBvbmVudCA9IHRoaXMuc3RhdGUuc2hvd1F1ZXJ5QnVpbGRlciA/ICdRVUVSWV9CVUlMREVSJyA6ICdRVUVSWV9TRUFSQ0gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBvbmx5IG9uZVxuICAgICAgICAgICAgICAgIGFjdGl2ZVNlYXJjaENvbXBvbmVudCA9IHNob3cuc2VhcmNoID8gJ1FVRVJZX1NFQVJDSCcgOiAnUVVFUllfQlVJTERFUic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdyaWRTZWFyY2hQcm9wcyA9IHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3RleHQtY2VudGVyIHBhZGRpbmctMjAnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbml0aWFsRmlsdGVyOiBwcm9wcy5maWx0ZXIsXG4gICAgICAgICAgICAgICAgaW5pdGlhbFNlYXJjaDogcHJvcHMuc2VhcmNoLFxuICAgICAgICAgICAgICAgIGZpbHRlclJ1bGVzOiB0aGlzLmZpbHRlclJ1bGVzLFxuICAgICAgICAgICAgICAgIHF1ZXJ5QnVpbGRlcjogc2hvdy5xdWVyeUJ1aWxkZXIsXG4gICAgICAgICAgICAgICAgcXVlcnlTZWFyY2g6IHNob3cuc2VhcmNoLFxuICAgICAgICAgICAgICAgIGFjdGl2ZUNvbXBvbmVudDogYWN0aXZlU2VhcmNoQ29tcG9uZW50IHx8ICdRVUVSWV9CVUlMREVSJyxcbiAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLnN3aXRjaFNlYXJjaE1vZGUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICBvblNlYXJjaDogKHNlYXJjaCkgPT4gdGhpcy5oYW5kbGVTZWFyY2goc2VhcmNoKSxcbiAgICAgICAgICAgICAgICBvblF1ZXJ5U2VhcmNoOiAgKGZpbHRlcikgPT4gdGhpcy5oYW5kbGVRdWVyeVNlYXJjaChmaWx0ZXIpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cblxuXG4gICAgICAgIGlmKHRoaXMuc3RhdGUuaXNFcnJvcil7XG4gICAgICAgICAgICBlcnJvckNvbXBvbmVudCA9IDxFcnJvclZpZXcgcmVsb2FkQ2FsbGJhY2s9e3RoaXMucmVwZWF0UmVxdWVzdC5iaW5kKHRoaXMpfS8+O1xuICAgICAgICB9XG4gICAgICAgIGVtcHR5Q29tcG9uZW50ID0gdGhpcy5zdGF0ZS5pc0ZldGNoaW5nID8gPEZldGNoaW5nVmlldy8+IDogPEVtcHR5Vmlldy8+O1xuXG4gICAgICAgIC8vIEdldCBpdCBiZWZvcmUsIGJlY2F1c2Ugb2YgdXNlRGV0YWlsIG92ZXJyaWRlXG4gICAgICAgIGxldCByb3dzID0gdGhpcy5yZW5kZXJSb3dzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxHcmlkV3JhcHBlclxuICAgICAgICAgICAgICAgIGRldGFpbD17dGhpcy51c2VEZXRhaWx9XG4gICAgICAgICAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgICAgICAgICBvcmRlckJ5PXt0aGlzLnN0YXRlLm9yZGVyQnl9XG4gICAgICAgICAgICAgICAgaXNFZGl0TW9kZT17dGhpcy5zdGF0ZS5pc0VkaXRNb2RlfVxuICAgICAgICAgICAgICAgIGlzRmV0Y2hpbmc9e3RoaXMuc3RhdGUuaXNGZXRjaGluZ31cbiAgICAgICAgICAgICAgICB0YWJsZU9wdGlvbnM9e3RhYmxlT3B0aW9uc31cblxuICAgICAgICAgICAgICAgIC8qKiBQYWdpbmF0aW9uICoqL1xuICAgICAgICAgICAgICAgIHBhZ2luYXRpb249e3Nob3cucGFnaW5hdGlvbn1cbiAgICAgICAgICAgICAgICBwYWdpbmF0ZU9wdGlvbnM9e3BhZ2luYXRlT3B0aW9uc31cbiAgICAgICAgICAgICAgICB7Li4udGhpcy5zdGF0ZS5wYWdpbmF0aW9ufVxuXG4gICAgICAgICAgICAgICAgLyoqIFNlYXJjaCAqKi9cbiAgICAgICAgICAgICAgICBzaG93U2VhcmNoPXtzaG93U2VhcmNofVxuICAgICAgICAgICAgICAgIHNlYXJjaFByb3BlcnRpZXM9e2dyaWRTZWFyY2hQcm9wc31cblxuICAgICAgICAgICAgICAgIC8qKiBjb250ZW50ICoqL1xuICAgICAgICAgICAgICAgIGVtcHR5RGF0YT17ZW1wdHlDb21wb25lbnR9XG4gICAgICAgICAgICAgICAgZXJyb3I9e2Vycm9yQ29tcG9uZW50fVxuXG4gICAgICAgICAgICAgICAgLyoqIENhbGxiYWNrcyAqKi9cbiAgICAgICAgICAgICAgICBvblNlbGVjdEFsbD17KGUpID0+IHRoaXMuaGFuZGxlUm93U2VsZWN0KCdhbGwnLCBlKX1cbiAgICAgICAgICAgICAgICBvbk9yZGVyQnk9eyhwcm9wKSA9PiB0aGlzLmhhbmRsZU9yZGVyQnkocHJvcCl9XG4gICAgICAgICAgICAgICAgb25QYWdlU2VsZWN0PXsocGFnZSkgPT4gdGhpcy5oYW5kbGVQYWdlU2VsZWN0KHBhZ2UpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtyb3dzfVxuICAgICAgICAgICAgPC9HcmlkV3JhcHBlcj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvRGVmYXVsdEdyaWQuanN4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7Ozs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBVUE7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVNBO0FBQ0E7QUFDQTs7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQVpBO0FBY0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQVZBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakJBO0FBbUJBO0FBQ0E7QUFDQTtBQXJCQTtBQXNCQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBeEJBO0FBMEJBO0FBMUJBO0FBNkJBOzs7Ozs7QUF2TEEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 505:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.glueRowAndDetail = glueRowAndDetail;\nexports.prepareFilterColumns = prepareFilterColumns;\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _DetailRowContainer = __webpack_require__(506);\n\nvar _DetailRowContainer2 = _interopRequireDefault(_DetailRowContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Add Detail row wrapper to detail and return single 1D array of rows\n * @param rows {array<array<React.Component>>} array of row - detail pairs\n * @param colSpan {number} number of columns\n */\nfunction glueRowAndDetail(rows, colSpan) {\n    return (0, _lodash2.default)(rows).map(function (r) {\n        var row = r[0],\n            detail = r[1],\n            detailKey = (row.key || row.props.data._id) + '_detail';\n\n        return [row, _react2.default.createElement(\n            _DetailRowContainer2.default,\n            {\n                id: detailKey,\n                key: detailKey,\n                colSpan: colSpan,\n                onClose: detail.props.onClose\n            },\n            detail.props.isActive ? detail : null\n        )];\n    }).flatten().value();\n}\n\n// Grid Builder constants\nvar SPECIAL_TYPES = ['enum', 'array'],\n    SPECIAL_TYPES_OPERATORS = {\n    'enum': ['equal', 'not_equal'],\n    'array': ['is']\n};\n\n/**\n * Creates set of rules for GridQueryBuilder\n * @param columns {object}\n * @returns {*}\n */\nfunction prepareFilterColumns(columns) {\n    return (0, _lodash2.default)(columns).filter(function (col) {\n        return !!(col.name === 'id' || col.allowFilter || col.type);\n    }).map(function (col) {\n        col.id = col.name;\n        if (col.id === 'id') {\n            col.type = 'integer';\n        } else {\n            col.type = col.type || 'string';\n            // Exception\n            if (~SPECIAL_TYPES.indexOf(col.type)) {\n                col.operators = SPECIAL_TYPES_OPERATORS[col.type];\n            }\n        }\n        return col;\n    }).value();\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvdXRpbHMuanN4PzY2MGQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEZXRhaWxSb3dDb250YWluZXIgZnJvbSAnLi9jb21wb25lbnRzL0RldGFpbFJvd0NvbnRhaW5lci5qc3gnO1xuXG5cbi8qKlxuICogQWRkIERldGFpbCByb3cgd3JhcHBlciB0byBkZXRhaWwgYW5kIHJldHVybiBzaW5nbGUgMUQgYXJyYXkgb2Ygcm93c1xuICogQHBhcmFtIHJvd3Mge2FycmF5PGFycmF5PFJlYWN0LkNvbXBvbmVudD4+fSBhcnJheSBvZiByb3cgLSBkZXRhaWwgcGFpcnNcbiAqIEBwYXJhbSBjb2xTcGFuIHtudW1iZXJ9IG51bWJlciBvZiBjb2x1bW5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnbHVlUm93QW5kRGV0YWlsKHJvd3MsIGNvbFNwYW4pe1xuICAgIHJldHVybiBfKHJvd3MpLm1hcChyID0+IHtcbiAgICAgICAgbGV0IHJvdyA9IHJbMF0sXG4gICAgICAgICAgICBkZXRhaWwgPSByWzFdLFxuICAgICAgICAgICAgZGV0YWlsS2V5ID0gKHJvdy5rZXkgfHwgcm93LnByb3BzLmRhdGEuX2lkKSArICdfZGV0YWlsJztcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgPERldGFpbFJvd0NvbnRhaW5lclxuICAgICAgICAgICAgICAgIGlkPXtkZXRhaWxLZXl9XG4gICAgICAgICAgICAgICAga2V5PXtkZXRhaWxLZXl9XG4gICAgICAgICAgICAgICAgY29sU3Bhbj17Y29sU3Bhbn1cbiAgICAgICAgICAgICAgICBvbkNsb3NlPXtkZXRhaWwucHJvcHMub25DbG9zZX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7IGRldGFpbC5wcm9wcy5pc0FjdGl2ZSA/IGRldGFpbCA6IG51bGwgfVxuICAgICAgICAgICAgPC9EZXRhaWxSb3dDb250YWluZXI+XG4gICAgICAgIF07XG4gICAgfSkuZmxhdHRlbigpLnZhbHVlKCk7XG59XG5cbi8vIEdyaWQgQnVpbGRlciBjb25zdGFudHNcbmNvbnN0IFNQRUNJQUxfVFlQRVMgPSBbJ2VudW0nLCAnYXJyYXknXSxcbiAgICBTUEVDSUFMX1RZUEVTX09QRVJBVE9SUyA9IHtcbiAgICAgICAgJ2VudW0nOiBbJ2VxdWFsJywgJ25vdF9lcXVhbCddLFxuICAgICAgICAnYXJyYXknOiBbJ2lzJ11cbiAgICB9O1xuXG4vKipcbiAqIENyZWF0ZXMgc2V0IG9mIHJ1bGVzIGZvciBHcmlkUXVlcnlCdWlsZGVyXG4gKiBAcGFyYW0gY29sdW1ucyB7b2JqZWN0fVxuICogQHJldHVybnMgeyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlRmlsdGVyQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgcmV0dXJuIF8oY29sdW1ucylcbiAgICAgICAgLmZpbHRlcihjb2wgPT4gISEoY29sLm5hbWUgPT09ICdpZCcgfHwgY29sLmFsbG93RmlsdGVyIHx8IGNvbC50eXBlKSlcbiAgICAgICAgLm1hcCgoY29sKSA9PiB7XG4gICAgICAgICAgICBjb2wuaWQgPSBjb2wubmFtZTtcbiAgICAgICAgICAgIGlmIChjb2wuaWQgPT09ICdpZCcpIHtcbiAgICAgICAgICAgICAgICBjb2wudHlwZSA9ICdpbnRlZ2VyJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29sLnR5cGUgPSBjb2wudHlwZSB8fCAnc3RyaW5nJztcbiAgICAgICAgICAgICAgICAvLyBFeGNlcHRpb25cbiAgICAgICAgICAgICAgICBpZiAoflNQRUNJQUxfVFlQRVMuaW5kZXhPZihjb2wudHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sLm9wZXJhdG9ycyA9IFNQRUNJQUxfVFlQRVNfT1BFUkFUT1JTW2NvbC50eXBlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29sO1xuICAgICAgICB9KS52YWx1ZSgpO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL3V0aWxzLmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7OztBQVdBO0FBZ0NBO0FBQ0E7QUEzQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFOQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 506:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddonsCssTransitionGroup = __webpack_require__(364);\n\nvar _reactAddonsCssTransitionGroup2 = _interopRequireDefault(_reactAddonsCssTransitionGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DetailRowContainer = function DetailRowContainer(_ref) {\n    var id = _ref.id,\n        isActive = _ref.isActive,\n        colSpan = _ref.colSpan,\n        transition = _ref.transition,\n        buttons = _ref.buttons,\n        children = _ref.children;\n\n    isActive = isActive || !!children;\n    var transitionProps = _lodash2.default.extend({\n        transitionName: 'detail',\n        transitionEnterTimeout: 500,\n        transitionLeaveTimeout: 500\n    }, transition);\n    return _react2.default.createElement(\n        'tr',\n        { className: 'tjs-grid-detail-row' + (isActive ? ' active' : '') },\n        _react2.default.createElement(\n            'td',\n            { colSpan: colSpan },\n            _react2.default.createElement(\n                _reactAddonsCssTransitionGroup2.default,\n                transitionProps,\n                isActive ? _react2.default.createElement(\n                    'div',\n                    { className: 'tjs-grid-detail', key: id || '1', style: { overflow: 'hidden' } },\n                    children\n                ) : null\n            ),\n            _react2.default.createElement(\n                'div',\n                { className: 'tjs-grid-detail-buttons' },\n                buttons\n            )\n        )\n    );\n};\n\nif (true) {\n    DetailRowContainer.propTypes = {\n        id: _react2.default.PropTypes.string,\n        isActive: _react2.default.PropTypes.bool,\n        colSpan: _react2.default.PropTypes.number\n    };\n}\n\nexports.default = DetailRowContainer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9EZXRhaWxSb3dDb250YWluZXIuanN4P2UyMjMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDU1NUcmFuc2l0aW9uR3JvdXAgZnJvbSAncmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwJztcblxuY29uc3QgRGV0YWlsUm93Q29udGFpbmVyID0gKHtcbiAgICBpZCxcbiAgICBpc0FjdGl2ZSxcbiAgICBjb2xTcGFuLFxuICAgIHRyYW5zaXRpb24sXG4gICAgYnV0dG9ucyxcbiAgICBjaGlsZHJlblxufSkgPT4ge1xuICAgIGlzQWN0aXZlID0gaXNBY3RpdmUgfHwgISFjaGlsZHJlbjtcbiAgICBsZXQgdHJhbnNpdGlvblByb3BzID0gXy5leHRlbmQoe1xuICAgICAgICB0cmFuc2l0aW9uTmFtZTogJ2RldGFpbCcsXG4gICAgICAgIHRyYW5zaXRpb25FbnRlclRpbWVvdXQ6IDUwMCxcbiAgICAgICAgdHJhbnNpdGlvbkxlYXZlVGltZW91dDogNTAwXG4gICAgfSwgdHJhbnNpdGlvbik7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPHRyIGNsYXNzTmFtZT17J3Rqcy1ncmlkLWRldGFpbC1yb3cnICsgKGlzQWN0aXZlID8gJyBhY3RpdmUnIDogJycpfT5cbiAgICAgICAgICAgIDx0ZCBjb2xTcGFuPXtjb2xTcGFufT5cblxuICAgICAgICAgICAgICAgIHsvKiBhcnJvdyB0aGF0IGJpdGVzIGludG8gYW5vdGhlciByb3cgICovfVxuICAgICAgICAgICAgICAgIHsvKjxkaXYgY2xhc3NOYW1lPVwiZ3JpZC1kZXRhaWwtYXJyb3ctdXBcIj48aSAvPjwvZGl2PiovfVxuXG4gICAgICAgICAgICAgICAgey8qIERhdGEgZmllbGQgKi99XG4gICAgICAgICAgICAgICAgPENTU1RyYW5zaXRpb25Hcm91cCB7Li4udHJhbnNpdGlvblByb3BzfT5cbiAgICAgICAgICAgICAgICAgICAgeyBpc0FjdGl2ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRqcy1ncmlkLWRldGFpbFwiIGtleT17aWQgfHwgJzEnfSBzdHlsZT17e292ZXJmbG93OiAnaGlkZGVuJ319PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDwvQ1NTVHJhbnNpdGlvbkdyb3VwPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGpzLWdyaWQtZGV0YWlsLWJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgey8qVE9ETzogUmV3cml0ZSB0byBiZSBjdXN0b20qL31cbiAgICAgICAgICAgICAgICAgICAge2J1dHRvbnN9XG4gICAgICAgICAgICAgICAgICAgIHsvKjxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uLXNtYWxsXCI+Q2xpY2sgTWU8L2J1dHRvbj4qL31cbiAgICAgICAgICAgICAgICAgICAgey8qPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b24tc21hbGxcIj5DbGljayBNZTI8L2J1dHRvbj4qL31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgKTtcbn07XG5cbmlmKERFVkVMT1BNRU5UKXtcbiAgICBEZXRhaWxSb3dDb250YWluZXIucHJvcFR5cGVzID0ge1xuICAgICAgICBpZDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgaXNBY3RpdmU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgICAgICBjb2xTcGFuOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyXG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgIERldGFpbFJvd0NvbnRhaW5lcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL0RldGFpbFJvd0NvbnRhaW5lci5qc3giXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUZBO0FBT0E7QUFBQTtBQUFBO0FBRUE7QUFGQTtBQWJBO0FBREE7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 507:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _HeaderNew = __webpack_require__(508);\n\nvar _HeaderNew2 = _interopRequireDefault(_HeaderNew);\n\nvar _GridBody = __webpack_require__(509);\n\nvar _GridBody2 = _interopRequireDefault(_GridBody);\n\nvar _GridSearch = __webpack_require__(511);\n\nvar _GridSearch2 = _interopRequireDefault(_GridSearch);\n\nvar _reactPaginate = __webpack_require__(379);\n\nvar _reactPaginate2 = _interopRequireDefault(_reactPaginate);\n\nvar _utils = __webpack_require__(505);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GridWrapper = function GridWrapper(_ref) {\n    var detail = _ref.detail,\n        isEditMode = _ref.isEditMode,\n        isFetching = _ref.isFetching,\n        orderBy = _ref.orderBy,\n        columns = _ref.columns,\n        tableOptions = _ref.tableOptions,\n        pagination = _ref.pagination,\n        page = _ref.page,\n        maxPages = _ref.maxPages,\n        paginateOptions = _ref.paginateOptions,\n        showSearch = _ref.showSearch,\n        searchProperties = _ref.searchProperties,\n        emptyData = _ref.emptyData,\n        error = _ref.error,\n        onSelectAll = _ref.onSelectAll,\n        onOrderBy = _ref.onOrderBy,\n        onPageSelect = _ref.onPageSelect,\n        children = _ref.children;\n\n    var colSpan = columns.length,\n        isEmpty = !!children && maxPages === 0,\n        SHOW_PAGINATION = pagination && maxPages > 1;\n\n    if (isEditMode) {\n        colSpan += 1;\n    }\n\n    return _react2.default.createElement(\n        'div',\n        { className: 'wrapper-grid' },\n        showSearch && _react2.default.createElement(_GridSearch2.default, searchProperties),\n        _react2.default.createElement(\n            'table',\n            { className: 'grid' },\n            _react2.default.createElement(_HeaderNew2.default, _extends({\n                columns: columns,\n                isEmpty: isEmpty,\n                isEditMode: isEditMode,\n                orderBy: orderBy,\n                orderByCallback: onOrderBy,\n                onSelect: onSelectAll\n            }, tableOptions)),\n            _react2.default.createElement(\n                _GridBody2.default,\n                {\n                    colSpan: colSpan,\n                    error: error,\n                    emptyData: emptyData,\n                    isFetching: isFetching\n                },\n                detail ? (0, _utils.glueRowAndDetail)(children, colSpan) : children\n            )\n        ),\n        SHOW_PAGINATION && _react2.default.createElement(\n            'div',\n            { className: 'pagination-wrapper' },\n            _react2.default.createElement(_reactPaginate2.default, _extends({\n                clickCallback: onPageSelect,\n                initialSelected: page,\n                forceSelected: page,\n                pageNum: maxPages\n            }, paginateOptions))\n        )\n    );\n};\n\n/**\n * Default Properties\n */\nGridWrapper.defaultProps = {\n    detail: true,\n    isEditMode: false,\n    page: 0,\n    maxPages: 1\n};\n\n/**\n * Property types\n */\nif (true) {\n    GridWrapper.propTypes = {\n        emptyData: _react2.default.PropTypes.element,\n        error: _react2.default.PropTypes.element,\n        detail: _react2.default.PropTypes.bool,\n        isEditMode: _react2.default.PropTypes.bool,\n        orderBy: _react2.default.PropTypes.shape({\n            column: _react2.default.PropTypes.string,\n            order: _react2.default.PropTypes.string\n        }),\n        columns: _react2.default.PropTypes.array,\n        tableOptions: _react2.default.PropTypes.shape({\n            orderByClassName: _react2.default.PropTypes.string,\n            ascClassName: _react2.default.PropTypes.string,\n            descClassName: _react2.default.PropTypes.string\n        }),\n\n        /** Pagination **/\n        pagination: _react2.default.PropTypes.bool,\n        page: _react2.default.PropTypes.number,\n        maxPages: _react2.default.PropTypes.number,\n        paginateOptions: _react2.default.PropTypes.shape({\n            marginPagesDisplayed: _react2.default.PropTypes.number,\n            pageRangeDisplayed: _react2.default.PropTypes.number,\n            containerClassName: _react2.default.PropTypes.string,\n            subContainerClassName: _react2.default.PropTypes.string,\n            activeClassName: _react2.default.PropTypes.string,\n            nextLinkClassName: _react2.default.PropTypes.string,\n            previousLinkClassName: _react2.default.PropTypes.string,\n            breakLabel: _react2.default.PropTypes.element,\n            previousLabel: _react2.default.PropTypes.element,\n            nextLabel: _react2.default.PropTypes.element\n        }),\n\n        /** search **/\n        showSearch: _react2.default.PropTypes.bool,\n        searchProperties: _react2.default.PropTypes.shape({\n            transition: _react2.default.PropTypes.object,\n            initialFilter: _react2.default.PropTypes.string,\n            initialSearch: _react2.default.PropTypes.string,\n            filterRules: _react2.default.PropTypes.array,\n            queryBuilder: _react2.default.PropTypes.bool,\n            querySearch: _react2.default.PropTypes.bool,\n            activeComponent: _react2.default.PropTypes.string,\n            onClose: _react2.default.PropTypes.func,\n            onSearch: _react2.default.PropTypes.func,\n            onQuerySearch: _react2.default.PropTypes.func\n        }),\n\n        /** Callbacks **/\n        onOrderBy: _react2.default.PropTypes.func,\n        onPageSelect: _react2.default.PropTypes.func\n    };\n}\n\nexports.default = GridWrapper;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9HcmlkV3JhcHBlci5qc3g/NDcwNCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vSGVhZGVyTmV3LmpzeCc7XG5pbXBvcnQgR3JpZEJvZHkgZnJvbSAnLi9HcmlkQm9keS5qc3gnO1xuaW1wb3J0IEdyaWRTZWFyY2ggZnJvbSAnLi4vY29tcG9uZW50cy9zZWFyY2gvR3JpZFNlYXJjaC5qc3gnO1xuaW1wb3J0IFBhZ2luYXRlQ29tcG9uZW50IGZyb20gJ3JlYWN0LXBhZ2luYXRlJztcbmltcG9ydCB7Z2x1ZVJvd0FuZERldGFpbH0gZnJvbSAnLi4vdXRpbHMuanN4JztcblxuY29uc3QgR3JpZFdyYXBwZXIgPSAoe1xuICAgIGRldGFpbCxcbiAgICBpc0VkaXRNb2RlLFxuICAgIGlzRmV0Y2hpbmcsXG5cbiAgICBvcmRlckJ5LFxuICAgIGNvbHVtbnMsXG4gICAgdGFibGVPcHRpb25zLFxuXG4gICAgcGFnaW5hdGlvbixcbiAgICBwYWdlLFxuICAgIG1heFBhZ2VzLFxuICAgIHBhZ2luYXRlT3B0aW9ucyxcblxuICAgIC8qKiBzZWFyY2ggKiovXG4gICAgc2hvd1NlYXJjaCxcbiAgICBzZWFyY2hQcm9wZXJ0aWVzLFxuXG4gICAgLyoqIGNvbnRlbnQgKiovXG4gICAgZW1wdHlEYXRhLFxuICAgIGVycm9yLFxuXG4gICAgLyoqIENhbGxiYWNrcyAqKi9cbiAgICBvblNlbGVjdEFsbCxcbiAgICBvbk9yZGVyQnksXG4gICAgb25QYWdlU2VsZWN0LFxuXG4gICAgLyoqIENoaWxkcmVuICoqL1xuICAgIGNoaWxkcmVuXG59KSA9PiB7XG4gICAgbGV0IGNvbFNwYW4gPSBjb2x1bW5zLmxlbmd0aCxcbiAgICAgICAgaXNFbXB0eSA9ICEhY2hpbGRyZW4gJiYgbWF4UGFnZXMgPT09IDAsXG4gICAgICAgIFNIT1dfUEFHSU5BVElPTiA9IHBhZ2luYXRpb24gJiYgbWF4UGFnZXMgPiAxXG4gICAgICAgIDtcblxuICAgIGlmKGlzRWRpdE1vZGUpe1xuICAgICAgICBjb2xTcGFuICs9IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwcGVyLWdyaWRcIj5cbiAgICAgICAgICAgIHtzaG93U2VhcmNoICYmIDxHcmlkU2VhcmNoIHsuLi5zZWFyY2hQcm9wZXJ0aWVzfSAvPn1cbiAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJncmlkXCI+XG4gICAgICAgICAgICAgICAgPEhlYWRlclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5zPXtjb2x1bW5zfVxuICAgICAgICAgICAgICAgICAgICBpc0VtcHR5PXtpc0VtcHR5fVxuICAgICAgICAgICAgICAgICAgICBpc0VkaXRNb2RlPXtpc0VkaXRNb2RlfVxuICAgICAgICAgICAgICAgICAgICBvcmRlckJ5PXtvcmRlckJ5fVxuICAgICAgICAgICAgICAgICAgICBvcmRlckJ5Q2FsbGJhY2s9e29uT3JkZXJCeX1cbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9e29uU2VsZWN0QWxsfVxuICAgICAgICAgICAgICAgICAgICB7Li4udGFibGVPcHRpb25zfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPEdyaWRCb2R5XG4gICAgICAgICAgICAgICAgICAgIGNvbFNwYW49e2NvbFNwYW59XG4gICAgICAgICAgICAgICAgICAgIGVycm9yPXtlcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgZW1wdHlEYXRhPXtlbXB0eURhdGF9XG4gICAgICAgICAgICAgICAgICAgIGlzRmV0Y2hpbmc9e2lzRmV0Y2hpbmd9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7ZGV0YWlsID8gZ2x1ZVJvd0FuZERldGFpbChjaGlsZHJlbiwgY29sU3BhbikgOiBjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L0dyaWRCb2R5PlxuICAgICAgICAgICAgPC90YWJsZT5cblxuICAgICAgICAgICAgeyBTSE9XX1BBR0lOQVRJT04gJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnaW5hdGlvbi13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxQYWdpbmF0ZUNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tDYWxsYmFjaz17b25QYWdlU2VsZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFNlbGVjdGVkPXtwYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VTZWxlY3RlZD17cGFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VOdW09e21heFBhZ2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgey4uLnBhZ2luYXRlT3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG4vKipcbiAqIERlZmF1bHQgUHJvcGVydGllc1xuICovXG5HcmlkV3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGV0YWlsOiB0cnVlLFxuICAgIGlzRWRpdE1vZGU6IGZhbHNlLFxuICAgIHBhZ2U6IDAsXG4gICAgbWF4UGFnZXM6IDFcbn07XG5cbi8qKlxuICogUHJvcGVydHkgdHlwZXNcbiAqL1xuaWYgKERFVkVMT1BNRU5UKSB7XG4gICAgR3JpZFdyYXBwZXIucHJvcFR5cGVzID0ge1xuICAgICAgICBlbXB0eURhdGE6IFJlYWN0LlByb3BUeXBlcy5lbGVtZW50LFxuICAgICAgICBlcnJvcjogUmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgICAgIGRldGFpbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIGlzRWRpdE1vZGU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgICAgICBvcmRlckJ5OiBSZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgY29sdW1uOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgb3JkZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbiAgICAgICAgfSksXG4gICAgICAgIGNvbHVtbnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICAgICAgdGFibGVPcHRpb25zOiBSZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgb3JkZXJCeUNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIGFzY0NsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIGRlc2NDbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbiAgICAgICAgfSksXG5cbiAgICAgICAgLyoqIFBhZ2luYXRpb24gKiovXG4gICAgICAgIHBhZ2luYXRpb246IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgICAgICBwYWdlOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICAgICAgICBtYXhQYWdlczogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgICAgICAgcGFnaW5hdGVPcHRpb25zOiBSZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgbWFyZ2luUGFnZXNEaXNwbGF5ZWQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgICAgICBwYWdlUmFuZ2VEaXNwbGF5ZWQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgICAgICBjb250YWluZXJDbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBzdWJDb250YWluZXJDbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBhY3RpdmVDbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBuZXh0TGlua0NsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIHByZXZpb3VzTGlua0NsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIGJyZWFrTGFiZWw6IFJlYWN0LlByb3BUeXBlcy5lbGVtZW50LFxuICAgICAgICAgICAgcHJldmlvdXNMYWJlbDogUmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgICAgICAgICBuZXh0TGFiZWw6IFJlYWN0LlByb3BUeXBlcy5lbGVtZW50XG4gICAgICAgIH0pLFxuXG4gICAgICAgIC8qKiBzZWFyY2ggKiovXG4gICAgICAgIHNob3dTZWFyY2g6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgICAgICBzZWFyY2hQcm9wZXJ0aWVzOiBSZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgICAgICAgIGluaXRpYWxGaWx0ZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBpbml0aWFsU2VhcmNoOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgZmlsdGVyUnVsZXM6IFJlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICAgICAgICAgIHF1ZXJ5QnVpbGRlcjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgICAgICBxdWVyeVNlYXJjaDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgICAgICBhY3RpdmVDb21wb25lbnQ6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBvbkNsb3NlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgICAgIG9uU2VhcmNoOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgICAgIG9uUXVlcnlTZWFyY2g6IFJlYWN0LlByb3BUeXBlcy5mdW5jXG4gICAgICAgIH0pLFxuXG4gICAgICAgIC8qKiBDYWxsYmFja3MgKiovXG4gICAgICAgIG9uT3JkZXJCeTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIG9uUGFnZVNlbGVjdDogUmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBHcmlkV3JhcHBlcjtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9HcmlkV3JhcHBlci5qc3giXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFDQTtBQTZCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFTQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFOQTtBQVZBO0FBb0JBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQURBO0FBdkJBO0FBbUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFsREE7QUFvREE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 508:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Table Header component\n */\nvar Header = function Header(_ref) {\n    var orderBy = _ref.orderBy,\n        columns = _ref.columns,\n        isEmpty = _ref.isEmpty,\n        isEditMode = _ref.isEditMode,\n        orderByClassName = _ref.orderByClassName,\n        ascClassName = _ref.ascClassName,\n        descClassName = _ref.descClassName,\n        orderByCallback = _ref.orderByCallback,\n        onSelect = _ref.onSelect,\n        children = _ref.children;\n\n    var column = orderBy && orderBy.column,\n        order = orderBy && (orderBy.order || 'ASC');\n\n    // Header Columns\n    var headerColumns = _lodash2.default.map(columns, function (col, i) {\n        var className = col.headerClassName;\n\n        // If no data to show -> dont show any order-by sign\n        var useOrderBy = col.allowOrder && !isEmpty;\n\n        if (useOrderBy) {\n            className += ' ' + orderByClassName;\n            if (column && col.name === column) {\n                className += ' ' + (order === 'ASC' ? ascClassName : descClassName);\n            }\n        }\n        var attributes = {\n            key: i,\n            style: col.hidden ? { 'display': 'none' } : undefined,\n            onClick: useOrderBy && orderByCallback.bind(null, col),\n            className: className\n        };\n\n        return _react2.default.createElement(\n            'th',\n            attributes,\n            col.label\n        );\n    });\n\n    return _react2.default.createElement(\n        'thead',\n        null,\n        _react2.default.createElement(\n            'tr',\n            null,\n            isEditMode ? _react2.default.createElement(\n                'td',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'text-center' },\n                    _react2.default.createElement('input', { onClick: onSelect, id: 'select-all', className: 'edit-input display-none', type: 'checkbox' }),\n                    _react2.default.createElement(\n                        'label',\n                        { htmlFor: 'select-all' },\n                        _react2.default.createElement('span', null)\n                    )\n                )\n            ) : false,\n            headerColumns,\n            children\n        )\n    );\n};\n\n/**\n * Default Properties\n */\nHeader.defaultProps = {\n    isEmpty: false,\n    isEditMode: false,\n    orderByCLassName: 'tjs-order-by',\n    ascClassName: 'tjs-asc',\n    descClassName: 'tjs-desc'\n};\n\n/**\n * Property types\n */\nif (true) {\n    Header.propTypes = {\n        isEmpty: _react2.default.PropTypes.bool,\n        isEditMode: _react2.default.PropTypes.bool,\n        orderBy: _react2.default.PropTypes.object,\n        columns: _react2.default.PropTypes.array,\n        orderByCallback: _react2.default.PropTypes.func,\n\n        /** ClassNames **/\n        orderByCLassName: _react2.default.PropTypes.string,\n        ascClassName: _react2.default.PropTypes.string,\n        descClassName: _react2.default.PropTypes.string\n    };\n}\n\nexports.default = Header;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9IZWFkZXJOZXcuanN4PzNlMDkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuXG4vKipcbiAqIFRhYmxlIEhlYWRlciBjb21wb25lbnRcbiAqL1xuY29uc3QgSGVhZGVyID0gKHtcbiAgICBvcmRlckJ5LFxuICAgIGNvbHVtbnMsXG4gICAgaXNFbXB0eSxcbiAgICBpc0VkaXRNb2RlLFxuXG4gICAgLyoqIE9SREVSLUJZIHN0eWxlcyAqKi9cbiAgICBvcmRlckJ5Q2xhc3NOYW1lLFxuICAgIGFzY0NsYXNzTmFtZSxcbiAgICBkZXNjQ2xhc3NOYW1lLFxuXG4gICAgLyoqIENhbGxiYWNrcyAqKi9cbiAgICBvcmRlckJ5Q2FsbGJhY2ssXG4gICAgb25TZWxlY3QsXG5cbiAgICAvKiogQ2hpbGRyZW4gKiovXG4gICAgY2hpbGRyZW5cbn0pID0+IHtcbiAgICBsZXQgY29sdW1uID0gb3JkZXJCeSAmJiBvcmRlckJ5LmNvbHVtbixcbiAgICAgICAgb3JkZXIgPSBvcmRlckJ5ICYmIChvcmRlckJ5Lm9yZGVyIHx8ICdBU0MnKVxuICAgIDtcblxuICAgIC8vIEhlYWRlciBDb2x1bW5zXG4gICAgbGV0IGhlYWRlckNvbHVtbnMgPSBfLm1hcChjb2x1bW5zLCAoY29sLCBpKSA9PiB7XG4gICAgICAgIGxldCBjbGFzc05hbWUgPSBjb2wuaGVhZGVyQ2xhc3NOYW1lO1xuXG4gICAgICAgIC8vIElmIG5vIGRhdGEgdG8gc2hvdyAtPiBkb250IHNob3cgYW55IG9yZGVyLWJ5IHNpZ25cbiAgICAgICAgbGV0IHVzZU9yZGVyQnkgPSBjb2wuYWxsb3dPcmRlciAmJiAhaXNFbXB0eTtcbiAgICAgICAgXG4gICAgICAgIGlmKHVzZU9yZGVyQnkpe1xuICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgJyArIG9yZGVyQnlDbGFzc05hbWU7XG4gICAgICAgICAgICBpZihjb2x1bW4gJiYgY29sLm5hbWUgPT09IGNvbHVtbil7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgJyArIChvcmRlciA9PT0gJ0FTQycgPyBhc2NDbGFzc05hbWUgOiBkZXNjQ2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgYXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIGtleTogaSxcbiAgICAgICAgICAgIHN0eWxlOiBjb2wuaGlkZGVuID8geydkaXNwbGF5Jzonbm9uZSd9IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb25DbGljazogdXNlT3JkZXJCeSAmJiBvcmRlckJ5Q2FsbGJhY2suYmluZChudWxsLCBjb2wpLFxuICAgICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIDx0aCB7Li4uYXR0cmlidXRlc30+e2NvbC5sYWJlbH08L3RoPjtcbiAgICB9KTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICB7aXNFZGl0TW9kZSA/IChcbiAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LypUT0RPOiBtdWx0aXBsZSB0YWJsZXMgLSBuZWVkcyB1bmlxdWUgaWQqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgb25DbGljaz17b25TZWxlY3R9IGlkPSdzZWxlY3QtYWxsJyBjbGFzc05hbWU9XCJlZGl0LWlucHV0IGRpc3BsYXktbm9uZVwiIHR5cGU9XCJjaGVja2JveFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J3NlbGVjdC1hbGwnID48c3Bhbj48L3NwYW4+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RkPikgOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB7aGVhZGVyQ29sdW1uc31cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICk7XG59O1xuXG4vKipcbiAqIERlZmF1bHQgUHJvcGVydGllc1xuICovXG5IZWFkZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGlzRW1wdHk6IGZhbHNlLFxuICAgIGlzRWRpdE1vZGU6IGZhbHNlLFxuICAgIG9yZGVyQnlDTGFzc05hbWU6ICd0anMtb3JkZXItYnknLFxuICAgIGFzY0NsYXNzTmFtZTogJ3Rqcy1hc2MnLFxuICAgIGRlc2NDbGFzc05hbWU6ICd0anMtZGVzYydcbn07XG5cbi8qKlxuICogUHJvcGVydHkgdHlwZXNcbiAqL1xuaWYoREVWRUxPUE1FTlQpe1xuICAgIEhlYWRlci5wcm9wVHlwZXMgPSB7XG4gICAgICAgIGlzRW1wdHk6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgICAgICBpc0VkaXRNb2RlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICAgICAgb3JkZXJCeTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgICAgY29sdW1uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgICAgICBvcmRlckJ5Q2FsbGJhY2s6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKiBDbGFzc05hbWVzICoqL1xuICAgICAgICBvcmRlckJ5Q0xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBhc2NDbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGRlc2NDbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9IZWFkZXJOZXcuanN4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBRUE7OztBQUdBO0FBaUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFIQTtBQURBO0FBUUE7QUFDQTtBQVhBO0FBREE7QUFnQkE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 509:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddonsCssTransitionGroup = __webpack_require__(364);\n\nvar _reactAddonsCssTransitionGroup2 = _interopRequireDefault(_reactAddonsCssTransitionGroup);\n\nvar _CustomRowContainer = __webpack_require__(510);\n\nvar _CustomRowContainer2 = _interopRequireDefault(_CustomRowContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GridBody = function GridBody(_ref) {\n    var colSpan = _ref.colSpan,\n        error = _ref.error,\n        emptyData = _ref.emptyData,\n        transition = _ref.transition,\n        children = _ref.children;\n\n    var content = null;\n    if (error || !children || children.length === 0) {\n        content = _react2.default.createElement(\n            _CustomRowContainer2.default,\n            { colSpan: colSpan },\n            error || emptyData\n        );\n    } else {\n        content = children;\n    }\n\n    var transitionProps = _lodash2.default.extend({\n        transitionName: 'example',\n        transitionEnterTimeout: 200,\n        transitionLeave: false\n    }, transition);\n    // Important!\n    transitionProps.component = 'tbody';\n\n    return _react2.default.createElement(\n        _reactAddonsCssTransitionGroup2.default,\n        transitionProps,\n        content\n    );\n};\n\n/**\n * Default Properties\n */\nGridBody.defaultProps = {\n    isFetching: false,\n    emptyData: 'No Data'\n};\n\n/**\n * Property types\n */\nif (true) {\n    GridBody.propTypes = {\n        colSpan: _react2.default.PropTypes.number,\n        transition: _react2.default.PropTypes.object,\n        /** loading? **/\n        isFetching: _react2.default.PropTypes.bool\n    };\n}\n\nexports.default = GridBody;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9HcmlkQm9keS5qc3g/Y2Y5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENTU1RyYW5zaXRpb25Hcm91cCBmcm9tICdyZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAnO1xuaW1wb3J0IEN1c3RvbVJvd0NvbnRhaW5lciBmcm9tICcuL0N1c3RvbVJvd0NvbnRhaW5lci5qc3gnO1xuXG5jb25zdCBHcmlkQm9keSA9ICh7XG4gICAgY29sU3BhbixcbiAgICBlcnJvcixcbiAgICBlbXB0eURhdGEsXG4gICAgdHJhbnNpdGlvbixcbiAgICAvKiogbG9hZGluZz8gKiovXG4gICAgLy8gaXNGZXRjaGluZyxcblxuICAgIC8qKiBDaGlsZHJlbiAqKi9cbiAgICBjaGlsZHJlblxufSkgPT4ge1xuICAgIGxldCBjb250ZW50ID0gbnVsbDtcbiAgICBpZihlcnJvciB8fCAhY2hpbGRyZW4gfHwgY2hpbGRyZW4ubGVuZ3RoID09PSAwKXtcbiAgICAgICAgY29udGVudCA9IChcbiAgICAgICAgICAgIDxDdXN0b21Sb3dDb250YWluZXIgY29sU3Bhbj17Y29sU3Bhbn0gPlxuICAgICAgICAgICAgICAgIHtlcnJvciB8fCBlbXB0eURhdGF9XG4gICAgICAgICAgICA8L0N1c3RvbVJvd0NvbnRhaW5lcj5cbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZW50ID0gY2hpbGRyZW47XG4gICAgfVxuXG4gICAgbGV0IHRyYW5zaXRpb25Qcm9wcyA9IF8uZXh0ZW5kKHtcbiAgICAgICAgdHJhbnNpdGlvbk5hbWU6ICdleGFtcGxlJyxcbiAgICAgICAgdHJhbnNpdGlvbkVudGVyVGltZW91dDogMjAwLFxuICAgICAgICB0cmFuc2l0aW9uTGVhdmU6IGZhbHNlXG4gICAgfSwgdHJhbnNpdGlvbik7XG4gICAgLy8gSW1wb3J0YW50IVxuICAgIHRyYW5zaXRpb25Qcm9wcy5jb21wb25lbnQgPSAndGJvZHknO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPENTU1RyYW5zaXRpb25Hcm91cCB7Li4udHJhbnNpdGlvblByb3BzfT5cbiAgICAgICAgICAgIHtjb250ZW50fVxuICAgICAgICA8L0NTU1RyYW5zaXRpb25Hcm91cD5cbiAgICApO1xufTtcblxuLyoqXG4gKiBEZWZhdWx0IFByb3BlcnRpZXNcbiAqL1xuR3JpZEJvZHkuZGVmYXVsdFByb3BzID0ge1xuICAgIGlzRmV0Y2hpbmc6IGZhbHNlLFxuICAgIGVtcHR5RGF0YTogJ05vIERhdGEnXG59O1xuXG4vKipcbiAqIFByb3BlcnR5IHR5cGVzXG4gKi9cbmlmIChERVZFTE9QTUVOVCkge1xuICAgIEdyaWRCb2R5LnByb3BUeXBlcyA9IHtcbiAgICAgICAgY29sU3BhbjogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgICAgICAgdHJhbnNpdGlvbjogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgICAgLyoqIGxvYWRpbmc/ICoqL1xuICAgICAgICBpc0ZldGNoaW5nOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbFxuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRCb2R5O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL2NvbXBvbmVudHMvR3JpZEJvZHkuanN4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 510:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CustomRowContainer = function CustomRowContainer(_ref) {\n    var colSpan = _ref.colSpan,\n        children = _ref.children;\n\n    return _react2.default.createElement(\n        'tr',\n        { className: 'tjs-grid-custom-row' },\n        _react2.default.createElement(\n            'td',\n            { colSpan: colSpan },\n            children\n        )\n    );\n};\n\n/**\n * Property types\n */\nif (true) {\n    CustomRowContainer.propTypes = {\n        colSpan: _react2.default.PropTypes.number\n    };\n}\n\nexports.default = CustomRowContainer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9DdXN0b21Sb3dDb250YWluZXIuanN4P2NjMDQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5jb25zdCBDdXN0b21Sb3dDb250YWluZXIgPSAoeyBjb2xTcGFuLCBjaGlsZHJlbiB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPHRyIGNsYXNzTmFtZT1cInRqcy1ncmlkLWN1c3RvbS1yb3dcIj5cbiAgICAgICAgICAgIDx0ZCBjb2xTcGFuPXtjb2xTcGFufT5cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICk7XG59O1xuXG4vKipcbiAqIFByb3BlcnR5IHR5cGVzXG4gKi9cbmlmIChERVZFTE9QTUVOVCkge1xuICAgIEN1c3RvbVJvd0NvbnRhaW5lci5wcm9wVHlwZXMgPSB7XG4gICAgICAgIGNvbFNwYW46IFJlYWN0LlByb3BUeXBlcy5udW1iZXJcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBDdXN0b21Sb3dDb250YWluZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9DdXN0b21Sb3dDb250YWluZXIuanN4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7Ozs7O0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBREE7QUFNQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 511:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _GridSearchContainer = __webpack_require__(512);\n\nvar _GridSearchContainer2 = _interopRequireDefault(_GridSearchContainer);\n\nvar _GridQueryBuilder = __webpack_require__(514);\n\nvar _GridQueryBuilder2 = _interopRequireDefault(_GridQueryBuilder);\n\nvar _reactAddonsCssTransitionGroup = __webpack_require__(364);\n\nvar _reactAddonsCssTransitionGroup2 = _interopRequireDefault(_reactAddonsCssTransitionGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GridSearch = function GridSearch(_ref) {\n    var transition = _ref.transition,\n        initialFilter = _ref.initialFilter,\n        initialSearch = _ref.initialSearch,\n        filterRules = _ref.filterRules,\n        queryBuilder = _ref.queryBuilder,\n        querySearch = _ref.querySearch,\n        activeComponent = _ref.activeComponent,\n        onClose = _ref.onClose,\n        onSearch = _ref.onSearch,\n        onQuerySearch = _ref.onQuerySearch;\n\n    if (!(queryBuilder || querySearch)) {\n        return null;\n    }\n\n    // Update transition\n    var transitionProps = _lodash2.default.extend({\n        component: 'div',\n        transitionName: 'example',\n        transitionLeave: false,\n        transitionEnterTimeout: 500\n    }, transition);\n\n    var activeSearchComponent = activeComponent === 'QUERY_BUILDER' ? _react2.default.createElement(_GridQueryBuilder2.default, {\n        key: 'query-builder',\n        className: 'margin-top-10',\n        rules: filterRules,\n        filter: initialFilter,\n        onSearch: onQuerySearch,\n        onClose: onClose\n    }) : _react2.default.createElement(\n        'div',\n        { key: 'grid-search' },\n        _react2.default.createElement(_GridSearchContainer2.default, {\n            className: 'margin-top-10',\n            onSearch: onSearch,\n            search: initialSearch\n        }),\n        queryBuilder && // if both, show switcher\n        _react2.default.createElement(\n            'a',\n            { className: 'row pointer',\n                onClick: onClose },\n            _react2.default.createElement(\n                'div',\n                { className: 'button-small' },\n                'Advanced search'\n            )\n        )\n    );\n\n    // Render\n    return _react2.default.createElement(\n        _reactAddonsCssTransitionGroup2.default,\n        transitionProps,\n        activeSearchComponent\n    );\n};\n\n/**\n * Property types\n */\nif (true) {\n    GridSearch.propTypes = {\n        transition: _react2.default.PropTypes.object,\n        initialFilter: _react2.default.PropTypes.string,\n        initialSearch: _react2.default.PropTypes.string,\n        filterRules: _react2.default.PropTypes.array,\n        queryBuilder: _react2.default.PropTypes.bool,\n        querySearch: _react2.default.PropTypes.bool,\n        activeComponent: _react2.default.PropTypes.string,\n        onClose: _react2.default.PropTypes.func,\n        onSearch: _react2.default.PropTypes.func,\n        onQuerySearch: _react2.default.PropTypes.func\n    };\n}\n\nexports.default = GridSearch;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTExLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9zZWFyY2gvR3JpZFNlYXJjaC5qc3g/ZTE4YyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEdyaWRTZWFyY2hDb250YWluZXIgZnJvbSAnLi9HcmlkU2VhcmNoQ29udGFpbmVyLmpzeCc7XG5pbXBvcnQgR3JpZFF1ZXJ5QnVpbGRlciBmcm9tICcuL0dyaWRRdWVyeUJ1aWxkZXIuanN4JztcbmltcG9ydCBDU1NUcmFuc2l0aW9uR3JvdXAgZnJvbSAncmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwJztcblxuXG5jb25zdCBHcmlkU2VhcmNoID0gKHtcbiAgICB0cmFuc2l0aW9uLFxuICAgIGluaXRpYWxGaWx0ZXIsXG4gICAgaW5pdGlhbFNlYXJjaCxcbiAgICBmaWx0ZXJSdWxlcyxcbiAgICBxdWVyeUJ1aWxkZXIsXG4gICAgcXVlcnlTZWFyY2gsXG4gICAgYWN0aXZlQ29tcG9uZW50LFxuICAgIC8qKiBjYWxsYmFja3MgKiovXG4gICAgb25DbG9zZSxcbiAgICBvblNlYXJjaCxcbiAgICBvblF1ZXJ5U2VhcmNoXG59KSA9PiB7XG4gICAgaWYoIShxdWVyeUJ1aWxkZXIgfHwgcXVlcnlTZWFyY2gpKXtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRyYW5zaXRpb25cbiAgICBsZXQgdHJhbnNpdGlvblByb3BzID0gXy5leHRlbmQoe1xuICAgICAgICBjb21wb25lbnQ6ICdkaXYnLFxuICAgICAgICB0cmFuc2l0aW9uTmFtZTonZXhhbXBsZScsXG4gICAgICAgIHRyYW5zaXRpb25MZWF2ZTogZmFsc2UsXG4gICAgICAgIHRyYW5zaXRpb25FbnRlclRpbWVvdXQ6IDUwMFxuICAgIH0sIHRyYW5zaXRpb24pO1xuXG4gICAgbGV0IGFjdGl2ZVNlYXJjaENvbXBvbmVudCA9IGFjdGl2ZUNvbXBvbmVudCA9PT0gJ1FVRVJZX0JVSUxERVInID9cbiAgICAgICAgICAgIDxHcmlkUXVlcnlCdWlsZGVyXG4gICAgICAgICAgICAgICAga2V5PVwicXVlcnktYnVpbGRlclwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsnbWFyZ2luLXRvcC0xMCd9XG4gICAgICAgICAgICAgICAgcnVsZXM9e2ZpbHRlclJ1bGVzfVxuICAgICAgICAgICAgICAgIGZpbHRlcj17aW5pdGlhbEZpbHRlcn1cbiAgICAgICAgICAgICAgICBvblNlYXJjaD17b25RdWVyeVNlYXJjaH1cbiAgICAgICAgICAgICAgICBvbkNsb3NlPXtvbkNsb3NlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgIDxkaXYga2V5PVwiZ3JpZC1zZWFyY2hcIj5cbiAgICAgICAgICAgICAgICA8R3JpZFNlYXJjaENvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eydtYXJnaW4tdG9wLTEwJ31cbiAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9e29uU2VhcmNofVxuICAgICAgICAgICAgICAgICAgICBzZWFyY2g9e2luaXRpYWxTZWFyY2h9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB7IHF1ZXJ5QnVpbGRlciAmJiAvLyBpZiBib3RoLCBzaG93IHN3aXRjaGVyXG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cInJvdyBwb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1zbWFsbFwiPkFkdmFuY2VkIHNlYXJjaDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDtcblxuICAgIC8vIFJlbmRlclxuICAgIHJldHVybiAoXG4gICAgICAgIDxDU1NUcmFuc2l0aW9uR3JvdXAgey4uLnRyYW5zaXRpb25Qcm9wc30+XG4gICAgICAgICAgICB7YWN0aXZlU2VhcmNoQ29tcG9uZW50fVxuICAgICAgICA8L0NTU1RyYW5zaXRpb25Hcm91cD5cbiAgICApO1xufTtcblxuXG4vKipcbiAqIFByb3BlcnR5IHR5cGVzXG4gKi9cbmlmIChERVZFTE9QTUVOVCkge1xuICAgIEdyaWRTZWFyY2gucHJvcFR5cGVzID0ge1xuICAgICAgICB0cmFuc2l0aW9uOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgICAgICBpbml0aWFsRmlsdGVyOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBpbml0aWFsU2VhcmNoOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBmaWx0ZXJSdWxlczogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgICAgICBxdWVyeUJ1aWxkZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgICAgICBxdWVyeVNlYXJjaDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIGFjdGl2ZUNvbXBvbmVudDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgb25DbG9zZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIG9uU2VhcmNoOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgb25RdWVyeVNlYXJjaDogUmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBHcmlkU2VhcmNoO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL2NvbXBvbmVudHMvc2VhcmNoL0dyaWRTZWFyY2guanN4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBRUE7QUFZQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQVBBO0FBQ0E7QUFjQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 512:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _SearchForm = __webpack_require__(513);\n\nvar _SearchForm2 = _interopRequireDefault(_SearchForm);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Grid search form\n */\nvar GridSearchContainer = function (_React$Component) {\n    _inherits(GridSearchContainer, _React$Component);\n\n    function GridSearchContainer(props) {\n        _classCallCheck(this, GridSearchContainer);\n\n        var _this = _possibleConstructorReturn(this, (GridSearchContainer.__proto__ || Object.getPrototypeOf(GridSearchContainer)).call(this, props));\n\n        _this.__timerID = null;\n        return _this;\n    }\n\n    _createClass(GridSearchContainer, [{\n        key: 'handleChange',\n        value: function handleChange(e, val) {\n            var _this2 = this;\n\n            if (this.__timerID) {\n                clearTimeout(this.__timerID);\n            }\n            if (val.length === 0) {\n                this.props.onSearch(val);\n            } else {\n                this.__timerID = setTimeout(function () {\n                    // Clear\n                    clearTimeout(_this2.__timerID);\n                    _this2.__timerID = null;\n                    _this2.props.onSearch(val);\n                }, this.props.timeout || 500);\n            }\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e, val) {\n            e.preventDefault();\n            clearTimeout(this.__timerID);\n            this.__timerID = null;\n            this.props.onSearch(val);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(_SearchForm2.default, {\n                attributes: {\n                    className: this.props.className\n                },\n                defaultValue: this.props.search || '',\n                placeholder: 'Search in table...',\n                onChange: this.handleChange.bind(this),\n                onSubmit: this.handleSubmit.bind(this)\n            });\n        }\n    }]);\n\n    return GridSearchContainer;\n}(_react2.default.Component);\n\n/**\n * Property types\n */\n\n\nexports.default = GridSearchContainer;\nif (true) {\n    GridSearchContainer.propTypes = {\n        className: _react2.default.PropTypes.string,\n        initialSearch: _react2.default.PropTypes.string\n    };\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9zZWFyY2gvR3JpZFNlYXJjaENvbnRhaW5lci5qc3g/NDQ5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU2VhcmNoRm9ybSBmcm9tICcuLi8uLi8uLi9Db21wb25lbnRzL1NlYXJjaEZvcm0uanN4JztcblxuLyoqXG4gKiBHcmlkIHNlYXJjaCBmb3JtXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRTZWFyY2hDb250YWluZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLl9fdGltZXJJRCA9IG51bGw7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2hhbmdlKGUsIHZhbCl7XG4gICAgICAgIGlmKHRoaXMuX190aW1lcklEKXtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9fdGltZXJJRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodmFsLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uU2VhcmNoKHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fdGltZXJJRCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIENsZWFyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX190aW1lcklEKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9fdGltZXJJRCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblNlYXJjaCh2YWwpO1xuICAgICAgICAgICAgfSwgdGhpcy5wcm9wcy50aW1lb3V0IHx8IDUwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVTdWJtaXQoZSwgdmFsKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fX3RpbWVySUQpO1xuICAgICAgICB0aGlzLl9fdGltZXJJRCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvcHMub25TZWFyY2godmFsKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKXtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxTZWFyY2hGb3JtXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcz17e1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3RoaXMucHJvcHMuc2VhcmNoIHx8ICcnfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGluIHRhYmxlLi4uXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFByb3BlcnR5IHR5cGVzXG4gKi9cbmlmKERFVkVMT1BNRU5UKXtcbiAgICBHcmlkU2VhcmNoQ29udGFpbmVyLnByb3BUeXBlcyA9IHtcbiAgICAgICAgY2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBpbml0aWFsU2VhcmNoOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG4gICAgfTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL3NlYXJjaC9HcmlkU2VhcmNoQ29udGFpbmVyLmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7OztBQUdBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFGQTtBQUdBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFVQTs7OztBQXpDQTtBQUNBO0FBMkNBOzs7OztBQTVDQTtBQStDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 513:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SearchForm = function (_React$Component) {\n    _inherits(SearchForm, _React$Component);\n\n    function SearchForm(props) {\n        _classCallCheck(this, SearchForm);\n\n        var _this = _possibleConstructorReturn(this, (SearchForm.__proto__ || Object.getPrototypeOf(SearchForm)).call(this, props));\n\n        _this.__onSubmit = props.onSubmit || props.attributes && props.attributes.onSubmit;\n        return _this;\n    }\n\n    _createClass(SearchForm, [{\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            this.props.onSubmit(e, this.__input.value);\n        }\n    }, {\n        key: 'handleChange',\n        value: function handleChange(e) {\n            this.props.onChange(e, this.__input.value);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var formAtt = this.props.attributes || {};\n            formAtt.className = ('grid-search ' + (formAtt.className || '')).trim();\n            formAtt.onSubmit = this.__onSubmit ? this.handleSubmit.bind(this) : undefined;\n\n            // input\n            var inputAtt = {\n                type: 'text',\n                name: this.props.name || 'search',\n                placeholder: this.props.placeholder,\n                onChange: this.props.onChange ? this.handleChange.bind(this) : undefined,\n                value: this.props.value,\n                defaultValue: this.props.defaultValue\n            };\n\n            return _react2.default.createElement(\n                'form',\n                formAtt,\n                _react2.default.createElement('input', _extends({ ref: function ref(el) {\n                        return _this2.__input = el;\n                    } }, inputAtt)),\n                _react2.default.createElement(\n                    'button',\n                    { type: 'submit' },\n                    _react2.default.createElement('i', { className: 'trinity trinity-search' })\n                ),\n                this.props.children\n            );\n        }\n    }]);\n\n    return SearchForm;\n}(_react2.default.Component);\n\nexports.default = SearchForm;\n\n/**\n * Property types\n */\n\nif (true) {\n    SearchForm.propTypes = {\n        attributes: _react2.default.PropTypes.shape({\n            onSubmit: _react2.default.PropTypes.func,\n            className: _react2.default.PropTypes.string\n        }),\n        inputName: _react2.default.PropTypes.string,\n        placeholder: _react2.default.PropTypes.string,\n        onChange: _react2.default.PropTypes.func,\n        onSubmit: _react2.default.PropTypes.func,\n        value: _react2.default.PropTypes.string,\n        defaultValue: _react2.default.PropTypes.string\n    };\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0NvbXBvbmVudHMvU2VhcmNoRm9ybS5qc3g/N2NhNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmNsYXNzIFNlYXJjaEZvcm0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5fX29uU3VibWl0ID0gcHJvcHMub25TdWJtaXQgfHwgKHByb3BzLmF0dHJpYnV0ZXMgJiYgcHJvcHMuYXR0cmlidXRlcy5vblN1Ym1pdCk7XG4gICAgfVxuXG4gICAgaGFuZGxlU3VibWl0KGUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblN1Ym1pdChlLCB0aGlzLl9faW5wdXQudmFsdWUpO1xuICAgIH1cblxuICAgIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoZSwgdGhpcy5fX2lucHV0LnZhbHVlKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGxldCBmb3JtQXR0ID0gdGhpcy5wcm9wcy5hdHRyaWJ1dGVzIHx8IHt9O1xuICAgICAgICBmb3JtQXR0LmNsYXNzTmFtZSA9ICgnZ3JpZC1zZWFyY2ggJyArIChmb3JtQXR0LmNsYXNzTmFtZSB8fCAnJykpLnRyaW0oKTtcbiAgICAgICAgZm9ybUF0dC5vblN1Ym1pdCA9IHRoaXMuX19vblN1Ym1pdCA/IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcykgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gaW5wdXRcbiAgICAgICAgbGV0IGlucHV0QXR0ID0ge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5wcm9wcy5uYW1lIHx8ICdzZWFyY2gnLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHRoaXMucHJvcHMucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5wcm9wcy5vbkNoYW5nZSA/IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcykgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wcy52YWx1ZSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWVcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGZvcm0gey4uLmZvcm1BdHR9PlxuICAgICAgICAgICAgICAgIDxpbnB1dCByZWY9e2VsID0+IHRoaXMuX19pbnB1dCA9IGVsfSB7Li4uaW5wdXRBdHR9Lz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwidHJpbml0eSB0cmluaXR5LXNlYXJjaFwiLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlYXJjaEZvcm07XG5cbi8qKlxuICogUHJvcGVydHkgdHlwZXNcbiAqL1xuaWYgKERFVkVMT1BNRU5UKSB7XG4gICAgU2VhcmNoRm9ybS5wcm9wVHlwZXMgPSB7XG4gICAgICAgIGF0dHJpYnV0ZXM6IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICBvblN1Ym1pdDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgICAgICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbiAgICAgICAgfSksXG4gICAgICAgIGlucHV0TmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgcGxhY2Vob2xkZXI6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIG9uQ2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgb25TdWJtaXQ6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgICAgICB2YWx1ZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG4gICAgfTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL3ZlbmljZS1qcy9MaWJyYXJpZXMvQ29tcG9uZW50cy9TZWFyY2hGb3JtLmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7Ozs7O0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRkE7QUFHQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUxBO0FBUUE7Ozs7QUF0Q0E7QUFDQTtBQXdDQTtBQUNBO0FBQ0E7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 514:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\n/**\n * http://querybuilder.js.org/\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\n__webpack_require__(515);\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Events = __webpack_require__(483);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NUMBER_MAP = {\n    'equal': '= ${value}',\n    'not_equal': '!= ${value}',\n    'less': '< ${value}',\n    'less_or_equal': '<= ${value}',\n    'greater': '> ${value}',\n    'greater_or_equal': '>= ${value}'\n};\n\nvar EXPRESSION_RX = /^([^\\s(<>=!]+)\\s*((?:[<>!]?=|[<>])|LIKE)\\s*(\\\"[^\\.\")]+\\\"|[^\\s)]+)/;\nvar AND_CONDITION_RX = /\\s+AND\\s+/;\nvar OR_CONDITION_RX = /\\s+OR\\s+/;\nvar IS_WRAPPED_RX = /^\\(.*\\)$/;\nvar REMOVE_QUOTES_RX = /[^'\"].+[^'\"]/;\nvar REMOVE_LIKE_SIGN_RX = /[^%\"']+/;\n\nvar VALUE_MAP = {\n    'integer': NUMBER_MAP,\n    'double': NUMBER_MAP,\n    'string': {\n        'equal': '= \\\"${value}\\\"',\n        'not_equal': '!= \\\"${value}\\\"',\n        'contains': 'LIKE \\\"%${value}%\\\"',\n        'begins_with': 'LIKE \\\"${value}%\\\"',\n        'ends_with': 'LIKE \\\"%${value}\\\"'\n    },\n    'date': NUMBER_MAP,\n    'boolean': {\n        'equal': '= \\\"${value}\\\"'\n    },\n    'array': {\n        'is': 'LIKE %\\\"${value}\\\"%'\n    },\n    'enum': {\n        'equal': '= \\\"${value}\\\"',\n        'not_equal': '!= \\\"${value}\\\"',\n        'contains': 'LIKE \\\"%${value}%\\\"',\n        'begins_with': 'LIKE \\\"${value}%\\\"',\n        'ends_with': 'LIKE \\\"%${value}\\\"'\n    }\n};\n\nvar QB_OPERATOR_MAP = {\n    '=': 'equal',\n    '!=': 'not_equal',\n    '<': 'less',\n    '<=': 'less_or_equal',\n    '>': 'greater',\n    '>=': 'greater_or_equal'\n};\n\nfunction createFilter(filterObj) {\n    return _lodash2.default.map(filterObj.rules, function (rule) {\n        if (rule.condition) {\n            return '(' + createFilter(rule) + ')';\n        }\n        var val = VALUE_MAP[rule.type][rule.operator].replace('${value}', rule.value);\n        return [rule.id, val].join(' ');\n    }).join(' ' + filterObj.condition + ' ');\n}\n\nfunction parseFilter(filterStr, specialRules) {\n    var counter = 0,\n        deepRules = [],\n        startIndex = null,\n        rules = null,\n        rulesObj = {\n        condition: '',\n        rules: null\n    };\n\n    var parsed = _lodash2.default.map(filterStr, function (c, i) {\n        if (c === '(') {\n            counter++;\n            if (_lodash2.default.isNull(startIndex)) {\n                startIndex = i;\n                return c;\n            }\n        } else if (c === ')') {\n            counter--;\n            if (counter === 0) {\n                deepRules.push(parseFilter(filterStr.substring(startIndex + 1, i)));\n                startIndex = null;\n                return c;\n            }\n        }\n        return counter > 0 ? '*' : c;\n    }).join('');\n\n    if (AND_CONDITION_RX.test(parsed) || !OR_CONDITION_RX.test(parsed)) {\n        rules = parsed.split(AND_CONDITION_RX);\n        rulesObj.condition = 'AND';\n    } else {\n        rules = parsed.split(OR_CONDITION_RX);\n        rulesObj.condition = 'OR';\n    }\n\n    counter = 0;\n    rulesObj.rules = _lodash2.default.map(rules, function (cond) {\n\n        if (IS_WRAPPED_RX.test(cond)) {\n            return deepRules[counter++];\n        }\n        var exp = cond.match(EXPRESSION_RX),\n            id = exp[1],\n            operator = exp[2],\n            value = exp[3].match(REMOVE_QUOTES_RX);\n\n        value = value && value[0] || exp[3];\n        if (specialRules[id].necktie && specialRules[id].necktie.unix) {\n            value = new window.DateFormatter().formatDate(new Date(value * 1000), specialRules[id].plugin.format);\n        }\n\n        if (operator === 'LIKE') {\n            var index = value.indexOf('%');\n            if (index === -1) {\n                operator = 'contains';\n            } else {\n                operator = 'begins_with';\n                if (index === 0) {\n                    operator = 'ends_with';\n                    if (value[value.length - 1] === '%') {\n                        operator = 'contains';\n                        if (value[index + 1] === '\"') {\n                            operator = 'is';\n                        }\n                    }\n                }\n            }\n            value = value.match(REMOVE_LIKE_SIGN_RX)[0];\n        } else {\n            operator = QB_OPERATOR_MAP[operator];\n        }\n\n        return { id: id, operator: operator, value: value };\n    });\n    return rulesObj;\n}\n\nfunction modifyRules(rules, filters) {\n    var modified = _jquery2.default.extend({}, rules);\n    _lodash2.default.each(modified.rules, function (rule) {\n        if (filters[rule.id].necktie && filters[rule.id].necktie.unix) {\n            var date = new window.DateFormatter().parseDate(rule.value, filters[rule.id].plugin.format),\n                timeZone = -date.getTimezoneOffset() * 60; //in seconds (do not remove -)\n\n            rule.value = Math.floor(date.getTime() / 1000) + timeZone;\n        } else if (rule.type === 'date') {\n            rule.value = '\"' + rule.value + '\"';\n        } else if (rule.value[0] === '\\\"' && rule.value[rule.value.length - 1] === '\\\"' || rule.value[0] === '\\'' && rule.value[rule.value.length - 1] === '\\'') {\n            rule.value = rule.value.substring(1, rule.value.length - 1);\n        }\n    });\n    return modified;\n}\n\nvar GridQueryBuilder = function (_React$Component) {\n    _inherits(GridQueryBuilder, _React$Component);\n\n    function GridQueryBuilder() {\n        _classCallCheck(this, GridQueryBuilder);\n\n        return _possibleConstructorReturn(this, (GridQueryBuilder.__proto__ || Object.getPrototypeOf(GridQueryBuilder)).apply(this, arguments));\n    }\n\n    _createClass(GridQueryBuilder, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            var specialRules = {};\n            _lodash2.default.each(this.props.rules, function (r) {\n                return specialRules[r.id] = { plugin: r.plugin_config, necktie: r.necktie_config };\n            });\n\n            var initialRules = this.props.filter ? parseFilter(this.props.filter, specialRules) : undefined;\n\n            // Clear element\n            this.__builder.innerHTML = '';\n            // Attach query builder\n            (0, _jquery2.default)(this.__builder).queryBuilder({\n                filters: this.props.rules,\n                rules: initialRules,\n                operators: ['equal', 'not_equal', 'less', 'less_or_equal', 'greater', 'greater_or_equal', 'contains', 'begins_with', 'ends_with', {\n                    type: 'is',\n                    nb_inputs: 1,\n                    apply_to: ['array']\n                }],\n                icons: {\n                    add_group: 'trinity-plus',\n                    add_rule: 'trinity-plus',\n                    remove_group: 'trinity-minus',\n                    remove_rule: 'trinity-minus',\n                    error: 'trinity-warning'\n                }\n            });\n\n            // Attach listener\n            this.unlistenSearch = _Events2.default.listen(this.__searchBtn, 'click', function (e) {\n                e.preventDefault();\n\n                if (!_this2.__builder.queryBuilder.validate()) {\n                    return false;\n                }\n                _this2.props.onSearch(createFilter(modifyRules(_this2.__builder.queryBuilder.getRules(), specialRules)));\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.unlistenSearch();\n            this.__builder.queryBuilder.destroy();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            return _react2.default.createElement(\n                'form',\n                { className: this.props.className, style: this.props.style },\n                _react2.default.createElement(\n                    'div',\n                    { ref: function ref(el) {\n                            return _this3.__builder = el;\n                        }, style: { textAlign: 'initial' } },\n                    'loading...'\n                )\n            );\n        }\n    }]);\n\n    return GridQueryBuilder;\n}(_react2.default.Component);\n\nexports.default = GridQueryBuilder;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9zZWFyY2gvR3JpZFF1ZXJ5QnVpbGRlci5qc3g/ZjdiZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogaHR0cDovL3F1ZXJ5YnVpbGRlci5qcy5vcmcvXG4gKi9cblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgJy4uLy4uLy4uL0V4dGVuc2lvbnMvRXh0ZW5kZWRRdWVyeUJ1aWxkZXInO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBFdmVudHMgZnJvbSAndHJpbml0eS91dGlscy9FdmVudHMnO1xuXG5jb25zdCBOVU1CRVJfTUFQID0ge1xuICAgICdlcXVhbCc6ICc9ICR7dmFsdWV9JyxcbiAgICAnbm90X2VxdWFsJzogJyE9ICR7dmFsdWV9JyxcbiAgICAnbGVzcyc6ICc8ICR7dmFsdWV9JyxcbiAgICAnbGVzc19vcl9lcXVhbCc6ICc8PSAke3ZhbHVlfScsXG4gICAgJ2dyZWF0ZXInOiAnPiAke3ZhbHVlfScsXG4gICAgJ2dyZWF0ZXJfb3JfZXF1YWwnOiAnPj0gJHt2YWx1ZX0nXG59O1xuXG5jb25zdCBFWFBSRVNTSU9OX1JYID0gL14oW15cXHMoPD49IV0rKVxccyooKD86Wzw+IV0/PXxbPD5dKXxMSUtFKVxccyooXFxcIlteXFwuXCIpXStcXFwifFteXFxzKV0rKS87XG5jb25zdCBBTkRfQ09ORElUSU9OX1JYID0gL1xccytBTkRcXHMrLztcbmNvbnN0IE9SX0NPTkRJVElPTl9SWCA9IC9cXHMrT1JcXHMrLztcbmNvbnN0IElTX1dSQVBQRURfUlggPSAvXlxcKC4qXFwpJC87XG5jb25zdCBSRU1PVkVfUVVPVEVTX1JYID0gL1teJ1wiXS4rW14nXCJdLztcbmNvbnN0IFJFTU9WRV9MSUtFX1NJR05fUlggPSAvW14lXCInXSsvO1xuXG5cbmNvbnN0IFZBTFVFX01BUCA9IHtcbiAgICAnaW50ZWdlcic6IE5VTUJFUl9NQVAsXG4gICAgJ2RvdWJsZSc6IE5VTUJFUl9NQVAsXG4gICAgJ3N0cmluZyc6IHtcbiAgICAgICAgJ2VxdWFsJzogJz0gXFxcIiR7dmFsdWV9XFxcIicsXG4gICAgICAgICdub3RfZXF1YWwnOiAnIT0gXFxcIiR7dmFsdWV9XFxcIicsXG4gICAgICAgICdjb250YWlucyc6ICdMSUtFIFxcXCIlJHt2YWx1ZX0lXFxcIicsXG4gICAgICAgICdiZWdpbnNfd2l0aCc6ICdMSUtFIFxcXCIke3ZhbHVlfSVcXFwiJyxcbiAgICAgICAgJ2VuZHNfd2l0aCc6ICdMSUtFIFxcXCIlJHt2YWx1ZX1cXFwiJ1xuICAgIH0sXG4gICAgJ2RhdGUnOiBOVU1CRVJfTUFQLFxuICAgICdib29sZWFuJzoge1xuICAgICAgICAnZXF1YWwnOiAnPSBcXFwiJHt2YWx1ZX1cXFwiJ1xuICAgIH0sXG4gICAgJ2FycmF5Jzoge1xuICAgICAgICAnaXMnOiAnTElLRSAlXFxcIiR7dmFsdWV9XFxcIiUnXG4gICAgfSxcbiAgICAnZW51bSc6IHtcbiAgICAgICAgJ2VxdWFsJzogJz0gXFxcIiR7dmFsdWV9XFxcIicsXG4gICAgICAgICdub3RfZXF1YWwnOiAnIT0gXFxcIiR7dmFsdWV9XFxcIicsXG4gICAgICAgICdjb250YWlucyc6ICdMSUtFIFxcXCIlJHt2YWx1ZX0lXFxcIicsXG4gICAgICAgICdiZWdpbnNfd2l0aCc6ICdMSUtFIFxcXCIke3ZhbHVlfSVcXFwiJyxcbiAgICAgICAgJ2VuZHNfd2l0aCc6ICdMSUtFIFxcXCIlJHt2YWx1ZX1cXFwiJ1xuICAgIH1cbn07XG5cblxuY29uc3QgUUJfT1BFUkFUT1JfTUFQID0ge1xuICAgICc9JzogJ2VxdWFsJyxcbiAgICAnIT0nOiAnbm90X2VxdWFsJyxcbiAgICAnPCc6ICdsZXNzJyxcbiAgICAnPD0nOiAnbGVzc19vcl9lcXVhbCcsXG4gICAgJz4nOiAnZ3JlYXRlcicsXG4gICAgJz49JzogJ2dyZWF0ZXJfb3JfZXF1YWwnXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVGaWx0ZXIoZmlsdGVyT2JqKSB7XG4gICAgcmV0dXJuIF8ubWFwKGZpbHRlck9iai5ydWxlcywgKHJ1bGUpID0+IHtcbiAgICAgICAgaWYgKHJ1bGUuY29uZGl0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gJygnICsgY3JlYXRlRmlsdGVyKHJ1bGUpICsgJyknO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2YWwgPSBWQUxVRV9NQVBbcnVsZS50eXBlXVtydWxlLm9wZXJhdG9yXS5yZXBsYWNlKCcke3ZhbHVlfScsIHJ1bGUudmFsdWUpO1xuICAgICAgICByZXR1cm4gW3J1bGUuaWQsIHZhbF0uam9pbignICcpO1xuICAgIH0pLmpvaW4oJyAnICsgZmlsdGVyT2JqLmNvbmRpdGlvbiArICcgJyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRmlsdGVyKGZpbHRlclN0ciwgc3BlY2lhbFJ1bGVzKSB7XG4gICAgbGV0IGNvdW50ZXIgPSAwLFxuICAgICAgICBkZWVwUnVsZXMgPSBbXSxcbiAgICAgICAgc3RhcnRJbmRleCA9IG51bGwsXG4gICAgICAgIHJ1bGVzID0gbnVsbCxcbiAgICAgICAgcnVsZXNPYmogPSB7XG4gICAgICAgICAgICBjb25kaXRpb246ICcnLFxuICAgICAgICAgICAgcnVsZXM6IG51bGxcbiAgICAgICAgfTtcblxuICAgIGxldCBwYXJzZWQgPSBfLm1hcChmaWx0ZXJTdHIsIChjLCBpKSA9PiB7XG4gICAgICAgIGlmIChjID09PSAnKCcpIHtcbiAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgICAgIGlmIChfLmlzTnVsbChzdGFydEluZGV4KSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICcpJykge1xuICAgICAgICAgICAgY291bnRlci0tO1xuICAgICAgICAgICAgaWYgKGNvdW50ZXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkZWVwUnVsZXMucHVzaChwYXJzZUZpbHRlcihmaWx0ZXJTdHIuc3Vic3RyaW5nKHN0YXJ0SW5kZXggKyAxLCBpKSkpO1xuICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3VudGVyID4gMCA/ICcqJyA6IGM7XG4gICAgfSkuam9pbignJyk7XG5cbiAgICBpZiAoQU5EX0NPTkRJVElPTl9SWC50ZXN0KHBhcnNlZCkgfHwgIU9SX0NPTkRJVElPTl9SWC50ZXN0KHBhcnNlZCkpIHtcbiAgICAgICAgcnVsZXMgPSBwYXJzZWQuc3BsaXQoQU5EX0NPTkRJVElPTl9SWCk7XG4gICAgICAgIHJ1bGVzT2JqLmNvbmRpdGlvbiA9ICdBTkQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJ1bGVzID0gcGFyc2VkLnNwbGl0KE9SX0NPTkRJVElPTl9SWCk7XG4gICAgICAgIHJ1bGVzT2JqLmNvbmRpdGlvbiA9ICdPUic7XG4gICAgfVxuXG4gICAgY291bnRlciA9IDA7XG4gICAgcnVsZXNPYmoucnVsZXMgPSBfLm1hcChydWxlcywgKGNvbmQpID0+IHtcblxuICAgICAgICBpZiAoSVNfV1JBUFBFRF9SWC50ZXN0KGNvbmQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVlcFJ1bGVzW2NvdW50ZXIrK107XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGV4cCA9IGNvbmQubWF0Y2goRVhQUkVTU0lPTl9SWCksXG4gICAgICAgICAgICBpZCA9IGV4cFsxXSxcbiAgICAgICAgICAgIG9wZXJhdG9yID0gZXhwWzJdLFxuICAgICAgICAgICAgdmFsdWUgPSBleHBbM10ubWF0Y2goUkVNT1ZFX1FVT1RFU19SWCk7XG5cbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAmJiB2YWx1ZVswXSB8fCBleHBbM107XG4gICAgICAgIGlmIChzcGVjaWFsUnVsZXNbaWRdLm5lY2t0aWUgJiYgc3BlY2lhbFJ1bGVzW2lkXS5uZWNrdGllLnVuaXgpIHtcbiAgICAgICAgICAgIHZhbHVlID0gKG5ldyB3aW5kb3cuRGF0ZUZvcm1hdHRlcigpKS5mb3JtYXREYXRlKG5ldyBEYXRlKHZhbHVlICogMTAwMCksIHNwZWNpYWxSdWxlc1tpZF0ucGx1Z2luLmZvcm1hdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlcmF0b3IgPT09ICdMSUtFJykge1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gdmFsdWUuaW5kZXhPZignJScpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIG9wZXJhdG9yID0gJ2NvbnRhaW5zJztcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcGVyYXRvciA9ICdiZWdpbnNfd2l0aCc7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yID0gJ2VuZHNfd2l0aCc7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXSA9PT0gJyUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvciA9ICdjb250YWlucyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbKGluZGV4ICsgMSldID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IgPSAnaXMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5tYXRjaChSRU1PVkVfTElLRV9TSUdOX1JYKVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wZXJhdG9yID0gUUJfT1BFUkFUT1JfTUFQW29wZXJhdG9yXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7aWQsIG9wZXJhdG9yLCB2YWx1ZX07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJ1bGVzT2JqO1xufVxuXG5mdW5jdGlvbiBtb2RpZnlSdWxlcyhydWxlcywgZmlsdGVycykge1xuICAgIGxldCBtb2RpZmllZCA9ICQuZXh0ZW5kKHt9LCBydWxlcyk7XG4gICAgXy5lYWNoKG1vZGlmaWVkLnJ1bGVzLCBydWxlID0+IHtcbiAgICAgICAgaWYgKGZpbHRlcnNbcnVsZS5pZF0ubmVja3RpZSAmJiBmaWx0ZXJzW3J1bGUuaWRdLm5lY2t0aWUudW5peCkge1xuICAgICAgICAgICAgbGV0IGRhdGUgPSAobmV3IHdpbmRvdy5EYXRlRm9ybWF0dGVyKCkpLnBhcnNlRGF0ZShydWxlLnZhbHVlLCBmaWx0ZXJzW3J1bGUuaWRdLnBsdWdpbi5mb3JtYXQpLFxuICAgICAgICAgICAgICAgIHRpbWVab25lID0gLWRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwOyAvL2luIHNlY29uZHMgKGRvIG5vdCByZW1vdmUgLSlcblxuICAgICAgICAgICAgcnVsZS52YWx1ZSA9IE1hdGguZmxvb3IoKGRhdGUuZ2V0VGltZSgpIC8gMTAwMCkpICsgdGltZVpvbmU7XG4gICAgICAgIH0gZWxzZSBpZiAocnVsZS50eXBlID09PSAnZGF0ZScpIHtcbiAgICAgICAgICAgIHJ1bGUudmFsdWUgPSBgXCIke3J1bGUudmFsdWV9XCJgO1xuICAgICAgICB9ZWxzZSBpZiAoXG4gICAgICAgICAgICAocnVsZS52YWx1ZVswXSA9PT0gJ1xcXCInICYmIHJ1bGUudmFsdWVbcnVsZS52YWx1ZS5sZW5ndGggLSAxXSA9PT0gJ1xcXCInKSB8fFxuICAgICAgICAgICAgKHJ1bGUudmFsdWVbMF0gPT09ICdcXCcnICYmIHJ1bGUudmFsdWVbcnVsZS52YWx1ZS5sZW5ndGggLSAxXSA9PT0gJ1xcJycpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcnVsZS52YWx1ZSA9IHJ1bGUudmFsdWUuc3Vic3RyaW5nKDEsIHJ1bGUudmFsdWUubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuICAgIHJldHVybiBtb2RpZmllZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZFF1ZXJ5QnVpbGRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGxldCBzcGVjaWFsUnVsZXMgPSB7fTtcbiAgICAgICAgXy5lYWNoKHRoaXMucHJvcHMucnVsZXMsIHIgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHNwZWNpYWxSdWxlc1tyLmlkXSA9IHtwbHVnaW46IHIucGx1Z2luX2NvbmZpZywgbmVja3RpZTogci5uZWNrdGllX2NvbmZpZ307XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBpbml0aWFsUnVsZXMgPSB0aGlzLnByb3BzLmZpbHRlciA/IHBhcnNlRmlsdGVyKHRoaXMucHJvcHMuZmlsdGVyLCBzcGVjaWFsUnVsZXMpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIENsZWFyIGVsZW1lbnRcbiAgICAgICAgdGhpcy5fX2J1aWxkZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIC8vIEF0dGFjaCBxdWVyeSBidWlsZGVyXG4gICAgICAgICQodGhpcy5fX2J1aWxkZXIpLnF1ZXJ5QnVpbGRlcih7XG4gICAgICAgICAgICBmaWx0ZXJzOiB0aGlzLnByb3BzLnJ1bGVzLFxuICAgICAgICAgICAgcnVsZXM6IGluaXRpYWxSdWxlcyxcbiAgICAgICAgICAgIG9wZXJhdG9yczogW1xuICAgICAgICAgICAgICAgICdlcXVhbCcsICdub3RfZXF1YWwnLFxuICAgICAgICAgICAgICAgICdsZXNzJywgJ2xlc3Nfb3JfZXF1YWwnLFxuICAgICAgICAgICAgICAgICdncmVhdGVyJywgJ2dyZWF0ZXJfb3JfZXF1YWwnLFxuICAgICAgICAgICAgICAgICdjb250YWlucycsICdiZWdpbnNfd2l0aCcsICdlbmRzX3dpdGgnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2lzJyxcbiAgICAgICAgICAgICAgICAgICAgbmJfaW5wdXRzOiAxLFxuICAgICAgICAgICAgICAgICAgICBhcHBseV90bzogWydhcnJheSddXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGljb25zOiB7XG4gICAgICAgICAgICAgICAgYWRkX2dyb3VwOiAndHJpbml0eS1wbHVzJyxcbiAgICAgICAgICAgICAgICBhZGRfcnVsZTogJ3RyaW5pdHktcGx1cycsXG4gICAgICAgICAgICAgICAgcmVtb3ZlX2dyb3VwOiAndHJpbml0eS1taW51cycsXG4gICAgICAgICAgICAgICAgcmVtb3ZlX3J1bGU6ICd0cmluaXR5LW1pbnVzJyxcbiAgICAgICAgICAgICAgICBlcnJvcjogJ3RyaW5pdHktd2FybmluZydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQXR0YWNoIGxpc3RlbmVyXG4gICAgICAgIHRoaXMudW5saXN0ZW5TZWFyY2ggPSBFdmVudHMubGlzdGVuKHRoaXMuX19zZWFyY2hCdG4sICdjbGljaycsXG4gICAgICAgICAgICAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fX2J1aWxkZXIucXVlcnlCdWlsZGVyLnZhbGlkYXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uU2VhcmNoKGNyZWF0ZUZpbHRlcihtb2RpZnlSdWxlcyh0aGlzLl9fYnVpbGRlci5xdWVyeUJ1aWxkZXIuZ2V0UnVsZXMoKSwgc3BlY2lhbFJ1bGVzKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICB0aGlzLnVubGlzdGVuU2VhcmNoKCk7XG4gICAgICAgIHRoaXMuX19idWlsZGVyLnF1ZXJ5QnVpbGRlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGZvcm0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0gc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9PlxuICAgICAgICAgICAgICAgIDxkaXYgcmVmPXtlbCA9PiB0aGlzLl9fYnVpbGRlciA9IGVsfSBzdHlsZT17e3RleHRBbGlnbjogJ2luaXRpYWwnfX0+XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmcuLi5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7Lyo8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmctMTBcIj4qL31cbiAgICAgICAgICAgICAgICAgICAgey8qPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3NOYW1lPVwiYnV0dG9uLW1lZGl1bSBidXR0b24tc2VhcmNoXCIgcmVmPXtlbCA9PiB0aGlzLl9fc2VhcmNoQnRuID0gZWx9PiovfVxuICAgICAgICAgICAgICAgICAgICAgICAgey8qQWR2YW5jZWQgc2VhcmNoKi99XG4gICAgICAgICAgICAgICAgICAgICAgICB7Lyo8aSBjbGFzc05hbWU9XCJ0cmluaXR5LXNlYXJjaCBwdWxsLXJpZ2h0XCIvPiovfVxuICAgICAgICAgICAgICAgICAgICB7Lyo8L2J1dHRvbj4qL31cbiAgICAgICAgICAgICAgICAgICAgey8qeyB0aGlzLnByb3BzLm9uQ2xvc2UgPyovfVxuICAgICAgICAgICAgICAgICAgICAgICAgey8qPGEgY2xhc3NOYW1lPVwiYnV0dG9uLXNtYWxsXCIgb25DbGljaz17dGhpcy5wcm9wcy5vbkNsb3NlfT4qL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LypDbG9zZSovfVxuICAgICAgICAgICAgICAgICAgICAgICAgey8qPC9hPiA6IGZhbHNlKi99XG4gICAgICAgICAgICAgICAgICAgIHsvKn0qL31cbiAgICAgICAgICAgICAgICB7Lyo8L2Rpdj4qL31cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9zZWFyY2gvR3JpZFF1ZXJ5QnVpbGRlci5qc3giXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQUlBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBakJBO0FBQ0E7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFkQTtBQUNBO0FBc0JBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQWlCQTs7OztBQXhFQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 515:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\n__webpack_require__(516);\n\n__webpack_require__(517);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar QueryBuilder = _jquery2.default.fn.queryBuilder.constructor;\n\nvar types = {\n  'number': 'string',\n  'enum': 'string',\n  'array': 'string'\n};\n\nQueryBuilder.types = _lodash2.default.extend(QueryBuilder.types, types);\n\nQueryBuilder.templates.group = '\\\n<dl id=\"{{= it.group_id }}\" class=\"rules-group-container\"> \\\n  <dt class=\"rules-group-header\"> \\\n    <div class=\"btn-group pull-right group-actions\"> \\\n      <button type=\"button\" class=\"btn btn-xs btn-success button button-small button-primary margin-none-all\" data-add=\"rule\"> \\\n        <i class=\"{{= it.icons.add_rule }}\"></i> {{= it.lang.add_rule }} \\\n      </button> \\\n      {{? it.settings.allow_groups===-1 || it.settings.allow_groups>=it.level }} \\\n        <button type=\"button\" class=\"btn btn-xs btn-success button button-small button-primary margin-none-all\" data-add=\"group\"> \\\n          <i class=\"{{= it.icons.add_group }}\"></i> {{= it.lang.add_group }} \\\n        </button> \\\n      {{?}} \\\n      {{? it.level>1 }} \\\n        <button type=\"button\" class=\"btn btn-xs btn-danger button button-small button-danger margin-none-all\" data-delete=\"group\"> \\\n          <i class=\"{{= it.icons.remove_group }} padding-right-5\"></i> {{= it.lang.delete_group }} \\\n        </button> \\\n      {{?}} \\\n    </div> \\\n    <div class=\"btn-group group-conditions\"> \\\n      {{~ it.conditions: condition }} \\\n        <label class=\"btn btn-xs btn-primary\"> \\\n          <input type=\"radio\" name=\"{{= it.group_id }}_cond\" value=\"{{= condition }}\"> {{= it.lang.conditions[condition] || condition }} \\\n        </label> \\\n      {{~}} \\\n    </div> \\\n    {{? it.settings.display_errors }} \\\n      <div class=\"error-container\"><i class=\"{{= it.icons.error }}\"></i></div> \\\n    {{?}} \\\n  </dt> \\\n  <dd class=rules-group-body> \\\n    <ul class=rules-list></ul> \\\n  </dd> \\\n</dl>';\n\nQueryBuilder.templates.rule = '\\\n<li id=\"{{= it.rule_id }}\" class=\"rule-container\"> \\\n  <div class=\"rule-header\"> \\\n    <div class=\"btn-group pull-right rule-actions\"> \\\n      <button type=\"button\" class=\"btn btn-xs btn-danger button-small\" data-delete=\"rule\"> \\\n        <i class=\"{{= it.icons.remove_rule }} padding-right-5\"></i> {{= it.lang.delete_rule }} \\\n      </button> \\\n    </div> \\\n  </div> \\\n  {{? it.settings.display_errors }} \\\n    <div class=\"error-container\"><i class=\"{{= it.icons.error }}\"></i></div> \\\n  {{?}} \\\n  <div class=\"rule-filter-container\"></div> \\\n  <div class=\"rule-operator-container\"></div> \\\n  <div class=\"rule-value-container\"></div> \\\n</li>';\n\nQueryBuilder.templates.filterSelect = '\\\n{{ var optgroup = null; }} \\\n<div class=\"select-style form-control edit-form\">\\\n<select class=\"form-control\" name=\"{{= it.rule.id }}_filter\"> \\\n  {{? it.settings.display_empty_filter }} \\\n    <option value=\"-1\">{{= it.settings.select_placeholder }}</option> \\\n  {{?}} \\\n  {{~ it.filters: filter }} \\\n    {{? optgroup !== filter.optgroup }} \\\n      {{? optgroup !== null }}</optgroup>{{?}} \\\n      {{? (optgroup = filter.optgroup) !== null }} \\\n        <optgroup label=\"{{= it.translate(it.settings.optgroups[optgroup]) }}\"> \\\n      {{?}} \\\n    {{?}} \\\n    <option value=\"{{= filter.id }}\">{{= it.translate(filter.label) }}</option> \\\n  {{~}} \\\n  {{? optgroup !== null }}</optgroup>{{?}} \\\n</select>\\\n</div>';\n\nQueryBuilder.templates.operatorSelect = '\\\n{{ var optgroup = null; }} \\\n<div class=\"select-style form-control edit-form\">\\\n<select class=\"form-control\" name=\"{{= it.rule.id }}_operator\"> \\\n  {{~ it.operators: operator }} \\\n    {{? optgroup !== operator.optgroup }} \\\n      {{? optgroup !== null }}</optgroup>{{?}} \\\n      {{? (optgroup = operator.optgroup) !== null }} \\\n        <optgroup label=\"{{= it.translate(it.settings.optgroups[optgroup]) }}\"> \\\n      {{?}} \\\n    {{?}} \\\n    <option value=\"{{= operator.type }}\">{{= it.lang.operators[operator.type] || operator.type }}</option> \\\n  {{~}} \\\n  {{? optgroup !== null }}</optgroup>{{?}} \\\n</select>\\\n</div>';\n\nexports.default = QueryBuilder;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0V4dGVuc2lvbnMvRXh0ZW5kZWRRdWVyeUJ1aWxkZXIuanM/OTY1MyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0ICcuLi8uLi9saWIvcXVlcnktYnVpbGRlci4yLjQuanMnO1xuaW1wb3J0ICcuLi8uLi9saWIvcXVlcnktYnVpbGRlci5jc3MnO1xuXG5jb25zdCBRdWVyeUJ1aWxkZXIgPSAkLmZuLnF1ZXJ5QnVpbGRlci5jb25zdHJ1Y3RvcjtcblxubGV0IHR5cGVzID0ge1xuICAgICdudW1iZXInOiAnc3RyaW5nJyxcbiAgICAnZW51bSc6ICdzdHJpbmcnLFxuICAgICdhcnJheSc6ICdzdHJpbmcnXG59O1xuXG5RdWVyeUJ1aWxkZXIudHlwZXMgPSBfLmV4dGVuZChRdWVyeUJ1aWxkZXIudHlwZXMsIHR5cGVzKTtcblxuUXVlcnlCdWlsZGVyLnRlbXBsYXRlcy5ncm91cCA9ICdcXFxuPGRsIGlkPVwie3s9IGl0Lmdyb3VwX2lkIH19XCIgY2xhc3M9XCJydWxlcy1ncm91cC1jb250YWluZXJcIj4gXFxcbiAgPGR0IGNsYXNzPVwicnVsZXMtZ3JvdXAtaGVhZGVyXCI+IFxcXG4gICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBwdWxsLXJpZ2h0IGdyb3VwLWFjdGlvbnNcIj4gXFxcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2VzcyBidXR0b24gYnV0dG9uLXNtYWxsIGJ1dHRvbi1wcmltYXJ5IG1hcmdpbi1ub25lLWFsbFwiIGRhdGEtYWRkPVwicnVsZVwiPiBcXFxuICAgICAgICA8aSBjbGFzcz1cInt7PSBpdC5pY29ucy5hZGRfcnVsZSB9fVwiPjwvaT4ge3s9IGl0LmxhbmcuYWRkX3J1bGUgfX0gXFxcbiAgICAgIDwvYnV0dG9uPiBcXFxuICAgICAge3s/IGl0LnNldHRpbmdzLmFsbG93X2dyb3Vwcz09PS0xIHx8IGl0LnNldHRpbmdzLmFsbG93X2dyb3Vwcz49aXQubGV2ZWwgfX0gXFxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1zdWNjZXNzIGJ1dHRvbiBidXR0b24tc21hbGwgYnV0dG9uLXByaW1hcnkgbWFyZ2luLW5vbmUtYWxsXCIgZGF0YS1hZGQ9XCJncm91cFwiPiBcXFxuICAgICAgICAgIDxpIGNsYXNzPVwie3s9IGl0Lmljb25zLmFkZF9ncm91cCB9fVwiPjwvaT4ge3s9IGl0LmxhbmcuYWRkX2dyb3VwIH19IFxcXG4gICAgICAgIDwvYnV0dG9uPiBcXFxuICAgICAge3s/fX0gXFxcbiAgICAgIHt7PyBpdC5sZXZlbD4xIH19IFxcXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tZGFuZ2VyIGJ1dHRvbiBidXR0b24tc21hbGwgYnV0dG9uLWRhbmdlciBtYXJnaW4tbm9uZS1hbGxcIiBkYXRhLWRlbGV0ZT1cImdyb3VwXCI+IFxcXG4gICAgICAgICAgPGkgY2xhc3M9XCJ7ez0gaXQuaWNvbnMucmVtb3ZlX2dyb3VwIH19IHBhZGRpbmctcmlnaHQtNVwiPjwvaT4ge3s9IGl0LmxhbmcuZGVsZXRlX2dyb3VwIH19IFxcXG4gICAgICAgIDwvYnV0dG9uPiBcXFxuICAgICAge3s/fX0gXFxcbiAgICA8L2Rpdj4gXFxcbiAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIGdyb3VwLWNvbmRpdGlvbnNcIj4gXFxcbiAgICAgIHt7fiBpdC5jb25kaXRpb25zOiBjb25kaXRpb24gfX0gXFxcbiAgICAgICAgPGxhYmVsIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tcHJpbWFyeVwiPiBcXFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwie3s9IGl0Lmdyb3VwX2lkIH19X2NvbmRcIiB2YWx1ZT1cInt7PSBjb25kaXRpb24gfX1cIj4ge3s9IGl0LmxhbmcuY29uZGl0aW9uc1tjb25kaXRpb25dIHx8IGNvbmRpdGlvbiB9fSBcXFxuICAgICAgICA8L2xhYmVsPiBcXFxuICAgICAge3t+fX0gXFxcbiAgICA8L2Rpdj4gXFxcbiAgICB7ez8gaXQuc2V0dGluZ3MuZGlzcGxheV9lcnJvcnMgfX0gXFxcbiAgICAgIDxkaXYgY2xhc3M9XCJlcnJvci1jb250YWluZXJcIj48aSBjbGFzcz1cInt7PSBpdC5pY29ucy5lcnJvciB9fVwiPjwvaT48L2Rpdj4gXFxcbiAgICB7ez99fSBcXFxuICA8L2R0PiBcXFxuICA8ZGQgY2xhc3M9cnVsZXMtZ3JvdXAtYm9keT4gXFxcbiAgICA8dWwgY2xhc3M9cnVsZXMtbGlzdD48L3VsPiBcXFxuICA8L2RkPiBcXFxuPC9kbD4nO1xuXG5cblF1ZXJ5QnVpbGRlci50ZW1wbGF0ZXMucnVsZSA9ICdcXFxuPGxpIGlkPVwie3s9IGl0LnJ1bGVfaWQgfX1cIiBjbGFzcz1cInJ1bGUtY29udGFpbmVyXCI+IFxcXG4gIDxkaXYgY2xhc3M9XCJydWxlLWhlYWRlclwiPiBcXFxuICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgcHVsbC1yaWdodCBydWxlLWFjdGlvbnNcIj4gXFxcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tZGFuZ2VyIGJ1dHRvbi1zbWFsbFwiIGRhdGEtZGVsZXRlPVwicnVsZVwiPiBcXFxuICAgICAgICA8aSBjbGFzcz1cInt7PSBpdC5pY29ucy5yZW1vdmVfcnVsZSB9fSBwYWRkaW5nLXJpZ2h0LTVcIj48L2k+IHt7PSBpdC5sYW5nLmRlbGV0ZV9ydWxlIH19IFxcXG4gICAgICA8L2J1dHRvbj4gXFxcbiAgICA8L2Rpdj4gXFxcbiAgPC9kaXY+IFxcXG4gIHt7PyBpdC5zZXR0aW5ncy5kaXNwbGF5X2Vycm9ycyB9fSBcXFxuICAgIDxkaXYgY2xhc3M9XCJlcnJvci1jb250YWluZXJcIj48aSBjbGFzcz1cInt7PSBpdC5pY29ucy5lcnJvciB9fVwiPjwvaT48L2Rpdj4gXFxcbiAge3s/fX0gXFxcbiAgPGRpdiBjbGFzcz1cInJ1bGUtZmlsdGVyLWNvbnRhaW5lclwiPjwvZGl2PiBcXFxuICA8ZGl2IGNsYXNzPVwicnVsZS1vcGVyYXRvci1jb250YWluZXJcIj48L2Rpdj4gXFxcbiAgPGRpdiBjbGFzcz1cInJ1bGUtdmFsdWUtY29udGFpbmVyXCI+PC9kaXY+IFxcXG48L2xpPic7XG5cblF1ZXJ5QnVpbGRlci50ZW1wbGF0ZXMuZmlsdGVyU2VsZWN0ID0gJ1xcXG57eyB2YXIgb3B0Z3JvdXAgPSBudWxsOyB9fSBcXFxuPGRpdiBjbGFzcz1cInNlbGVjdC1zdHlsZSBmb3JtLWNvbnRyb2wgZWRpdC1mb3JtXCI+XFxcbjxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwie3s9IGl0LnJ1bGUuaWQgfX1fZmlsdGVyXCI+IFxcXG4gIHt7PyBpdC5zZXR0aW5ncy5kaXNwbGF5X2VtcHR5X2ZpbHRlciB9fSBcXFxuICAgIDxvcHRpb24gdmFsdWU9XCItMVwiPnt7PSBpdC5zZXR0aW5ncy5zZWxlY3RfcGxhY2Vob2xkZXIgfX08L29wdGlvbj4gXFxcbiAge3s/fX0gXFxcbiAge3t+IGl0LmZpbHRlcnM6IGZpbHRlciB9fSBcXFxuICAgIHt7PyBvcHRncm91cCAhPT0gZmlsdGVyLm9wdGdyb3VwIH19IFxcXG4gICAgICB7ez8gb3B0Z3JvdXAgIT09IG51bGwgfX08L29wdGdyb3VwPnt7P319IFxcXG4gICAgICB7ez8gKG9wdGdyb3VwID0gZmlsdGVyLm9wdGdyb3VwKSAhPT0gbnVsbCB9fSBcXFxuICAgICAgICA8b3B0Z3JvdXAgbGFiZWw9XCJ7ez0gaXQudHJhbnNsYXRlKGl0LnNldHRpbmdzLm9wdGdyb3Vwc1tvcHRncm91cF0pIH19XCI+IFxcXG4gICAgICB7ez99fSBcXFxuICAgIHt7P319IFxcXG4gICAgPG9wdGlvbiB2YWx1ZT1cInt7PSBmaWx0ZXIuaWQgfX1cIj57ez0gaXQudHJhbnNsYXRlKGZpbHRlci5sYWJlbCkgfX08L29wdGlvbj4gXFxcbiAge3t+fX0gXFxcbiAge3s/IG9wdGdyb3VwICE9PSBudWxsIH19PC9vcHRncm91cD57ez99fSBcXFxuPC9zZWxlY3Q+XFxcbjwvZGl2Pic7XG5cblF1ZXJ5QnVpbGRlci50ZW1wbGF0ZXMub3BlcmF0b3JTZWxlY3QgPSAnXFxcbnt7IHZhciBvcHRncm91cCA9IG51bGw7IH19IFxcXG48ZGl2IGNsYXNzPVwic2VsZWN0LXN0eWxlIGZvcm0tY29udHJvbCBlZGl0LWZvcm1cIj5cXFxuPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJ7ez0gaXQucnVsZS5pZCB9fV9vcGVyYXRvclwiPiBcXFxuICB7e34gaXQub3BlcmF0b3JzOiBvcGVyYXRvciB9fSBcXFxuICAgIHt7PyBvcHRncm91cCAhPT0gb3BlcmF0b3Iub3B0Z3JvdXAgfX0gXFxcbiAgICAgIHt7PyBvcHRncm91cCAhPT0gbnVsbCB9fTwvb3B0Z3JvdXA+e3s/fX0gXFxcbiAgICAgIHt7PyAob3B0Z3JvdXAgPSBvcGVyYXRvci5vcHRncm91cCkgIT09IG51bGwgfX0gXFxcbiAgICAgICAgPG9wdGdyb3VwIGxhYmVsPVwie3s9IGl0LnRyYW5zbGF0ZShpdC5zZXR0aW5ncy5vcHRncm91cHNbb3B0Z3JvdXBdKSB9fVwiPiBcXFxuICAgICAge3s/fX0gXFxcbiAgICB7ez99fSBcXFxuICAgIDxvcHRpb24gdmFsdWU9XCJ7ez0gb3BlcmF0b3IudHlwZSB9fVwiPnt7PSBpdC5sYW5nLm9wZXJhdG9yc1tvcGVyYXRvci50eXBlXSB8fCBvcGVyYXRvci50eXBlIH19PC9vcHRpb24+IFxcXG4gIHt7fn19IFxcXG4gIHt7PyBvcHRncm91cCAhPT0gbnVsbCB9fTwvb3B0Z3JvdXA+e3s/fX0gXFxcbjwvc2VsZWN0PlxcXG48L2Rpdj4nO1xuXG5leHBvcnQgZGVmYXVsdCBRdWVyeUJ1aWxkZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0V4dGVuc2lvbnMvRXh0ZW5kZWRRdWVyeUJ1aWxkZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQWtDQTs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQWdCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQW1CQTs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQWdCQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 516:
/***/ function(module, exports, __webpack_require__) {

	eval("/*!\n * jQuery.extendext 0.1.2\n *\n * Copyright 2014-2016 Damien \"Mistic\" Sorel (http://www.strangeplanet.fr)\n * Licensed under MIT (http://opensource.org/licenses/MIT)\n * \n * Based on jQuery.extend by jQuery Foundation, Inc. and other contributors\n */\n\n/**\n * @note It is highly modified from original version\n */\nvar $ = __webpack_require__(26);\n\n(function (root, factory) {\n    factory($);\n}(this, function ($) {\n    \"use strict\";\n\n    $.extendext = function () {\n        var options, name, src, copy, copyIsArray, clone,\n            target = arguments[0] || {},\n            i = 1,\n            length = arguments.length,\n            deep = false,\n            arrayMode = 'default';\n\n        // Handle a deep copy situation\n        if (typeof target === \"boolean\") {\n            deep = target;\n\n            // Skip the boolean and the target\n            target = arguments[i++] || {};\n        }\n\n        // Handle array mode parameter\n        if (typeof target === \"string\") {\n            arrayMode = target.toLowerCase();\n            if (arrayMode !== 'concat' && arrayMode !== 'replace' && arrayMode !== 'extend') {\n                arrayMode = 'default';\n            }\n\n            // Skip the string param\n            target = arguments[i++] || {};\n        }\n\n        // Handle case when target is a string or something (possible in deep copy)\n        if (typeof target !== \"object\" && !$.isFunction(target)) {\n            target = {};\n        }\n\n        // Extend jQuery itself if only one argument is passed\n        if (i === length) {\n            target = this;\n            i--;\n        }\n\n        for (; i < length; i++) {\n            // Only deal with non-null/undefined values\n            if ((options = arguments[i]) !== null) {\n                // Special operations for arrays\n                if ($.isArray(options) && arrayMode !== 'default') {\n                    clone = target && $.isArray(target) ? target : [];\n\n                    switch (arrayMode) {\n                    case 'concat':\n                        target = clone.concat($.extend(deep, [], options));\n                        break;\n\n                    case 'replace':\n                        target = $.extend(deep, [], options);\n                        break;\n\n                    case 'extend':\n                        options.forEach(function (e, i) {\n                            if (typeof e === 'object') {\n                                var type = $.isArray(e) ? [] : {};\n                                clone[i] = $.extendext(deep, arrayMode, clone[i] || type, e);\n\n                            } else if (clone.indexOf(e) === -1) {\n                                clone.push(e);\n                            }\n                        });\n\n                        target = clone;\n                        break;\n                    }\n\n                } else {\n                    // Extend the base object\n                    for (name in options) {\n                        src = target[name];\n                        copy = options[name];\n\n                        // Prevent never-ending loop\n                        if (target === copy) {\n                            continue;\n                        }\n\n                        // Recurse if we're merging plain objects or arrays\n                        if (deep && copy && ( $.isPlainObject(copy) ||\n                            (copyIsArray = $.isArray(copy)) )) {\n\n                            if (copyIsArray) {\n                                copyIsArray = false;\n                                clone = src && $.isArray(src) ? src : [];\n\n                            } else {\n                                clone = src && $.isPlainObject(src) ? src : {};\n                            }\n\n                            // Never move original objects, clone them\n                            target[name] = $.extendext(deep, arrayMode, clone, copy);\n\n                            // Don't bring in undefined values\n                        } else if (copy !== undefined) {\n                            target[name] = copy;\n                        }\n                    }\n                }\n            }\n        }\n\n        // Return the modified object\n        return target;\n    };\n}));\n\n// doT.js\n// 2011-2014, Laura Doktorova, https://github.com/olado/doT\n// Licensed under the MIT license.\n\nvar GLOBALS = {\n    jQuery: $,\n    $: $\n};\n\n(function() {\n\t\"use strict\";\n\n\tvar doT = {\n\t\tversion: \"1.0.3\",\n\t\ttemplateSettings: {\n\t\t\tevaluate:    /\\{\\{([\\s\\S]+?(\\}?)+)\\}\\}/g,\n\t\t\tinterpolate: /\\{\\{=([\\s\\S]+?)\\}\\}/g,\n\t\t\tencode:      /\\{\\{!([\\s\\S]+?)\\}\\}/g,\n\t\t\tuse:         /\\{\\{#([\\s\\S]+?)\\}\\}/g,\n\t\t\tuseParams:   /(^|[^\\w$])def(?:\\.|\\[[\\'\\\"])([\\w$\\.]+)(?:[\\'\\\"]\\])?\\s*\\:\\s*([\\w$\\.]+|\\\"[^\\\"]+\\\"|\\'[^\\']+\\'|\\{[^\\}]+\\})/g,\n\t\t\tdefine:      /\\{\\{##\\s*([\\w\\.$]+)\\s*(\\:|=)([\\s\\S]+?)#\\}\\}/g,\n\t\t\tdefineParams:/^\\s*([\\w$]+):([\\s\\S]+)/,\n\t\t\tconditional: /\\{\\{\\?(\\?)?\\s*([\\s\\S]*?)\\s*\\}\\}/g,\n\t\t\titerate:     /\\{\\{~\\s*(?:\\}\\}|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+))?\\s*\\}\\})/g,\n\t\t\tvarname:\t\"it\",\n\t\t\tstrip:\t\ttrue,\n\t\t\tappend:\t\ttrue,\n\t\t\tselfcontained: false,\n\t\t\tdoNotSkipEncoded: false\n\t\t},\n\t\ttemplate: undefined, //fn, compile template\n\t\tcompile:  undefined, //fn, for express\n\t\tlog: true\n\t}, _globals;\n\n\tdoT.encodeHTMLSource = function(doNotSkipEncoded) {\n\t\tvar encodeHTMLRules = { \"&\": \"&#38;\", \"<\": \"&#60;\", \">\": \"&#62;\", '\"': \"&#34;\", \"'\": \"&#39;\", \"/\": \"&#47;\" },\n\t\t\tmatchHTML = doNotSkipEncoded ? /[&<>\"'\\/]/g : /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\t\treturn function(code) {\n\t\t\treturn code ? code.toString().replace(matchHTML, function(m) {return encodeHTMLRules[m] || m;}) : \"\";\n\t\t};\n\t};\n\n\t// _globals = (function(){ return this || (0,eval)(\"this\"); }());\n    //\n\t// if (typeof module !== \"undefined\" && module.exports) {\n\t// \tmodule.exports = doT;\n\t// } else if (typeof define === \"function\" && define.amd) {\n\t// \tdefine('doT', function(){return doT;});\n\t// } else {\n\t// \t_globals.doT = doT;\n\t// }\n\n    GLOBALS.doT = doT;\n\n\tvar startend = {\n\t\tappend: { start: \"'+(\",      end: \")+'\",      startencode: \"'+encodeHTML(\" },\n\t\tsplit:  { start: \"';out+=(\", end: \");out+='\", startencode: \"';out+=encodeHTML(\" }\n\t}, skip = /$^/;\n\n\tfunction resolveDefs(c, block, def) {\n\t\treturn ((typeof block === \"string\") ? block : block.toString())\n\t\t.replace(c.define || skip, function(m, code, assign, value) {\n\t\t\tif (code.indexOf(\"def.\") === 0) {\n\t\t\t\tcode = code.substring(4);\n\t\t\t}\n\t\t\tif (!(code in def)) {\n\t\t\t\tif (assign === \":\") {\n\t\t\t\t\tif (c.defineParams) value.replace(c.defineParams, function(m, param, v) {\n\t\t\t\t\t\tdef[code] = {arg: param, text: v};\n\t\t\t\t\t});\n\t\t\t\t\tif (!(code in def)) def[code]= value;\n\t\t\t\t} else {\n\t\t\t\t\tnew Function(\"def\", \"def['\"+code+\"']=\" + value)(def);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn \"\";\n\t\t})\n\t\t.replace(c.use || skip, function(m, code) {\n\t\t\tif (c.useParams) code = code.replace(c.useParams, function(m, s, d, param) {\n\t\t\t\tif (def[d] && def[d].arg && param) {\n\t\t\t\t\tvar rw = (d+\":\"+param).replace(/'|\\\\/g, \"_\");\n\t\t\t\t\tdef.__exp = def.__exp || {};\n\t\t\t\t\tdef.__exp[rw] = def[d].text.replace(new RegExp(\"(^|[^\\\\w$])\" + def[d].arg + \"([^\\\\w$])\", \"g\"), \"$1\" + param + \"$2\");\n\t\t\t\t\treturn s + \"def.__exp['\"+rw+\"']\";\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar v = new Function(\"def\", \"return \" + code)(def);\n\t\t\treturn v ? resolveDefs(c, v, def) : v;\n\t\t});\n\t}\n\n\tfunction unescape(code) {\n\t\treturn code.replace(/\\\\('|\\\\)/g, \"$1\").replace(/[\\r\\t\\n]/g, \" \");\n\t}\n\n\tdoT.template = function(tmpl, c, def) {\n\t\tc = c || doT.templateSettings;\n\t\tvar cse = c.append ? startend.append : startend.split, needhtmlencode, sid = 0, indv,\n\t\t\tstr  = (c.use || c.define) ? resolveDefs(c, tmpl, def || {}) : tmpl;\n\n\t\tstr = (\"var out='\" + (c.strip ? str.replace(/(^|\\r|\\n)\\t* +| +\\t*(\\r|\\n|$)/g,\" \")\n\t\t\t\t\t.replace(/\\r|\\n|\\t|\\/\\*[\\s\\S]*?\\*\\//g,\"\"): str)\n\t\t\t.replace(/'|\\\\/g, \"\\\\$&\")\n\t\t\t.replace(c.interpolate || skip, function(m, code) {\n\t\t\t\treturn cse.start + unescape(code) + cse.end;\n\t\t\t})\n\t\t\t.replace(c.encode || skip, function(m, code) {\n\t\t\t\tneedhtmlencode = true;\n\t\t\t\treturn cse.startencode + unescape(code) + cse.end;\n\t\t\t})\n\t\t\t.replace(c.conditional || skip, function(m, elsecase, code) {\n\t\t\t\treturn elsecase ?\n\t\t\t\t\t(code ? \"';}else if(\" + unescape(code) + \"){out+='\" : \"';}else{out+='\") :\n\t\t\t\t\t(code ? \"';if(\" + unescape(code) + \"){out+='\" : \"';}out+='\");\n\t\t\t})\n\t\t\t.replace(c.iterate || skip, function(m, iterate, vname, iname) {\n\t\t\t\tif (!iterate) return \"';} } out+='\";\n\t\t\t\tsid+=1; indv=iname || \"i\"+sid; iterate=unescape(iterate);\n\t\t\t\treturn \"';var arr\"+sid+\"=\"+iterate+\";if(arr\"+sid+\"){var \"+vname+\",\"+indv+\"=-1,l\"+sid+\"=arr\"+sid+\".length-1;while(\"+indv+\"<l\"+sid+\"){\"\n\t\t\t\t\t+vname+\"=arr\"+sid+\"[\"+indv+\"+=1];out+='\";\n\t\t\t})\n\t\t\t.replace(c.evaluate || skip, function(m, code) {\n\t\t\t\treturn \"';\" + unescape(code) + \"out+='\";\n\t\t\t})\n\t\t\t+ \"';return out;\")\n\t\t\t.replace(/\\n/g, \"\\\\n\").replace(/\\t/g, '\\\\t').replace(/\\r/g, \"\\\\r\")\n\t\t\t.replace(/(\\s|;|\\}|^|\\{)out\\+='';/g, '$1').replace(/\\+''/g, \"\");\n\t\t\t//.replace(/(\\s|;|\\}|^|\\{)out\\+=''\\+/g,'$1out+=');\n\n\t\tif (needhtmlencode) {\n\t\t\tif (!c.selfcontained && _globals && !_globals._encodeHTML) _globals._encodeHTML = doT.encodeHTMLSource(c.doNotSkipEncoded);\n\t\t\tstr = \"var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : (\"\n\t\t\t\t+ doT.encodeHTMLSource.toString() + \"(\" + (c.doNotSkipEncoded || '') + \"));\"\n\t\t\t\t+ str;\n\t\t}\n\t\ttry {\n\t\t\treturn new Function(c.varname, str);\n\t\t} catch (e) {\n\t\t\tif (typeof console !== \"undefined\") console.log(\"Could not create a template function: \" + str);\n\t\t\tthrow e;\n\t\t}\n\t};\n\n\tdoT.compile = function(tmpl, def) {\n\t\treturn doT.template(tmpl, null, def);\n\t};\n}());\n\n\n/*!\n * jQuery QueryBuilder 2.4.1\n * Copyright 2014-2017 Damien \"Mistic\" Sorel (http://www.strangeplanet.fr)\n * Licensed under MIT (http://opensource.org/licenses/MIT)\n */\n\n// Languages: en\n// Plugins: bt-checkbox, bt-selectpicker, bt-tooltip-errors, change-filters, filter-description, invert, mongodb-support, not-group, sortable, sql-support, unique-filter\n(function(root, factory) {\n    factory(root.jQuery, root.doT);\n}(GLOBALS, function($, doT) {\n\"use strict\";\n\n// CLASS DEFINITION\n// ===============================\nvar QueryBuilder = function($el, options) {\n    this.init($el, options);\n};\n\n\n// EVENTS SYSTEM\n// ===============================\n$.extend(QueryBuilder.prototype, {\n    change: function(type, value) {\n        var event = new $.Event(this.tojQueryEvent(type, true), {\n            builder: this,\n            value: value\n        });\n\n        this.$el.triggerHandler(event, Array.prototype.slice.call(arguments, 2));\n\n        return event.value;\n    },\n\n    trigger: function(type) {\n        var event = new $.Event(this.tojQueryEvent(type), {\n            builder: this\n        });\n\n        this.$el.triggerHandler(event, Array.prototype.slice.call(arguments, 1));\n\n        return event;\n    },\n\n    on: function(type, cb) {\n        this.$el.on(this.tojQueryEvent(type), cb);\n        return this;\n    },\n\n    off: function(type, cb) {\n        this.$el.off(this.tojQueryEvent(type), cb);\n        return this;\n    },\n\n    once: function(type, cb) {\n        this.$el.one(this.tojQueryEvent(type), cb);\n        return this;\n    },\n\n    tojQueryEvent: function(name, filter) {\n        return name.split(' ').map(function(type) {\n            return type + '.queryBuilder' + (filter ? '.filter' : '');\n        }).join(' ');\n    }\n});\n\n\n// PLUGINS SYSTEM\n// ===============================\nQueryBuilder.plugins = {};\n\n/**\n * Get or extend the default configuration\n * @param options {object,optional} new configuration, leave undefined to get the default config\n * @return {undefined|object} nothing or configuration object (copy)\n */\nQueryBuilder.defaults = function(options) {\n    if (typeof options == 'object') {\n        $.extendext(true, 'replace', QueryBuilder.DEFAULTS, options);\n    }\n    else if (typeof options == 'string') {\n        if (typeof QueryBuilder.DEFAULTS[options] == 'object') {\n            return $.extend(true, {}, QueryBuilder.DEFAULTS[options]);\n        }\n        else {\n            return QueryBuilder.DEFAULTS[options];\n        }\n    }\n    else {\n        return $.extend(true, {}, QueryBuilder.DEFAULTS);\n    }\n};\n\n/**\n * Define a new plugin\n * @param {string}\n * @param {function}\n * @param {object,optional} default configuration\n */\nQueryBuilder.define = function(name, fct, def) {\n    QueryBuilder.plugins[name] = {\n        fct: fct,\n        def: def || {}\n    };\n};\n\n/**\n * Add new methods\n * @param {object}\n */\nQueryBuilder.extend = function(methods) {\n    $.extend(QueryBuilder.prototype, methods);\n};\n\n/**\n * Init plugins for an instance\n * @throws ConfigError\n */\nQueryBuilder.prototype.initPlugins = function() {\n    if (!this.plugins) {\n        return;\n    }\n\n    if ($.isArray(this.plugins)) {\n        var tmp = {};\n        this.plugins.forEach(function(plugin) {\n            tmp[plugin] = null;\n        });\n        this.plugins = tmp;\n    }\n\n    Object.keys(this.plugins).forEach(function(plugin) {\n        if (plugin in QueryBuilder.plugins) {\n            this.plugins[plugin] = $.extend(true, {},\n                QueryBuilder.plugins[plugin].def,\n                this.plugins[plugin] || {}\n            );\n\n            QueryBuilder.plugins[plugin].fct.call(this, this.plugins[plugin]);\n        }\n        else {\n            Utils.error('Config', 'Unable to find plugin \"{0}\"', plugin);\n        }\n    }, this);\n};\n\n\n/**\n * Allowed types and their internal representation\n */\nQueryBuilder.types = {\n    'string':   'string',\n    'integer':  'number',\n    'double':   'number',\n    'date':     'datetime',\n    'time':     'datetime',\n    'datetime': 'datetime',\n    'boolean':  'boolean'\n};\n\n/**\n * Allowed inputs\n */\nQueryBuilder.inputs = [\n    'text',\n    'textarea',\n    'radio',\n    'checkbox',\n    'select'\n];\n\n/**\n * Runtime modifiable options with `setOptions` method\n */\nQueryBuilder.modifiable_options = [\n    'display_errors',\n    'allow_groups',\n    'allow_empty',\n    'default_condition',\n    'default_filter'\n];\n\n/**\n * CSS selectors for common components\n */\nvar Selectors = QueryBuilder.selectors = {\n    group_container:      '.rules-group-container',\n    rule_container:       '.rule-container',\n    filter_container:     '.rule-filter-container',\n    operator_container:   '.rule-operator-container',\n    value_container:      '.rule-value-container',\n    error_container:      '.error-container',\n    condition_container:  '.rules-group-header .group-conditions',\n\n    rule_header:          '.rule-header',\n    group_header:         '.rules-group-header',\n    group_actions:        '.group-actions',\n    rule_actions:         '.rule-actions',\n\n    rules_list:           '.rules-group-body>.rules-list',\n\n    group_condition:      '.rules-group-header [name$=_cond]',\n    rule_filter:          '.rule-filter-container [name$=_filter]',\n    rule_operator:        '.rule-operator-container [name$=_operator]',\n    rule_value:           '.rule-value-container [name*=_value_]',\n\n    add_rule:             '[data-add=rule]',\n    delete_rule:          '[data-delete=rule]',\n    add_group:            '[data-add=group]',\n    delete_group:         '[data-delete=group]'\n};\n\n/**\n * Template strings (see `template.js`)\n */\nQueryBuilder.templates = {};\n\n/**\n * Localized strings (see `i18n/`)\n */\nQueryBuilder.regional = {};\n\n/**\n * Default operators\n */\nQueryBuilder.OPERATORS = {\n    equal:            { type: 'equal',            nb_inputs: 1, multiple: false, apply_to: ['string', 'number', 'datetime', 'boolean'] },\n    not_equal:        { type: 'not_equal',        nb_inputs: 1, multiple: false, apply_to: ['string', 'number', 'datetime', 'boolean'] },\n    in:               { type: 'in',               nb_inputs: 1, multiple: true,  apply_to: ['string', 'number', 'datetime'] },\n    not_in:           { type: 'not_in',           nb_inputs: 1, multiple: true,  apply_to: ['string', 'number', 'datetime'] },\n    less:             { type: 'less',             nb_inputs: 1, multiple: false, apply_to: ['number', 'datetime'] },\n    less_or_equal:    { type: 'less_or_equal',    nb_inputs: 1, multiple: false, apply_to: ['number', 'datetime'] },\n    greater:          { type: 'greater',          nb_inputs: 1, multiple: false, apply_to: ['number', 'datetime'] },\n    greater_or_equal: { type: 'greater_or_equal', nb_inputs: 1, multiple: false, apply_to: ['number', 'datetime'] },\n    between:          { type: 'between',          nb_inputs: 2, multiple: false, apply_to: ['number', 'datetime'] },\n    not_between:      { type: 'not_between',      nb_inputs: 2, multiple: false, apply_to: ['number', 'datetime'] },\n    begins_with:      { type: 'begins_with',      nb_inputs: 1, multiple: false, apply_to: ['string'] },\n    not_begins_with:  { type: 'not_begins_with',  nb_inputs: 1, multiple: false, apply_to: ['string'] },\n    contains:         { type: 'contains',         nb_inputs: 1, multiple: false, apply_to: ['string'] },\n    not_contains:     { type: 'not_contains',     nb_inputs: 1, multiple: false, apply_to: ['string'] },\n    ends_with:        { type: 'ends_with',        nb_inputs: 1, multiple: false, apply_to: ['string'] },\n    not_ends_with:    { type: 'not_ends_with',    nb_inputs: 1, multiple: false, apply_to: ['string'] },\n    is_empty:         { type: 'is_empty',         nb_inputs: 0, multiple: false, apply_to: ['string'] },\n    is_not_empty:     { type: 'is_not_empty',     nb_inputs: 0, multiple: false, apply_to: ['string'] },\n    is_null:          { type: 'is_null',          nb_inputs: 0, multiple: false, apply_to: ['string', 'number', 'datetime', 'boolean'] },\n    is_not_null:      { type: 'is_not_null',      nb_inputs: 0, multiple: false, apply_to: ['string', 'number', 'datetime', 'boolean'] }\n};\n\n/**\n * Default configuration\n */\nQueryBuilder.DEFAULTS = {\n    filters: [],\n    plugins: [],\n\n    sort_filters: false,\n    display_errors: true,\n    allow_groups: -1,\n    allow_empty: false,\n    conditions: ['AND', 'OR'],\n    default_condition: 'AND',\n    inputs_separator: ' , ',\n    select_placeholder: '------',\n    display_empty_filter: true,\n    default_filter: null,\n    optgroups: {},\n\n    default_rule_flags: {\n        filter_readonly: false,\n        operator_readonly: false,\n        value_readonly: false,\n        no_delete: false\n    },\n\n    default_group_flags: {\n        condition_readonly: false,\n        no_add_rule: false,\n        no_add_group: false,\n        no_delete: false\n    },\n\n    templates: {\n        group: null,\n        rule: null,\n        filterSelect: null,\n        operatorSelect: null\n    },\n\n    lang_code: 'en',\n    lang: {},\n\n    operators: [\n        'equal',\n        'not_equal',\n        'in',\n        'not_in',\n        'less',\n        'less_or_equal',\n        'greater',\n        'greater_or_equal',\n        'between',\n        'not_between',\n        'begins_with',\n        'not_begins_with',\n        'contains',\n        'not_contains',\n        'ends_with',\n        'not_ends_with',\n        'is_empty',\n        'is_not_empty',\n        'is_null',\n        'is_not_null'\n    ],\n\n    icons: {\n        add_group:    'glyphicon glyphicon-plus-sign',\n        add_rule:     'glyphicon glyphicon-plus',\n        remove_group: 'glyphicon glyphicon-remove',\n        remove_rule:  'glyphicon glyphicon-remove',\n        error:        'glyphicon glyphicon-warning-sign'\n    }\n};\n\n\n/**\n * Init the builder\n */\nQueryBuilder.prototype.init = function($el, options) {\n    $el[0].queryBuilder = this;\n    this.$el = $el;\n\n    // PROPERTIES\n    this.settings = $.extendext(true, 'replace', {}, QueryBuilder.DEFAULTS, options);\n    this.model = new Model();\n    this.status = {\n        group_id: 0,\n        rule_id: 0,\n        generated_id: false,\n        has_optgroup: false,\n        has_operator_oprgroup: false,\n        id: null\n    };\n\n    // \"allow_groups\" can be boolean or int\n    if (this.settings.allow_groups === false) {\n        this.settings.allow_groups = 0;\n    }\n    else if (this.settings.allow_groups === true) {\n        this.settings.allow_groups = -1;\n    }\n\n    // SETTINGS SHORTCUTS\n    this.filters = this.settings.filters;\n    this.icons = this.settings.icons;\n    this.operators = this.settings.operators;\n    this.templates = this.settings.templates;\n    this.plugins = this.settings.plugins;\n\n    // translations : english << 'lang_code' << custom\n    if (QueryBuilder.regional['en'] === undefined) {\n        Utils.error('Config', '\"i18n/en.js\" not loaded.');\n    }\n    this.lang = $.extendext(true, 'replace', {}, QueryBuilder.regional['en'], QueryBuilder.regional[this.settings.lang_code], this.settings.lang);\n\n    // init templates\n    Object.keys(this.templates).forEach(function(tpl) {\n        if (!this.templates[tpl]) {\n            this.templates[tpl] = QueryBuilder.templates[tpl];\n        }\n        if (typeof this.templates[tpl] == 'string') {\n            this.templates[tpl] = doT.template(this.templates[tpl]);\n        }\n    }, this);\n\n    // ensure we have a container id\n    if (!this.$el.attr('id')) {\n        this.$el.attr('id', 'qb_' + Math.floor(Math.random() * 99999));\n        this.status.generated_id = true;\n    }\n    this.status.id = this.$el.attr('id');\n\n    // INIT\n    this.$el.addClass('query-builder form-inline');\n\n    this.filters = this.checkFilters(this.filters);\n    this.operators = this.checkOperators(this.operators);\n    this.bindEvents();\n    this.initPlugins();\n\n    this.trigger('afterInit');\n\n    if (options.rules) {\n        this.setRules(options.rules);\n        delete this.settings.rules;\n    }\n    else {\n        this.setRoot(true);\n    }\n};\n\n/**\n * Checks the configuration of each filter\n * @throws ConfigError\n */\nQueryBuilder.prototype.checkFilters = function(filters) {\n    var definedFilters = [];\n\n    if (!filters || filters.length === 0) {\n        Utils.error('Config', 'Missing filters list');\n    }\n\n    filters.forEach(function(filter, i) {\n        if (!filter.id) {\n            Utils.error('Config', 'Missing filter {0} id', i);\n        }\n        if (definedFilters.indexOf(filter.id) != -1) {\n            Utils.error('Config', 'Filter \"{0}\" already defined', filter.id);\n        }\n        definedFilters.push(filter.id);\n\n        if (!filter.type) {\n            filter.type = 'string';\n        }\n        else if (!QueryBuilder.types[filter.type]) {\n            Utils.error('Config', 'Invalid type \"{0}\"', filter.type);\n        }\n\n        if (!filter.input) {\n            filter.input = 'text';\n        }\n        else if (typeof filter.input != 'function' && QueryBuilder.inputs.indexOf(filter.input) == -1) {\n            Utils.error('Config', 'Invalid input \"{0}\"', filter.input);\n        }\n\n        if (filter.operators) {\n            filter.operators.forEach(function(operator) {\n                if (typeof operator != 'string') {\n                    Utils.error('Config', 'Filter operators must be global operators types (string)');\n                }\n            });\n        }\n\n        if (!filter.field) {\n            filter.field = filter.id;\n        }\n        if (!filter.label) {\n            filter.label = filter.field;\n        }\n\n        if (!filter.optgroup) {\n            filter.optgroup = null;\n        }\n        else {\n            this.status.has_optgroup = true;\n\n            // register optgroup if needed\n            if (!this.settings.optgroups[filter.optgroup]) {\n                this.settings.optgroups[filter.optgroup] = filter.optgroup;\n            }\n        }\n\n        switch (filter.input) {\n            case 'radio': case 'checkbox':\n                if (!filter.values || filter.values.length < 1) {\n                    Utils.error('Config', 'Missing filter \"{0}\" values', filter.id);\n                }\n                break;\n\n            case 'select':\n                if (filter.placeholder) {\n                    if (filter.placeholder_value === undefined) {\n                        filter.placeholder_value = -1;\n                    }\n                    Utils.iterateOptions(filter.values, function(key) {\n                        if (key == filter.placeholder_value) {\n                            Utils.error('Config', 'Placeholder of filter \"{0}\" overlaps with one of its values', filter.id);\n                        }\n                    });\n                }\n                break;\n        }\n    }, this);\n\n    if (this.settings.sort_filters) {\n        if (typeof this.settings.sort_filters == 'function') {\n            filters.sort(this.settings.sort_filters);\n        }\n        else {\n            var self = this;\n            filters.sort(function(a, b) {\n                return self.translateLabel(a.label).localeCompare(self.translateLabel(b.label));\n            });\n        }\n    }\n\n    if (this.status.has_optgroup) {\n        filters = Utils.groupSort(filters, 'optgroup');\n    }\n\n    return filters;\n};\n\n/**\n * Checks the configuration of each operator\n * @throws ConfigError\n */\nQueryBuilder.prototype.checkOperators = function(operators) {\n    var definedOperators = [];\n\n    operators.forEach(function(operator, i) {\n        if (typeof operator == 'string') {\n            if (!QueryBuilder.OPERATORS[operator]) {\n                Utils.error('Config', 'Unknown operator \"{0}\"', operator);\n            }\n\n            operators[i] = operator = $.extendext(true, 'replace', {}, QueryBuilder.OPERATORS[operator]);\n        }\n        else {\n            if (!operator.type) {\n                Utils.error('Config', 'Missing \"type\" for operator {0}', i);\n            }\n\n            if (QueryBuilder.OPERATORS[operator.type]) {\n                operators[i] = operator = $.extendext(true, 'replace', {}, QueryBuilder.OPERATORS[operator.type], operator);\n            }\n\n            if (operator.nb_inputs === undefined || operator.apply_to === undefined) {\n                Utils.error('Config', 'Missing \"nb_inputs\" and/or \"apply_to\" for operator \"{0}\"', operator.type);\n            }\n        }\n\n        if (definedOperators.indexOf(operator.type) != -1) {\n            Utils.error('Config', 'Operator \"{0}\" already defined', operator.type);\n        }\n        definedOperators.push(operator.type);\n\n        if (!operator.optgroup) {\n            operator.optgroup = null;\n        }\n        else {\n            this.status.has_operator_optgroup = true;\n\n            // register optgroup if needed\n            if (!this.settings.optgroups[operator.optgroup]) {\n                this.settings.optgroups[operator.optgroup] = operator.optgroup;\n            }\n        }\n    }, this);\n\n    if (this.status.has_operator_optgroup) {\n        operators = Utils.groupSort(operators, 'optgroup');\n    }\n\n    return operators;\n};\n\n/**\n * Add all events listeners\n */\nQueryBuilder.prototype.bindEvents = function() {\n    var self = this;\n\n    // group condition change\n    this.$el.on('change.queryBuilder', Selectors.group_condition, function() {\n        if ($(this).is(':checked')) {\n            var $group = $(this).closest(Selectors.group_container);\n            Model($group).condition = $(this).val();\n        }\n    });\n\n    // rule filter change\n    this.$el.on('change.queryBuilder', Selectors.rule_filter, function() {\n        var $rule = $(this).closest(Selectors.rule_container);\n        Model($rule).filter = self.getFilterById($(this).val());\n    });\n\n    // rule operator change\n    this.$el.on('change.queryBuilder', Selectors.rule_operator, function() {\n        var $rule = $(this).closest(Selectors.rule_container);\n        Model($rule).operator = self.getOperatorByType($(this).val());\n    });\n\n    // add rule button\n    this.$el.on('click.queryBuilder', Selectors.add_rule, function() {\n        var $group = $(this).closest(Selectors.group_container);\n        self.addRule(Model($group));\n    });\n\n    // delete rule button\n    this.$el.on('click.queryBuilder', Selectors.delete_rule, function() {\n        var $rule = $(this).closest(Selectors.rule_container);\n        self.deleteRule(Model($rule));\n    });\n\n    if (this.settings.allow_groups !== 0) {\n        // add group button\n        this.$el.on('click.queryBuilder', Selectors.add_group, function() {\n            var $group = $(this).closest(Selectors.group_container);\n            self.addGroup(Model($group));\n        });\n\n        // delete group button\n        this.$el.on('click.queryBuilder', Selectors.delete_group, function() {\n            var $group = $(this).closest(Selectors.group_container);\n            self.deleteGroup(Model($group));\n        });\n    }\n\n    // model events\n    this.model.on({\n        'drop': function(e, node) {\n            node.$el.remove();\n            self.refreshGroupsConditions();\n        },\n        'add': function(e, node, index) {\n            if (index === 0) {\n                node.$el.prependTo(node.parent.$el.find('>' + Selectors.rules_list));\n            }\n            else {\n                node.$el.insertAfter(node.parent.rules[index - 1].$el);\n            }\n            self.refreshGroupsConditions();\n        },\n        'move': function(e, node, group, index) {\n            node.$el.detach();\n\n            if (index === 0) {\n                node.$el.prependTo(group.$el.find('>' + Selectors.rules_list));\n            }\n            else {\n                node.$el.insertAfter(group.rules[index - 1].$el);\n            }\n            self.refreshGroupsConditions();\n        },\n        'update': function(e, node, field, value, oldValue) {\n            if (node instanceof Rule) {\n                switch (field) {\n                    case 'error':\n                        self.displayError(node);\n                        break;\n\n                    case 'flags':\n                        self.applyRuleFlags(node);\n                        break;\n\n                    case 'filter':\n                        self.updateRuleFilter(node, oldValue);\n                        break;\n\n                    case 'operator':\n                        self.updateRuleOperator(node, oldValue);\n                        break;\n\n                    case 'value':\n                        self.updateRuleValue(node);\n                        break;\n                }\n            }\n            else {\n                switch (field) {\n                    case 'error':\n                        self.displayError(node);\n                        break;\n\n                    case 'flags':\n                        self.applyGroupFlags(node);\n                        break;\n\n                    case 'condition':\n                        self.updateGroupCondition(node);\n                        break;\n                }\n            }\n        }\n    });\n};\n\n/**\n * Create the root group\n * @param addRule {bool,optional} add a default empty rule\n * @param data {mixed,optional} group custom data\n * @param flags {object,optional} flags to apply to the group\n * @return group {Root}\n */\nQueryBuilder.prototype.setRoot = function(addRule, data, flags) {\n    addRule = (addRule === undefined || addRule === true);\n\n    var group_id = this.nextGroupId();\n    var $group = $(this.getGroupTemplate(group_id, 1));\n\n    this.$el.append($group);\n    this.model.root = new Group(null, $group);\n    this.model.root.model = this.model;\n\n    this.model.root.data = data;\n    this.model.root.__.flags = $.extend({}, this.settings.default_group_flags, flags);\n\n    this.trigger('afterAddGroup', this.model.root);\n\n    this.model.root.condition = this.settings.default_condition;\n\n    if (addRule) {\n        this.addRule(this.model.root);\n    }\n\n    return this.model.root;\n};\n\n/**\n * Add a new group\n * @param parent {Group}\n * @param addRule {bool,optional} add a default empty rule\n * @param data {mixed,optional} group custom data\n * @param flags {object,optional} flags to apply to the group\n * @return group {Group}\n */\nQueryBuilder.prototype.addGroup = function(parent, addRule, data, flags) {\n    addRule = (addRule === undefined || addRule === true);\n\n    var level = parent.level + 1;\n\n    var e = this.trigger('beforeAddGroup', parent, addRule, level);\n    if (e.isDefaultPrevented()) {\n        return null;\n    }\n\n    var group_id = this.nextGroupId();\n    var $group = $(this.getGroupTemplate(group_id, level));\n    var model = parent.addGroup($group);\n\n    model.data = data;\n    model.__.flags = $.extend({}, this.settings.default_group_flags, flags);\n\n    this.trigger('afterAddGroup', model);\n\n    model.condition = this.settings.default_condition;\n\n    if (addRule) {\n        this.addRule(model);\n    }\n\n    return model;\n};\n\n/**\n * Tries to delete a group. The group is not deleted if at least one rule is no_delete.\n * @param group {Group}\n * @return {boolean} true if the group has been deleted\n */\nQueryBuilder.prototype.deleteGroup = function(group) {\n    if (group.isRoot()) {\n        return false;\n    }\n\n    var e = this.trigger('beforeDeleteGroup', group);\n    if (e.isDefaultPrevented()) {\n        return false;\n    }\n\n    var del = true;\n\n    group.each('reverse', function(rule) {\n        del&= this.deleteRule(rule);\n    }, function(group) {\n        del&= this.deleteGroup(group);\n    }, this);\n\n    if (del) {\n        group.drop();\n        this.trigger('afterDeleteGroup');\n    }\n\n    return del;\n};\n\n/**\n * Changes the condition of a group\n * @param group {Group}\n */\nQueryBuilder.prototype.updateGroupCondition = function(group) {\n    group.$el.find('>' + Selectors.group_condition).each(function() {\n        var $this = $(this);\n        $this.prop('checked', $this.val() === group.condition);\n        $this.parent().toggleClass('active', $this.val() === group.condition);\n    });\n\n    this.trigger('afterUpdateGroupCondition', group);\n};\n\n/**\n * Update visibility of conditions based on number of rules inside each group\n */\nQueryBuilder.prototype.refreshGroupsConditions = function() {\n    (function walk(group) {\n        if (!group.flags || (group.flags && !group.flags.condition_readonly)) {\n            group.$el.find('>' + Selectors.group_condition).prop('disabled', group.rules.length <= 1)\n                .parent().toggleClass('disabled', group.rules.length <= 1);\n        }\n\n        group.each(function(rule) {}, function(group) {\n            walk(group);\n        }, this);\n    }(this.model.root));\n};\n\n/**\n * Add a new rule\n * @param parent {Group}\n * @param data {mixed,optional} rule custom data\n * @param flags {object,optional} flags to apply to the rule\n * @return rule {Rule}\n */\nQueryBuilder.prototype.addRule = function(parent, data, flags) {\n    var e = this.trigger('beforeAddRule', parent);\n    if (e.isDefaultPrevented()) {\n        return null;\n    }\n\n    var rule_id = this.nextRuleId();\n    var $rule = $(this.getRuleTemplate(rule_id));\n    var model = parent.addRule($rule);\n\n    if (data !== undefined) {\n        model.data = data;\n    }\n\n    model.__.flags = $.extend({}, this.settings.default_rule_flags, flags);\n\n    this.trigger('afterAddRule', model);\n\n    this.createRuleFilters(model);\n\n    if (this.settings.default_filter || !this.settings.display_empty_filter) {\n        model.filter = this.change('getDefaultFilter',\n            this.getFilterById(this.settings.default_filter || this.filters[0].id),\n            model\n        );\n    }\n\n    return model;\n};\n\n/**\n * Delete a rule.\n * @param rule {Rule}\n * @return {boolean} true if the rule has been deleted\n */\nQueryBuilder.prototype.deleteRule = function(rule) {\n    if (rule.flags.no_delete) {\n        return false;\n    }\n\n    var e = this.trigger('beforeDeleteRule', rule);\n    if (e.isDefaultPrevented()) {\n        return false;\n    }\n\n    rule.drop();\n\n    this.trigger('afterDeleteRule');\n\n    return true;\n};\n\n/**\n * Create the filters <select> for a rule\n * @param rule {Rule}\n */\nQueryBuilder.prototype.createRuleFilters = function(rule) {\n    var filters = this.change('getRuleFilters', this.filters, rule);\n    var $filterSelect = $(this.getRuleFilterSelect(rule, filters));\n\n    rule.$el.find(Selectors.filter_container).html($filterSelect);\n\n    this.trigger('afterCreateRuleFilters', rule);\n};\n\n/**\n * Create the operators <select> for a rule and init the rule operator\n * @param rule {Rule}\n */\nQueryBuilder.prototype.createRuleOperators = function(rule) {\n    var $operatorContainer = rule.$el.find(Selectors.operator_container).empty();\n\n    if (!rule.filter) {\n        return;\n    }\n\n    var operators = this.getOperators(rule.filter);\n    var $operatorSelect = $(this.getRuleOperatorSelect(rule, operators));\n\n    $operatorContainer.html($operatorSelect);\n\n    // set the operator without triggering update event\n    rule.__.operator = operators[0];\n\n    this.trigger('afterCreateRuleOperators', rule, operators);\n};\n\n/**\n * Create the main input for a rule\n * @param rule {Rule}\n */\nQueryBuilder.prototype.createRuleInput = function(rule) {\n    var $valueContainer = rule.$el.find(Selectors.value_container).empty();\n\n    rule.__.value = undefined;\n\n    if (!rule.filter || !rule.operator || rule.operator.nb_inputs === 0) {\n        return;\n    }\n\n    var self = this;\n    var $inputs = $();\n    var filter = rule.filter;\n\n    for (var i = 0; i < rule.operator.nb_inputs; i++) {\n        var $ruleInput = $(this.getRuleInput(rule, i));\n        if (i > 0) $valueContainer.append(this.settings.inputs_separator);\n        $valueContainer.append($ruleInput);\n        $inputs = $inputs.add($ruleInput);\n    }\n\n    $valueContainer.show();\n\n    $inputs.on('change ' + (filter.input_event || ''), function() {\n        if (!this._updating_input) {\n            rule._updating_value = true;\n            rule.value = self.getRuleInputValue(rule);\n            rule._updating_value = false;\n        }\n    });\n\n    if (filter.plugin) {\n        $inputs[filter.plugin](filter.plugin_config || {});\n    }\n\n    this.trigger('afterCreateRuleInput', rule);\n\n    if (filter.default_value !== undefined) {\n        rule.value = filter.default_value;\n    }\n    else {\n        rule._updating_value = true;\n        rule.value = self.getRuleInputValue(rule);\n        rule._updating_value = false;\n    }\n};\n\n/**\n * Perform action when rule's filter is changed\n * @param rule {Rule}\n * @param previousFilter {object}\n */\nQueryBuilder.prototype.updateRuleFilter = function(rule, previousFilter) {\n    this.createRuleOperators(rule);\n    this.createRuleInput(rule);\n\n    rule.$el.find(Selectors.rule_filter).val(rule.filter ? rule.filter.id : '-1');\n\n    // clear rule data if the filter changed\n    if (previousFilter && rule.filter && previousFilter.id !== rule.filter.id) {\n        rule.data = undefined;\n    }\n\n    this.trigger('afterUpdateRuleFilter', rule);\n};\n\n/**\n * Update main <input> visibility when rule operator changes\n * @param rule {Rule}\n * @param previousOperator {object}\n */\nQueryBuilder.prototype.updateRuleOperator = function(rule, previousOperator) {\n    var $valueContainer = rule.$el.find(Selectors.value_container);\n\n    if (!rule.operator || rule.operator.nb_inputs === 0) {\n        $valueContainer.hide();\n\n        rule.__.value = undefined;\n    }\n    else {\n        $valueContainer.show();\n\n        if ($valueContainer.is(':empty') || !previousOperator || rule.operator.nb_inputs !== previousOperator.nb_inputs) {\n            this.createRuleInput(rule);\n        }\n    }\n\n    if (rule.operator) {\n        rule.$el.find(Selectors.rule_operator).val(rule.operator.type);\n    }\n\n    this.trigger('afterUpdateRuleOperator', rule);\n\n    this.updateRuleValue(rule);\n};\n\n/**\n * Perform action when rule's value is changed\n * @param rule {Rule}\n */\nQueryBuilder.prototype.updateRuleValue = function(rule) {\n    if (!rule._updating_value) {\n        this.setRuleInputValue(rule, rule.value);\n    }\n\n    this.trigger('afterUpdateRuleValue', rule);\n};\n\n/**\n * Change rules properties depending on flags.\n * @param rule {Rule}\n */\nQueryBuilder.prototype.applyRuleFlags = function(rule) {\n    var flags = rule.flags;\n\n    if (flags.filter_readonly) {\n        rule.$el.find(Selectors.rule_filter).prop('disabled', true);\n    }\n    if (flags.operator_readonly) {\n        rule.$el.find(Selectors.rule_operator).prop('disabled', true);\n    }\n    if (flags.value_readonly) {\n        rule.$el.find(Selectors.rule_value).prop('disabled', true);\n    }\n    if (flags.no_delete) {\n        rule.$el.find(Selectors.delete_rule).remove();\n    }\n\n    this.trigger('afterApplyRuleFlags', rule);\n};\n\n/**\n * Change group properties depending on flags.\n * @param group {Group}\n */\nQueryBuilder.prototype.applyGroupFlags = function(group) {\n    var flags = group.flags;\n\n    if (flags.condition_readonly) {\n        group.$el.find('>' + Selectors.group_condition).prop('disabled', true)\n            .parent().addClass('readonly');\n    }\n    if (flags.no_add_rule) {\n        group.$el.find(Selectors.add_rule).remove();\n    }\n    if (flags.no_add_group) {\n        group.$el.find(Selectors.add_group).remove();\n    }\n    if (flags.no_delete) {\n        group.$el.find(Selectors.delete_group).remove();\n    }\n\n    this.trigger('afterApplyGroupFlags', group);\n};\n\n/**\n * Clear all errors markers\n * @param node {Node,optional} default is root Group\n */\nQueryBuilder.prototype.clearErrors = function(node) {\n    node = node || this.model.root;\n\n    if (!node) {\n        return;\n    }\n\n    node.error = null;\n\n    if (node instanceof Group) {\n        node.each(function(rule) {\n            rule.error = null;\n        }, function(group) {\n            this.clearErrors(group);\n        }, this);\n    }\n};\n\n/**\n * Add/Remove class .has-error and update error title\n * @param node {Node}\n */\nQueryBuilder.prototype.displayError = function(node) {\n    if (this.settings.display_errors) {\n        if (node.error === null) {\n            node.$el.removeClass('has-error');\n        }\n        else {\n            var errorMessage = this.lang.errors[node.error[0]] || node.error[0];\n            errorMessage = Utils.fmt(errorMessage, node.error.slice(1));\n            errorMessage = this.change('displayError', errorMessage, node.error, node);\n\n            node.$el.addClass('has-error')\n              .find(Selectors.error_container).eq(0)\n                .attr('title', errorMessage);\n        }\n    }\n};\n\n/**\n * Trigger a validation error event\n * @param node {Node}\n * @param error {array}\n * @param value {mixed}\n */\nQueryBuilder.prototype.triggerValidationError = function(node, error, value) {\n    if (!$.isArray(error)) {\n        error = [error];\n    }\n\n    var e = this.trigger('validationError', node, error, value);\n    if (!e.isDefaultPrevented()) {\n        node.error = error;\n    }\n};\n\n\n/**\n * Destroy the plugin\n */\nQueryBuilder.prototype.destroy = function() {\n    this.trigger('beforeDestroy');\n\n    if (this.status.generated_id) {\n        this.$el.removeAttr('id');\n    }\n\n    this.clear();\n    this.model = null;\n\n    this.$el\n        .off('.queryBuilder')\n        .removeClass('query-builder')\n        .removeData('queryBuilder');\n\n    delete this.$el[0].queryBuilder;\n};\n\n/**\n * Reset the plugin\n */\nQueryBuilder.prototype.reset = function() {\n    this.status.group_id = 1;\n    this.status.rule_id = 0;\n\n    this.model.root.empty();\n\n    this.addRule(this.model.root);\n\n    this.trigger('afterReset');\n};\n\n/**\n * Clear the plugin\n */\nQueryBuilder.prototype.clear = function() {\n    this.status.group_id = 0;\n    this.status.rule_id = 0;\n\n    if (this.model.root) {\n        this.model.root.drop();\n        this.model.root = null;\n    }\n\n    this.trigger('afterClear');\n};\n\n/**\n * Modify the builder configuration\n * Only options defined in QueryBuilder.modifiable_options are modifiable\n * @param {object}\n */\nQueryBuilder.prototype.setOptions = function(options) {\n    $.each(options, function(opt, value) {\n        if (QueryBuilder.modifiable_options.indexOf(opt) !== -1) {\n            this.settings[opt] = value;\n        }\n    }.bind(this));\n};\n\n/**\n * Return the model associated to a DOM object, or root model\n * @param {jQuery,optional}\n * @return {Node}\n */\nQueryBuilder.prototype.getModel = function(target) {\n    return !target ? this.model.root : Model(target);\n};\n\n/**\n * Validate the whole builder\n * @return {boolean}\n */\nQueryBuilder.prototype.validate = function() {\n    this.clearErrors();\n\n    var self = this;\n\n    var valid = (function parse(group) {\n        var done = 0;\n        var errors = 0;\n\n        group.each(function(rule) {\n            if (!rule.filter) {\n                self.triggerValidationError(rule, 'no_filter', null);\n                errors++;\n                return;\n            }\n\n            if (!rule.operator) {\n                self.triggerValidationError(rule, 'no_operator', null);\n                errors++;\n                return;\n            }\n\n            if (rule.operator.nb_inputs !== 0) {\n                var valid = self.validateValue(rule, rule.value);\n\n                if (valid !== true) {\n                    self.triggerValidationError(rule, valid, rule.value);\n                    errors++;\n                    return;\n                }\n            }\n\n            done++;\n\n        }, function(group) {\n            if (parse(group)) {\n                done++;\n            }\n            else {\n                errors++;\n            }\n        });\n\n        if (errors > 0) {\n            return false;\n        }\n        else if (done === 0 && (!self.settings.allow_empty || !group.isRoot())) {\n            self.triggerValidationError(group, 'empty_group', null);\n            return false;\n        }\n\n        return true;\n\n    }(this.model.root));\n\n    return this.change('validate', valid);\n};\n\n/**\n * Get an object representing current rules\n * @param {object} options\n *      - get_flags: false[default] | true(only changes from default flags) | 'all'\n *      - allow_invalid: false[default] | true(returns rules even if they are invalid)\n * @return {object}\n */\nQueryBuilder.prototype.getRules = function(options) {\n    options = $.extend({\n        get_flags: false,\n        allow_invalid: false\n    }, options);\n\n    var valid = this.validate();\n    if (!valid && !options.allow_invalid) {\n        return null;\n    }\n\n    var self = this;\n\n    var out = (function parse(group) {\n        var groupData = {\n            condition: group.condition,\n            rules: []\n        };\n\n        if (group.data) {\n            groupData.data = $.extendext(true, 'replace', {}, group.data);\n        }\n\n        if (options.get_flags) {\n            var flags = self.getGroupFlags(group.flags, options.get_flags === 'all');\n            if (!$.isEmptyObject(flags)) {\n                groupData.flags = flags;\n            }\n        }\n\n        group.each(function(rule) {\n            var value = null;\n            if (!rule.operator || rule.operator.nb_inputs !== 0) {\n                value = rule.value;\n            }\n\n            var ruleData = {\n                id: rule.filter ? rule.filter.id : null,\n                field: rule.filter ? rule.filter.field : null,\n                type: rule.filter ? rule.filter.type : null,\n                input: rule.filter ? rule.filter.input : null,\n                operator: rule.operator ? rule.operator.type : null,\n                value: value\n            };\n\n            if (rule.filter && rule.filter.data || rule.data) {\n                ruleData.data = $.extendext(true, 'replace', {}, rule.filter.data, rule.data);\n            }\n\n            if (options.get_flags) {\n                var flags = self.getRuleFlags(rule.flags, options.get_flags === 'all');\n                if (!$.isEmptyObject(flags)) {\n                    ruleData.flags = flags;\n                }\n            }\n\n            groupData.rules.push(self.change('ruleToJson', ruleData, rule));\n\n        }, function(model) {\n            groupData.rules.push(parse(model));\n        }, this);\n\n        return self.change('groupToJson', groupData, group);\n\n    }(this.model.root));\n\n    out.valid = valid;\n\n    return this.change('getRules', out);\n};\n\n/**\n * Set rules from object\n * @throws RulesError, UndefinedConditionError\n * @param data {object}\n * @param {object} options\n *      - allow_invalid: false[default] | true(silent-fail if the data are invalid)\n */\nQueryBuilder.prototype.setRules = function(data, options) {\n    options = $.extend({\n        allow_invalid: false\n    }, options);\n\n    if ($.isArray(data)) {\n        data = {\n            condition: this.settings.default_condition,\n            rules: data\n        };\n    }\n\n    if (!data || !data.rules || (data.rules.length === 0 && !this.settings.allow_empty)) {\n        Utils.error('RulesParse', 'Incorrect data object passed');\n    }\n\n    this.clear();\n    this.setRoot(false, data.data, this.parseGroupFlags(data));\n    this.applyGroupFlags(this.model.root);\n\n    data = this.change('setRules', data);\n\n    var self = this;\n\n    (function add(data, group) {\n        if (group === null) {\n            return;\n        }\n\n        if (data.condition === undefined) {\n            data.condition = self.settings.default_condition;\n        }\n        else if (self.settings.conditions.indexOf(data.condition) == -1) {\n            Utils.error(!options.allow_invalid, 'UndefinedCondition', 'Invalid condition \"{0}\"', data.condition);\n            data.condition = self.settings.default_condition;\n        }\n\n        group.condition = data.condition;\n\n        data.rules.forEach(function(item) {\n            var model;\n\n            if (item.rules !== undefined) {\n                if (self.settings.allow_groups !== -1 && self.settings.allow_groups < group.level) {\n                    Utils.error(!options.allow_invalid, 'RulesParse', 'No more than {0} groups are allowed', self.settings.allow_groups);\n                    self.reset();\n                }\n                else {\n                    model = self.addGroup(group, false, item.data, self.parseGroupFlags(item));\n                    if (model === null) {\n                        return;\n                    }\n\n                    self.applyGroupFlags(model);\n\n                    add(item, model);\n                }\n            }\n            else {\n                if (!item.empty) {\n                    if (item.id === undefined) {\n                        Utils.error(!options.allow_invalid, 'RulesParse', 'Missing rule field id');\n                        item.empty = true;\n                    }\n                    if (item.operator === undefined) {\n                        item.operator = 'equal';\n                    }\n                }\n\n                model = self.addRule(group, item.data, self.parseRuleFlags(item));\n                if (model === null) {\n                    return;\n                }\n\n                if (!item.empty) {\n                    model.filter = self.getFilterById(item.id, !options.allow_invalid);\n\n                    if (model.filter) {\n                        model.operator = self.getOperatorByType(item.operator, !options.allow_invalid);\n\n                        if (!model.operator) {\n                            model.operator = self.getOperators(model.filter)[0];\n                        }\n\n                        if (model.operator && model.operator.nb_inputs !== 0 && item.value !== undefined) {\n                            model.value = item.value;\n                        }\n                    }\n                }\n\n                self.applyRuleFlags(model);\n\n                if (self.change('jsonToRule', model, item) != model) {\n                    Utils.error('RulesParse', 'Plugin tried to change rule reference');\n                }\n            }\n        });\n\n        if (self.change('jsonToGroup', group, data) != group) {\n            Utils.error('RulesParse', 'Plugin tried to change group reference');\n        }\n\n    }(data, this.model.root));\n};\n\n\n/**\n * Check if a value is correct for a filter\n * @param rule {Rule}\n * @param value {string|string[]|undefined}\n * @return {array|true}\n */\nQueryBuilder.prototype.validateValue = function(rule, value) {\n    var validation = rule.filter.validation || {};\n    var result = true;\n\n    if (validation.callback) {\n        result = validation.callback.call(this, value, rule);\n    }\n    else {\n        result = this.validateValueInternal(rule, value);\n    }\n\n    return this.change('validateValue', result, value, rule);\n};\n\n/**\n * Default validation function\n * @throws ConfigError\n * @param rule {Rule}\n * @param value {string|string[]|undefined}\n * @return {Array|boolean} error array or true\n */\nQueryBuilder.prototype.validateValueInternal = function(rule, value) {\n    var filter = rule.filter;\n    var operator = rule.operator;\n    var validation = filter.validation || {};\n    var result = true;\n    var tmp;\n\n    if (rule.operator.nb_inputs === 1) {\n        value = [value];\n    }\n\n    for (var i = 0; i < operator.nb_inputs; i++) {\n        switch (filter.input) {\n            case 'radio':\n                if (value[i] === undefined || value[i].length === 0) {\n                    if (!validation.allow_empty_value) {\n                        result = ['radio_empty'];\n                    }\n                    break;\n                }\n                break;\n\n            case 'checkbox':\n                if (value[i] === undefined || value[i].length === 0) {\n                    if (!validation.allow_empty_value) {\n                        result = ['checkbox_empty'];\n                    }\n                    break;\n                }\n                else if (!operator.multiple && value[i].length > 1) {\n                    result = ['operator_not_multiple', operator.type];\n                    break;\n                }\n                break;\n\n            case 'select':\n                if (value[i] === undefined || value[i].length === 0 || (filter.placeholder && value[i] == filter.placeholder_value)) {\n                    if (!validation.allow_empty_value) {\n                        result = ['select_empty'];\n                    }\n                    break;\n                }\n                if (filter.multiple && !operator.multiple && value[i].length > 1) {\n                    result = ['operator_not_multiple', operator.type];\n                    break;\n                }\n                break;\n\n            default:\n                switch (QueryBuilder.types[filter.type]) {\n                    case 'string':\n                        if (value[i] === undefined || value[i].length === 0) {\n                            if (!validation.allow_empty_value) {\n                                result = ['string_empty'];\n                            }\n                            break;\n                        }\n                        if (validation.min !== undefined) {\n                            if (value[i].length < parseInt(validation.min)) {\n                                result = [this.getValidationMessage(validation, 'min', 'string_exceed_min_length'), validation.min];\n                                break;\n                            }\n                        }\n                        if (validation.max !== undefined) {\n                            if (value[i].length > parseInt(validation.max)) {\n                                result = [this.getValidationMessage(validation, 'max', 'string_exceed_max_length'), validation.max];\n                                break;\n                            }\n                        }\n                        if (validation.format) {\n                            if (typeof validation.format == 'string') {\n                                validation.format = new RegExp(validation.format);\n                            }\n                            if (!validation.format.test(value[i])) {\n                                result = [this.getValidationMessage(validation, 'format', 'string_invalid_format'), validation.format];\n                                break;\n                            }\n                        }\n                        break;\n\n                    case 'number':\n                        if (value[i] === undefined || value[i].length === 0) {\n                            if (!validation.allow_empty_value) {\n                                result = ['number_nan'];\n                            }\n                            break;\n                        }\n                        if (isNaN(value[i])) {\n                            result = ['number_nan'];\n                            break;\n                        }\n                        if (filter.type == 'integer') {\n                            if (parseInt(value[i]) != value[i]) {\n                                result = ['number_not_integer'];\n                                break;\n                            }\n                        }\n                        else {\n                            if (parseFloat(value[i]) != value[i]) {\n                                result = ['number_not_double'];\n                                break;\n                            }\n                        }\n                        if (validation.min !== undefined) {\n                            if (value[i] < parseFloat(validation.min)) {\n                                result = [this.getValidationMessage(validation, 'min', 'number_exceed_min'), validation.min];\n                                break;\n                            }\n                        }\n                        if (validation.max !== undefined) {\n                            if (value[i] > parseFloat(validation.max)) {\n                                result = [this.getValidationMessage(validation, 'max', 'number_exceed_max'), validation.max];\n                                break;\n                            }\n                        }\n                        if (validation.step !== undefined && validation.step !== 'any') {\n                            var v = (value[i] / validation.step).toPrecision(14);\n                            if (parseInt(v) != v) {\n                                result = [this.getValidationMessage(validation, 'step', 'number_wrong_step'), validation.step];\n                                break;\n                            }\n                        }\n                        break;\n\n                    case 'datetime':\n                        if (value[i] === undefined || value[i].length === 0) {\n                            if (!validation.allow_empty_value) {\n                                result = ['datetime_empty'];\n                            }\n                            break;\n                        }\n\n                        // we need MomentJS\n                        if (validation.format) {\n                            if (!('moment' in window)) {\n                                Utils.error('MissingLibrary', 'MomentJS is required for Date/Time validation. Get it here http://momentjs.com');\n                            }\n\n                            var datetime = moment(value[i], validation.format);\n                            if (!datetime.isValid()) {\n                                result = [this.getValidationMessage(validation, 'format', 'datetime_invalid'), validation.format];\n                                break;\n                            }\n                            else {\n                                if (validation.min) {\n                                    if (datetime < moment(validation.min, validation.format)) {\n                                        result = [this.getValidationMessage(validation, 'min', 'datetime_exceed_min'), validation.min];\n                                        break;\n                                    }\n                                }\n                                if (validation.max) {\n                                    if (datetime > moment(validation.max, validation.format)) {\n                                        result = [this.getValidationMessage(validation, 'max', 'datetime_exceed_max'), validation.max];\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                        break;\n\n                    case 'boolean':\n                        if (value[i] === undefined || value[i].length === 0) {\n                            if (!validation.allow_empty_value) {\n                                result = ['boolean_not_valid'];\n                            }\n                            break;\n                        }\n                        tmp = ('' + value[i]).trim().toLowerCase();\n                        if (tmp !== 'true' && tmp !== 'false' && tmp !== '1' && tmp !== '0' && value[i] !== 1 && value[i] !== 0) {\n                            result = ['boolean_not_valid'];\n                            break;\n                        }\n                }\n        }\n\n        if (result !== true) {\n            break;\n        }\n    }\n\n    return result;\n};\n\n/**\n * Returns an incremented group ID\n * @return {string}\n */\nQueryBuilder.prototype.nextGroupId = function() {\n    return this.status.id + '_group_' + (this.status.group_id++);\n};\n\n/**\n * Returns an incremented rule ID\n * @return {string}\n */\nQueryBuilder.prototype.nextRuleId = function() {\n    return this.status.id + '_rule_' + (this.status.rule_id++);\n};\n\n/**\n * Returns the operators for a filter\n * @param filter {string|object} (filter id name or filter object)\n * @return {object[]}\n */\nQueryBuilder.prototype.getOperators = function(filter) {\n    if (typeof filter == 'string') {\n        filter = this.getFilterById(filter);\n    }\n\n    var result = [];\n\n    for (var i = 0, l = this.operators.length; i < l; i++) {\n        // filter operators check\n        if (filter.operators) {\n            if (filter.operators.indexOf(this.operators[i].type) == -1) {\n                continue;\n            }\n        }\n        // type check\n        else if (this.operators[i].apply_to.indexOf(QueryBuilder.types[filter.type]) == -1) {\n            continue;\n        }\n\n        result.push(this.operators[i]);\n    }\n\n    // keep sort order defined for the filter\n    if (filter.operators) {\n        result.sort(function(a, b) {\n            return filter.operators.indexOf(a.type) - filter.operators.indexOf(b.type);\n        });\n    }\n\n    return this.change('getOperators', result, filter);\n};\n\n/**\n * Returns a particular filter by its id\n * @throws UndefinedFilterError\n * @param id {string}\n * @param [doThrow=true] {boolean}\n * @return {object|null}\n */\nQueryBuilder.prototype.getFilterById = function(id, doThrow) {\n    if (id == '-1') {\n        return null;\n    }\n\n    for (var i = 0, l = this.filters.length; i < l; i++) {\n        if (this.filters[i].id == id) {\n            return this.filters[i];\n        }\n    }\n\n    Utils.error(doThrow !== false, 'UndefinedFilter', 'Undefined filter \"{0}\"', id);\n\n    return null;\n};\n\n/**\n * Return a particular operator by its type\n * @throws UndefinedOperatorError\n * @param type {string}\n * @param [doThrow=true] {boolean}\n * @return {object|null}\n */\nQueryBuilder.prototype.getOperatorByType = function(type, doThrow) {\n    if (type == '-1') {\n        return null;\n    }\n\n    for (var i = 0, l = this.operators.length; i < l; i++) {\n        if (this.operators[i].type == type) {\n            return this.operators[i];\n        }\n    }\n\n    Utils.error(doThrow !== false, 'UndefinedOperator', 'Undefined operator \"{0}\"', type);\n\n    return null;\n};\n\n/**\n * Returns rule's input value\n * @param rule {Rule}\n * @return {mixed}\n */\nQueryBuilder.prototype.getRuleInputValue = function(rule) {\n    var filter = rule.filter;\n    var operator = rule.operator;\n    var value = [];\n\n    if (filter.valueGetter) {\n        value = filter.valueGetter.call(this, rule);\n    }\n    else {\n        var $value = rule.$el.find(Selectors.value_container);\n\n        for (var i = 0; i < operator.nb_inputs; i++) {\n            var name = Utils.escapeElementId(rule.id + '_value_' + i);\n            var tmp;\n\n            switch (filter.input) {\n                case 'radio':\n                    value.push($value.find('[name=' + name + ']:checked').val());\n                    break;\n\n                case 'checkbox':\n                    tmp = [];\n                    $value.find('[name=' + name + ']:checked').each(function() {\n                        tmp.push($(this).val());\n                    });\n                    value.push(tmp);\n                    break;\n\n                case 'select':\n                    if (filter.multiple) {\n                        tmp = [];\n                        $value.find('[name=' + name + '] option:selected').each(function() {\n                            tmp.push($(this).val());\n                        });\n                        value.push(tmp);\n                    }\n                    else {\n                        value.push($value.find('[name=' + name + '] option:selected').val());\n                    }\n                    break;\n\n                default:\n                    value.push($value.find('[name=' + name + ']').val());\n            }\n        }\n\n        if (operator.multiple && filter.value_separator) {\n            value = value.map(function(val) {\n                return val.split(filter.value_separator);\n            });\n        }\n\n        if (operator.nb_inputs === 1) {\n            value = value[0];\n        }\n\n        // @deprecated\n        if (filter.valueParser) {\n            value = filter.valueParser.call(this, rule, value);\n        }\n    }\n\n    return this.change('getRuleValue', value, rule);\n};\n\n/**\n * Sets the value of a rule's input.\n * @param rule {Rule}\n * @param value {mixed}\n */\nQueryBuilder.prototype.setRuleInputValue = function(rule, value) {\n    var filter = rule.filter;\n    var operator = rule.operator;\n\n    if (!filter || !operator) {\n        return;\n    }\n\n    this._updating_input = true;\n\n    if (filter.valueSetter) {\n        filter.valueSetter.call(this, rule, value);\n    }\n    else {\n        var $value = rule.$el.find(Selectors.value_container);\n\n        if (operator.nb_inputs == 1) {\n            value = [value];\n        }\n\n        for (var i = 0; i < operator.nb_inputs; i++) {\n            var name = Utils.escapeElementId(rule.id + '_value_' + i);\n\n            switch (filter.input) {\n                case 'radio':\n                    $value.find('[name=' + name + '][value=\"' + value[i] + '\"]').prop('checked', true).trigger('change');\n                    break;\n\n                case 'checkbox':\n                    if (!$.isArray(value[i])) {\n                        value[i] = [value[i]];\n                    }\n                    value[i].forEach(function(value) {\n                        $value.find('[name=' + name + '][value=\"' + value + '\"]').prop('checked', true).trigger('change');\n                    });\n                    break;\n\n                default:\n                    if (operator.multiple && filter.value_separator && $.isArray(value[i])) {\n                        value[i] = value[i].join(filter.value_separator);\n                    }\n                    $value.find('[name=' + name + ']').val(value[i]).trigger('change');\n                    break;\n            }\n        }\n    }\n\n    this._updating_input = false;\n};\n\n/**\n * Clean rule flags.\n * @param rule {object}\n * @return {object}\n */\nQueryBuilder.prototype.parseRuleFlags = function(rule) {\n    var flags = $.extend({}, this.settings.default_rule_flags);\n\n    if (rule.readonly) {\n        $.extend(flags, {\n            filter_readonly: true,\n            operator_readonly: true,\n            value_readonly: true,\n            no_delete: true\n        });\n    }\n\n    if (rule.flags) {\n        $.extend(flags, rule.flags);\n    }\n\n    return this.change('parseRuleFlags', flags, rule);\n};\n\n/**\n * Get a copy of flags of a rule.\n * @param {object} flags\n * @param {boolean} all - true to return all flags, false to return only changes from default\n * @returns {object}\n */\nQueryBuilder.prototype.getRuleFlags = function(flags, all) {\n    if (all) {\n        return $.extend({}, flags);\n    }\n    else {\n        var ret = {};\n        $.each(this.settings.default_rule_flags, function(key, value) {\n            if (flags[key] !== value) {\n                ret[key] = flags[key];\n            }\n        });\n        return ret;\n    }\n};\n\n/**\n * Clean group flags.\n * @param group {object}\n * @return {object}\n */\nQueryBuilder.prototype.parseGroupFlags = function(group) {\n    var flags = $.extend({}, this.settings.default_group_flags);\n\n    if (group.readonly) {\n        $.extend(flags, {\n            condition_readonly: true,\n            no_add_rule: true,\n            no_add_group: true,\n            no_delete: true\n        });\n    }\n\n    if (group.flags) {\n        $.extend(flags, group.flags);\n    }\n\n    return this.change('parseGroupFlags', flags, group);\n};\n\n/**\n * Get a copy of flags of a group.\n * @param {object} flags\n * @param {boolean} all - true to return all flags, false to return only changes from default\n * @returns {object}\n */\nQueryBuilder.prototype.getGroupFlags = function(flags, all) {\n    if (all) {\n        return $.extend({}, flags);\n    }\n    else {\n        var ret = {};\n        $.each(this.settings.default_group_flags, function(key, value) {\n            if (flags[key] !== value) {\n                ret[key] = flags[key];\n            }\n        });\n        return ret;\n    }\n};\n\n/**\n * Translate a label\n * @param label {string|object}\n * @return string\n */\nQueryBuilder.prototype.translateLabel = function(label) {\n    return typeof label == 'object' ? (label[this.settings.lang_code] || label['en']) : label;\n};\n\n/**\n * Return a validation message\n * @param {object} validation\n * @param {string} type\n * @param {string} def\n * @returns {string}\n */\nQueryBuilder.prototype.getValidationMessage = function(validation, type, def) {\n    return validation.messages && validation.messages[type] || def;\n};\n\n\nQueryBuilder.templates.group = '\\\n<dl id=\"{{= it.group_id }}\" class=\"rules-group-container\"> \\\n  <dt class=\"rules-group-header\"> \\\n    <div class=\"btn-group pull-right group-actions\"> \\\n      <button type=\"button\" class=\"btn btn-xs btn-success\" data-add=\"rule\"> \\\n        <i class=\"{{= it.icons.add_rule }}\"></i> {{= it.lang.add_rule }} \\\n      </button> \\\n      {{? it.settings.allow_groups===-1 || it.settings.allow_groups>=it.level }} \\\n        <button type=\"button\" class=\"btn btn-xs btn-success\" data-add=\"group\"> \\\n          <i class=\"{{= it.icons.add_group }}\"></i> {{= it.lang.add_group }} \\\n        </button> \\\n      {{?}} \\\n      {{? it.level>1 }} \\\n        <button type=\"button\" class=\"btn btn-xs btn-danger\" data-delete=\"group\"> \\\n          <i class=\"{{= it.icons.remove_group }}\"></i> {{= it.lang.delete_group }} \\\n        </button> \\\n      {{?}} \\\n    </div> \\\n    <div class=\"btn-group group-conditions\"> \\\n      {{~ it.conditions: condition }} \\\n        <label class=\"btn btn-xs btn-primary\"> \\\n          <input type=\"radio\" name=\"{{= it.group_id }}_cond\" value=\"{{= condition }}\"> {{= it.lang.conditions[condition] || condition }} \\\n        </label> \\\n      {{~}} \\\n    </div> \\\n    {{? it.settings.display_errors }} \\\n      <div class=\"error-container\"><i class=\"{{= it.icons.error }}\"></i></div> \\\n    {{?}} \\\n  </dt> \\\n  <dd class=rules-group-body> \\\n    <ul class=rules-list></ul> \\\n  </dd> \\\n</dl>';\n\nQueryBuilder.templates.rule = '\\\n<li id=\"{{= it.rule_id }}\" class=\"rule-container\"> \\\n  <div class=\"rule-header\"> \\\n    <div class=\"btn-group pull-right rule-actions\"> \\\n      <button type=\"button\" class=\"btn btn-xs btn-danger\" data-delete=\"rule\"> \\\n        <i class=\"{{= it.icons.remove_rule }}\"></i> {{= it.lang.delete_rule }} \\\n      </button> \\\n    </div> \\\n  </div> \\\n  {{? it.settings.display_errors }} \\\n    <div class=\"error-container\"><i class=\"{{= it.icons.error }}\"></i></div> \\\n  {{?}} \\\n  <div class=\"rule-filter-container\"></div> \\\n  <div class=\"rule-operator-container\"></div> \\\n  <div class=\"rule-value-container\"></div> \\\n</li>';\n\nQueryBuilder.templates.filterSelect = '\\\n{{ var optgroup = null; }} \\\n<select class=\"form-control\" name=\"{{= it.rule.id }}_filter\"> \\\n  {{? it.settings.display_empty_filter }} \\\n    <option value=\"-1\">{{= it.settings.select_placeholder }}</option> \\\n  {{?}} \\\n  {{~ it.filters: filter }} \\\n    {{? optgroup !== filter.optgroup }} \\\n      {{? optgroup !== null }}</optgroup>{{?}} \\\n      {{? (optgroup = filter.optgroup) !== null }} \\\n        <optgroup label=\"{{= it.translate(it.settings.optgroups[optgroup]) }}\"> \\\n      {{?}} \\\n    {{?}} \\\n    <option value=\"{{= filter.id }}\">{{= it.translate(filter.label) }}</option> \\\n  {{~}} \\\n  {{? optgroup !== null }}</optgroup>{{?}} \\\n</select>';\n\nQueryBuilder.templates.operatorSelect = '\\\n{{? it.operators.length === 1 }} \\\n<span> \\\n{{= it.lang.operators[it.operators[0].type] || it.operators[0].type }} \\\n</span> \\\n{{?}} \\\n{{ var optgroup = null; }} \\\n<select class=\"form-control {{? it.operators.length === 1 }}hide{{?}}\" name=\"{{= it.rule.id }}_operator\"> \\\n  {{~ it.operators: operator }} \\\n    {{? optgroup !== operator.optgroup }} \\\n      {{? optgroup !== null }}</optgroup>{{?}} \\\n      {{? (optgroup = operator.optgroup) !== null }} \\\n        <optgroup label=\"{{= it.translate(it.settings.optgroups[optgroup]) }}\"> \\\n      {{?}} \\\n    {{?}} \\\n    <option value=\"{{= operator.type }}\">{{= it.lang.operators[operator.type] || operator.type }}</option> \\\n  {{~}} \\\n  {{? optgroup !== null }}</optgroup>{{?}} \\\n</select>';\n\n/**\n * Returns group HTML\n * @param group_id {string}\n * @param level {int}\n * @return {string}\n */\nQueryBuilder.prototype.getGroupTemplate = function(group_id, level) {\n    var h = this.templates.group({\n        builder: this,\n        group_id: group_id,\n        level: level,\n        conditions: this.settings.conditions,\n        icons: this.icons,\n        lang: this.lang,\n        settings: this.settings\n    });\n\n    return this.change('getGroupTemplate', h, level);\n};\n\n/**\n * Returns rule HTML\n * @param rule_id {string}\n * @return {string}\n */\nQueryBuilder.prototype.getRuleTemplate = function(rule_id) {\n    var h = this.templates.rule({\n        builder: this,\n        rule_id: rule_id,\n        icons: this.icons,\n        lang: this.lang,\n        settings: this.settings\n    });\n\n    return this.change('getRuleTemplate', h);\n};\n\n/**\n * Returns rule filter <select> HTML\n * @param rule {Rule}\n * @param filters {array}\n * @return {string}\n */\nQueryBuilder.prototype.getRuleFilterSelect = function(rule, filters) {\n    var h = this.templates.filterSelect({\n        builder: this,\n        rule: rule,\n        filters: filters,\n        icons: this.icons,\n        lang: this.lang,\n        settings: this.settings,\n        translate: this.translateLabel\n    });\n\n    return this.change('getRuleFilterSelect', h, rule);\n};\n\n/**\n * Returns rule operator <select> HTML\n * @param rule {Rule}\n * @param operators {object}\n * @return {string}\n */\nQueryBuilder.prototype.getRuleOperatorSelect = function(rule, operators) {\n    var h = this.templates.operatorSelect({\n        builder: this,\n        rule: rule,\n        operators: operators,\n        icons: this.icons,\n        lang: this.lang,\n        settings: this.settings,\n        translate: this.translateLabel\n    });\n\n    return this.change('getRuleOperatorSelect', h, rule);\n};\n\n/**\n * Return the rule value HTML\n * @param rule {Rule}\n * @param filter {object}\n * @param value_id {int}\n * @return {string}\n */\nQueryBuilder.prototype.getRuleInput = function(rule, value_id) {\n    var filter = rule.filter;\n    var validation = rule.filter.validation || {};\n    var name = rule.id + '_value_' + value_id;\n    var c = filter.vertical ? ' class=block' : '';\n    var h = '';\n\n    if (typeof filter.input == 'function') {\n        h = filter.input.call(this, rule, name);\n    }\n    else {\n        switch (filter.input) {\n            case 'radio': case 'checkbox':\n                Utils.iterateOptions(filter.values, function(key, val) {\n                    h+= '<label' + c + '><input type=\"' + filter.input + '\" name=\"' + name + '\" value=\"' + key + '\"> ' + val + '</label> ';\n                });\n                break;\n\n            case 'select':\n                h+= '<select class=\"form-control\" name=\"' + name + '\"' + (filter.multiple ? ' multiple' : '') + '>';\n                if (filter.placeholder) {\n                    h+= '<option value=\"' + filter.placeholder_value + '\" disabled selected>' + filter.placeholder + '</option>';\n                }\n                Utils.iterateOptions(filter.values, function(key, val) {\n                    h+= '<option value=\"' + key + '\">' + val + '</option> ';\n                });\n                h+= '</select>';\n                break;\n\n            case 'textarea':\n                h+= '<textarea class=\"form-control\" name=\"' + name + '\"';\n                if (filter.size) h+= ' cols=\"' + filter.size + '\"';\n                if (filter.rows) h+= ' rows=\"' + filter.rows + '\"';\n                if (validation.min !== undefined) h+= ' minlength=\"' + validation.min + '\"';\n                if (validation.max !== undefined) h+= ' maxlength=\"' + validation.max + '\"';\n                if (filter.placeholder) h+= ' placeholder=\"' + filter.placeholder + '\"';\n                h+= '></textarea>';\n                break;\n\n            default:\n                switch (QueryBuilder.types[filter.type]) {\n                    case 'number':\n                        h+= '<input class=\"form-control\" type=\"number\" name=\"' + name + '\"';\n                        if (validation.step !== undefined) h+= ' step=\"' + validation.step + '\"';\n                        if (validation.min !== undefined) h+= ' min=\"' + validation.min + '\"';\n                        if (validation.max !== undefined) h+= ' max=\"' + validation.max + '\"';\n                        if (filter.placeholder) h+= ' placeholder=\"' + filter.placeholder + '\"';\n                        if (filter.size) h+= ' size=\"' + filter.size + '\"';\n                        h+= '>';\n                        break;\n\n                    default:\n                        h+= '<input class=\"form-control\" type=\"text\" name=\"' + name + '\"';\n                        if (filter.placeholder) h+= ' placeholder=\"' + filter.placeholder + '\"';\n                        if (filter.type === 'string' && validation.min !== undefined) h+= ' minlength=\"' + validation.min + '\"';\n                        if (filter.type === 'string' && validation.max !== undefined) h+= ' maxlength=\"' + validation.max + '\"';\n                        if (filter.size) h+= ' size=\"' + filter.size + '\"';\n                        h+= '>';\n                }\n        }\n    }\n\n    return this.change('getRuleInput', h, rule, name);\n};\n\n\n// Model CLASS\n// ===============================\n/**\n * Main object storing data model and emitting events\n * ---------\n * Access Node object stored in jQuery objects\n * @param el {jQuery|Node}\n * @return {Node}\n */\nfunction Model(el) {\n    if (!(this instanceof Model)) {\n        return Model.getModel(el);\n    }\n\n    this.root = null;\n    this.$ = $(this);\n}\n\n$.extend(Model.prototype, {\n    trigger: function(type) {\n        this.$.triggerHandler(type, Array.prototype.slice.call(arguments, 1));\n        return this;\n    },\n\n    on: function() {\n        this.$.on.apply(this.$, Array.prototype.slice.call(arguments));\n        return this;\n    },\n\n    off: function() {\n        this.$.off.apply(this.$, Array.prototype.slice.call(arguments));\n        return this;\n    },\n\n    once: function() {\n        this.$.one.apply(this.$, Array.prototype.slice.call(arguments));\n        return this;\n    }\n});\n\n/**\n * Access Node object stored in jQuery objects\n * @param el {jQuery|Node}\n * @return {Node}\n */\nModel.getModel = function(el) {\n    if (!el) {\n        return null;\n    }\n    else if (el instanceof Node) {\n        return el;\n    }\n    else {\n        return $(el).data('queryBuilderModel');\n    }\n};\n\n/*\n * Define Node properties with getter and setter\n * Update events are emitted in the setter through root Model (if any)\n */\nModel.defineModelProperties = function(obj, fields) {\n    fields.forEach(function(field) {\n        Object.defineProperty(obj.prototype, field, {\n            enumerable: true,\n            get: function() {\n                return this.__[field];\n            },\n            set: function(value) {\n                var oldValue = (this.__[field] !== null && typeof this.__[field] == 'object') ?\n                  $.extend({}, this.__[field]) :\n                  this.__[field];\n\n                this.__[field] = value;\n\n                if (this.model !== null) {\n                    this.model.trigger('update', this, field, value, oldValue);\n                }\n            }\n        });\n    });\n};\n\n\n// Node abstract CLASS\n// ===============================\n/**\n * @param {Node}\n * @param {jQuery}\n */\nvar Node = function(parent, $el) {\n    if (!(this instanceof Node)) {\n        return new Node();\n    }\n\n    Object.defineProperty(this, '__', { value: {} });\n\n    $el.data('queryBuilderModel', this);\n\n    this.__.level = 1;\n    this.__.error = null;\n    this.__.data = undefined;\n    this.$el = $el;\n    this.id = $el[0].id;\n    this.model = null;\n    this.parent = parent;\n};\n\nModel.defineModelProperties(Node, ['level', 'error', 'data', 'flags']);\n\nObject.defineProperty(Node.prototype, 'parent', {\n    enumerable: true,\n    get: function() {\n        return this.__.parent;\n    },\n    set: function(value) {\n        this.__.parent = value;\n        this.level = value === null ? 1 : value.level + 1;\n        this.model = value === null ? null : value.model;\n    }\n});\n\n/**\n * Check if this Node is the root\n * @return {boolean}\n */\nNode.prototype.isRoot = function() {\n    return (this.level === 1);\n};\n\n/**\n * Return node position inside parent\n * @return {int}\n */\nNode.prototype.getPos = function() {\n    if (this.isRoot()) {\n        return -1;\n    }\n    else {\n        return this.parent.getNodePos(this);\n    }\n};\n\n/**\n * Delete self\n */\nNode.prototype.drop = function() {\n    var model = this.model;\n\n    if (!this.isRoot()) {\n        this.parent._removeNode(this);\n    }\n\n    if (model !== null) {\n        model.trigger('drop', this);\n    }\n};\n\n/**\n * Move itself after another Node\n * @param {Node}\n * @return {Node} self\n */\nNode.prototype.moveAfter = function(node) {\n    if (this.isRoot()) return;\n\n    this._move(node.parent, node.getPos() + 1);\n\n    return this;\n};\n\n/**\n * Move itself at the beginning of parent or another Group\n * @param {Group,optional}\n * @return {Node} self\n */\nNode.prototype.moveAtBegin = function(target) {\n    if (this.isRoot()) return;\n\n    if (target === undefined) {\n        target = this.parent;\n    }\n\n    this._move(target, 0);\n\n    return this;\n};\n\n/**\n * Move itself at the end of parent or another Group\n * @param {Group,optional}\n * @return {Node} self\n */\nNode.prototype.moveAtEnd = function(target) {\n    if (this.isRoot()) return;\n\n    if (target === undefined) {\n        target = this.parent;\n    }\n\n    this._move(target, target.length() === 0 ? 0 : target.length() - 1);\n\n    return this;\n};\n\n/**\n * Move itself at specific position of Group\n * @param {Group}\n * @param {int}\n */\nNode.prototype._move = function(group, index) {\n    this.parent._removeNode(this);\n    group._appendNode(this, index, false);\n\n    if (this.model !== null) {\n        this.model.trigger('move', this, group, index);\n    }\n};\n\n\n// GROUP CLASS\n// ===============================\n/**\n * @param {Group}\n * @param {jQuery}\n */\nvar Group = function(parent, $el) {\n    if (!(this instanceof Group)) {\n        return new Group(parent, $el);\n    }\n\n    Node.call(this, parent, $el);\n\n    this.rules = [];\n    this.__.condition = null;\n};\n\nGroup.prototype = Object.create(Node.prototype);\nGroup.prototype.constructor = Group;\n\nModel.defineModelProperties(Group, ['condition']);\n\n/**\n * Empty the Group\n */\nGroup.prototype.empty = function() {\n    this.each('reverse', function(rule) {\n        rule.drop();\n    }, function(group) {\n        group.drop();\n    });\n};\n\n/**\n * Delete self\n */\nGroup.prototype.drop = function() {\n    this.empty();\n    Node.prototype.drop.call(this);\n};\n\n/**\n * Return the number of children\n * @return {int}\n */\nGroup.prototype.length = function() {\n    return this.rules.length;\n};\n\n/**\n * Add a Node at specified index\n * @param {Node}\n * @param {int,optional}\n * @param {boolean,optional}\n * @return {Node} the inserted node\n */\nGroup.prototype._appendNode = function(node, index, trigger) {\n    if (index === undefined) {\n        index = this.length();\n    }\n\n    this.rules.splice(index, 0, node);\n    node.parent = this;\n\n    if (trigger && this.model !== null) {\n        this.model.trigger('add', node, index);\n    }\n\n    return node;\n};\n\n/**\n * Add a Group by jQuery element at specified index\n * @param {jQuery}\n * @param {int,optional}\n * @return {Group} the inserted group\n */\nGroup.prototype.addGroup = function($el, index) {\n    return this._appendNode(new Group(this, $el), index, true);\n};\n\n/**\n * Add a Rule by jQuery element at specified index\n * @param {jQuery}\n * @param {int,optional}\n * @return {Rule} the inserted rule\n */\nGroup.prototype.addRule = function($el, index) {\n    return this._appendNode(new Rule(this, $el), index, true);\n};\n\n/**\n * Delete a specific Node\n * @param {Node}\n * @return {Group} self\n */\nGroup.prototype._removeNode = function(node) {\n    var index = this.getNodePos(node);\n    if (index !== -1) {\n        node.parent = null;\n        this.rules.splice(index, 1);\n    }\n\n    return this;\n};\n\n/**\n * Return position of a child Node\n * @param {Node}\n * @return {int}\n */\nGroup.prototype.getNodePos = function(node) {\n    return this.rules.indexOf(node);\n};\n\n/**\n * Iterate over all Nodes\n * @param {boolean,optional} iterate in reverse order, required if you delete nodes\n * @param {function} callback for Rules\n * @param {function,optional} callback for Groups\n * @return {boolean}\n */\nGroup.prototype.each = function(reverse, cbRule, cbGroup, context) {\n    if (typeof reverse == 'function') {\n        context = cbGroup;\n        cbGroup = cbRule;\n        cbRule = reverse;\n        reverse = false;\n    }\n    context = context === undefined ? null : context;\n\n    var i = reverse ? this.rules.length - 1 : 0;\n    var l = reverse ? 0 : this.rules.length - 1;\n    var c = reverse ? -1 : 1;\n    var next = function() { return reverse ? i >= l : i <= l; };\n    var stop = false;\n\n    for (; next(); i+= c) {\n        if (this.rules[i] instanceof Group) {\n            if (cbGroup !== undefined) {\n                stop = cbGroup.call(context, this.rules[i]) === false;\n            }\n        }\n        else {\n            stop = cbRule.call(context, this.rules[i]) === false;\n        }\n\n        if (stop) {\n            break;\n        }\n    }\n\n    return !stop;\n};\n\n/**\n * Return true if the group contains a particular Node\n * @param {Node}\n * @param {boolean,optional} recursive search\n * @return {boolean}\n */\nGroup.prototype.contains = function(node, deep) {\n    if (this.getNodePos(node) !== -1) {\n        return true;\n    }\n    else if (!deep) {\n        return false;\n    }\n    else {\n        // the loop will return with false as soon as the Node is found\n        return !this.each(function(rule) {\n            return true;\n        }, function(group) {\n            return !group.contains(node, true);\n        });\n    }\n};\n\n\n// RULE CLASS\n// ===============================\n/**\n * @param {Group}\n * @param {jQuery}\n */\nvar Rule = function(parent, $el) {\n    if (!(this instanceof Rule)) {\n        return new Rule(parent, $el);\n    }\n\n    Node.call(this, parent, $el);\n\n    this._updating_value = false;\n    this._updating_input = false;\n\n    this.__.filter = null;\n    this.__.operator = null;\n    this.__.flags = {};\n    this.__.value = undefined;\n};\n\nRule.prototype = Object.create(Node.prototype);\nRule.prototype.constructor = Rule;\n\nModel.defineModelProperties(Rule, ['filter', 'operator', 'value']);\n\n\n// EXPORT\n// ===============================\nQueryBuilder.Group = Group;\nQueryBuilder.Rule = Rule;\n\n\nvar Utils = QueryBuilder.utils = {};\n\n/**\n * Utility to iterate over radio/checkbox/selection options.\n * it accept three formats: array of values, map, array of 1-element maps\n *\n * @param options {object|array}\n * @param tpl {callable} (takes key and text)\n */\nUtils.iterateOptions = function(options, tpl) {\n    if (options) {\n        if ($.isArray(options)) {\n            options.forEach(function(entry) {\n                // array of one-element maps\n                if ($.isPlainObject(entry)) {\n                    $.each(entry, function(key, val) {\n                        tpl(key, val);\n                        return false; // break after first entry\n                    });\n                }\n                // array of values\n                else {\n                    tpl(entry, entry);\n                }\n            });\n        }\n        // unordered map\n        else {\n            $.each(options, function(key, val) {\n                tpl(key, val);\n            });\n        }\n    }\n};\n\n/**\n * Replaces {0}, {1}, ... in a string\n * @param str {string}\n * @param args,... {Array|*}\n * @return {string}\n */\nUtils.fmt = function(str, args) {\n    if (!Array.isArray(args)) {\n        args = Array.prototype.slice.call(arguments, 1);\n    }\n\n    return str.replace(/{([0-9]+)}/g, function(m, i) {\n        return args[parseInt(i)];\n    });\n};\n\n/**\n * Throw an Error object with custom name or logs an error\n * @param [doThrow=true] {boolean}\n * @param type {string}\n * @param message {string}\n * @param args,... {Array|*}\n */\nUtils.error = function() {\n    var i = 0;\n    var doThrow = typeof arguments[i] === 'boolean' ? arguments[i++] : true;\n    var type = arguments[i++];\n    var message = arguments[i++];\n    var args = Array.isArray(arguments[i]) ? arguments[i] : Array.prototype.slice.call(arguments, i);\n\n    if (doThrow) {\n        var err = new Error(Utils.fmt(message, args));\n        err.name = type + 'Error';\n        err.args = args;\n        throw err;\n    }\n    else {\n        console.error(type + 'Error: ' + Utils.fmt(message, args));\n    }\n};\n\n/**\n * Change type of a value to int or float\n * @param value {mixed}\n * @param type {string} 'integer', 'double' or anything else\n * @param boolAsInt {boolean} return 0 or 1 for booleans\n * @return {mixed}\n */\nUtils.changeType = function(value, type, boolAsInt) {\n    switch (type) {\n    // @formatter:off\n    case 'integer': return parseInt(value);\n    case 'double': return parseFloat(value);\n    case 'boolean':\n        var bool = value.trim().toLowerCase() === 'true' || value.trim() === '1' || value === 1;\n        return boolAsInt ? (bool ? 1 : 0) : bool;\n    default: return value;\n    // @formatter:on\n    }\n};\n\n/**\n * Escape string like mysql_real_escape_string\n * @param value {string}\n * @return {string}\n */\nUtils.escapeString = function(value) {\n    if (typeof value != 'string') {\n        return value;\n    }\n\n    return value\n        .replace(/[\\0\\n\\r\\b\\\\\\'\\\"]/g, function(s) {\n            switch (s) {\n            // @formatter:off\n            case '\\0': return '\\\\0';\n            case '\\n': return '\\\\n';\n            case '\\r': return '\\\\r';\n            case '\\b': return '\\\\b';\n            default:   return '\\\\' + s;\n            // @formatter:off\n            }\n        })\n        // uglify compliant\n        .replace(/\\t/g, '\\\\t')\n        .replace(/\\x1a/g, '\\\\Z');\n};\n\n/**\n * Escape value for use in regex\n * @param value {string}\n * @return {string}\n */\nUtils.escapeRegExp = function(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n};\n\n/**\n * Escape HTML element id\n * @param value {string}\n * @return {string}\n */\nUtils.escapeElementId = function(str) {\n    // Regex based on that suggested by:\n    // https://learn.jquery.com/using-jquery-core/faq/how-do-i-select-an-element-by-an-id-that-has-characters-used-in-css-notation/\n    // - escapes : . [ ] ,\n    // - avoids escaping already escaped values\n    return (str) ? str.replace(/(\\\\)?([:.\\[\\],])/g,\n            function( $0, $1, $2 ) { return $1 ? $0 : '\\\\' + $2; }) : str;\n};\n\n/**\n * Sort objects by grouping them by {key}, preserving initial order when possible\n * @param {object[]} items\n * @param {string} key\n * @returns {object[]}\n */\nUtils.groupSort = function(items, key) {\n    var optgroups = [];\n    var newItems = [];\n\n    items.forEach(function(item) {\n        var idx;\n\n        if (item[key]) {\n            idx = optgroups.lastIndexOf(item[key]);\n\n            if (idx == -1) {\n                idx = optgroups.length;\n            }\n            else {\n                idx++;\n            }\n        }\n        else {\n            idx = optgroups.length;\n        }\n\n        optgroups.splice(idx, 0, item[key]);\n        newItems.splice(idx, 0, item);\n    });\n\n    return newItems;\n};\n\n\n$.fn.queryBuilder = function(option) {\n    if (this.length === 0) {\n        Utils.error('Config', 'No target defined');\n    }\n    if (this.length > 1) {\n        Utils.error('Config', 'Unable to initialize on multiple target');\n    }\n\n    var data = this.data('queryBuilder');\n    var options = (typeof option == 'object' && option) || {};\n\n    if (!data && option == 'destroy') {\n        return this;\n    }\n    if (!data) {\n        this.data('queryBuilder', new QueryBuilder(this, options));\n    }\n    if (typeof option == 'string') {\n        return data[option].apply(data, Array.prototype.slice.call(arguments, 1));\n    }\n\n    return this;\n};\n\n$.fn.queryBuilder.constructor = QueryBuilder;\n$.fn.queryBuilder.defaults = QueryBuilder.defaults;\n$.fn.queryBuilder.extend = QueryBuilder.extend;\n$.fn.queryBuilder.define = QueryBuilder.define;\n$.fn.queryBuilder.regional = QueryBuilder.regional;\n\n\n/*!\n * jQuery QueryBuilder Awesome Bootstrap Checkbox\n * Applies Awesome Bootstrap Checkbox for checkbox and radio inputs.\n */\n\nQueryBuilder.define('bt-checkbox', function(options) {\n    if (options.font == 'glyphicons') {\n        var injectCSS = document.createElement('style');\n        injectCSS.innerHTML = '\\\n.checkbox input[type=checkbox]:checked + label:after { \\\n    font-family: \"Glyphicons Halflings\"; \\\n    content: \"\\\\e013\"; \\\n} \\\n.checkbox label:after { \\\n    padding-left: 4px; \\\n    padding-top: 2px; \\\n    font-size: 9px; \\\n}';\n        document.body.appendChild(injectCSS);\n    }\n\n    this.on('getRuleInput.filter', function(h, rule, name) {\n        var filter = rule.filter;\n\n        if ((filter.input === 'radio' || filter.input === 'checkbox') && !filter.plugin) {\n            h.value = '';\n\n            if (!filter.colors) {\n                filter.colors = {};\n            }\n            if (filter.color) {\n                filter.colors._def_ = filter.color;\n            }\n\n            var style = filter.vertical ? ' style=\"display:block\"' : '';\n            var i = 0;\n\n            Utils.iterateOptions(filter.values, function(key, val) {\n                var color = filter.colors[key] || filter.colors._def_ || options.color;\n                var id = name + '_' + (i++);\n\n                h.value+= '\\\n<div' + style + ' class=\"' + filter.input + ' ' + filter.input + '-' + color + '\"> \\\n  <input type=\"' + filter.input + '\" name=\"' + name + '\" id=\"' + id + '\" value=\"' + key + '\"> \\\n  <label for=\"' + id + '\">' + val + '</label> \\\n</div>';\n            });\n        }\n    });\n}, {\n    font: 'glyphicons',\n    color: 'default'\n});\n\n\n/*!\n * jQuery QueryBuilder Bootstrap Selectpicker\n * Applies Bootstrap Select on filters and operators combo-boxes.\n */\n\n/**\n * @throws ConfigError\n */\nQueryBuilder.define('bt-selectpicker', function(options) {\n    if (!$.fn.selectpicker || !$.fn.selectpicker.Constructor) {\n        Utils.error('MissingLibrary', 'Bootstrap Select is required to use \"bt-selectpicker\" plugin. Get it here: http://silviomoreto.github.io/bootstrap-select');\n    }\n\n    // init selectpicker\n    this.on('afterCreateRuleFilters', function(e, rule) {\n        rule.$el.find(Selectors.rule_filter).removeClass('form-control').selectpicker(options);\n    });\n\n    this.on('afterCreateRuleOperators', function(e, rule) {\n        rule.$el.find(Selectors.rule_operator).removeClass('form-control').selectpicker(options);\n    });\n\n    // update selectpicker on change\n    this.on('afterUpdateRuleFilter', function(e, rule) {\n        rule.$el.find(Selectors.rule_filter).selectpicker('render');\n    });\n\n    this.on('afterUpdateRuleOperator', function(e, rule) {\n        rule.$el.find(Selectors.rule_operator).selectpicker('render');\n    });\n}, {\n    container: 'body',\n    style: 'btn-inverse btn-xs',\n    width: 'auto',\n    showIcon: false\n});\n\n\n/*!\n * jQuery QueryBuilder Bootstrap Tooltip errors\n * Applies Bootstrap Tooltips on validation error messages.\n */\n\n/**\n * @throws ConfigError\n */\nQueryBuilder.define('bt-tooltip-errors', function(options) {\n    if (!$.fn.tooltip || !$.fn.tooltip.Constructor || !$.fn.tooltip.Constructor.prototype.fixTitle) {\n        Utils.error('MissingLibrary', 'Bootstrap Tooltip is required to use \"bt-tooltip-errors\" plugin. Get it here: http://getbootstrap.com');\n    }\n\n    var self = this;\n\n    // add BT Tooltip data\n    this.on('getRuleTemplate.filter getGroupTemplate.filter', function(h) {\n        var $h = $(h.value);\n        $h.find(Selectors.error_container).attr('data-toggle', 'tooltip');\n        h.value = $h.prop('outerHTML');\n    });\n\n    // init/refresh tooltip when title changes\n    this.model.on('update', function(e, node, field) {\n        if (field == 'error' && self.settings.display_errors) {\n            node.$el.find(Selectors.error_container).eq(0)\n              .tooltip(options)\n              .tooltip('hide')\n              .tooltip('fixTitle');\n        }\n    });\n}, {\n    placement: 'right'\n});\n\n\n/*!\n * jQuery QueryBuilder Change Filters\n * Allows to change available filters after plugin initialization.\n */\n\nQueryBuilder.extend({\n    /**\n     * Change the filters of the builder\n     * @throws ChangeFilterError\n     * @param {boolean,optional} delete rules using old filters\n     * @param {object[]} new filters\n     */\n    setFilters: function(delete_orphans, filters) {\n        var self = this;\n\n        if (filters === undefined) {\n            filters = delete_orphans;\n            delete_orphans = false;\n        }\n\n        filters = this.checkFilters(filters);\n        filters = this.change('setFilters', filters);\n\n        var filtersIds = filters.map(function(filter) {\n            return filter.id;\n        });\n\n        // check for orphans\n        if (!delete_orphans) {\n            (function checkOrphans(node) {\n                node.each(\n                    function(rule) {\n                        if (rule.filter && filtersIds.indexOf(rule.filter.id) === -1) {\n                            Utils.error('ChangeFilter', 'A rule is using filter \"{0}\"', rule.filter.id);\n                        }\n                    },\n                    checkOrphans\n                );\n            }(this.model.root));\n        }\n\n        // replace filters\n        this.filters = filters;\n\n        // apply on existing DOM\n        (function updateBuilder(node) {\n            node.each(true,\n              function(rule) {\n                  if (rule.filter && filtersIds.indexOf(rule.filter.id) === -1) {\n                      rule.drop();\n                  }\n                  else {\n                      self.createRuleFilters(rule);\n\n                      rule.$el.find(Selectors.rule_filter).val(rule.filter ? rule.filter.id : '-1');\n                      self.trigger('afterUpdateRuleFilter', rule);\n                  }\n              },\n              updateBuilder\n            );\n        }(this.model.root));\n\n        // update plugins\n        if (this.settings.plugins) {\n            if (this.settings.plugins['unique-filter']) {\n                this.updateDisabledFilters();\n            }\n            if (this.settings.plugins['bt-selectpicker']) {\n                this.$el.find(Selectors.rule_filter).selectpicker('render');\n            }\n        }\n\n        // reset the default_filter if does not exist anymore\n        if (this.settings.default_filter) {\n            try {\n                this.getFilterById(this.settings.default_filter);\n            }\n            catch (e) {\n                this.settings.default_filter = null;\n            }\n        }\n\n        this.trigger('afterSetFilters', filters);\n    },\n\n    /**\n     * Adds a new filter to the builder\n     * @param {object|object[]} the new filter\n     * @param {mixed,optional} numeric index or '#start' or '#end'\n     */\n    addFilter: function(new_filters, position) {\n        if (position === undefined || position == '#end') {\n            position = this.filters.length;\n        }\n        else if (position == '#start') {\n            position = 0;\n        }\n\n        if (!$.isArray(new_filters)) {\n            new_filters = [new_filters];\n        }\n\n        var filters = $.extend(true, [], this.filters);\n\n        // numeric position\n        if (parseInt(position) == position) {\n            Array.prototype.splice.apply(filters, [position, 0].concat(new_filters));\n        }\n        else {\n            // after filter by its id\n            if (this.filters.some(function(filter, index) {\n                if (filter.id == position) {\n                    position = index + 1;\n                    return true;\n                }\n            })) {\n                Array.prototype.splice.apply(filters, [position, 0].concat(new_filters));\n            }\n            // defaults to end of list\n            else {\n                Array.prototype.push.apply(filters, new_filters);\n            }\n        }\n\n        this.setFilters(filters);\n    },\n\n    /**\n     * Removes a filter from the builder\n     * @param {string|string[]} the filter id\n     * @param {boolean,optional} delete rules using old filters\n     */\n    removeFilter: function(filter_ids, delete_orphans) {\n        var filters = $.extend(true, [], this.filters);\n        if (typeof filter_ids === 'string') {\n            filter_ids = [filter_ids];\n        }\n\n        filters = filters.filter(function(filter) {\n            return filter_ids.indexOf(filter.id) === -1;\n        });\n\n        this.setFilters(delete_orphans, filters);\n    }\n});\n\n\n/*!\n * jQuery QueryBuilder Filter Description\n * Provides three ways to display a description about a filter: inline, Bootsrap Popover or Bootbox.\n */\n\n/**\n * @throws ConfigError\n */\nQueryBuilder.define('filter-description', function(options) {\n    /**\n     * INLINE\n     */\n    if (options.mode === 'inline') {\n        this.on('afterUpdateRuleFilter', function(e, rule) {\n            var $p = rule.$el.find('p.filter-description');\n\n            if (!rule.filter || !rule.filter.description) {\n                $p.hide();\n            }\n            else {\n                if ($p.length === 0) {\n                    $p = $('<p class=\"filter-description\"></p>');\n                    $p.appendTo(rule.$el);\n                }\n                else {\n                    $p.show();\n                }\n\n                $p.html('<i class=\"' + options.icon + '\"></i> ' + rule.filter.description);\n            }\n        });\n    }\n    /**\n     * POPOVER\n     */\n    else if (options.mode === 'popover') {\n        if (!$.fn.popover || !$.fn.popover.Constructor || !$.fn.popover.Constructor.prototype.fixTitle) {\n            Utils.error('MissingLibrary', 'Bootstrap Popover is required to use \"filter-description\" plugin. Get it here: http://getbootstrap.com');\n        }\n\n        this.on('afterUpdateRuleFilter', function(e, rule) {\n            var $b = rule.$el.find('button.filter-description');\n\n            if (!rule.filter || !rule.filter.description) {\n                $b.hide();\n\n                if ($b.data('bs.popover')) {\n                    $b.popover('hide');\n                }\n            }\n            else {\n                if ($b.length === 0) {\n                    $b = $('<button type=\"button\" class=\"btn btn-xs btn-info filter-description\" data-toggle=\"popover\"><i class=\"' + options.icon + '\"></i></button>');\n                    $b.prependTo(rule.$el.find(Selectors.rule_actions));\n\n                    $b.popover({\n                        placement: 'left',\n                        container: 'body',\n                        html: true\n                    });\n\n                    $b.on('mouseout', function() {\n                        $b.popover('hide');\n                    });\n                }\n                else {\n                    $b.show();\n                }\n\n                $b.data('bs.popover').options.content = rule.filter.description;\n\n                if ($b.attr('aria-describedby')) {\n                    $b.popover('show');\n                }\n            }\n        });\n    }\n    /**\n     * BOOTBOX\n     */\n    else if (options.mode === 'bootbox') {\n        if (!('bootbox' in window)) {\n            Utils.error('MissingLibrary', 'Bootbox is required to use \"filter-description\" plugin. Get it here: http://bootboxjs.com');\n        }\n\n        this.on('afterUpdateRuleFilter', function(e, rule) {\n            var $b = rule.$el.find('button.filter-description');\n\n            if (!rule.filter || !rule.filter.description) {\n                $b.hide();\n            }\n            else {\n                if ($b.length === 0) {\n                    $b = $('<button type=\"button\" class=\"btn btn-xs btn-info filter-description\" data-toggle=\"bootbox\"><i class=\"' + options.icon + '\"></i></button>');\n                    $b.prependTo(rule.$el.find(Selectors.rule_actions));\n\n                    $b.on('click', function() {\n                        bootbox.alert($b.data('description'));\n                    });\n                }\n\n                $b.data('description', rule.filter.description);\n            }\n        });\n    }\n}, {\n    icon: 'glyphicon glyphicon-info-sign',\n    mode: 'popover'\n});\n\n\n/*!\n * jQuery QueryBuilder Invert\n * Allows to invert a rule operator, a group condition or the entire builder.\n */\n\nQueryBuilder.defaults({\n    operatorOpposites: {\n        'equal':            'not_equal',\n        'not_equal':        'equal',\n        'in':               'not_in',\n        'not_in':           'in',\n        'less':             'greater_or_equal',\n        'less_or_equal':    'greater',\n        'greater':          'less_or_equal',\n        'greater_or_equal': 'less',\n        'between':          'not_between',\n        'not_between':      'between',\n        'begins_with':      'not_begins_with',\n        'not_begins_with':  'begins_with',\n        'contains':         'not_contains',\n        'not_contains':     'contains',\n        'ends_with':        'not_ends_with',\n        'not_ends_with':    'ends_with',\n        'is_empty':         'is_not_empty',\n        'is_not_empty':     'is_empty',\n        'is_null':          'is_not_null',\n        'is_not_null':      'is_null'\n    },\n\n    conditionOpposites: {\n        'AND': 'OR',\n        'OR': 'AND'\n    }\n});\n\nQueryBuilder.define('invert', function(options) {\n    var self = this;\n\n    /**\n     * Bind events\n     */\n    this.on('afterInit', function() {\n        self.$el.on('click.queryBuilder', '[data-invert=group]', function() {\n            var $group = $(this).closest(Selectors.group_container);\n            self.invert(Model($group), options);\n        });\n\n        if (options.display_rules_button && options.invert_rules) {\n            self.$el.on('click.queryBuilder', '[data-invert=rule]', function() {\n                var $rule = $(this).closest(Selectors.rule_container);\n                self.invert(Model($rule), options);\n            });\n        }\n    });\n\n    /**\n     * Modify templates\n     */\n    this.on('getGroupTemplate.filter', function(h, level) {\n        var $h = $(h.value);\n        $h.find(Selectors.condition_container).after('<button type=\"button\" class=\"btn btn-xs btn-default\" data-invert=\"group\"><i class=\"' + options.icon + '\"></i> ' + self.lang.invert + '</button>');\n        h.value = $h.prop('outerHTML');\n    });\n\n    if (options.display_rules_button && options.invert_rules) {\n        this.on('getRuleTemplate.filter', function(h) {\n            var $h = $(h.value);\n            $h.find(Selectors.rule_actions).prepend('<button type=\"button\" class=\"btn btn-xs btn-default\" data-invert=\"rule\"><i class=\"' + options.icon + '\"></i> ' + self.lang.invert + '</button>');\n            h.value = $h.prop('outerHTML');\n        });\n    }\n}, {\n    icon: 'glyphicon glyphicon-random',\n    recursive: true,\n    invert_rules: true,\n    display_rules_button: false,\n    silent_fail: false\n});\n\nQueryBuilder.extend({\n    /**\n     * Invert a Group, a Rule or the whole builder\n     * @throws InvertConditionError, InvertOperatorError\n     * @param {Node,optional}\n     * @param {object,optional}\n     */\n    invert: function(node, options) {\n        if (!(node instanceof Node)) {\n            if (!this.model.root) return;\n            options = node;\n            node = this.model.root;\n        }\n\n        if (typeof options != 'object') options = {};\n        if (options.recursive === undefined) options.recursive = true;\n        if (options.invert_rules === undefined) options.invert_rules = true;\n        if (options.silent_fail === undefined) options.silent_fail = false;\n        if (options.trigger === undefined) options.trigger = true;\n\n        if (node instanceof Group) {\n            // invert group condition\n            if (this.settings.conditionOpposites[node.condition]) {\n                node.condition = this.settings.conditionOpposites[node.condition];\n            }\n            else if (!options.silent_fail) {\n                Utils.error('InvertCondition', 'Unknown inverse of condition \"{0}\"', node.condition);\n            }\n\n            // recursive call\n            if (options.recursive) {\n                var tempOpts = $.extend({}, options, { trigger: false });\n                node.each(function(rule) {\n                    if (options.invert_rules) {\n                        this.invert(rule, tempOpts);\n                    }\n                }, function(group) {\n                    this.invert(group, tempOpts);\n                }, this);\n            }\n        }\n        else if (node instanceof Rule) {\n            if (node.operator && !node.filter.no_invert) {\n                // invert rule operator\n                if (this.settings.operatorOpposites[node.operator.type]) {\n                    var invert = this.settings.operatorOpposites[node.operator.type];\n                    // check if the invert is \"authorized\"\n                    if (!node.filter.operators || node.filter.operators.indexOf(invert) != -1) {\n                        node.operator = this.getOperatorByType(invert);\n                    }\n                }\n                else if (!options.silent_fail) {\n                    Utils.error('InvertOperator', 'Unknown inverse of operator \"{0}\"', node.operator.type);\n                }\n            }\n        }\n\n        if (options.trigger) {\n            this.trigger('afterInvert', node, options);\n        }\n    }\n});\n\n\n/*!\n * jQuery QueryBuilder MongoDB Support\n * Allows to export rules as a MongoDB find object as well as populating the builder from a MongoDB object.\n */\n\n// DEFAULT CONFIG\n// ===============================\nQueryBuilder.defaults({\n    mongoOperators: {\n        // @formatter:off\n        equal:            function(v) { return v[0]; },\n        not_equal:        function(v) { return { '$ne': v[0] }; },\n        in:               function(v) { return { '$in': v }; },\n        not_in:           function(v) { return { '$nin': v }; },\n        less:             function(v) { return { '$lt': v[0] }; },\n        less_or_equal:    function(v) { return { '$lte': v[0] }; },\n        greater:          function(v) { return { '$gt': v[0] }; },\n        greater_or_equal: function(v) { return { '$gte': v[0] }; },\n        between:          function(v) { return { '$gte': v[0], '$lte': v[1] }; },\n        not_between:      function(v) { return { '$lt': v[0], '$gt': v[1] }; },\n        begins_with:      function(v) { return { '$regex': '^' + Utils.escapeRegExp(v[0]) }; },\n        not_begins_with:  function(v) { return { '$regex': '^(?!' + Utils.escapeRegExp(v[0]) + ')' }; },\n        contains:         function(v) { return { '$regex': Utils.escapeRegExp(v[0]) }; },\n        not_contains:     function(v) { return { '$regex': '^((?!' + Utils.escapeRegExp(v[0]) + ').)*$', '$options': 's' }; },\n        ends_with:        function(v) { return { '$regex': Utils.escapeRegExp(v[0]) + '$' }; },\n        not_ends_with:    function(v) { return { '$regex': '(?<!' + Utils.escapeRegExp(v[0]) + ')$' }; },\n        is_empty:         function(v) { return ''; },\n        is_not_empty:     function(v) { return { '$ne': '' }; },\n        is_null:          function(v) { return null; },\n        is_not_null:      function(v) { return { '$ne': null }; }\n        // @formatter:on\n    },\n\n    mongoRuleOperators: {\n        $ne: function(v) {\n            v = v.$ne;\n            return {\n                'val': v,\n                'op': v === null ? 'is_not_null' : (v === '' ? 'is_not_empty' : 'not_equal')\n            };\n        },\n        eq: function(v) {\n            return {\n                'val': v,\n                'op': v === null ? 'is_null' : (v === '' ? 'is_empty' : 'equal')\n            };\n        },\n        $regex: function(v) {\n            v = v.$regex;\n            if (v.slice(0, 4) == '^(?!' && v.slice(-1) == ')') {\n                return { 'val': v.slice(4, -1), 'op': 'not_begins_with' };\n            }\n            else if (v.slice(0, 5) == '^((?!' && v.slice(-5) == ').)*$') {\n                return { 'val': v.slice(5, -5), 'op': 'not_contains' };\n            }\n            else if (v.slice(0, 4) == '(?<!' && v.slice(-2) == ')$') {\n                return { 'val': v.slice(4, -2), 'op': 'not_ends_with' };\n            }\n            else if (v.slice(-1) == '$') {\n                return { 'val': v.slice(0, -1), 'op': 'ends_with' };\n            }\n            else if (v.slice(0, 1) == '^') {\n                return { 'val': v.slice(1), 'op': 'begins_with' };\n            }\n            else {\n                return { 'val': v, 'op': 'contains' };\n            }\n        },\n        between:     function(v) { return { 'val': [v.$gte, v.$lte], 'op': 'between' }; },\n        not_between: function(v) { return { 'val': [v.$lt, v.$gt], 'op': 'not_between' }; },\n        $in:  function(v) { return { 'val': v.$in, 'op': 'in' }; },\n        $nin: function(v) { return { 'val': v.$nin, 'op': 'not_in' }; },\n        $lt:  function(v) { return { 'val': v.$lt, 'op': 'less' }; },\n        $lte: function(v) { return { 'val': v.$lte, 'op': 'less_or_equal' }; },\n        $gt:  function(v) { return { 'val': v.$gt, 'op': 'greater' }; },\n        $gte: function(v) { return { 'val': v.$gte, 'op': 'greater_or_equal' }; }\n    }\n});\n\n\n// PUBLIC METHODS\n// ===============================\nQueryBuilder.extend({\n    /**\n     * Get rules as MongoDB query\n     * @throws UndefinedMongoConditionError, UndefinedMongoOperatorError\n     * @param data {object} (optional) rules\n     * @return {object}\n     */\n    getMongo: function(data) {\n        data = (data === undefined) ? this.getRules() : data;\n\n        var self = this;\n\n        return (function parse(group) {\n            if (!group.condition) {\n                group.condition = self.settings.default_condition;\n            }\n            if (['AND', 'OR'].indexOf(group.condition.toUpperCase()) === -1) {\n                Utils.error('UndefinedMongoCondition', 'Unable to build MongoDB query with condition \"{0}\"', group.condition);\n            }\n\n            if (!group.rules) {\n                return {};\n            }\n\n            var parts = [];\n\n            group.rules.forEach(function(rule) {\n                if (rule.rules && rule.rules.length > 0) {\n                    parts.push(parse(rule));\n                }\n                else {\n                    var mdb = self.settings.mongoOperators[rule.operator];\n                    var ope = self.getOperatorByType(rule.operator);\n                    var values = [];\n\n                    if (mdb === undefined) {\n                        Utils.error('UndefinedMongoOperator', 'Unknown MongoDB operation for operator \"{0}\"', rule.operator);\n                    }\n\n                    if (ope.nb_inputs !== 0) {\n                        if (!(rule.value instanceof Array)) {\n                            rule.value = [rule.value];\n                        }\n\n                        rule.value.forEach(function(v) {\n                            values.push(Utils.changeType(v, rule.type, false));\n                        });\n                    }\n\n                    var ruleExpression = {};\n                    var field = self.change('getMongoDBField', rule.field, rule);\n                    ruleExpression[field] = mdb.call(self, values);\n                    parts.push(self.change('ruleToMongo', ruleExpression, rule, values, mdb));\n                }\n            });\n\n            var groupExpression = {};\n            groupExpression['$' + group.condition.toLowerCase()] = parts;\n            return self.change('groupToMongo', groupExpression, group);\n        }(data));\n    },\n\n    /**\n     * Convert MongoDB object to rules\n     * @throws MongoParseError, UndefinedMongoConditionError, UndefinedMongoOperatorError\n     * @param data {object} query object\n     * @return {object}\n     */\n    getRulesFromMongo: function(data) {\n        if (data === undefined || data === null) {\n            return null;\n        }\n\n        var self = this;\n\n        // allow plugins to manually parse or handle special cases\n        data = self.change('parseMongoNode', data);\n\n        // a plugin returned a group\n        if ('rules' in data && 'condition' in data) {\n            return data;\n        }\n\n        var key = andOr(data);\n        if (!key) {\n            Utils.error('MongoParse', 'Invalid MongoDB query format');\n        }\n\n        return (function parse(data, topKey) {\n            var rules = data[topKey];\n            var parts = [];\n\n            rules.forEach(function(data) {\n                // allow plugins to manually parse or handle special cases\n                data = self.change('parseMongoNode', data);\n\n                // a plugin returned a group\n                if ('rules' in data && 'condition' in data) {\n                    parts.push(data);\n                    return;\n                }\n\n                // a plugin returned a rule\n                if ('id' in data && 'operator' in data && 'value' in data) {\n                    parts.push(data);\n                    return;\n                }\n\n                var key = andOr(data);\n                if (key) {\n                    parts.push(parse(data, key));\n                }\n                else {\n                    var field = Object.keys(data)[0];\n                    var value = data[field];\n\n                    var operator = determineMongoOperator(value, field);\n                    if (operator === undefined) {\n                        Utils.error('MongoParse', 'Invalid MongoDB query format');\n                    }\n\n                    var mdbrl = self.settings.mongoRuleOperators[operator];\n                    if (mdbrl === undefined) {\n                        Utils.error('UndefinedMongoOperator', 'JSON Rule operation unknown for operator \"{0}\"', operator);\n                    }\n\n                    var opVal = mdbrl.call(self, value);\n\n                    var rule = self.change('mongoToRule', {\n                        id: self.change('getMongoDBFieldID', field, value),\n                        field: field,\n                        operator: opVal.op,\n                        value: opVal.val\n                    }, data);\n\n                    parts.push(rule);\n                }\n            });\n\n            return self.change('mongoToGroup', {\n                condition: topKey.replace('$', '').toUpperCase(),\n                rules: parts\n            }, data);\n        }(data, key));\n    },\n\n    /**\n     * Set rules from MongoDB object\n     * @param data {object}\n     */\n    setRulesFromMongo: function(data) {\n        this.setRules(this.getRulesFromMongo(data));\n    }\n});\n\n/**\n * Find which operator is used in a MongoDB sub-object\n * @param {mixed} value\n * @param {string} field\n * @return {string|undefined}\n */\nfunction determineMongoOperator(value, field) {\n    if (value !== null && typeof value == 'object') {\n        var subkeys = Object.keys(value);\n\n        if (subkeys.length === 1) {\n            return subkeys[0];\n        }\n        else {\n            if (value.$gte !== undefined && value.$lte !== undefined) {\n                return 'between';\n            }\n            if (value.$lt !== undefined && value.$gt !== undefined) {\n                return 'not_between';\n            }\n            else if (value.$regex !== undefined) { // optional $options\n                return '$regex';\n            }\n            else {\n                return;\n            }\n        }\n    }\n    else {\n        return 'eq';\n    }\n}\n\n/**\n * Returns the key corresponding to \"$or\" or \"$and\"\n * @param {object} data\n * @returns {string}\n */\nfunction andOr(data) {\n    var keys = Object.keys(data);\n\n    for (var i = 0, l = keys.length; i < l; i++) {\n        if (keys[i].toLowerCase() == '$or' || keys[i].toLowerCase() == '$and') {\n            return keys[i];\n        }\n    }\n\n    return undefined;\n}\n\n\n/*!\n * jQuery QueryBuilder Not\n * Adds a \"Not\" checkbox in front of group conditions.\n */\n\nSelectors.group_not = Selectors.group_header + ' [data-not=group]';\n\nModel.defineModelProperties(Group, ['not']);\n\nQueryBuilder.define('not-group', function(options) {\n    var self = this;\n\n    /**\n     * Bind events\n     */\n    this.on('afterInit', function() {\n        self.$el.on('click.queryBuilder', '[data-not=group]', function() {\n            var $group = $(this).closest(Selectors.group_container);\n            var group = Model($group);\n            group.not = !group.not;\n        });\n\n        self.model.on('update', function(e, node, field) {\n            if (node instanceof Group && field === 'not') {\n                self.updateGroupNot(node);\n            }\n        });\n    });\n\n    /**\n     * Init \"not\" property\n     */\n    this.on('afterAddGroup', function(e, group) {\n        group.__.not = false;\n    });\n\n    /**\n     * Modify templates\n     */\n    this.on('getGroupTemplate.filter', function(h, level) {\n        var $h = $(h.value);\n        $h.find(Selectors.condition_container).prepend(\n            '<button type=\"button\" class=\"btn btn-xs btn-default\" data-not=\"group\">' +\n            '<i class=\"' + options.icon_unchecked + '\"></i> ' + self.lang.NOT +\n            '</button>'\n        );\n        h.value = $h.prop('outerHTML');\n    });\n\n    /**\n     * Export \"not\" to JSON\n     */\n    this.on('groupToJson.filter', function(e, group) {\n        e.value.not = group.not;\n    });\n\n    /**\n     * Read \"not\" from JSON\n     */\n    this.on('jsonToGroup.filter', function(e, json) {\n        e.value.not = !!json.not;\n    });\n\n    /**\n     * Export \"not\" to SQL\n     */\n    this.on('groupToSQL.filter', function(e, group) {\n        if (group.not) {\n            e.value = 'NOT ( ' + e.value + ' )';\n        }\n    });\n\n    /**\n     * Parse \"NOT\" function from sqlparser\n     */\n    this.on('parseSQLNode.filter', function(e) {\n        if (e.value.name && e.value.name.toUpperCase() == 'NOT') {\n            e.value = e.value.arguments.value[0];\n            e.value.not = true;\n        }\n    });\n\n    /**\n     * Read \"not\" from parsed SQL\n     */\n    this.on('sqlToGroup.filter', function(e, data) {\n        e.value.not = !!data.not;\n    });\n\n    /**\n     * Export \"not\" to Mongo\n     */\n    this.on('groupToMongo.filter', function(e, group) {\n        var key = '$' + group.condition.toLowerCase();\n        if (group.not && e.value[key]) {\n            e.value = { '$nor': [e.value] };\n        }\n    });\n\n    /**\n     * Parse \"$nor\" operator from Mongo\n     */\n    this.on('parseMongoNode.filter', function(e) {\n        var keys = Object.keys(e.value);\n\n        if (keys[0] == '$nor') {\n            e.value = e.value[keys[0]][0];\n            e.value.not = true;\n        }\n    });\n\n    /**\n     * Read \"not\" from parsed Mongo\n     */\n    this.on('mongoToGroup.filter', function(e, data) {\n        e.value.not = !!data.not;\n    });\n}, {\n    icon_unchecked: 'glyphicon glyphicon-unchecked',\n    icon_checked: 'glyphicon glyphicon-check'\n});\n\nQueryBuilder.extend({\n    /**\n     * Apply the \"not\" property to the DOM\n     * @param group\n     */\n    updateGroupNot: function(group) {\n        var options = this.plugins['not-group'];\n        group.$el.find('>' + Selectors.group_not)\n            .toggleClass('active', group.not)\n            .find('i').attr('class', group.not ? options.icon_checked : options.icon_unchecked);\n\n        this.trigger('afterUpdateGroupNot', group);\n    }\n});\n\n\n/*!\n * jQuery QueryBuilder Sortable\n * Enables drag & drop sort of rules.\n */\n\nSelectors.rule_and_group_containers = Selectors.rule_container + ', ' + Selectors.group_container;\nSelectors.drag_handle = '.drag-handle';\n\nQueryBuilder.defaults({\n    default_rule_flags: {\n        no_sortable: false,\n        no_drop: false\n    },\n    default_group_flags: {\n        no_sortable: false,\n        no_drop: false\n    }\n});\n\nQueryBuilder.define('sortable', function(options) {\n    if (!('interact' in window)) {\n        Utils.error('MissingLibrary', 'interact.js is required to use \"sortable\" plugin. Get it here: http://interactjs.io');\n    }\n\n    if (options.default_no_sortable !== undefined) {\n        Utils.error(false, 'Config', 'Sortable plugin : \"default_no_sortable\" options is deprecated, use standard \"default_rule_flags\" and \"default_group_flags\" instead');\n        this.settings.default_rule_flags.no_sortable = this.settings.default_group_flags.no_sortable = options.default_no_sortable;\n    }\n\n    // recompute drop-zones during drag (when a rule is hidden)\n    interact.dynamicDrop(true);\n\n    // set move threshold to 10px\n    interact.pointerMoveTolerance(10);\n\n    var placeholder;\n    var ghost;\n    var src;\n\n    /**\n     * Init drag and drop\n     */\n    this.on('afterAddRule afterAddGroup', function(e, node) {\n        if (node == placeholder) {\n            return;\n        }\n\n        var self = e.builder;\n\n        /**\n         * Inherit flags\n         */\n        if (options.inherit_no_sortable && node.parent && node.parent.flags.no_sortable) {\n            node.flags.no_sortable = true;\n        }\n        if (options.inherit_no_drop && node.parent && node.parent.flags.no_drop) {\n            node.flags.no_drop = true;\n        }\n\n        /**\n         * Configure drag\n         */\n        if (!node.flags.no_sortable) {\n            interact(node.$el[0])\n                .allowFrom(Selectors.drag_handle)\n                .draggable({\n                    onstart: function(event) {\n                        // get model of dragged element\n                        src = Model(event.target);\n\n                        // create ghost\n                        ghost = src.$el.clone()\n                            .appendTo(src.$el.parent())\n                            .width(src.$el.outerWidth())\n                            .addClass('dragging');\n\n                        // create drop placeholder\n                        var ph = $('<div class=\"rule-placeholder\">&nbsp;</div>')\n                            .height(src.$el.outerHeight());\n\n                        placeholder = src.parent.addRule(ph, src.getPos());\n\n                        // hide dragged element\n                        src.$el.hide();\n                    },\n                    onmove: function(event) {\n                        // make the ghost follow the cursor\n                        ghost[0].style.top = event.clientY - 15 + 'px';\n                        ghost[0].style.left = event.clientX - 15 + 'px';\n                    },\n                    onend: function() {\n                        // remove ghost\n                        ghost.remove();\n                        ghost = undefined;\n\n                        // remove placeholder\n                        placeholder.drop();\n                        placeholder = undefined;\n\n                        // show element\n                        src.$el.show();\n\n                        self.trigger('afterMove', src);\n                    }\n                });\n        }\n\n        if (!node.flags.no_drop) {\n            /**\n             * Configure drop on groups and rules\n             */\n            interact(node.$el[0])\n                .dropzone({\n                    accept: Selectors.rule_and_group_containers,\n                    ondragenter: function(event) {\n                        moveSortableToTarget(placeholder, $(event.target));\n                    },\n                    ondrop: function(event) {\n                        moveSortableToTarget(src, $(event.target), self);\n                    }\n                });\n\n            /**\n             * Configure drop on group headers\n             */\n            if (node instanceof Group) {\n                interact(node.$el.find(Selectors.group_header)[0])\n                    .dropzone({\n                        accept: Selectors.rule_and_group_containers,\n                        ondragenter: function(event) {\n                            moveSortableToTarget(placeholder, $(event.target));\n                        },\n                        ondrop: function(event) {\n                            moveSortableToTarget(src, $(event.target), self);\n                        }\n                    });\n            }\n        }\n    });\n\n    /**\n     * Detach interactables\n     */\n    this.on('beforeDeleteRule beforeDeleteGroup', function(e, node) {\n        if (!e.isDefaultPrevented()) {\n            interact(node.$el[0]).unset();\n\n            if (node instanceof Group) {\n                interact(node.$el.find(Selectors.group_header)[0]).unset();\n            }\n        }\n    });\n\n    /**\n     * Remove drag handle from non-sortable items\n     */\n    this.on('afterApplyRuleFlags afterApplyGroupFlags', function(e, node) {\n        if (node.flags.no_sortable) {\n            node.$el.find('.drag-handle').remove();\n        }\n    });\n\n    /**\n     * Modify templates\n     */\n    this.on('getGroupTemplate.filter', function(h, level) {\n        if (level > 1) {\n            var $h = $(h.value);\n            $h.find(Selectors.condition_container).after('<div class=\"drag-handle\"><i class=\"' + options.icon + '\"></i></div>');\n            h.value = $h.prop('outerHTML');\n        }\n    });\n\n    this.on('getRuleTemplate.filter', function(h) {\n        var $h = $(h.value);\n        $h.find(Selectors.rule_header).after('<div class=\"drag-handle\"><i class=\"' + options.icon + '\"></i></div>');\n        h.value = $h.prop('outerHTML');\n    });\n}, {\n    inherit_no_sortable: true,\n    inherit_no_drop: true,\n    icon: 'glyphicon glyphicon-sort'\n});\n\n/**\n * Move an element (placeholder or actual object) depending on active target\n * @param {Node} node\n * @param {jQuery} target\n * @param {QueryBuilder} [builder]\n */\nfunction moveSortableToTarget(node, target, builder) {\n    var parent, method;\n\n    // on rule\n    parent = target.closest(Selectors.rule_container);\n    if (parent.length) {\n        method = 'moveAfter';\n    }\n\n    // on group header\n    if (!method) {\n        parent = target.closest(Selectors.group_header);\n        if (parent.length) {\n            parent = target.closest(Selectors.group_container);\n            method = 'moveAtBegin';\n        }\n    }\n\n    // on group\n    if (!method) {\n        parent = target.closest(Selectors.group_container);\n        if (parent.length) {\n            method = 'moveAtEnd';\n        }\n    }\n\n    if (method) {\n        node[method](Model(parent));\n\n        // refresh radio value\n        if (builder && node instanceof Rule) {\n            builder.setRuleInputValue(node, node.value);\n        }\n    }\n}\n\n\n/*!\n * jQuery QueryBuilder SQL Support\n * Allows to export rules as a SQL WHERE statement as well as populating the builder from an SQL query.\n */\n\n// DEFAULT CONFIG\n// ===============================\nQueryBuilder.defaults({\n    /* operators for internal -> SQL conversion */\n    sqlOperators: {\n        equal:            { op: '= ?' },\n        not_equal:        { op: '!= ?' },\n        in:               { op: 'IN(?)',          sep: ', ' },\n        not_in:           { op: 'NOT IN(?)',      sep: ', ' },\n        less:             { op: '< ?' },\n        less_or_equal:    { op: '<= ?' },\n        greater:          { op: '> ?' },\n        greater_or_equal: { op: '>= ?' },\n        between:          { op: 'BETWEEN ?',      sep: ' AND ' },\n        not_between:      { op: 'NOT BETWEEN ?',  sep: ' AND ' },\n        begins_with:      { op: 'LIKE(?)',        mod: '{0}%' },\n        not_begins_with:  { op: 'NOT LIKE(?)',    mod: '{0}%' },\n        contains:         { op: 'LIKE(?)',        mod: '%{0}%' },\n        not_contains:     { op: 'NOT LIKE(?)',    mod: '%{0}%' },\n        ends_with:        { op: 'LIKE(?)',        mod: '%{0}' },\n        not_ends_with:    { op: 'NOT LIKE(?)',    mod: '%{0}' },\n        is_empty:         { op: '= \\'\\'' },\n        is_not_empty:     { op: '!= \\'\\'' },\n        is_null:          { op: 'IS NULL' },\n        is_not_null:      { op: 'IS NOT NULL' }\n    },\n\n    /* operators for SQL -> internal conversion */\n    sqlRuleOperator: {\n        '=': function(v) {\n            return {\n                val: v,\n                op: v === '' ? 'is_empty' : 'equal'\n            };\n        },\n        '!=': function(v) {\n            return {\n                val: v,\n                op: v === '' ? 'is_not_empty' : 'not_equal'\n            };\n        },\n        'LIKE': function(v) {\n            if (v.slice(0, 1) == '%' && v.slice(-1) == '%') {\n                return {\n                    val: v.slice(1, -1),\n                    op: 'contains'\n                };\n            }\n            else if (v.slice(0, 1) == '%') {\n                return {\n                    val: v.slice(1),\n                    op: 'ends_with'\n                };\n            }\n            else if (v.slice(-1) == '%') {\n                return {\n                    val: v.slice(0, -1),\n                    op: 'begins_with'\n                };\n            }\n            else {\n                Utils.error('SQLParse', 'Invalid value for LIKE operator \"{0}\"', v);\n            }\n        },\n        'NOT LIKE': function(v) {\n            if (v.slice(0, 1) == '%' && v.slice(-1) == '%') {\n                return {\n                    val: v.slice(1, -1),\n                    op: 'not_contains'\n                };\n            }\n            else if (v.slice(0, 1) == '%') {\n                return {\n                    val: v.slice(1),\n                    op: 'not_ends_with'\n                };\n            }\n            else if (v.slice(-1) == '%') {\n                return {\n                    val: v.slice(0, -1),\n                    op: 'not_begins_with'\n                };\n            }\n            else {\n                Utils.error('SQLParse', 'Invalid value for NOT LIKE operator \"{0}\"', v);\n            }\n        },\n        'IN':           function(v) { return { val: v, op: 'in' }; },\n        'NOT IN':       function(v) { return { val: v, op: 'not_in' }; },\n        '<':            function(v) { return { val: v, op: 'less' }; },\n        '<=':           function(v) { return { val: v, op: 'less_or_equal' }; },\n        '>':            function(v) { return { val: v, op: 'greater' }; },\n        '>=':           function(v) { return { val: v, op: 'greater_or_equal' }; },\n        'BETWEEN':      function(v) { return { val: v, op: 'between' }; },\n        'NOT BETWEEN':  function(v) { return { val: v, op: 'not_between' }; },\n        'IS': function(v) {\n            if (v !== null) {\n                Utils.error('SQLParse', 'Invalid value for IS operator');\n            }\n            return { val: null, op: 'is_null' };\n        },\n        'IS NOT': function(v) {\n            if (v !== null) {\n                Utils.error('SQLParse', 'Invalid value for IS operator');\n            }\n            return { val: null, op: 'is_not_null' };\n        }\n    },\n\n    /* statements for internal -> SQL conversion */\n    sqlStatements: {\n        'question_mark': function() {\n            var params = [];\n            return {\n                add: function(rule, value) {\n                    params.push(value);\n                    return '?';\n                },\n                run: function() {\n                    return params;\n                }\n            };\n        },\n\n        'numbered': function(char) {\n            if (!char || char.length > 1) char = '$';\n            var index = 0;\n            var params = [];\n            return {\n                add: function(rule, value) {\n                    params.push(value);\n                    index++;\n                    return char + index;\n                },\n                run: function() {\n                    return params;\n                }\n            };\n        },\n\n        'named': function(char) {\n            if (!char || char.length > 1) char = ':';\n            var indexes = {};\n            var params = {};\n            return {\n                add: function(rule, value) {\n                    if (!indexes[rule.field]) indexes[rule.field] = 1;\n                    var key = rule.field + '_' + (indexes[rule.field]++);\n                    params[key] = value;\n                    return char + key;\n                },\n                run: function() {\n                    return params;\n                }\n            };\n        }\n    },\n\n    /* statements for SQL -> internal conversion */\n    sqlRuleStatement: {\n        'question_mark': function(values) {\n            var index = 0;\n            return {\n                parse: function(v) {\n                    return v == '?' ? values[index++] : v;\n                },\n                esc: function(sql) {\n                    return sql.replace(/\\?/g, '\\'?\\'');\n                }\n            };\n        },\n\n        'numbered': function(values, char) {\n            if (!char || char.length > 1) char = '$';\n            var regex1 = new RegExp('^\\\\' + char + '[0-9]+$');\n            var regex2 = new RegExp('\\\\' + char + '([0-9]+)', 'g');\n            return {\n                parse: function(v) {\n                    return regex1.test(v) ? values[v.slice(1) - 1] : v;\n                },\n                esc: function(sql) {\n                    return sql.replace(regex2, '\\'' + (char == '$' ? '$$' : char) + '$1\\'');\n                }\n            };\n        },\n\n        'named': function(values, char) {\n            if (!char || char.length > 1) char = ':';\n            var regex1 = new RegExp('^\\\\' + char);\n            var regex2 = new RegExp('\\\\' + char + '(' + Object.keys(values).join('|') + ')', 'g');\n            return {\n                parse: function(v) {\n                    return regex1.test(v) ? values[v.slice(1)] : v;\n                },\n                esc: function(sql) {\n                    return sql.replace(regex2, '\\'' + (char == '$' ? '$$' : char) + '$1\\'');\n                }\n            };\n        }\n    }\n});\n\n\n// PUBLIC METHODS\n// ===============================\nQueryBuilder.extend({\n    /**\n     * Get rules as SQL query\n     * @throws UndefinedSQLConditionError, UndefinedSQLOperatorError\n     * @param stmt {boolean|string} use prepared statements - false, 'question_mark', 'numbered', 'numbered(@)', 'named', 'named(@)'\n     * @param nl {bool} output with new lines\n     * @param data {object} (optional) rules\n     * @return {object}\n     */\n    getSQL: function(stmt, nl, data) {\n        data = (data === undefined) ? this.getRules() : data;\n        nl = (nl === true) ? '\\n' : ' ';\n\n        if (stmt === true) stmt = 'question_mark';\n        if (typeof stmt == 'string') {\n            var config = getStmtConfig(stmt);\n            stmt = this.settings.sqlStatements[config[1]](config[2]);\n        }\n\n        var self = this;\n\n        var sql = (function parse(group) {\n            if (!group.condition) {\n                group.condition = self.settings.default_condition;\n            }\n            if (['AND', 'OR'].indexOf(group.condition.toUpperCase()) === -1) {\n                Utils.error('UndefinedSQLCondition', 'Unable to build SQL query with condition \"{0}\"', group.condition);\n            }\n\n            if (!group.rules) {\n                return '';\n            }\n\n            var parts = [];\n\n            group.rules.forEach(function(rule) {\n                if (rule.rules && rule.rules.length > 0) {\n                    parts.push('(' + nl + parse(rule) + nl + ')' + nl);\n                }\n                else {\n                    var sql = self.settings.sqlOperators[rule.operator];\n                    var ope = self.getOperatorByType(rule.operator);\n                    var value = '';\n\n                    if (sql === undefined) {\n                        Utils.error('UndefinedSQLOperator', 'Unknown SQL operation for operator \"{0}\"', rule.operator);\n                    }\n\n                    if (ope.nb_inputs !== 0) {\n                        if (!(rule.value instanceof Array)) {\n                            rule.value = [rule.value];\n                        }\n\n                        rule.value.forEach(function(v, i) {\n                            if (i > 0) {\n                                value+= sql.sep;\n                            }\n\n                            if (rule.type == 'integer' || rule.type == 'double' || rule.type == 'boolean') {\n                                v = Utils.changeType(v, rule.type, true);\n                            }\n                            else if (!stmt) {\n                                v = Utils.escapeString(v);\n                            }\n\n                            if (sql.mod) {\n                                v = Utils.fmt(sql.mod, v);\n                            }\n\n                            if (stmt) {\n                                value+= stmt.add(rule, v);\n                            }\n                            else {\n                                if (typeof v == 'string') {\n                                    v = '\\'' + v + '\\'';\n                                }\n\n                                value+= v;\n                            }\n                        });\n                    }\n\n                    var sqlFn = function(v) {\n                        return sql.op.replace(/\\?/, v);\n                    };\n\n                    var ruleExpression = self.change('getSQLField', rule.field, rule) + ' ' + sqlFn(value);\n                    parts.push(self.change('ruleToSQL', ruleExpression, rule, value, sqlFn));\n                }\n            });\n\n            var groupExpression = parts.join(' ' + group.condition + nl);\n            return self.change('groupToSQL', groupExpression, group);\n        }(data));\n\n        if (stmt) {\n            return {\n                sql: sql,\n                params: stmt.run()\n            };\n        }\n        else {\n            return {\n                sql: sql\n            };\n        }\n    },\n\n    /**\n     * Convert SQL to rules\n     * @throws ConfigError, SQLParseError, UndefinedSQLOperatorError\n     * @param data {object} query object\n     * @param stmt {boolean|string} use prepared statements - false, 'question_mark', 'numbered', 'numbered(@)', 'named', 'named(@)'\n     * @return {object}\n     */\n    getRulesFromSQL: function(data, stmt) {\n        if (!('SQLParser' in window)) {\n            Utils.error('MissingLibrary', 'SQLParser is required to parse SQL queries. Get it here https://github.com/mistic100/sql-parser');\n        }\n\n        var self = this;\n\n        if (typeof data == 'string') {\n            data = { sql: data };\n        }\n\n        if (stmt === true) stmt = 'question_mark';\n        if (typeof stmt == 'string') {\n            var config = getStmtConfig(stmt);\n            stmt = this.settings.sqlRuleStatement[config[1]](data.params, config[2]);\n        }\n\n        if (stmt) {\n            data.sql = stmt.esc(data.sql);\n        }\n\n        if (data.sql.toUpperCase().indexOf('SELECT') !== 0) {\n            data.sql = 'SELECT * FROM table WHERE ' + data.sql;\n        }\n\n        var parsed = SQLParser.parse(data.sql);\n\n        if (!parsed.where) {\n            Utils.error('SQLParse', 'No WHERE clause found');\n        }\n\n        // allow plugins to manually parse or handle special cases\n        data = self.change('parseSQLNode', parsed.where.conditions);\n\n        // a plugin returned a group\n        if ('rules' in data && 'condition' in data) {\n            return data;\n        }\n\n        // create root group\n        var out = self.change('sqlToGroup', {\n            condition: this.settings.default_condition,\n            rules: []\n        }, data);\n\n        // keep track of current group\n        var curr = out;\n\n        (function flatten(data, i) {\n            // allow plugins to manually parse or handle special cases\n            data = self.change('parseSQLNode', data);\n\n            // a plugin returned a group\n            if ('rules' in data && 'condition' in data) {\n                curr.rules.push(data);\n                return;\n            }\n\n            // a plugin returned a rule\n            if ('id' in data && 'operator' in data && 'value' in data) {\n                curr.rules.push(data);\n                return;\n            }\n\n            // data must be a SQL parser node\n            if (!('left' in data) || !('right' in data) || !('operation' in data)) {\n                Utils.error('SQLParse', 'Unable to parse WHERE clause');\n            }\n\n            // it's a node\n            if (['AND', 'OR'].indexOf(data.operation.toUpperCase()) !== -1) {\n                // create a sub-group if the condition is not the same and it's not the first level\n                if (i > 0 && curr.condition != data.operation.toUpperCase()) {\n                    var group = self.change('sqlToGroup', {\n                        condition: self.settings.default_condition,\n                        rules: []\n                    }, data);\n\n                    curr.rules.push(group);\n                    curr = group;\n                }\n\n                curr.condition = data.operation.toUpperCase();\n                i++;\n\n                // some magic !\n                var next = curr;\n                flatten(data.left, i);\n\n                curr = next;\n                flatten(data.right, i);\n            }\n            // it's a leaf\n            else {\n                if ($.isPlainObject(data.right.value)) {\n                    Utils.error('SQLParse', 'Value format not supported for {0}.', data.left.value);\n                }\n\n                // convert array\n                var value;\n                if ($.isArray(data.right.value)) {\n                    value = data.right.value.map(function(v) {\n                        return v.value;\n                    });\n                }\n                else {\n                    value = data.right.value;\n                }\n\n                // get actual values\n                if (stmt) {\n                    if ($.isArray(value)) {\n                        value = value.map(stmt.parse);\n                    }\n                    else {\n                        value = stmt.parse(value);\n                    }\n                }\n\n                // convert operator\n                var operator = data.operation.toUpperCase();\n                if (operator == '<>') {\n                    operator = '!=';\n                }\n\n                var sqlrl = self.settings.sqlRuleOperator[operator];\n                if (sqlrl === undefined) {\n                    Utils.error('UndefinedSQLOperator', 'Invalid SQL operation \"{0}\".', data.operation);\n                }\n\n                var opVal = sqlrl.call(this, value, data.operation);\n                var field = data.left.values.join('.');\n\n                var rule = self.change('sqlToRule', {\n                    id: self.change('getSQLFieldID', field, value),\n                    field: field,\n                    operator: opVal.op,\n                    value: opVal.val\n                }, data);\n\n                curr.rules.push(rule);\n            }\n        }(data, 0));\n\n        return out;\n    },\n\n    /**\n     * Set rules from SQL\n     * @param data {object}\n     * @param stmt {boolean|string}\n     */\n    setRulesFromSQL: function(data, stmt) {\n        this.setRules(this.getRulesFromSQL(data, stmt));\n    }\n});\n\nfunction getStmtConfig(stmt) {\n    var config = stmt.match(/(question_mark|numbered|named)(?:\\((.)\\))?/);\n    if (!config) config = [null, 'question_mark', undefined];\n    return config;\n}\n\n\n/*!\n * jQuery QueryBuilder Unique Filter\n * Allows to define some filters as \"unique\": ie which can be used for only one rule, globally or in the same group.\n */\n\nQueryBuilder.define('unique-filter', function() {\n    this.status.used_filters = {};\n\n    this.on('afterUpdateRuleFilter', this.updateDisabledFilters);\n    this.on('afterDeleteRule', this.updateDisabledFilters);\n    this.on('afterCreateRuleFilters', this.applyDisabledFilters);\n    this.on('afterReset', this.clearDisabledFilters);\n    this.on('afterClear', this.clearDisabledFilters);\n\n    /**\n     * Ensure that the default filter is not already used if unique\n     * @throws UniqueFilterError\n     */\n    this.on('getDefaultFilter.filter', function(e, model) {\n        var self = e.builder;\n\n        self.updateDisabledFilters();\n\n        if (e.value.id in self.status.used_filters) {\n            var found = self.filters.some(function(filter) {\n                if (!(filter.id in self.status.used_filters) || self.status.used_filters[filter.id].length > 0 && self.status.used_filters[filter.id].indexOf(model.parent) === -1) {\n                    e.value = filter;\n                    return true;\n                }\n            });\n\n            if (!found) {\n                Utils.error('UniqueFilter', 'No more non-unique filters available');\n                e.value = undefined;\n            }\n        }\n    });\n});\n\nQueryBuilder.extend({\n    /**\n     * Update the list of used filters\n     * @param [e]\n     */\n    updateDisabledFilters: function(e) {\n        var self = e ? e.builder : this;\n\n        self.status.used_filters = {};\n\n        if (!self.model) {\n            return;\n        }\n\n        // get used filters\n        (function walk(group) {\n            group.each(function(rule) {\n                if (rule.filter && rule.filter.unique) {\n                    if (!self.status.used_filters[rule.filter.id]) {\n                        self.status.used_filters[rule.filter.id] = [];\n                    }\n                    if (rule.filter.unique == 'group') {\n                        self.status.used_filters[rule.filter.id].push(rule.parent);\n                    }\n                }\n            }, function(group) {\n                walk(group);\n            });\n        }(self.model.root));\n\n        self.applyDisabledFilters(e);\n    },\n\n    /**\n     * Clear the list of used filters\n     * @param [e]\n     */\n    clearDisabledFilters: function(e) {\n        var self = e ? e.builder : this;\n\n        self.status.used_filters = {};\n\n        self.applyDisabledFilters(e);\n    },\n\n    /**\n     * Disabled filters depending on the list of used ones\n     * @param [e]\n     */\n    applyDisabledFilters: function(e) {\n        var self = e ? e.builder : this;\n\n        // re-enable everything\n        self.$el.find(Selectors.filter_container + ' option').prop('disabled', false);\n\n        // disable some\n        $.each(self.status.used_filters, function(filterId, groups) {\n            if (groups.length === 0) {\n                self.$el.find(Selectors.filter_container + ' option[value=\"' + filterId + '\"]:not(:selected)').prop('disabled', true);\n            }\n            else {\n                groups.forEach(function(group) {\n                    group.each(function(rule) {\n                        rule.$el.find(Selectors.filter_container + ' option[value=\"' + filterId + '\"]:not(:selected)').prop('disabled', true);\n                    });\n                });\n            }\n        });\n\n        // update Selectpicker\n        if (self.settings.plugins && self.settings.plugins['bt-selectpicker']) {\n            self.$el.find(Selectors.rule_filter).selectpicker('render');\n        }\n    }\n});\n\n\n/*!\n * jQuery QueryBuilder 2.4.1\n * Locale: English (en)\n * Author: Damien \"Mistic\" Sorel, http://www.strangeplanet.fr\n * Licensed under MIT (http://opensource.org/licenses/MIT)\n */\n\nQueryBuilder.regional['en'] = {\n  \"__locale\": \"English (en)\",\n  \"__author\": \"Damien \\\"Mistic\\\" Sorel, http://www.strangeplanet.fr\",\n  \"add_rule\": \"Add rule\",\n  \"add_group\": \"Add group\",\n  \"delete_rule\": \"Delete\",\n  \"delete_group\": \"Delete\",\n  \"conditions\": {\n    \"AND\": \"AND\",\n    \"OR\": \"OR\"\n  },\n  \"operators\": {\n    \"equal\": \"equal\",\n    \"not_equal\": \"not equal\",\n    \"in\": \"in\",\n    \"not_in\": \"not in\",\n    \"less\": \"less\",\n    \"less_or_equal\": \"less or equal\",\n    \"greater\": \"greater\",\n    \"greater_or_equal\": \"greater or equal\",\n    \"between\": \"between\",\n    \"not_between\": \"not between\",\n    \"begins_with\": \"begins with\",\n    \"not_begins_with\": \"doesn't begin with\",\n    \"contains\": \"contains\",\n    \"not_contains\": \"doesn't contain\",\n    \"ends_with\": \"ends with\",\n    \"not_ends_with\": \"doesn't end with\",\n    \"is_empty\": \"is empty\",\n    \"is_not_empty\": \"is not empty\",\n    \"is_null\": \"is null\",\n    \"is_not_null\": \"is not null\"\n  },\n  \"errors\": {\n    \"no_filter\": \"No filter selected\",\n    \"empty_group\": \"The group is empty\",\n    \"radio_empty\": \"No value selected\",\n    \"checkbox_empty\": \"No value selected\",\n    \"select_empty\": \"No value selected\",\n    \"string_empty\": \"Empty value\",\n    \"string_exceed_min_length\": \"Must contain at least {0} characters\",\n    \"string_exceed_max_length\": \"Must not contain more than {0} characters\",\n    \"string_invalid_format\": \"Invalid format ({0})\",\n    \"number_nan\": \"Not a number\",\n    \"number_not_integer\": \"Not an integer\",\n    \"number_not_double\": \"Not a real number\",\n    \"number_exceed_min\": \"Must be greater than {0}\",\n    \"number_exceed_max\": \"Must be lower than {0}\",\n    \"number_wrong_step\": \"Must be a multiple of {0}\",\n    \"datetime_empty\": \"Empty value\",\n    \"datetime_invalid\": \"Invalid date format ({0})\",\n    \"datetime_exceed_min\": \"Must be after {0}\",\n    \"datetime_exceed_max\": \"Must be before {0}\",\n    \"boolean_not_valid\": \"Not a boolean\",\n    \"operator_not_multiple\": \"Operator {0} cannot accept multiple values\"\n  },\n  \"invert\": \"Invert\",\n  \"NOT\": \"NOT\"\n};\n\nQueryBuilder.defaults({ lang_code: 'en' });\n}));//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi92ZW5pY2UtanMvbGliL3F1ZXJ5LWJ1aWxkZXIuMi40LmpzP2M4MjUiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBqUXVlcnkuZXh0ZW5kZXh0IDAuMS4yXG4gKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNiBEYW1pZW4gXCJNaXN0aWNcIiBTb3JlbCAoaHR0cDovL3d3dy5zdHJhbmdlcGxhbmV0LmZyKVxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUKVxuICogXG4gKiBCYXNlZCBvbiBqUXVlcnkuZXh0ZW5kIGJ5IGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqL1xuXG4vKipcbiAqIEBub3RlIEl0IGlzIGhpZ2hseSBtb2RpZmllZCBmcm9tIG9yaWdpbmFsIHZlcnNpb25cbiAqL1xudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcblxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgZmFjdG9yeSgkKTtcbn0odGhpcywgZnVuY3Rpb24gKCQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgICQuZXh0ZW5kZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG4gICAgICAgICAgICB0YXJnZXQgPSBhcmd1bWVudHNbMF0gfHwge30sXG4gICAgICAgICAgICBpID0gMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBkZWVwID0gZmFsc2UsXG4gICAgICAgICAgICBhcnJheU1vZGUgPSAnZGVmYXVsdCc7XG5cbiAgICAgICAgLy8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIGRlZXAgPSB0YXJnZXQ7XG5cbiAgICAgICAgICAgIC8vIFNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcbiAgICAgICAgICAgIHRhcmdldCA9IGFyZ3VtZW50c1tpKytdIHx8IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIGFycmF5IG1vZGUgcGFyYW1ldGVyXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBhcnJheU1vZGUgPSB0YXJnZXQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmIChhcnJheU1vZGUgIT09ICdjb25jYXQnICYmIGFycmF5TW9kZSAhPT0gJ3JlcGxhY2UnICYmIGFycmF5TW9kZSAhPT0gJ2V4dGVuZCcpIHtcbiAgICAgICAgICAgICAgICBhcnJheU1vZGUgPSAnZGVmYXVsdCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNraXAgdGhlIHN0cmluZyBwYXJhbVxuICAgICAgICAgICAgdGFyZ2V0ID0gYXJndW1lbnRzW2krK10gfHwge307XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSlcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgISQuaXNGdW5jdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuICAgICAgICBpZiAoaSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSB0aGlzO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICAgICAgaWYgKChvcHRpb25zID0gYXJndW1lbnRzW2ldKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgb3BlcmF0aW9ucyBmb3IgYXJyYXlzXG4gICAgICAgICAgICAgICAgaWYgKCQuaXNBcnJheShvcHRpb25zKSAmJiBhcnJheU1vZGUgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgICAgICBjbG9uZSA9IHRhcmdldCAmJiAkLmlzQXJyYXkodGFyZ2V0KSA/IHRhcmdldCA6IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYXJyYXlNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbmNhdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBjbG9uZS5jb25jYXQoJC5leHRlbmQoZGVlcCwgW10sIG9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gJC5leHRlbmQoZGVlcCwgW10sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXh0ZW5kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoZSwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSAkLmlzQXJyYXkoZSkgPyBbXSA6IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZVtpXSA9ICQuZXh0ZW5kZXh0KGRlZXAsIGFycmF5TW9kZSwgY2xvbmVbaV0gfHwgdHlwZSwgZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNsb25lLmluZGV4T2YoZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGNsb25lO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgZm9yIChuYW1lIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IHRhcmdldFtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHkgPSBvcHRpb25zW25hbWVdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSBjb3B5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZXAgJiYgY29weSAmJiAoICQuaXNQbGFpbk9iamVjdChjb3B5KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb3B5SXNBcnJheSA9ICQuaXNBcnJheShjb3B5KSkgKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcHlJc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlJc0FycmF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lID0gc3JjICYmICQuaXNBcnJheShzcmMpID8gc3JjIDogW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZSA9IHNyYyAmJiAkLmlzUGxhaW5PYmplY3Qoc3JjKSA/IHNyYyA6IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldmVyIG1vdmUgb3JpZ2luYWwgb2JqZWN0cywgY2xvbmUgdGhlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9ICQuZXh0ZW5kZXh0KGRlZXAsIGFycmF5TW9kZSwgY2xvbmUsIGNvcHkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb3B5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBjb3B5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3RcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xufSkpO1xuXG4vLyBkb1QuanNcbi8vIDIwMTEtMjAxNCwgTGF1cmEgRG9rdG9yb3ZhLCBodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbnZhciBHTE9CQUxTID0ge1xuICAgIGpRdWVyeTogJCxcbiAgICAkOiAkXG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBkb1QgPSB7XG5cdFx0dmVyc2lvbjogXCIxLjAuM1wiLFxuXHRcdHRlbXBsYXRlU2V0dGluZ3M6IHtcblx0XHRcdGV2YWx1YXRlOiAgICAvXFx7XFx7KFtcXHNcXFNdKz8oXFx9PykrKVxcfVxcfS9nLFxuXHRcdFx0aW50ZXJwb2xhdGU6IC9cXHtcXHs9KFtcXHNcXFNdKz8pXFx9XFx9L2csXG5cdFx0XHRlbmNvZGU6ICAgICAgL1xce1xceyEoW1xcc1xcU10rPylcXH1cXH0vZyxcblx0XHRcdHVzZTogICAgICAgICAvXFx7XFx7IyhbXFxzXFxTXSs/KVxcfVxcfS9nLFxuXHRcdFx0dXNlUGFyYW1zOiAgIC8oXnxbXlxcdyRdKWRlZig/OlxcLnxcXFtbXFwnXFxcIl0pKFtcXHckXFwuXSspKD86W1xcJ1xcXCJdXFxdKT9cXHMqXFw6XFxzKihbXFx3JFxcLl0rfFxcXCJbXlxcXCJdK1xcXCJ8XFwnW15cXCddK1xcJ3xcXHtbXlxcfV0rXFx9KS9nLFxuXHRcdFx0ZGVmaW5lOiAgICAgIC9cXHtcXHsjI1xccyooW1xcd1xcLiRdKylcXHMqKFxcOnw9KShbXFxzXFxTXSs/KSNcXH1cXH0vZyxcblx0XHRcdGRlZmluZVBhcmFtczovXlxccyooW1xcdyRdKyk6KFtcXHNcXFNdKykvLFxuXHRcdFx0Y29uZGl0aW9uYWw6IC9cXHtcXHtcXD8oXFw/KT9cXHMqKFtcXHNcXFNdKj8pXFxzKlxcfVxcfS9nLFxuXHRcdFx0aXRlcmF0ZTogICAgIC9cXHtcXHt+XFxzKig/OlxcfVxcfXwoW1xcc1xcU10rPylcXHMqXFw6XFxzKihbXFx3JF0rKVxccyooPzpcXDpcXHMqKFtcXHckXSspKT9cXHMqXFx9XFx9KS9nLFxuXHRcdFx0dmFybmFtZTpcdFwiaXRcIixcblx0XHRcdHN0cmlwOlx0XHR0cnVlLFxuXHRcdFx0YXBwZW5kOlx0XHR0cnVlLFxuXHRcdFx0c2VsZmNvbnRhaW5lZDogZmFsc2UsXG5cdFx0XHRkb05vdFNraXBFbmNvZGVkOiBmYWxzZVxuXHRcdH0sXG5cdFx0dGVtcGxhdGU6IHVuZGVmaW5lZCwgLy9mbiwgY29tcGlsZSB0ZW1wbGF0ZVxuXHRcdGNvbXBpbGU6ICB1bmRlZmluZWQsIC8vZm4sIGZvciBleHByZXNzXG5cdFx0bG9nOiB0cnVlXG5cdH0sIF9nbG9iYWxzO1xuXG5cdGRvVC5lbmNvZGVIVE1MU291cmNlID0gZnVuY3Rpb24oZG9Ob3RTa2lwRW5jb2RlZCkge1xuXHRcdHZhciBlbmNvZGVIVE1MUnVsZXMgPSB7IFwiJlwiOiBcIiYjMzg7XCIsIFwiPFwiOiBcIiYjNjA7XCIsIFwiPlwiOiBcIiYjNjI7XCIsICdcIic6IFwiJiMzNDtcIiwgXCInXCI6IFwiJiMzOTtcIiwgXCIvXCI6IFwiJiM0NztcIiB9LFxuXHRcdFx0bWF0Y2hIVE1MID0gZG9Ob3RTa2lwRW5jb2RlZCA/IC9bJjw+XCInXFwvXS9nIDogLyYoPyEjP1xcdys7KXw8fD58XCJ8J3xcXC8vZztcblx0XHRyZXR1cm4gZnVuY3Rpb24oY29kZSkge1xuXHRcdFx0cmV0dXJuIGNvZGUgPyBjb2RlLnRvU3RyaW5nKCkucmVwbGFjZShtYXRjaEhUTUwsIGZ1bmN0aW9uKG0pIHtyZXR1cm4gZW5jb2RlSFRNTFJ1bGVzW21dIHx8IG07fSkgOiBcIlwiO1xuXHRcdH07XG5cdH07XG5cblx0Ly8gX2dsb2JhbHMgPSAoZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXMgfHwgKDAsZXZhbCkoXCJ0aGlzXCIpOyB9KCkpO1xuICAgIC8vXG5cdC8vIGlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdC8vIFx0bW9kdWxlLmV4cG9ydHMgPSBkb1Q7XG5cdC8vIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0Ly8gXHRkZWZpbmUoJ2RvVCcsIGZ1bmN0aW9uKCl7cmV0dXJuIGRvVDt9KTtcblx0Ly8gfSBlbHNlIHtcblx0Ly8gXHRfZ2xvYmFscy5kb1QgPSBkb1Q7XG5cdC8vIH1cblxuICAgIEdMT0JBTFMuZG9UID0gZG9UO1xuXG5cdHZhciBzdGFydGVuZCA9IHtcblx0XHRhcHBlbmQ6IHsgc3RhcnQ6IFwiJysoXCIsICAgICAgZW5kOiBcIikrJ1wiLCAgICAgIHN0YXJ0ZW5jb2RlOiBcIicrZW5jb2RlSFRNTChcIiB9LFxuXHRcdHNwbGl0OiAgeyBzdGFydDogXCInO291dCs9KFwiLCBlbmQ6IFwiKTtvdXQrPSdcIiwgc3RhcnRlbmNvZGU6IFwiJztvdXQrPWVuY29kZUhUTUwoXCIgfVxuXHR9LCBza2lwID0gLyReLztcblxuXHRmdW5jdGlvbiByZXNvbHZlRGVmcyhjLCBibG9jaywgZGVmKSB7XG5cdFx0cmV0dXJuICgodHlwZW9mIGJsb2NrID09PSBcInN0cmluZ1wiKSA/IGJsb2NrIDogYmxvY2sudG9TdHJpbmcoKSlcblx0XHQucmVwbGFjZShjLmRlZmluZSB8fCBza2lwLCBmdW5jdGlvbihtLCBjb2RlLCBhc3NpZ24sIHZhbHVlKSB7XG5cdFx0XHRpZiAoY29kZS5pbmRleE9mKFwiZGVmLlwiKSA9PT0gMCkge1xuXHRcdFx0XHRjb2RlID0gY29kZS5zdWJzdHJpbmcoNCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIShjb2RlIGluIGRlZikpIHtcblx0XHRcdFx0aWYgKGFzc2lnbiA9PT0gXCI6XCIpIHtcblx0XHRcdFx0XHRpZiAoYy5kZWZpbmVQYXJhbXMpIHZhbHVlLnJlcGxhY2UoYy5kZWZpbmVQYXJhbXMsIGZ1bmN0aW9uKG0sIHBhcmFtLCB2KSB7XG5cdFx0XHRcdFx0XHRkZWZbY29kZV0gPSB7YXJnOiBwYXJhbSwgdGV4dDogdn07XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKCEoY29kZSBpbiBkZWYpKSBkZWZbY29kZV09IHZhbHVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ldyBGdW5jdGlvbihcImRlZlwiLCBcImRlZlsnXCIrY29kZStcIiddPVwiICsgdmFsdWUpKGRlZik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH0pXG5cdFx0LnJlcGxhY2UoYy51c2UgfHwgc2tpcCwgZnVuY3Rpb24obSwgY29kZSkge1xuXHRcdFx0aWYgKGMudXNlUGFyYW1zKSBjb2RlID0gY29kZS5yZXBsYWNlKGMudXNlUGFyYW1zLCBmdW5jdGlvbihtLCBzLCBkLCBwYXJhbSkge1xuXHRcdFx0XHRpZiAoZGVmW2RdICYmIGRlZltkXS5hcmcgJiYgcGFyYW0pIHtcblx0XHRcdFx0XHR2YXIgcncgPSAoZCtcIjpcIitwYXJhbSkucmVwbGFjZSgvJ3xcXFxcL2csIFwiX1wiKTtcblx0XHRcdFx0XHRkZWYuX19leHAgPSBkZWYuX19leHAgfHwge307XG5cdFx0XHRcdFx0ZGVmLl9fZXhwW3J3XSA9IGRlZltkXS50ZXh0LnJlcGxhY2UobmV3IFJlZ0V4cChcIihefFteXFxcXHckXSlcIiArIGRlZltkXS5hcmcgKyBcIihbXlxcXFx3JF0pXCIsIFwiZ1wiKSwgXCIkMVwiICsgcGFyYW0gKyBcIiQyXCIpO1xuXHRcdFx0XHRcdHJldHVybiBzICsgXCJkZWYuX19leHBbJ1wiK3J3K1wiJ11cIjtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgdiA9IG5ldyBGdW5jdGlvbihcImRlZlwiLCBcInJldHVybiBcIiArIGNvZGUpKGRlZik7XG5cdFx0XHRyZXR1cm4gdiA/IHJlc29sdmVEZWZzKGMsIHYsIGRlZikgOiB2O1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gdW5lc2NhcGUoY29kZSkge1xuXHRcdHJldHVybiBjb2RlLnJlcGxhY2UoL1xcXFwoJ3xcXFxcKS9nLCBcIiQxXCIpLnJlcGxhY2UoL1tcXHJcXHRcXG5dL2csIFwiIFwiKTtcblx0fVxuXG5cdGRvVC50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHRtcGwsIGMsIGRlZikge1xuXHRcdGMgPSBjIHx8IGRvVC50ZW1wbGF0ZVNldHRpbmdzO1xuXHRcdHZhciBjc2UgPSBjLmFwcGVuZCA/IHN0YXJ0ZW5kLmFwcGVuZCA6IHN0YXJ0ZW5kLnNwbGl0LCBuZWVkaHRtbGVuY29kZSwgc2lkID0gMCwgaW5kdixcblx0XHRcdHN0ciAgPSAoYy51c2UgfHwgYy5kZWZpbmUpID8gcmVzb2x2ZURlZnMoYywgdG1wbCwgZGVmIHx8IHt9KSA6IHRtcGw7XG5cblx0XHRzdHIgPSAoXCJ2YXIgb3V0PSdcIiArIChjLnN0cmlwID8gc3RyLnJlcGxhY2UoLyhefFxccnxcXG4pXFx0KiArfCArXFx0KihcXHJ8XFxufCQpL2csXCIgXCIpXG5cdFx0XHRcdFx0LnJlcGxhY2UoL1xccnxcXG58XFx0fFxcL1xcKltcXHNcXFNdKj9cXCpcXC8vZyxcIlwiKTogc3RyKVxuXHRcdFx0LnJlcGxhY2UoLyd8XFxcXC9nLCBcIlxcXFwkJlwiKVxuXHRcdFx0LnJlcGxhY2UoYy5pbnRlcnBvbGF0ZSB8fCBza2lwLCBmdW5jdGlvbihtLCBjb2RlKSB7XG5cdFx0XHRcdHJldHVybiBjc2Uuc3RhcnQgKyB1bmVzY2FwZShjb2RlKSArIGNzZS5lbmQ7XG5cdFx0XHR9KVxuXHRcdFx0LnJlcGxhY2UoYy5lbmNvZGUgfHwgc2tpcCwgZnVuY3Rpb24obSwgY29kZSkge1xuXHRcdFx0XHRuZWVkaHRtbGVuY29kZSA9IHRydWU7XG5cdFx0XHRcdHJldHVybiBjc2Uuc3RhcnRlbmNvZGUgKyB1bmVzY2FwZShjb2RlKSArIGNzZS5lbmQ7XG5cdFx0XHR9KVxuXHRcdFx0LnJlcGxhY2UoYy5jb25kaXRpb25hbCB8fCBza2lwLCBmdW5jdGlvbihtLCBlbHNlY2FzZSwgY29kZSkge1xuXHRcdFx0XHRyZXR1cm4gZWxzZWNhc2UgP1xuXHRcdFx0XHRcdChjb2RlID8gXCInO31lbHNlIGlmKFwiICsgdW5lc2NhcGUoY29kZSkgKyBcIil7b3V0Kz0nXCIgOiBcIic7fWVsc2V7b3V0Kz0nXCIpIDpcblx0XHRcdFx0XHQoY29kZSA/IFwiJztpZihcIiArIHVuZXNjYXBlKGNvZGUpICsgXCIpe291dCs9J1wiIDogXCInO31vdXQrPSdcIik7XG5cdFx0XHR9KVxuXHRcdFx0LnJlcGxhY2UoYy5pdGVyYXRlIHx8IHNraXAsIGZ1bmN0aW9uKG0sIGl0ZXJhdGUsIHZuYW1lLCBpbmFtZSkge1xuXHRcdFx0XHRpZiAoIWl0ZXJhdGUpIHJldHVybiBcIic7fSB9IG91dCs9J1wiO1xuXHRcdFx0XHRzaWQrPTE7IGluZHY9aW5hbWUgfHwgXCJpXCIrc2lkOyBpdGVyYXRlPXVuZXNjYXBlKGl0ZXJhdGUpO1xuXHRcdFx0XHRyZXR1cm4gXCInO3ZhciBhcnJcIitzaWQrXCI9XCIraXRlcmF0ZStcIjtpZihhcnJcIitzaWQrXCIpe3ZhciBcIit2bmFtZStcIixcIitpbmR2K1wiPS0xLGxcIitzaWQrXCI9YXJyXCIrc2lkK1wiLmxlbmd0aC0xO3doaWxlKFwiK2luZHYrXCI8bFwiK3NpZCtcIil7XCJcblx0XHRcdFx0XHQrdm5hbWUrXCI9YXJyXCIrc2lkK1wiW1wiK2luZHYrXCIrPTFdO291dCs9J1wiO1xuXHRcdFx0fSlcblx0XHRcdC5yZXBsYWNlKGMuZXZhbHVhdGUgfHwgc2tpcCwgZnVuY3Rpb24obSwgY29kZSkge1xuXHRcdFx0XHRyZXR1cm4gXCInO1wiICsgdW5lc2NhcGUoY29kZSkgKyBcIm91dCs9J1wiO1xuXHRcdFx0fSlcblx0XHRcdCsgXCInO3JldHVybiBvdXQ7XCIpXG5cdFx0XHQucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIikucmVwbGFjZSgvXFx0L2csICdcXFxcdCcpLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpXG5cdFx0XHQucmVwbGFjZSgvKFxcc3w7fFxcfXxefFxceylvdXRcXCs9Jyc7L2csICckMScpLnJlcGxhY2UoL1xcKycnL2csIFwiXCIpO1xuXHRcdFx0Ly8ucmVwbGFjZSgvKFxcc3w7fFxcfXxefFxceylvdXRcXCs9JydcXCsvZywnJDFvdXQrPScpO1xuXG5cdFx0aWYgKG5lZWRodG1sZW5jb2RlKSB7XG5cdFx0XHRpZiAoIWMuc2VsZmNvbnRhaW5lZCAmJiBfZ2xvYmFscyAmJiAhX2dsb2JhbHMuX2VuY29kZUhUTUwpIF9nbG9iYWxzLl9lbmNvZGVIVE1MID0gZG9ULmVuY29kZUhUTUxTb3VyY2UoYy5kb05vdFNraXBFbmNvZGVkKTtcblx0XHRcdHN0ciA9IFwidmFyIGVuY29kZUhUTUwgPSB0eXBlb2YgX2VuY29kZUhUTUwgIT09ICd1bmRlZmluZWQnID8gX2VuY29kZUhUTUwgOiAoXCJcblx0XHRcdFx0KyBkb1QuZW5jb2RlSFRNTFNvdXJjZS50b1N0cmluZygpICsgXCIoXCIgKyAoYy5kb05vdFNraXBFbmNvZGVkIHx8ICcnKSArIFwiKSk7XCJcblx0XHRcdFx0KyBzdHI7XG5cdFx0fVxuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gbmV3IEZ1bmN0aW9uKGMudmFybmFtZSwgc3RyKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIGNvbnNvbGUubG9nKFwiQ291bGQgbm90IGNyZWF0ZSBhIHRlbXBsYXRlIGZ1bmN0aW9uOiBcIiArIHN0cik7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0fTtcblxuXHRkb1QuY29tcGlsZSA9IGZ1bmN0aW9uKHRtcGwsIGRlZikge1xuXHRcdHJldHVybiBkb1QudGVtcGxhdGUodG1wbCwgbnVsbCwgZGVmKTtcblx0fTtcbn0oKSk7XG5cblxuLyohXG4gKiBqUXVlcnkgUXVlcnlCdWlsZGVyIDIuNC4xXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE3IERhbWllbiBcIk1pc3RpY1wiIFNvcmVsIChodHRwOi8vd3d3LnN0cmFuZ2VwbGFuZXQuZnIpXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQpXG4gKi9cblxuLy8gTGFuZ3VhZ2VzOiBlblxuLy8gUGx1Z2luczogYnQtY2hlY2tib3gsIGJ0LXNlbGVjdHBpY2tlciwgYnQtdG9vbHRpcC1lcnJvcnMsIGNoYW5nZS1maWx0ZXJzLCBmaWx0ZXItZGVzY3JpcHRpb24sIGludmVydCwgbW9uZ29kYi1zdXBwb3J0LCBub3QtZ3JvdXAsIHNvcnRhYmxlLCBzcWwtc3VwcG9ydCwgdW5pcXVlLWZpbHRlclxuKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBmYWN0b3J5KHJvb3QualF1ZXJ5LCByb290LmRvVCk7XG59KEdMT0JBTFMsIGZ1bmN0aW9uKCQsIGRvVCkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIENMQVNTIERFRklOSVRJT05cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbnZhciBRdWVyeUJ1aWxkZXIgPSBmdW5jdGlvbigkZWwsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmluaXQoJGVsLCBvcHRpb25zKTtcbn07XG5cblxuLy8gRVZFTlRTIFNZU1RFTVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuJC5leHRlbmQoUXVlcnlCdWlsZGVyLnByb3RvdHlwZSwge1xuICAgIGNoYW5nZTogZnVuY3Rpb24odHlwZSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gbmV3ICQuRXZlbnQodGhpcy50b2pRdWVyeUV2ZW50KHR5cGUsIHRydWUpLCB7XG4gICAgICAgICAgICBidWlsZGVyOiB0aGlzLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJGVsLnRyaWdnZXJIYW5kbGVyKGV2ZW50LCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKTtcblxuICAgICAgICByZXR1cm4gZXZlbnQudmFsdWU7XG4gICAgfSxcblxuICAgIHRyaWdnZXI6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gbmV3ICQuRXZlbnQodGhpcy50b2pRdWVyeUV2ZW50KHR5cGUpLCB7XG4gICAgICAgICAgICBidWlsZGVyOiB0aGlzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJGVsLnRyaWdnZXJIYW5kbGVyKGV2ZW50LCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcblxuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfSxcblxuICAgIG9uOiBmdW5jdGlvbih0eXBlLCBjYikge1xuICAgICAgICB0aGlzLiRlbC5vbih0aGlzLnRvalF1ZXJ5RXZlbnQodHlwZSksIGNiKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIG9mZjogZnVuY3Rpb24odHlwZSwgY2IpIHtcbiAgICAgICAgdGhpcy4kZWwub2ZmKHRoaXMudG9qUXVlcnlFdmVudCh0eXBlKSwgY2IpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgb25jZTogZnVuY3Rpb24odHlwZSwgY2IpIHtcbiAgICAgICAgdGhpcy4kZWwub25lKHRoaXMudG9qUXVlcnlFdmVudCh0eXBlKSwgY2IpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgdG9qUXVlcnlFdmVudDogZnVuY3Rpb24obmFtZSwgZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiBuYW1lLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlICsgJy5xdWVyeUJ1aWxkZXInICsgKGZpbHRlciA/ICcuZmlsdGVyJyA6ICcnKTtcbiAgICAgICAgfSkuam9pbignICcpO1xuICAgIH1cbn0pO1xuXG5cbi8vIFBMVUdJTlMgU1lTVEVNXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5RdWVyeUJ1aWxkZXIucGx1Z2lucyA9IHt9O1xuXG4vKipcbiAqIEdldCBvciBleHRlbmQgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvblxuICogQHBhcmFtIG9wdGlvbnMge29iamVjdCxvcHRpb25hbH0gbmV3IGNvbmZpZ3VyYXRpb24sIGxlYXZlIHVuZGVmaW5lZCB0byBnZXQgdGhlIGRlZmF1bHQgY29uZmlnXG4gKiBAcmV0dXJuIHt1bmRlZmluZWR8b2JqZWN0fSBub3RoaW5nIG9yIGNvbmZpZ3VyYXRpb24gb2JqZWN0IChjb3B5KVxuICovXG5RdWVyeUJ1aWxkZXIuZGVmYXVsdHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdvYmplY3QnKSB7XG4gICAgICAgICQuZXh0ZW5kZXh0KHRydWUsICdyZXBsYWNlJywgUXVlcnlCdWlsZGVyLkRFRkFVTFRTLCBvcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBRdWVyeUJ1aWxkZXIuREVGQVVMVFNbb3B0aW9uc10gPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgUXVlcnlCdWlsZGVyLkRFRkFVTFRTW29wdGlvbnNdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBRdWVyeUJ1aWxkZXIuREVGQVVMVFNbb3B0aW9uc107XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgUXVlcnlCdWlsZGVyLkRFRkFVTFRTKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERlZmluZSBhIG5ldyBwbHVnaW5cbiAqIEBwYXJhbSB7c3RyaW5nfVxuICogQHBhcmFtIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7b2JqZWN0LG9wdGlvbmFsfSBkZWZhdWx0IGNvbmZpZ3VyYXRpb25cbiAqL1xuUXVlcnlCdWlsZGVyLmRlZmluZSA9IGZ1bmN0aW9uKG5hbWUsIGZjdCwgZGVmKSB7XG4gICAgUXVlcnlCdWlsZGVyLnBsdWdpbnNbbmFtZV0gPSB7XG4gICAgICAgIGZjdDogZmN0LFxuICAgICAgICBkZWY6IGRlZiB8fCB7fVxuICAgIH07XG59O1xuXG4vKipcbiAqIEFkZCBuZXcgbWV0aG9kc1xuICogQHBhcmFtIHtvYmplY3R9XG4gKi9cblF1ZXJ5QnVpbGRlci5leHRlbmQgPSBmdW5jdGlvbihtZXRob2RzKSB7XG4gICAgJC5leHRlbmQoUXVlcnlCdWlsZGVyLnByb3RvdHlwZSwgbWV0aG9kcyk7XG59O1xuXG4vKipcbiAqIEluaXQgcGx1Z2lucyBmb3IgYW4gaW5zdGFuY2VcbiAqIEB0aHJvd3MgQ29uZmlnRXJyb3JcbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5pbml0UGx1Z2lucyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoJC5pc0FycmF5KHRoaXMucGx1Z2lucykpIHtcbiAgICAgICAgdmFyIHRtcCA9IHt9O1xuICAgICAgICB0aGlzLnBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgICAgICAgIHRtcFtwbHVnaW5dID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGx1Z2lucyA9IHRtcDtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyh0aGlzLnBsdWdpbnMpLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICAgIGlmIChwbHVnaW4gaW4gUXVlcnlCdWlsZGVyLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1twbHVnaW5dID0gJC5leHRlbmQodHJ1ZSwge30sXG4gICAgICAgICAgICAgICAgUXVlcnlCdWlsZGVyLnBsdWdpbnNbcGx1Z2luXS5kZWYsXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zW3BsdWdpbl0gfHwge31cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIFF1ZXJ5QnVpbGRlci5wbHVnaW5zW3BsdWdpbl0uZmN0LmNhbGwodGhpcywgdGhpcy5wbHVnaW5zW3BsdWdpbl0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdVbmFibGUgdG8gZmluZCBwbHVnaW4gXCJ7MH1cIicsIHBsdWdpbik7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcbn07XG5cblxuLyoqXG4gKiBBbGxvd2VkIHR5cGVzIGFuZCB0aGVpciBpbnRlcm5hbCByZXByZXNlbnRhdGlvblxuICovXG5RdWVyeUJ1aWxkZXIudHlwZXMgPSB7XG4gICAgJ3N0cmluZyc6ICAgJ3N0cmluZycsXG4gICAgJ2ludGVnZXInOiAgJ251bWJlcicsXG4gICAgJ2RvdWJsZSc6ICAgJ251bWJlcicsXG4gICAgJ2RhdGUnOiAgICAgJ2RhdGV0aW1lJyxcbiAgICAndGltZSc6ICAgICAnZGF0ZXRpbWUnLFxuICAgICdkYXRldGltZSc6ICdkYXRldGltZScsXG4gICAgJ2Jvb2xlYW4nOiAgJ2Jvb2xlYW4nXG59O1xuXG4vKipcbiAqIEFsbG93ZWQgaW5wdXRzXG4gKi9cblF1ZXJ5QnVpbGRlci5pbnB1dHMgPSBbXG4gICAgJ3RleHQnLFxuICAgICd0ZXh0YXJlYScsXG4gICAgJ3JhZGlvJyxcbiAgICAnY2hlY2tib3gnLFxuICAgICdzZWxlY3QnXG5dO1xuXG4vKipcbiAqIFJ1bnRpbWUgbW9kaWZpYWJsZSBvcHRpb25zIHdpdGggYHNldE9wdGlvbnNgIG1ldGhvZFxuICovXG5RdWVyeUJ1aWxkZXIubW9kaWZpYWJsZV9vcHRpb25zID0gW1xuICAgICdkaXNwbGF5X2Vycm9ycycsXG4gICAgJ2FsbG93X2dyb3VwcycsXG4gICAgJ2FsbG93X2VtcHR5JyxcbiAgICAnZGVmYXVsdF9jb25kaXRpb24nLFxuICAgICdkZWZhdWx0X2ZpbHRlcidcbl07XG5cbi8qKlxuICogQ1NTIHNlbGVjdG9ycyBmb3IgY29tbW9uIGNvbXBvbmVudHNcbiAqL1xudmFyIFNlbGVjdG9ycyA9IFF1ZXJ5QnVpbGRlci5zZWxlY3RvcnMgPSB7XG4gICAgZ3JvdXBfY29udGFpbmVyOiAgICAgICcucnVsZXMtZ3JvdXAtY29udGFpbmVyJyxcbiAgICBydWxlX2NvbnRhaW5lcjogICAgICAgJy5ydWxlLWNvbnRhaW5lcicsXG4gICAgZmlsdGVyX2NvbnRhaW5lcjogICAgICcucnVsZS1maWx0ZXItY29udGFpbmVyJyxcbiAgICBvcGVyYXRvcl9jb250YWluZXI6ICAgJy5ydWxlLW9wZXJhdG9yLWNvbnRhaW5lcicsXG4gICAgdmFsdWVfY29udGFpbmVyOiAgICAgICcucnVsZS12YWx1ZS1jb250YWluZXInLFxuICAgIGVycm9yX2NvbnRhaW5lcjogICAgICAnLmVycm9yLWNvbnRhaW5lcicsXG4gICAgY29uZGl0aW9uX2NvbnRhaW5lcjogICcucnVsZXMtZ3JvdXAtaGVhZGVyIC5ncm91cC1jb25kaXRpb25zJyxcblxuICAgIHJ1bGVfaGVhZGVyOiAgICAgICAgICAnLnJ1bGUtaGVhZGVyJyxcbiAgICBncm91cF9oZWFkZXI6ICAgICAgICAgJy5ydWxlcy1ncm91cC1oZWFkZXInLFxuICAgIGdyb3VwX2FjdGlvbnM6ICAgICAgICAnLmdyb3VwLWFjdGlvbnMnLFxuICAgIHJ1bGVfYWN0aW9uczogICAgICAgICAnLnJ1bGUtYWN0aW9ucycsXG5cbiAgICBydWxlc19saXN0OiAgICAgICAgICAgJy5ydWxlcy1ncm91cC1ib2R5Pi5ydWxlcy1saXN0JyxcblxuICAgIGdyb3VwX2NvbmRpdGlvbjogICAgICAnLnJ1bGVzLWdyb3VwLWhlYWRlciBbbmFtZSQ9X2NvbmRdJyxcbiAgICBydWxlX2ZpbHRlcjogICAgICAgICAgJy5ydWxlLWZpbHRlci1jb250YWluZXIgW25hbWUkPV9maWx0ZXJdJyxcbiAgICBydWxlX29wZXJhdG9yOiAgICAgICAgJy5ydWxlLW9wZXJhdG9yLWNvbnRhaW5lciBbbmFtZSQ9X29wZXJhdG9yXScsXG4gICAgcnVsZV92YWx1ZTogICAgICAgICAgICcucnVsZS12YWx1ZS1jb250YWluZXIgW25hbWUqPV92YWx1ZV9dJyxcblxuICAgIGFkZF9ydWxlOiAgICAgICAgICAgICAnW2RhdGEtYWRkPXJ1bGVdJyxcbiAgICBkZWxldGVfcnVsZTogICAgICAgICAgJ1tkYXRhLWRlbGV0ZT1ydWxlXScsXG4gICAgYWRkX2dyb3VwOiAgICAgICAgICAgICdbZGF0YS1hZGQ9Z3JvdXBdJyxcbiAgICBkZWxldGVfZ3JvdXA6ICAgICAgICAgJ1tkYXRhLWRlbGV0ZT1ncm91cF0nXG59O1xuXG4vKipcbiAqIFRlbXBsYXRlIHN0cmluZ3MgKHNlZSBgdGVtcGxhdGUuanNgKVxuICovXG5RdWVyeUJ1aWxkZXIudGVtcGxhdGVzID0ge307XG5cbi8qKlxuICogTG9jYWxpemVkIHN0cmluZ3MgKHNlZSBgaTE4bi9gKVxuICovXG5RdWVyeUJ1aWxkZXIucmVnaW9uYWwgPSB7fTtcblxuLyoqXG4gKiBEZWZhdWx0IG9wZXJhdG9yc1xuICovXG5RdWVyeUJ1aWxkZXIuT1BFUkFUT1JTID0ge1xuICAgIGVxdWFsOiAgICAgICAgICAgIHsgdHlwZTogJ2VxdWFsJywgICAgICAgICAgICBuYl9pbnB1dHM6IDEsIG11bHRpcGxlOiBmYWxzZSwgYXBwbHlfdG86IFsnc3RyaW5nJywgJ251bWJlcicsICdkYXRldGltZScsICdib29sZWFuJ10gfSxcbiAgICBub3RfZXF1YWw6ICAgICAgICB7IHR5cGU6ICdub3RfZXF1YWwnLCAgICAgICAgbmJfaW5wdXRzOiAxLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ3N0cmluZycsICdudW1iZXInLCAnZGF0ZXRpbWUnLCAnYm9vbGVhbiddIH0sXG4gICAgaW46ICAgICAgICAgICAgICAgeyB0eXBlOiAnaW4nLCAgICAgICAgICAgICAgIG5iX2lucHV0czogMSwgbXVsdGlwbGU6IHRydWUsICBhcHBseV90bzogWydzdHJpbmcnLCAnbnVtYmVyJywgJ2RhdGV0aW1lJ10gfSxcbiAgICBub3RfaW46ICAgICAgICAgICB7IHR5cGU6ICdub3RfaW4nLCAgICAgICAgICAgbmJfaW5wdXRzOiAxLCBtdWx0aXBsZTogdHJ1ZSwgIGFwcGx5X3RvOiBbJ3N0cmluZycsICdudW1iZXInLCAnZGF0ZXRpbWUnXSB9LFxuICAgIGxlc3M6ICAgICAgICAgICAgIHsgdHlwZTogJ2xlc3MnLCAgICAgICAgICAgICBuYl9pbnB1dHM6IDEsIG11bHRpcGxlOiBmYWxzZSwgYXBwbHlfdG86IFsnbnVtYmVyJywgJ2RhdGV0aW1lJ10gfSxcbiAgICBsZXNzX29yX2VxdWFsOiAgICB7IHR5cGU6ICdsZXNzX29yX2VxdWFsJywgICAgbmJfaW5wdXRzOiAxLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ251bWJlcicsICdkYXRldGltZSddIH0sXG4gICAgZ3JlYXRlcjogICAgICAgICAgeyB0eXBlOiAnZ3JlYXRlcicsICAgICAgICAgIG5iX2lucHV0czogMSwgbXVsdGlwbGU6IGZhbHNlLCBhcHBseV90bzogWydudW1iZXInLCAnZGF0ZXRpbWUnXSB9LFxuICAgIGdyZWF0ZXJfb3JfZXF1YWw6IHsgdHlwZTogJ2dyZWF0ZXJfb3JfZXF1YWwnLCBuYl9pbnB1dHM6IDEsIG11bHRpcGxlOiBmYWxzZSwgYXBwbHlfdG86IFsnbnVtYmVyJywgJ2RhdGV0aW1lJ10gfSxcbiAgICBiZXR3ZWVuOiAgICAgICAgICB7IHR5cGU6ICdiZXR3ZWVuJywgICAgICAgICAgbmJfaW5wdXRzOiAyLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ251bWJlcicsICdkYXRldGltZSddIH0sXG4gICAgbm90X2JldHdlZW46ICAgICAgeyB0eXBlOiAnbm90X2JldHdlZW4nLCAgICAgIG5iX2lucHV0czogMiwgbXVsdGlwbGU6IGZhbHNlLCBhcHBseV90bzogWydudW1iZXInLCAnZGF0ZXRpbWUnXSB9LFxuICAgIGJlZ2luc193aXRoOiAgICAgIHsgdHlwZTogJ2JlZ2luc193aXRoJywgICAgICBuYl9pbnB1dHM6IDEsIG11bHRpcGxlOiBmYWxzZSwgYXBwbHlfdG86IFsnc3RyaW5nJ10gfSxcbiAgICBub3RfYmVnaW5zX3dpdGg6ICB7IHR5cGU6ICdub3RfYmVnaW5zX3dpdGgnLCAgbmJfaW5wdXRzOiAxLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ3N0cmluZyddIH0sXG4gICAgY29udGFpbnM6ICAgICAgICAgeyB0eXBlOiAnY29udGFpbnMnLCAgICAgICAgIG5iX2lucHV0czogMSwgbXVsdGlwbGU6IGZhbHNlLCBhcHBseV90bzogWydzdHJpbmcnXSB9LFxuICAgIG5vdF9jb250YWluczogICAgIHsgdHlwZTogJ25vdF9jb250YWlucycsICAgICBuYl9pbnB1dHM6IDEsIG11bHRpcGxlOiBmYWxzZSwgYXBwbHlfdG86IFsnc3RyaW5nJ10gfSxcbiAgICBlbmRzX3dpdGg6ICAgICAgICB7IHR5cGU6ICdlbmRzX3dpdGgnLCAgICAgICAgbmJfaW5wdXRzOiAxLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ3N0cmluZyddIH0sXG4gICAgbm90X2VuZHNfd2l0aDogICAgeyB0eXBlOiAnbm90X2VuZHNfd2l0aCcsICAgIG5iX2lucHV0czogMSwgbXVsdGlwbGU6IGZhbHNlLCBhcHBseV90bzogWydzdHJpbmcnXSB9LFxuICAgIGlzX2VtcHR5OiAgICAgICAgIHsgdHlwZTogJ2lzX2VtcHR5JywgICAgICAgICBuYl9pbnB1dHM6IDAsIG11bHRpcGxlOiBmYWxzZSwgYXBwbHlfdG86IFsnc3RyaW5nJ10gfSxcbiAgICBpc19ub3RfZW1wdHk6ICAgICB7IHR5cGU6ICdpc19ub3RfZW1wdHknLCAgICAgbmJfaW5wdXRzOiAwLCBtdWx0aXBsZTogZmFsc2UsIGFwcGx5X3RvOiBbJ3N0cmluZyddIH0sXG4gICAgaXNfbnVsbDogICAgICAgICAgeyB0eXBlOiAnaXNfbnVsbCcsICAgICAgICAgIG5iX2lucHV0czogMCwgbXVsdGlwbGU6IGZhbHNlLCBhcHBseV90bzogWydzdHJpbmcnLCAnbnVtYmVyJywgJ2RhdGV0aW1lJywgJ2Jvb2xlYW4nXSB9LFxuICAgIGlzX25vdF9udWxsOiAgICAgIHsgdHlwZTogJ2lzX25vdF9udWxsJywgICAgICBuYl9pbnB1dHM6IDAsIG11bHRpcGxlOiBmYWxzZSwgYXBwbHlfdG86IFsnc3RyaW5nJywgJ251bWJlcicsICdkYXRldGltZScsICdib29sZWFuJ10gfVxufTtcblxuLyoqXG4gKiBEZWZhdWx0IGNvbmZpZ3VyYXRpb25cbiAqL1xuUXVlcnlCdWlsZGVyLkRFRkFVTFRTID0ge1xuICAgIGZpbHRlcnM6IFtdLFxuICAgIHBsdWdpbnM6IFtdLFxuXG4gICAgc29ydF9maWx0ZXJzOiBmYWxzZSxcbiAgICBkaXNwbGF5X2Vycm9yczogdHJ1ZSxcbiAgICBhbGxvd19ncm91cHM6IC0xLFxuICAgIGFsbG93X2VtcHR5OiBmYWxzZSxcbiAgICBjb25kaXRpb25zOiBbJ0FORCcsICdPUiddLFxuICAgIGRlZmF1bHRfY29uZGl0aW9uOiAnQU5EJyxcbiAgICBpbnB1dHNfc2VwYXJhdG9yOiAnICwgJyxcbiAgICBzZWxlY3RfcGxhY2Vob2xkZXI6ICctLS0tLS0nLFxuICAgIGRpc3BsYXlfZW1wdHlfZmlsdGVyOiB0cnVlLFxuICAgIGRlZmF1bHRfZmlsdGVyOiBudWxsLFxuICAgIG9wdGdyb3Vwczoge30sXG5cbiAgICBkZWZhdWx0X3J1bGVfZmxhZ3M6IHtcbiAgICAgICAgZmlsdGVyX3JlYWRvbmx5OiBmYWxzZSxcbiAgICAgICAgb3BlcmF0b3JfcmVhZG9ubHk6IGZhbHNlLFxuICAgICAgICB2YWx1ZV9yZWFkb25seTogZmFsc2UsXG4gICAgICAgIG5vX2RlbGV0ZTogZmFsc2VcbiAgICB9LFxuXG4gICAgZGVmYXVsdF9ncm91cF9mbGFnczoge1xuICAgICAgICBjb25kaXRpb25fcmVhZG9ubHk6IGZhbHNlLFxuICAgICAgICBub19hZGRfcnVsZTogZmFsc2UsXG4gICAgICAgIG5vX2FkZF9ncm91cDogZmFsc2UsXG4gICAgICAgIG5vX2RlbGV0ZTogZmFsc2VcbiAgICB9LFxuXG4gICAgdGVtcGxhdGVzOiB7XG4gICAgICAgIGdyb3VwOiBudWxsLFxuICAgICAgICBydWxlOiBudWxsLFxuICAgICAgICBmaWx0ZXJTZWxlY3Q6IG51bGwsXG4gICAgICAgIG9wZXJhdG9yU2VsZWN0OiBudWxsXG4gICAgfSxcblxuICAgIGxhbmdfY29kZTogJ2VuJyxcbiAgICBsYW5nOiB7fSxcblxuICAgIG9wZXJhdG9yczogW1xuICAgICAgICAnZXF1YWwnLFxuICAgICAgICAnbm90X2VxdWFsJyxcbiAgICAgICAgJ2luJyxcbiAgICAgICAgJ25vdF9pbicsXG4gICAgICAgICdsZXNzJyxcbiAgICAgICAgJ2xlc3Nfb3JfZXF1YWwnLFxuICAgICAgICAnZ3JlYXRlcicsXG4gICAgICAgICdncmVhdGVyX29yX2VxdWFsJyxcbiAgICAgICAgJ2JldHdlZW4nLFxuICAgICAgICAnbm90X2JldHdlZW4nLFxuICAgICAgICAnYmVnaW5zX3dpdGgnLFxuICAgICAgICAnbm90X2JlZ2luc193aXRoJyxcbiAgICAgICAgJ2NvbnRhaW5zJyxcbiAgICAgICAgJ25vdF9jb250YWlucycsXG4gICAgICAgICdlbmRzX3dpdGgnLFxuICAgICAgICAnbm90X2VuZHNfd2l0aCcsXG4gICAgICAgICdpc19lbXB0eScsXG4gICAgICAgICdpc19ub3RfZW1wdHknLFxuICAgICAgICAnaXNfbnVsbCcsXG4gICAgICAgICdpc19ub3RfbnVsbCdcbiAgICBdLFxuXG4gICAgaWNvbnM6IHtcbiAgICAgICAgYWRkX2dyb3VwOiAgICAnZ2x5cGhpY29uIGdseXBoaWNvbi1wbHVzLXNpZ24nLFxuICAgICAgICBhZGRfcnVsZTogICAgICdnbHlwaGljb24gZ2x5cGhpY29uLXBsdXMnLFxuICAgICAgICByZW1vdmVfZ3JvdXA6ICdnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZScsXG4gICAgICAgIHJlbW92ZV9ydWxlOiAgJ2dseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlJyxcbiAgICAgICAgZXJyb3I6ICAgICAgICAnZ2x5cGhpY29uIGdseXBoaWNvbi13YXJuaW5nLXNpZ24nXG4gICAgfVxufTtcblxuXG4vKipcbiAqIEluaXQgdGhlIGJ1aWxkZXJcbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oJGVsLCBvcHRpb25zKSB7XG4gICAgJGVsWzBdLnF1ZXJ5QnVpbGRlciA9IHRoaXM7XG4gICAgdGhpcy4kZWwgPSAkZWw7XG5cbiAgICAvLyBQUk9QRVJUSUVTXG4gICAgdGhpcy5zZXR0aW5ncyA9ICQuZXh0ZW5kZXh0KHRydWUsICdyZXBsYWNlJywge30sIFF1ZXJ5QnVpbGRlci5ERUZBVUxUUywgb3B0aW9ucyk7XG4gICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbCgpO1xuICAgIHRoaXMuc3RhdHVzID0ge1xuICAgICAgICBncm91cF9pZDogMCxcbiAgICAgICAgcnVsZV9pZDogMCxcbiAgICAgICAgZ2VuZXJhdGVkX2lkOiBmYWxzZSxcbiAgICAgICAgaGFzX29wdGdyb3VwOiBmYWxzZSxcbiAgICAgICAgaGFzX29wZXJhdG9yX29wcmdyb3VwOiBmYWxzZSxcbiAgICAgICAgaWQ6IG51bGxcbiAgICB9O1xuXG4gICAgLy8gXCJhbGxvd19ncm91cHNcIiBjYW4gYmUgYm9vbGVhbiBvciBpbnRcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5hbGxvd19ncm91cHMgPT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuYWxsb3dfZ3JvdXBzID0gMDtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5hbGxvd19ncm91cHMgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5hbGxvd19ncm91cHMgPSAtMTtcbiAgICB9XG5cbiAgICAvLyBTRVRUSU5HUyBTSE9SVENVVFNcbiAgICB0aGlzLmZpbHRlcnMgPSB0aGlzLnNldHRpbmdzLmZpbHRlcnM7XG4gICAgdGhpcy5pY29ucyA9IHRoaXMuc2V0dGluZ3MuaWNvbnM7XG4gICAgdGhpcy5vcGVyYXRvcnMgPSB0aGlzLnNldHRpbmdzLm9wZXJhdG9ycztcbiAgICB0aGlzLnRlbXBsYXRlcyA9IHRoaXMuc2V0dGluZ3MudGVtcGxhdGVzO1xuICAgIHRoaXMucGx1Z2lucyA9IHRoaXMuc2V0dGluZ3MucGx1Z2lucztcblxuICAgIC8vIHRyYW5zbGF0aW9ucyA6IGVuZ2xpc2ggPDwgJ2xhbmdfY29kZScgPDwgY3VzdG9tXG4gICAgaWYgKFF1ZXJ5QnVpbGRlci5yZWdpb25hbFsnZW4nXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIFV0aWxzLmVycm9yKCdDb25maWcnLCAnXCJpMThuL2VuLmpzXCIgbm90IGxvYWRlZC4nKTtcbiAgICB9XG4gICAgdGhpcy5sYW5nID0gJC5leHRlbmRleHQodHJ1ZSwgJ3JlcGxhY2UnLCB7fSwgUXVlcnlCdWlsZGVyLnJlZ2lvbmFsWydlbiddLCBRdWVyeUJ1aWxkZXIucmVnaW9uYWxbdGhpcy5zZXR0aW5ncy5sYW5nX2NvZGVdLCB0aGlzLnNldHRpbmdzLmxhbmcpO1xuXG4gICAgLy8gaW5pdCB0ZW1wbGF0ZXNcbiAgICBPYmplY3Qua2V5cyh0aGlzLnRlbXBsYXRlcykuZm9yRWFjaChmdW5jdGlvbih0cGwpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRlbXBsYXRlc1t0cGxdKSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlc1t0cGxdID0gUXVlcnlCdWlsZGVyLnRlbXBsYXRlc1t0cGxdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy50ZW1wbGF0ZXNbdHBsXSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZXNbdHBsXSA9IGRvVC50ZW1wbGF0ZSh0aGlzLnRlbXBsYXRlc1t0cGxdKTtcbiAgICAgICAgfVxuICAgIH0sIHRoaXMpO1xuXG4gICAgLy8gZW5zdXJlIHdlIGhhdmUgYSBjb250YWluZXIgaWRcbiAgICBpZiAoIXRoaXMuJGVsLmF0dHIoJ2lkJykpIHtcbiAgICAgICAgdGhpcy4kZWwuYXR0cignaWQnLCAncWJfJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDk5OTk5KSk7XG4gICAgICAgIHRoaXMuc3RhdHVzLmdlbmVyYXRlZF9pZCA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuc3RhdHVzLmlkID0gdGhpcy4kZWwuYXR0cignaWQnKTtcblxuICAgIC8vIElOSVRcbiAgICB0aGlzLiRlbC5hZGRDbGFzcygncXVlcnktYnVpbGRlciBmb3JtLWlubGluZScpO1xuXG4gICAgdGhpcy5maWx0ZXJzID0gdGhpcy5jaGVja0ZpbHRlcnModGhpcy5maWx0ZXJzKTtcbiAgICB0aGlzLm9wZXJhdG9ycyA9IHRoaXMuY2hlY2tPcGVyYXRvcnModGhpcy5vcGVyYXRvcnMpO1xuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgIHRoaXMuaW5pdFBsdWdpbnMoKTtcblxuICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJJbml0Jyk7XG5cbiAgICBpZiAob3B0aW9ucy5ydWxlcykge1xuICAgICAgICB0aGlzLnNldFJ1bGVzKG9wdGlvbnMucnVsZXMpO1xuICAgICAgICBkZWxldGUgdGhpcy5zZXR0aW5ncy5ydWxlcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0Um9vdCh0cnVlKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIENoZWNrcyB0aGUgY29uZmlndXJhdGlvbiBvZiBlYWNoIGZpbHRlclxuICogQHRocm93cyBDb25maWdFcnJvclxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmNoZWNrRmlsdGVycyA9IGZ1bmN0aW9uKGZpbHRlcnMpIHtcbiAgICB2YXIgZGVmaW5lZEZpbHRlcnMgPSBbXTtcblxuICAgIGlmICghZmlsdGVycyB8fCBmaWx0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBVdGlscy5lcnJvcignQ29uZmlnJywgJ01pc3NpbmcgZmlsdGVycyBsaXN0Jyk7XG4gICAgfVxuXG4gICAgZmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGZpbHRlciwgaSkge1xuICAgICAgICBpZiAoIWZpbHRlci5pZCkge1xuICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdNaXNzaW5nIGZpbHRlciB7MH0gaWQnLCBpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmaW5lZEZpbHRlcnMuaW5kZXhPZihmaWx0ZXIuaWQpICE9IC0xKSB7XG4gICAgICAgICAgICBVdGlscy5lcnJvcignQ29uZmlnJywgJ0ZpbHRlciBcInswfVwiIGFscmVhZHkgZGVmaW5lZCcsIGZpbHRlci5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVmaW5lZEZpbHRlcnMucHVzaChmaWx0ZXIuaWQpO1xuXG4gICAgICAgIGlmICghZmlsdGVyLnR5cGUpIHtcbiAgICAgICAgICAgIGZpbHRlci50eXBlID0gJ3N0cmluZyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIVF1ZXJ5QnVpbGRlci50eXBlc1tmaWx0ZXIudHlwZV0pIHtcbiAgICAgICAgICAgIFV0aWxzLmVycm9yKCdDb25maWcnLCAnSW52YWxpZCB0eXBlIFwiezB9XCInLCBmaWx0ZXIudHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZpbHRlci5pbnB1dCkge1xuICAgICAgICAgICAgZmlsdGVyLmlucHV0ID0gJ3RleHQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBmaWx0ZXIuaW5wdXQgIT0gJ2Z1bmN0aW9uJyAmJiBRdWVyeUJ1aWxkZXIuaW5wdXRzLmluZGV4T2YoZmlsdGVyLmlucHV0KSA9PSAtMSkge1xuICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdJbnZhbGlkIGlucHV0IFwiezB9XCInLCBmaWx0ZXIuaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlci5vcGVyYXRvcnMpIHtcbiAgICAgICAgICAgIGZpbHRlci5vcGVyYXRvcnMuZm9yRWFjaChmdW5jdGlvbihvcGVyYXRvcikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3BlcmF0b3IgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdGaWx0ZXIgb3BlcmF0b3JzIG11c3QgYmUgZ2xvYmFsIG9wZXJhdG9ycyB0eXBlcyAoc3RyaW5nKScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmaWx0ZXIuZmllbGQpIHtcbiAgICAgICAgICAgIGZpbHRlci5maWVsZCA9IGZpbHRlci5pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZpbHRlci5sYWJlbCkge1xuICAgICAgICAgICAgZmlsdGVyLmxhYmVsID0gZmlsdGVyLmZpZWxkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmaWx0ZXIub3B0Z3JvdXApIHtcbiAgICAgICAgICAgIGZpbHRlci5vcHRncm91cCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cy5oYXNfb3B0Z3JvdXAgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyByZWdpc3RlciBvcHRncm91cCBpZiBuZWVkZWRcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5vcHRncm91cHNbZmlsdGVyLm9wdGdyb3VwXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Mub3B0Z3JvdXBzW2ZpbHRlci5vcHRncm91cF0gPSBmaWx0ZXIub3B0Z3JvdXA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGZpbHRlci5pbnB1dCkge1xuICAgICAgICAgICAgY2FzZSAncmFkaW8nOiBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXIudmFsdWVzIHx8IGZpbHRlci52YWx1ZXMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignQ29uZmlnJywgJ01pc3NpbmcgZmlsdGVyIFwiezB9XCIgdmFsdWVzJywgZmlsdGVyLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlci5wbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLnBsYWNlaG9sZGVyX3ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5wbGFjZWhvbGRlcl92YWx1ZSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLml0ZXJhdGVPcHRpb25zKGZpbHRlci52YWx1ZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PSBmaWx0ZXIucGxhY2Vob2xkZXJfdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignQ29uZmlnJywgJ1BsYWNlaG9sZGVyIG9mIGZpbHRlciBcInswfVwiIG92ZXJsYXBzIHdpdGggb25lIG9mIGl0cyB2YWx1ZXMnLCBmaWx0ZXIuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIGlmICh0aGlzLnNldHRpbmdzLnNvcnRfZmlsdGVycykge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3Muc29ydF9maWx0ZXJzID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGZpbHRlcnMuc29ydCh0aGlzLnNldHRpbmdzLnNvcnRfZmlsdGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBmaWx0ZXJzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnRyYW5zbGF0ZUxhYmVsKGEubGFiZWwpLmxvY2FsZUNvbXBhcmUoc2VsZi50cmFuc2xhdGVMYWJlbChiLmxhYmVsKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXR1cy5oYXNfb3B0Z3JvdXApIHtcbiAgICAgICAgZmlsdGVycyA9IFV0aWxzLmdyb3VwU29ydChmaWx0ZXJzLCAnb3B0Z3JvdXAnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmlsdGVycztcbn07XG5cbi8qKlxuICogQ2hlY2tzIHRoZSBjb25maWd1cmF0aW9uIG9mIGVhY2ggb3BlcmF0b3JcbiAqIEB0aHJvd3MgQ29uZmlnRXJyb3JcbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5jaGVja09wZXJhdG9ycyA9IGZ1bmN0aW9uKG9wZXJhdG9ycykge1xuICAgIHZhciBkZWZpbmVkT3BlcmF0b3JzID0gW107XG5cbiAgICBvcGVyYXRvcnMuZm9yRWFjaChmdW5jdGlvbihvcGVyYXRvciwgaSkge1xuICAgICAgICBpZiAodHlwZW9mIG9wZXJhdG9yID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoIVF1ZXJ5QnVpbGRlci5PUEVSQVRPUlNbb3BlcmF0b3JdKSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdVbmtub3duIG9wZXJhdG9yIFwiezB9XCInLCBvcGVyYXRvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wZXJhdG9yc1tpXSA9IG9wZXJhdG9yID0gJC5leHRlbmRleHQodHJ1ZSwgJ3JlcGxhY2UnLCB7fSwgUXVlcnlCdWlsZGVyLk9QRVJBVE9SU1tvcGVyYXRvcl0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFvcGVyYXRvci50eXBlKSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdNaXNzaW5nIFwidHlwZVwiIGZvciBvcGVyYXRvciB7MH0nLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFF1ZXJ5QnVpbGRlci5PUEVSQVRPUlNbb3BlcmF0b3IudHlwZV0pIHtcbiAgICAgICAgICAgICAgICBvcGVyYXRvcnNbaV0gPSBvcGVyYXRvciA9ICQuZXh0ZW5kZXh0KHRydWUsICdyZXBsYWNlJywge30sIFF1ZXJ5QnVpbGRlci5PUEVSQVRPUlNbb3BlcmF0b3IudHlwZV0sIG9wZXJhdG9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wZXJhdG9yLm5iX2lucHV0cyA9PT0gdW5kZWZpbmVkIHx8IG9wZXJhdG9yLmFwcGx5X3RvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignQ29uZmlnJywgJ01pc3NpbmcgXCJuYl9pbnB1dHNcIiBhbmQvb3IgXCJhcHBseV90b1wiIGZvciBvcGVyYXRvciBcInswfVwiJywgb3BlcmF0b3IudHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmaW5lZE9wZXJhdG9ycy5pbmRleE9mKG9wZXJhdG9yLnR5cGUpICE9IC0xKSB7XG4gICAgICAgICAgICBVdGlscy5lcnJvcignQ29uZmlnJywgJ09wZXJhdG9yIFwiezB9XCIgYWxyZWFkeSBkZWZpbmVkJywgb3BlcmF0b3IudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVmaW5lZE9wZXJhdG9ycy5wdXNoKG9wZXJhdG9yLnR5cGUpO1xuXG4gICAgICAgIGlmICghb3BlcmF0b3Iub3B0Z3JvdXApIHtcbiAgICAgICAgICAgIG9wZXJhdG9yLm9wdGdyb3VwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzLmhhc19vcGVyYXRvcl9vcHRncm91cCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIHJlZ2lzdGVyIG9wdGdyb3VwIGlmIG5lZWRlZFxuICAgICAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLm9wdGdyb3Vwc1tvcGVyYXRvci5vcHRncm91cF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLm9wdGdyb3Vwc1tvcGVyYXRvci5vcHRncm91cF0gPSBvcGVyYXRvci5vcHRncm91cDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuc3RhdHVzLmhhc19vcGVyYXRvcl9vcHRncm91cCkge1xuICAgICAgICBvcGVyYXRvcnMgPSBVdGlscy5ncm91cFNvcnQob3BlcmF0b3JzLCAnb3B0Z3JvdXAnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3BlcmF0b3JzO1xufTtcblxuLyoqXG4gKiBBZGQgYWxsIGV2ZW50cyBsaXN0ZW5lcnNcbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gZ3JvdXAgY29uZGl0aW9uIGNoYW5nZVxuICAgIHRoaXMuJGVsLm9uKCdjaGFuZ2UucXVlcnlCdWlsZGVyJywgU2VsZWN0b3JzLmdyb3VwX2NvbmRpdGlvbiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICB2YXIgJGdyb3VwID0gJCh0aGlzKS5jbG9zZXN0KFNlbGVjdG9ycy5ncm91cF9jb250YWluZXIpO1xuICAgICAgICAgICAgTW9kZWwoJGdyb3VwKS5jb25kaXRpb24gPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBydWxlIGZpbHRlciBjaGFuZ2VcbiAgICB0aGlzLiRlbC5vbignY2hhbmdlLnF1ZXJ5QnVpbGRlcicsIFNlbGVjdG9ycy5ydWxlX2ZpbHRlciwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkcnVsZSA9ICQodGhpcykuY2xvc2VzdChTZWxlY3RvcnMucnVsZV9jb250YWluZXIpO1xuICAgICAgICBNb2RlbCgkcnVsZSkuZmlsdGVyID0gc2VsZi5nZXRGaWx0ZXJCeUlkKCQodGhpcykudmFsKCkpO1xuICAgIH0pO1xuXG4gICAgLy8gcnVsZSBvcGVyYXRvciBjaGFuZ2VcbiAgICB0aGlzLiRlbC5vbignY2hhbmdlLnF1ZXJ5QnVpbGRlcicsIFNlbGVjdG9ycy5ydWxlX29wZXJhdG9yLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICRydWxlID0gJCh0aGlzKS5jbG9zZXN0KFNlbGVjdG9ycy5ydWxlX2NvbnRhaW5lcik7XG4gICAgICAgIE1vZGVsKCRydWxlKS5vcGVyYXRvciA9IHNlbGYuZ2V0T3BlcmF0b3JCeVR5cGUoJCh0aGlzKS52YWwoKSk7XG4gICAgfSk7XG5cbiAgICAvLyBhZGQgcnVsZSBidXR0b25cbiAgICB0aGlzLiRlbC5vbignY2xpY2sucXVlcnlCdWlsZGVyJywgU2VsZWN0b3JzLmFkZF9ydWxlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICRncm91cCA9ICQodGhpcykuY2xvc2VzdChTZWxlY3RvcnMuZ3JvdXBfY29udGFpbmVyKTtcbiAgICAgICAgc2VsZi5hZGRSdWxlKE1vZGVsKCRncm91cCkpO1xuICAgIH0pO1xuXG4gICAgLy8gZGVsZXRlIHJ1bGUgYnV0dG9uXG4gICAgdGhpcy4kZWwub24oJ2NsaWNrLnF1ZXJ5QnVpbGRlcicsIFNlbGVjdG9ycy5kZWxldGVfcnVsZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkcnVsZSA9ICQodGhpcykuY2xvc2VzdChTZWxlY3RvcnMucnVsZV9jb250YWluZXIpO1xuICAgICAgICBzZWxmLmRlbGV0ZVJ1bGUoTW9kZWwoJHJ1bGUpKTtcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLnNldHRpbmdzLmFsbG93X2dyb3VwcyAhPT0gMCkge1xuICAgICAgICAvLyBhZGQgZ3JvdXAgYnV0dG9uXG4gICAgICAgIHRoaXMuJGVsLm9uKCdjbGljay5xdWVyeUJ1aWxkZXInLCBTZWxlY3RvcnMuYWRkX2dyb3VwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkZ3JvdXAgPSAkKHRoaXMpLmNsb3Nlc3QoU2VsZWN0b3JzLmdyb3VwX2NvbnRhaW5lcik7XG4gICAgICAgICAgICBzZWxmLmFkZEdyb3VwKE1vZGVsKCRncm91cCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBkZWxldGUgZ3JvdXAgYnV0dG9uXG4gICAgICAgIHRoaXMuJGVsLm9uKCdjbGljay5xdWVyeUJ1aWxkZXInLCBTZWxlY3RvcnMuZGVsZXRlX2dyb3VwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkZ3JvdXAgPSAkKHRoaXMpLmNsb3Nlc3QoU2VsZWN0b3JzLmdyb3VwX2NvbnRhaW5lcik7XG4gICAgICAgICAgICBzZWxmLmRlbGV0ZUdyb3VwKE1vZGVsKCRncm91cCkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBtb2RlbCBldmVudHNcbiAgICB0aGlzLm1vZGVsLm9uKHtcbiAgICAgICAgJ2Ryb3AnOiBmdW5jdGlvbihlLCBub2RlKSB7XG4gICAgICAgICAgICBub2RlLiRlbC5yZW1vdmUoKTtcbiAgICAgICAgICAgIHNlbGYucmVmcmVzaEdyb3Vwc0NvbmRpdGlvbnMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgJ2FkZCc6IGZ1bmN0aW9uKGUsIG5vZGUsIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBub2RlLiRlbC5wcmVwZW5kVG8obm9kZS5wYXJlbnQuJGVsLmZpbmQoJz4nICsgU2VsZWN0b3JzLnJ1bGVzX2xpc3QpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUuJGVsLmluc2VydEFmdGVyKG5vZGUucGFyZW50LnJ1bGVzW2luZGV4IC0gMV0uJGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYucmVmcmVzaEdyb3Vwc0NvbmRpdGlvbnMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgJ21vdmUnOiBmdW5jdGlvbihlLCBub2RlLCBncm91cCwgaW5kZXgpIHtcbiAgICAgICAgICAgIG5vZGUuJGVsLmRldGFjaCgpO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBub2RlLiRlbC5wcmVwZW5kVG8oZ3JvdXAuJGVsLmZpbmQoJz4nICsgU2VsZWN0b3JzLnJ1bGVzX2xpc3QpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUuJGVsLmluc2VydEFmdGVyKGdyb3VwLnJ1bGVzW2luZGV4IC0gMV0uJGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYucmVmcmVzaEdyb3Vwc0NvbmRpdGlvbnMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgJ3VwZGF0ZSc6IGZ1bmN0aW9uKGUsIG5vZGUsIGZpZWxkLCB2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgUnVsZSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kaXNwbGF5RXJyb3Iobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmbGFncyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFwcGx5UnVsZUZsYWdzKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZmlsdGVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlUnVsZUZpbHRlcihub2RlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdvcGVyYXRvcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZVJ1bGVPcGVyYXRvcihub2RlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZVJ1bGVWYWx1ZShub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kaXNwbGF5RXJyb3Iobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmbGFncyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFwcGx5R3JvdXBGbGFncyhub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbmRpdGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZUdyb3VwQ29uZGl0aW9uKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSB0aGUgcm9vdCBncm91cFxuICogQHBhcmFtIGFkZFJ1bGUge2Jvb2wsb3B0aW9uYWx9IGFkZCBhIGRlZmF1bHQgZW1wdHkgcnVsZVxuICogQHBhcmFtIGRhdGEge21peGVkLG9wdGlvbmFsfSBncm91cCBjdXN0b20gZGF0YVxuICogQHBhcmFtIGZsYWdzIHtvYmplY3Qsb3B0aW9uYWx9IGZsYWdzIHRvIGFwcGx5IHRvIHRoZSBncm91cFxuICogQHJldHVybiBncm91cCB7Um9vdH1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5zZXRSb290ID0gZnVuY3Rpb24oYWRkUnVsZSwgZGF0YSwgZmxhZ3MpIHtcbiAgICBhZGRSdWxlID0gKGFkZFJ1bGUgPT09IHVuZGVmaW5lZCB8fCBhZGRSdWxlID09PSB0cnVlKTtcblxuICAgIHZhciBncm91cF9pZCA9IHRoaXMubmV4dEdyb3VwSWQoKTtcbiAgICB2YXIgJGdyb3VwID0gJCh0aGlzLmdldEdyb3VwVGVtcGxhdGUoZ3JvdXBfaWQsIDEpKTtcblxuICAgIHRoaXMuJGVsLmFwcGVuZCgkZ3JvdXApO1xuICAgIHRoaXMubW9kZWwucm9vdCA9IG5ldyBHcm91cChudWxsLCAkZ3JvdXApO1xuICAgIHRoaXMubW9kZWwucm9vdC5tb2RlbCA9IHRoaXMubW9kZWw7XG5cbiAgICB0aGlzLm1vZGVsLnJvb3QuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5tb2RlbC5yb290Ll9fLmZsYWdzID0gJC5leHRlbmQoe30sIHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9ncm91cF9mbGFncywgZmxhZ3MpO1xuXG4gICAgdGhpcy50cmlnZ2VyKCdhZnRlckFkZEdyb3VwJywgdGhpcy5tb2RlbC5yb290KTtcblxuICAgIHRoaXMubW9kZWwucm9vdC5jb25kaXRpb24gPSB0aGlzLnNldHRpbmdzLmRlZmF1bHRfY29uZGl0aW9uO1xuXG4gICAgaWYgKGFkZFJ1bGUpIHtcbiAgICAgICAgdGhpcy5hZGRSdWxlKHRoaXMubW9kZWwucm9vdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubW9kZWwucm9vdDtcbn07XG5cbi8qKlxuICogQWRkIGEgbmV3IGdyb3VwXG4gKiBAcGFyYW0gcGFyZW50IHtHcm91cH1cbiAqIEBwYXJhbSBhZGRSdWxlIHtib29sLG9wdGlvbmFsfSBhZGQgYSBkZWZhdWx0IGVtcHR5IHJ1bGVcbiAqIEBwYXJhbSBkYXRhIHttaXhlZCxvcHRpb25hbH0gZ3JvdXAgY3VzdG9tIGRhdGFcbiAqIEBwYXJhbSBmbGFncyB7b2JqZWN0LG9wdGlvbmFsfSBmbGFncyB0byBhcHBseSB0byB0aGUgZ3JvdXBcbiAqIEByZXR1cm4gZ3JvdXAge0dyb3VwfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmFkZEdyb3VwID0gZnVuY3Rpb24ocGFyZW50LCBhZGRSdWxlLCBkYXRhLCBmbGFncykge1xuICAgIGFkZFJ1bGUgPSAoYWRkUnVsZSA9PT0gdW5kZWZpbmVkIHx8IGFkZFJ1bGUgPT09IHRydWUpO1xuXG4gICAgdmFyIGxldmVsID0gcGFyZW50LmxldmVsICsgMTtcblxuICAgIHZhciBlID0gdGhpcy50cmlnZ2VyKCdiZWZvcmVBZGRHcm91cCcsIHBhcmVudCwgYWRkUnVsZSwgbGV2ZWwpO1xuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBncm91cF9pZCA9IHRoaXMubmV4dEdyb3VwSWQoKTtcbiAgICB2YXIgJGdyb3VwID0gJCh0aGlzLmdldEdyb3VwVGVtcGxhdGUoZ3JvdXBfaWQsIGxldmVsKSk7XG4gICAgdmFyIG1vZGVsID0gcGFyZW50LmFkZEdyb3VwKCRncm91cCk7XG5cbiAgICBtb2RlbC5kYXRhID0gZGF0YTtcbiAgICBtb2RlbC5fXy5mbGFncyA9ICQuZXh0ZW5kKHt9LCB0aGlzLnNldHRpbmdzLmRlZmF1bHRfZ3JvdXBfZmxhZ3MsIGZsYWdzKTtcblxuICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJBZGRHcm91cCcsIG1vZGVsKTtcblxuICAgIG1vZGVsLmNvbmRpdGlvbiA9IHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9jb25kaXRpb247XG5cbiAgICBpZiAoYWRkUnVsZSkge1xuICAgICAgICB0aGlzLmFkZFJ1bGUobW9kZWwpO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbn07XG5cbi8qKlxuICogVHJpZXMgdG8gZGVsZXRlIGEgZ3JvdXAuIFRoZSBncm91cCBpcyBub3QgZGVsZXRlZCBpZiBhdCBsZWFzdCBvbmUgcnVsZSBpcyBub19kZWxldGUuXG4gKiBAcGFyYW0gZ3JvdXAge0dyb3VwfVxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgZ3JvdXAgaGFzIGJlZW4gZGVsZXRlZFxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUdyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICBpZiAoZ3JvdXAuaXNSb290KCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBlID0gdGhpcy50cmlnZ2VyKCdiZWZvcmVEZWxldGVHcm91cCcsIGdyb3VwKTtcbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGRlbCA9IHRydWU7XG5cbiAgICBncm91cC5lYWNoKCdyZXZlcnNlJywgZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICBkZWwmPSB0aGlzLmRlbGV0ZVJ1bGUocnVsZSk7XG4gICAgfSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgZGVsJj0gdGhpcy5kZWxldGVHcm91cChncm91cCk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICBpZiAoZGVsKSB7XG4gICAgICAgIGdyb3VwLmRyb3AoKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdhZnRlckRlbGV0ZUdyb3VwJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbDtcbn07XG5cbi8qKlxuICogQ2hhbmdlcyB0aGUgY29uZGl0aW9uIG9mIGEgZ3JvdXBcbiAqIEBwYXJhbSBncm91cCB7R3JvdXB9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUudXBkYXRlR3JvdXBDb25kaXRpb24gPSBmdW5jdGlvbihncm91cCkge1xuICAgIGdyb3VwLiRlbC5maW5kKCc+JyArIFNlbGVjdG9ycy5ncm91cF9jb25kaXRpb24pLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICR0aGlzLnByb3AoJ2NoZWNrZWQnLCAkdGhpcy52YWwoKSA9PT0gZ3JvdXAuY29uZGl0aW9uKTtcbiAgICAgICAgJHRoaXMucGFyZW50KCkudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScsICR0aGlzLnZhbCgpID09PSBncm91cC5jb25kaXRpb24pO1xuICAgIH0pO1xuXG4gICAgdGhpcy50cmlnZ2VyKCdhZnRlclVwZGF0ZUdyb3VwQ29uZGl0aW9uJywgZ3JvdXApO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgdmlzaWJpbGl0eSBvZiBjb25kaXRpb25zIGJhc2VkIG9uIG51bWJlciBvZiBydWxlcyBpbnNpZGUgZWFjaCBncm91cFxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnJlZnJlc2hHcm91cHNDb25kaXRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgKGZ1bmN0aW9uIHdhbGsoZ3JvdXApIHtcbiAgICAgICAgaWYgKCFncm91cC5mbGFncyB8fCAoZ3JvdXAuZmxhZ3MgJiYgIWdyb3VwLmZsYWdzLmNvbmRpdGlvbl9yZWFkb25seSkpIHtcbiAgICAgICAgICAgIGdyb3VwLiRlbC5maW5kKCc+JyArIFNlbGVjdG9ycy5ncm91cF9jb25kaXRpb24pLnByb3AoJ2Rpc2FibGVkJywgZ3JvdXAucnVsZXMubGVuZ3RoIDw9IDEpXG4gICAgICAgICAgICAgICAgLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsIGdyb3VwLnJ1bGVzLmxlbmd0aCA8PSAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdyb3VwLmVhY2goZnVuY3Rpb24ocnVsZSkge30sIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgICB3YWxrKGdyb3VwKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfSh0aGlzLm1vZGVsLnJvb3QpKTtcbn07XG5cbi8qKlxuICogQWRkIGEgbmV3IHJ1bGVcbiAqIEBwYXJhbSBwYXJlbnQge0dyb3VwfVxuICogQHBhcmFtIGRhdGEge21peGVkLG9wdGlvbmFsfSBydWxlIGN1c3RvbSBkYXRhXG4gKiBAcGFyYW0gZmxhZ3Mge29iamVjdCxvcHRpb25hbH0gZmxhZ3MgdG8gYXBwbHkgdG8gdGhlIHJ1bGVcbiAqIEByZXR1cm4gcnVsZSB7UnVsZX1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5hZGRSdWxlID0gZnVuY3Rpb24ocGFyZW50LCBkYXRhLCBmbGFncykge1xuICAgIHZhciBlID0gdGhpcy50cmlnZ2VyKCdiZWZvcmVBZGRSdWxlJywgcGFyZW50KTtcbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgcnVsZV9pZCA9IHRoaXMubmV4dFJ1bGVJZCgpO1xuICAgIHZhciAkcnVsZSA9ICQodGhpcy5nZXRSdWxlVGVtcGxhdGUocnVsZV9pZCkpO1xuICAgIHZhciBtb2RlbCA9IHBhcmVudC5hZGRSdWxlKCRydWxlKTtcblxuICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbW9kZWwuZGF0YSA9IGRhdGE7XG4gICAgfVxuXG4gICAgbW9kZWwuX18uZmxhZ3MgPSAkLmV4dGVuZCh7fSwgdGhpcy5zZXR0aW5ncy5kZWZhdWx0X3J1bGVfZmxhZ3MsIGZsYWdzKTtcblxuICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJBZGRSdWxlJywgbW9kZWwpO1xuXG4gICAgdGhpcy5jcmVhdGVSdWxlRmlsdGVycyhtb2RlbCk7XG5cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWZhdWx0X2ZpbHRlciB8fCAhdGhpcy5zZXR0aW5ncy5kaXNwbGF5X2VtcHR5X2ZpbHRlcikge1xuICAgICAgICBtb2RlbC5maWx0ZXIgPSB0aGlzLmNoYW5nZSgnZ2V0RGVmYXVsdEZpbHRlcicsXG4gICAgICAgICAgICB0aGlzLmdldEZpbHRlckJ5SWQodGhpcy5zZXR0aW5ncy5kZWZhdWx0X2ZpbHRlciB8fCB0aGlzLmZpbHRlcnNbMF0uaWQpLFxuICAgICAgICAgICAgbW9kZWxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWw7XG59O1xuXG4vKipcbiAqIERlbGV0ZSBhIHJ1bGUuXG4gKiBAcGFyYW0gcnVsZSB7UnVsZX1cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIHJ1bGUgaGFzIGJlZW4gZGVsZXRlZFxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmRlbGV0ZVJ1bGUgPSBmdW5jdGlvbihydWxlKSB7XG4gICAgaWYgKHJ1bGUuZmxhZ3Mubm9fZGVsZXRlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZSA9IHRoaXMudHJpZ2dlcignYmVmb3JlRGVsZXRlUnVsZScsIHJ1bGUpO1xuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBydWxlLmRyb3AoKTtcblxuICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJEZWxldGVSdWxlJyk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIHRoZSBmaWx0ZXJzIDxzZWxlY3Q+IGZvciBhIHJ1bGVcbiAqIEBwYXJhbSBydWxlIHtSdWxlfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmNyZWF0ZVJ1bGVGaWx0ZXJzID0gZnVuY3Rpb24ocnVsZSkge1xuICAgIHZhciBmaWx0ZXJzID0gdGhpcy5jaGFuZ2UoJ2dldFJ1bGVGaWx0ZXJzJywgdGhpcy5maWx0ZXJzLCBydWxlKTtcbiAgICB2YXIgJGZpbHRlclNlbGVjdCA9ICQodGhpcy5nZXRSdWxlRmlsdGVyU2VsZWN0KHJ1bGUsIGZpbHRlcnMpKTtcblxuICAgIHJ1bGUuJGVsLmZpbmQoU2VsZWN0b3JzLmZpbHRlcl9jb250YWluZXIpLmh0bWwoJGZpbHRlclNlbGVjdCk7XG5cbiAgICB0aGlzLnRyaWdnZXIoJ2FmdGVyQ3JlYXRlUnVsZUZpbHRlcnMnLCBydWxlKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIHRoZSBvcGVyYXRvcnMgPHNlbGVjdD4gZm9yIGEgcnVsZSBhbmQgaW5pdCB0aGUgcnVsZSBvcGVyYXRvclxuICogQHBhcmFtIHJ1bGUge1J1bGV9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuY3JlYXRlUnVsZU9wZXJhdG9ycyA9IGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICB2YXIgJG9wZXJhdG9yQ29udGFpbmVyID0gcnVsZS4kZWwuZmluZChTZWxlY3RvcnMub3BlcmF0b3JfY29udGFpbmVyKS5lbXB0eSgpO1xuXG4gICAgaWYgKCFydWxlLmZpbHRlcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG9wZXJhdG9ycyA9IHRoaXMuZ2V0T3BlcmF0b3JzKHJ1bGUuZmlsdGVyKTtcbiAgICB2YXIgJG9wZXJhdG9yU2VsZWN0ID0gJCh0aGlzLmdldFJ1bGVPcGVyYXRvclNlbGVjdChydWxlLCBvcGVyYXRvcnMpKTtcblxuICAgICRvcGVyYXRvckNvbnRhaW5lci5odG1sKCRvcGVyYXRvclNlbGVjdCk7XG5cbiAgICAvLyBzZXQgdGhlIG9wZXJhdG9yIHdpdGhvdXQgdHJpZ2dlcmluZyB1cGRhdGUgZXZlbnRcbiAgICBydWxlLl9fLm9wZXJhdG9yID0gb3BlcmF0b3JzWzBdO1xuXG4gICAgdGhpcy50cmlnZ2VyKCdhZnRlckNyZWF0ZVJ1bGVPcGVyYXRvcnMnLCBydWxlLCBvcGVyYXRvcnMpO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgdGhlIG1haW4gaW5wdXQgZm9yIGEgcnVsZVxuICogQHBhcmFtIHJ1bGUge1J1bGV9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuY3JlYXRlUnVsZUlucHV0ID0gZnVuY3Rpb24ocnVsZSkge1xuICAgIHZhciAkdmFsdWVDb250YWluZXIgPSBydWxlLiRlbC5maW5kKFNlbGVjdG9ycy52YWx1ZV9jb250YWluZXIpLmVtcHR5KCk7XG5cbiAgICBydWxlLl9fLnZhbHVlID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKCFydWxlLmZpbHRlciB8fCAhcnVsZS5vcGVyYXRvciB8fCBydWxlLm9wZXJhdG9yLm5iX2lucHV0cyA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciAkaW5wdXRzID0gJCgpO1xuICAgIHZhciBmaWx0ZXIgPSBydWxlLmZpbHRlcjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZS5vcGVyYXRvci5uYl9pbnB1dHM7IGkrKykge1xuICAgICAgICB2YXIgJHJ1bGVJbnB1dCA9ICQodGhpcy5nZXRSdWxlSW5wdXQocnVsZSwgaSkpO1xuICAgICAgICBpZiAoaSA+IDApICR2YWx1ZUNvbnRhaW5lci5hcHBlbmQodGhpcy5zZXR0aW5ncy5pbnB1dHNfc2VwYXJhdG9yKTtcbiAgICAgICAgJHZhbHVlQ29udGFpbmVyLmFwcGVuZCgkcnVsZUlucHV0KTtcbiAgICAgICAgJGlucHV0cyA9ICRpbnB1dHMuYWRkKCRydWxlSW5wdXQpO1xuICAgIH1cblxuICAgICR2YWx1ZUNvbnRhaW5lci5zaG93KCk7XG5cbiAgICAkaW5wdXRzLm9uKCdjaGFuZ2UgJyArIChmaWx0ZXIuaW5wdXRfZXZlbnQgfHwgJycpLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl91cGRhdGluZ19pbnB1dCkge1xuICAgICAgICAgICAgcnVsZS5fdXBkYXRpbmdfdmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgcnVsZS52YWx1ZSA9IHNlbGYuZ2V0UnVsZUlucHV0VmFsdWUocnVsZSk7XG4gICAgICAgICAgICBydWxlLl91cGRhdGluZ192YWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoZmlsdGVyLnBsdWdpbikge1xuICAgICAgICAkaW5wdXRzW2ZpbHRlci5wbHVnaW5dKGZpbHRlci5wbHVnaW5fY29uZmlnIHx8IHt9KTtcbiAgICB9XG5cbiAgICB0aGlzLnRyaWdnZXIoJ2FmdGVyQ3JlYXRlUnVsZUlucHV0JywgcnVsZSk7XG5cbiAgICBpZiAoZmlsdGVyLmRlZmF1bHRfdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBydWxlLnZhbHVlID0gZmlsdGVyLmRlZmF1bHRfdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBydWxlLl91cGRhdGluZ192YWx1ZSA9IHRydWU7XG4gICAgICAgIHJ1bGUudmFsdWUgPSBzZWxmLmdldFJ1bGVJbnB1dFZhbHVlKHJ1bGUpO1xuICAgICAgICBydWxlLl91cGRhdGluZ192YWx1ZSA9IGZhbHNlO1xuICAgIH1cbn07XG5cbi8qKlxuICogUGVyZm9ybSBhY3Rpb24gd2hlbiBydWxlJ3MgZmlsdGVyIGlzIGNoYW5nZWRcbiAqIEBwYXJhbSBydWxlIHtSdWxlfVxuICogQHBhcmFtIHByZXZpb3VzRmlsdGVyIHtvYmplY3R9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUudXBkYXRlUnVsZUZpbHRlciA9IGZ1bmN0aW9uKHJ1bGUsIHByZXZpb3VzRmlsdGVyKSB7XG4gICAgdGhpcy5jcmVhdGVSdWxlT3BlcmF0b3JzKHJ1bGUpO1xuICAgIHRoaXMuY3JlYXRlUnVsZUlucHV0KHJ1bGUpO1xuXG4gICAgcnVsZS4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9maWx0ZXIpLnZhbChydWxlLmZpbHRlciA/IHJ1bGUuZmlsdGVyLmlkIDogJy0xJyk7XG5cbiAgICAvLyBjbGVhciBydWxlIGRhdGEgaWYgdGhlIGZpbHRlciBjaGFuZ2VkXG4gICAgaWYgKHByZXZpb3VzRmlsdGVyICYmIHJ1bGUuZmlsdGVyICYmIHByZXZpb3VzRmlsdGVyLmlkICE9PSBydWxlLmZpbHRlci5pZCkge1xuICAgICAgICBydWxlLmRhdGEgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdGhpcy50cmlnZ2VyKCdhZnRlclVwZGF0ZVJ1bGVGaWx0ZXInLCBydWxlKTtcbn07XG5cbi8qKlxuICogVXBkYXRlIG1haW4gPGlucHV0PiB2aXNpYmlsaXR5IHdoZW4gcnVsZSBvcGVyYXRvciBjaGFuZ2VzXG4gKiBAcGFyYW0gcnVsZSB7UnVsZX1cbiAqIEBwYXJhbSBwcmV2aW91c09wZXJhdG9yIHtvYmplY3R9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUudXBkYXRlUnVsZU9wZXJhdG9yID0gZnVuY3Rpb24ocnVsZSwgcHJldmlvdXNPcGVyYXRvcikge1xuICAgIHZhciAkdmFsdWVDb250YWluZXIgPSBydWxlLiRlbC5maW5kKFNlbGVjdG9ycy52YWx1ZV9jb250YWluZXIpO1xuXG4gICAgaWYgKCFydWxlLm9wZXJhdG9yIHx8IHJ1bGUub3BlcmF0b3IubmJfaW5wdXRzID09PSAwKSB7XG4gICAgICAgICR2YWx1ZUNvbnRhaW5lci5oaWRlKCk7XG5cbiAgICAgICAgcnVsZS5fXy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgICR2YWx1ZUNvbnRhaW5lci5zaG93KCk7XG5cbiAgICAgICAgaWYgKCR2YWx1ZUNvbnRhaW5lci5pcygnOmVtcHR5JykgfHwgIXByZXZpb3VzT3BlcmF0b3IgfHwgcnVsZS5vcGVyYXRvci5uYl9pbnB1dHMgIT09IHByZXZpb3VzT3BlcmF0b3IubmJfaW5wdXRzKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJ1bGVJbnB1dChydWxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChydWxlLm9wZXJhdG9yKSB7XG4gICAgICAgIHJ1bGUuJGVsLmZpbmQoU2VsZWN0b3JzLnJ1bGVfb3BlcmF0b3IpLnZhbChydWxlLm9wZXJhdG9yLnR5cGUpO1xuICAgIH1cblxuICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJVcGRhdGVSdWxlT3BlcmF0b3InLCBydWxlKTtcblxuICAgIHRoaXMudXBkYXRlUnVsZVZhbHVlKHJ1bGUpO1xufTtcblxuLyoqXG4gKiBQZXJmb3JtIGFjdGlvbiB3aGVuIHJ1bGUncyB2YWx1ZSBpcyBjaGFuZ2VkXG4gKiBAcGFyYW0gcnVsZSB7UnVsZX1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS51cGRhdGVSdWxlVmFsdWUgPSBmdW5jdGlvbihydWxlKSB7XG4gICAgaWYgKCFydWxlLl91cGRhdGluZ192YWx1ZSkge1xuICAgICAgICB0aGlzLnNldFJ1bGVJbnB1dFZhbHVlKHJ1bGUsIHJ1bGUudmFsdWUpO1xuICAgIH1cblxuICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJVcGRhdGVSdWxlVmFsdWUnLCBydWxlKTtcbn07XG5cbi8qKlxuICogQ2hhbmdlIHJ1bGVzIHByb3BlcnRpZXMgZGVwZW5kaW5nIG9uIGZsYWdzLlxuICogQHBhcmFtIHJ1bGUge1J1bGV9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuYXBwbHlSdWxlRmxhZ3MgPSBmdW5jdGlvbihydWxlKSB7XG4gICAgdmFyIGZsYWdzID0gcnVsZS5mbGFncztcblxuICAgIGlmIChmbGFncy5maWx0ZXJfcmVhZG9ubHkpIHtcbiAgICAgICAgcnVsZS4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9maWx0ZXIpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChmbGFncy5vcGVyYXRvcl9yZWFkb25seSkge1xuICAgICAgICBydWxlLiRlbC5maW5kKFNlbGVjdG9ycy5ydWxlX29wZXJhdG9yKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoZmxhZ3MudmFsdWVfcmVhZG9ubHkpIHtcbiAgICAgICAgcnVsZS4kZWwuZmluZChTZWxlY3RvcnMucnVsZV92YWx1ZSkucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKGZsYWdzLm5vX2RlbGV0ZSkge1xuICAgICAgICBydWxlLiRlbC5maW5kKFNlbGVjdG9ycy5kZWxldGVfcnVsZSkucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy50cmlnZ2VyKCdhZnRlckFwcGx5UnVsZUZsYWdzJywgcnVsZSk7XG59O1xuXG4vKipcbiAqIENoYW5nZSBncm91cCBwcm9wZXJ0aWVzIGRlcGVuZGluZyBvbiBmbGFncy5cbiAqIEBwYXJhbSBncm91cCB7R3JvdXB9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuYXBwbHlHcm91cEZsYWdzID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICB2YXIgZmxhZ3MgPSBncm91cC5mbGFncztcblxuICAgIGlmIChmbGFncy5jb25kaXRpb25fcmVhZG9ubHkpIHtcbiAgICAgICAgZ3JvdXAuJGVsLmZpbmQoJz4nICsgU2VsZWN0b3JzLmdyb3VwX2NvbmRpdGlvbikucHJvcCgnZGlzYWJsZWQnLCB0cnVlKVxuICAgICAgICAgICAgLnBhcmVudCgpLmFkZENsYXNzKCdyZWFkb25seScpO1xuICAgIH1cbiAgICBpZiAoZmxhZ3Mubm9fYWRkX3J1bGUpIHtcbiAgICAgICAgZ3JvdXAuJGVsLmZpbmQoU2VsZWN0b3JzLmFkZF9ydWxlKS5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKGZsYWdzLm5vX2FkZF9ncm91cCkge1xuICAgICAgICBncm91cC4kZWwuZmluZChTZWxlY3RvcnMuYWRkX2dyb3VwKS5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKGZsYWdzLm5vX2RlbGV0ZSkge1xuICAgICAgICBncm91cC4kZWwuZmluZChTZWxlY3RvcnMuZGVsZXRlX2dyb3VwKS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyaWdnZXIoJ2FmdGVyQXBwbHlHcm91cEZsYWdzJywgZ3JvdXApO1xufTtcblxuLyoqXG4gKiBDbGVhciBhbGwgZXJyb3JzIG1hcmtlcnNcbiAqIEBwYXJhbSBub2RlIHtOb2RlLG9wdGlvbmFsfSBkZWZhdWx0IGlzIHJvb3QgR3JvdXBcbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5jbGVhckVycm9ycyA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICBub2RlID0gbm9kZSB8fCB0aGlzLm1vZGVsLnJvb3Q7XG5cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5vZGUuZXJyb3IgPSBudWxsO1xuXG4gICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBHcm91cCkge1xuICAgICAgICBub2RlLmVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgcnVsZS5lcnJvciA9IG51bGw7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRXJyb3JzKGdyb3VwKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBZGQvUmVtb3ZlIGNsYXNzIC5oYXMtZXJyb3IgYW5kIHVwZGF0ZSBlcnJvciB0aXRsZVxuICogQHBhcmFtIG5vZGUge05vZGV9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZGlzcGxheUVycm9yID0gZnVuY3Rpb24obm9kZSkge1xuICAgIGlmICh0aGlzLnNldHRpbmdzLmRpc3BsYXlfZXJyb3JzKSB7XG4gICAgICAgIGlmIChub2RlLmVycm9yID09PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlLiRlbC5yZW1vdmVDbGFzcygnaGFzLWVycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gdGhpcy5sYW5nLmVycm9yc1tub2RlLmVycm9yWzBdXSB8fCBub2RlLmVycm9yWzBdO1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gVXRpbHMuZm10KGVycm9yTWVzc2FnZSwgbm9kZS5lcnJvci5zbGljZSgxKSk7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSB0aGlzLmNoYW5nZSgnZGlzcGxheUVycm9yJywgZXJyb3JNZXNzYWdlLCBub2RlLmVycm9yLCBub2RlKTtcblxuICAgICAgICAgICAgbm9kZS4kZWwuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpXG4gICAgICAgICAgICAgIC5maW5kKFNlbGVjdG9ycy5lcnJvcl9jb250YWluZXIpLmVxKDApXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RpdGxlJywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogVHJpZ2dlciBhIHZhbGlkYXRpb24gZXJyb3IgZXZlbnRcbiAqIEBwYXJhbSBub2RlIHtOb2RlfVxuICogQHBhcmFtIGVycm9yIHthcnJheX1cbiAqIEBwYXJhbSB2YWx1ZSB7bWl4ZWR9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUudHJpZ2dlclZhbGlkYXRpb25FcnJvciA9IGZ1bmN0aW9uKG5vZGUsIGVycm9yLCB2YWx1ZSkge1xuICAgIGlmICghJC5pc0FycmF5KGVycm9yKSkge1xuICAgICAgICBlcnJvciA9IFtlcnJvcl07XG4gICAgfVxuXG4gICAgdmFyIGUgPSB0aGlzLnRyaWdnZXIoJ3ZhbGlkYXRpb25FcnJvcicsIG5vZGUsIGVycm9yLCB2YWx1ZSk7XG4gICAgaWYgKCFlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIG5vZGUuZXJyb3IgPSBlcnJvcjtcbiAgICB9XG59O1xuXG5cbi8qKlxuICogRGVzdHJveSB0aGUgcGx1Z2luXG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudHJpZ2dlcignYmVmb3JlRGVzdHJveScpO1xuXG4gICAgaWYgKHRoaXMuc3RhdHVzLmdlbmVyYXRlZF9pZCkge1xuICAgICAgICB0aGlzLiRlbC5yZW1vdmVBdHRyKCdpZCcpO1xuICAgIH1cblxuICAgIHRoaXMuY2xlYXIoKTtcbiAgICB0aGlzLm1vZGVsID0gbnVsbDtcblxuICAgIHRoaXMuJGVsXG4gICAgICAgIC5vZmYoJy5xdWVyeUJ1aWxkZXInKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ3F1ZXJ5LWJ1aWxkZXInKVxuICAgICAgICAucmVtb3ZlRGF0YSgncXVlcnlCdWlsZGVyJyk7XG5cbiAgICBkZWxldGUgdGhpcy4kZWxbMF0ucXVlcnlCdWlsZGVyO1xufTtcblxuLyoqXG4gKiBSZXNldCB0aGUgcGx1Z2luXG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0YXR1cy5ncm91cF9pZCA9IDE7XG4gICAgdGhpcy5zdGF0dXMucnVsZV9pZCA9IDA7XG5cbiAgICB0aGlzLm1vZGVsLnJvb3QuZW1wdHkoKTtcblxuICAgIHRoaXMuYWRkUnVsZSh0aGlzLm1vZGVsLnJvb3QpO1xuXG4gICAgdGhpcy50cmlnZ2VyKCdhZnRlclJlc2V0Jyk7XG59O1xuXG4vKipcbiAqIENsZWFyIHRoZSBwbHVnaW5cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3RhdHVzLmdyb3VwX2lkID0gMDtcbiAgICB0aGlzLnN0YXR1cy5ydWxlX2lkID0gMDtcblxuICAgIGlmICh0aGlzLm1vZGVsLnJvb3QpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5yb290LmRyb3AoKTtcbiAgICAgICAgdGhpcy5tb2RlbC5yb290ID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLnRyaWdnZXIoJ2FmdGVyQ2xlYXInKTtcbn07XG5cbi8qKlxuICogTW9kaWZ5IHRoZSBidWlsZGVyIGNvbmZpZ3VyYXRpb25cbiAqIE9ubHkgb3B0aW9ucyBkZWZpbmVkIGluIFF1ZXJ5QnVpbGRlci5tb2RpZmlhYmxlX29wdGlvbnMgYXJlIG1vZGlmaWFibGVcbiAqIEBwYXJhbSB7b2JqZWN0fVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgJC5lYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKG9wdCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKFF1ZXJ5QnVpbGRlci5tb2RpZmlhYmxlX29wdGlvbnMuaW5kZXhPZihvcHQpICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5nc1tvcHRdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG1vZGVsIGFzc29jaWF0ZWQgdG8gYSBET00gb2JqZWN0LCBvciByb290IG1vZGVsXG4gKiBAcGFyYW0ge2pRdWVyeSxvcHRpb25hbH1cbiAqIEByZXR1cm4ge05vZGV9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZ2V0TW9kZWwgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICByZXR1cm4gIXRhcmdldCA/IHRoaXMubW9kZWwucm9vdCA6IE1vZGVsKHRhcmdldCk7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlIHRoZSB3aG9sZSBidWlsZGVyXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jbGVhckVycm9ycygpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHZhbGlkID0gKGZ1bmN0aW9uIHBhcnNlKGdyb3VwKSB7XG4gICAgICAgIHZhciBkb25lID0gMDtcbiAgICAgICAgdmFyIGVycm9ycyA9IDA7XG5cbiAgICAgICAgZ3JvdXAuZWFjaChmdW5jdGlvbihydWxlKSB7XG4gICAgICAgICAgICBpZiAoIXJ1bGUuZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi50cmlnZ2VyVmFsaWRhdGlvbkVycm9yKHJ1bGUsICdub19maWx0ZXInLCBudWxsKTtcbiAgICAgICAgICAgICAgICBlcnJvcnMrKztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghcnVsZS5vcGVyYXRvcikge1xuICAgICAgICAgICAgICAgIHNlbGYudHJpZ2dlclZhbGlkYXRpb25FcnJvcihydWxlLCAnbm9fb3BlcmF0b3InLCBudWxsKTtcbiAgICAgICAgICAgICAgICBlcnJvcnMrKztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChydWxlLm9wZXJhdG9yLm5iX2lucHV0cyAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWxpZCA9IHNlbGYudmFsaWRhdGVWYWx1ZShydWxlLCBydWxlLnZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnRyaWdnZXJWYWxpZGF0aW9uRXJyb3IocnVsZSwgdmFsaWQsIHJ1bGUudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMrKztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZG9uZSsrO1xuXG4gICAgICAgIH0sIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgICBpZiAocGFyc2UoZ3JvdXApKSB7XG4gICAgICAgICAgICAgICAgZG9uZSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChlcnJvcnMgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9uZSA9PT0gMCAmJiAoIXNlbGYuc2V0dGluZ3MuYWxsb3dfZW1wdHkgfHwgIWdyb3VwLmlzUm9vdCgpKSkge1xuICAgICAgICAgICAgc2VsZi50cmlnZ2VyVmFsaWRhdGlvbkVycm9yKGdyb3VwLCAnZW1wdHlfZ3JvdXAnLCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgfSh0aGlzLm1vZGVsLnJvb3QpKTtcblxuICAgIHJldHVybiB0aGlzLmNoYW5nZSgndmFsaWRhdGUnLCB2YWxpZCk7XG59O1xuXG4vKipcbiAqIEdldCBhbiBvYmplY3QgcmVwcmVzZW50aW5nIGN1cnJlbnQgcnVsZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiAgICAgIC0gZ2V0X2ZsYWdzOiBmYWxzZVtkZWZhdWx0XSB8IHRydWUob25seSBjaGFuZ2VzIGZyb20gZGVmYXVsdCBmbGFncykgfCAnYWxsJ1xuICogICAgICAtIGFsbG93X2ludmFsaWQ6IGZhbHNlW2RlZmF1bHRdIHwgdHJ1ZShyZXR1cm5zIHJ1bGVzIGV2ZW4gaWYgdGhleSBhcmUgaW52YWxpZClcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5nZXRSdWxlcyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gJC5leHRlbmQoe1xuICAgICAgICBnZXRfZmxhZ3M6IGZhbHNlLFxuICAgICAgICBhbGxvd19pbnZhbGlkOiBmYWxzZVxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgdmFyIHZhbGlkID0gdGhpcy52YWxpZGF0ZSgpO1xuICAgIGlmICghdmFsaWQgJiYgIW9wdGlvbnMuYWxsb3dfaW52YWxpZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgb3V0ID0gKGZ1bmN0aW9uIHBhcnNlKGdyb3VwKSB7XG4gICAgICAgIHZhciBncm91cERhdGEgPSB7XG4gICAgICAgICAgICBjb25kaXRpb246IGdyb3VwLmNvbmRpdGlvbixcbiAgICAgICAgICAgIHJ1bGVzOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChncm91cC5kYXRhKSB7XG4gICAgICAgICAgICBncm91cERhdGEuZGF0YSA9ICQuZXh0ZW5kZXh0KHRydWUsICdyZXBsYWNlJywge30sIGdyb3VwLmRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZ2V0X2ZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBzZWxmLmdldEdyb3VwRmxhZ3MoZ3JvdXAuZmxhZ3MsIG9wdGlvbnMuZ2V0X2ZsYWdzID09PSAnYWxsJyk7XG4gICAgICAgICAgICBpZiAoISQuaXNFbXB0eU9iamVjdChmbGFncykpIHtcbiAgICAgICAgICAgICAgICBncm91cERhdGEuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdyb3VwLmVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIGlmICghcnVsZS5vcGVyYXRvciB8fCBydWxlLm9wZXJhdG9yLm5iX2lucHV0cyAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcnVsZS52YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJ1bGVEYXRhID0ge1xuICAgICAgICAgICAgICAgIGlkOiBydWxlLmZpbHRlciA/IHJ1bGUuZmlsdGVyLmlkIDogbnVsbCxcbiAgICAgICAgICAgICAgICBmaWVsZDogcnVsZS5maWx0ZXIgPyBydWxlLmZpbHRlci5maWVsZCA6IG51bGwsXG4gICAgICAgICAgICAgICAgdHlwZTogcnVsZS5maWx0ZXIgPyBydWxlLmZpbHRlci50eXBlIDogbnVsbCxcbiAgICAgICAgICAgICAgICBpbnB1dDogcnVsZS5maWx0ZXIgPyBydWxlLmZpbHRlci5pbnB1dCA6IG51bGwsXG4gICAgICAgICAgICAgICAgb3BlcmF0b3I6IHJ1bGUub3BlcmF0b3IgPyBydWxlLm9wZXJhdG9yLnR5cGUgOiBudWxsLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHJ1bGUuZmlsdGVyICYmIHJ1bGUuZmlsdGVyLmRhdGEgfHwgcnVsZS5kYXRhKSB7XG4gICAgICAgICAgICAgICAgcnVsZURhdGEuZGF0YSA9ICQuZXh0ZW5kZXh0KHRydWUsICdyZXBsYWNlJywge30sIHJ1bGUuZmlsdGVyLmRhdGEsIHJ1bGUuZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmdldF9mbGFncykge1xuICAgICAgICAgICAgICAgIHZhciBmbGFncyA9IHNlbGYuZ2V0UnVsZUZsYWdzKHJ1bGUuZmxhZ3MsIG9wdGlvbnMuZ2V0X2ZsYWdzID09PSAnYWxsJyk7XG4gICAgICAgICAgICAgICAgaWYgKCEkLmlzRW1wdHlPYmplY3QoZmxhZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGVEYXRhLmZsYWdzID0gZmxhZ3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBncm91cERhdGEucnVsZXMucHVzaChzZWxmLmNoYW5nZSgncnVsZVRvSnNvbicsIHJ1bGVEYXRhLCBydWxlKSk7XG5cbiAgICAgICAgfSwgZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgICAgIGdyb3VwRGF0YS5ydWxlcy5wdXNoKHBhcnNlKG1vZGVsKSk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBzZWxmLmNoYW5nZSgnZ3JvdXBUb0pzb24nLCBncm91cERhdGEsIGdyb3VwKTtcblxuICAgIH0odGhpcy5tb2RlbC5yb290KSk7XG5cbiAgICBvdXQudmFsaWQgPSB2YWxpZDtcblxuICAgIHJldHVybiB0aGlzLmNoYW5nZSgnZ2V0UnVsZXMnLCBvdXQpO1xufTtcblxuLyoqXG4gKiBTZXQgcnVsZXMgZnJvbSBvYmplY3RcbiAqIEB0aHJvd3MgUnVsZXNFcnJvciwgVW5kZWZpbmVkQ29uZGl0aW9uRXJyb3JcbiAqIEBwYXJhbSBkYXRhIHtvYmplY3R9XG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogICAgICAtIGFsbG93X2ludmFsaWQ6IGZhbHNlW2RlZmF1bHRdIHwgdHJ1ZShzaWxlbnQtZmFpbCBpZiB0aGUgZGF0YSBhcmUgaW52YWxpZClcbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5zZXRSdWxlcyA9IGZ1bmN0aW9uKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gJC5leHRlbmQoe1xuICAgICAgICBhbGxvd19pbnZhbGlkOiBmYWxzZVxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgaWYgKCQuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgY29uZGl0aW9uOiB0aGlzLnNldHRpbmdzLmRlZmF1bHRfY29uZGl0aW9uLFxuICAgICAgICAgICAgcnVsZXM6IGRhdGFcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoIWRhdGEgfHwgIWRhdGEucnVsZXMgfHwgKGRhdGEucnVsZXMubGVuZ3RoID09PSAwICYmICF0aGlzLnNldHRpbmdzLmFsbG93X2VtcHR5KSkge1xuICAgICAgICBVdGlscy5lcnJvcignUnVsZXNQYXJzZScsICdJbmNvcnJlY3QgZGF0YSBvYmplY3QgcGFzc2VkJyk7XG4gICAgfVxuXG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHRoaXMuc2V0Um9vdChmYWxzZSwgZGF0YS5kYXRhLCB0aGlzLnBhcnNlR3JvdXBGbGFncyhkYXRhKSk7XG4gICAgdGhpcy5hcHBseUdyb3VwRmxhZ3ModGhpcy5tb2RlbC5yb290KTtcblxuICAgIGRhdGEgPSB0aGlzLmNoYW5nZSgnc2V0UnVsZXMnLCBkYXRhKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIChmdW5jdGlvbiBhZGQoZGF0YSwgZ3JvdXApIHtcbiAgICAgICAgaWYgKGdyb3VwID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5jb25kaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YS5jb25kaXRpb24gPSBzZWxmLnNldHRpbmdzLmRlZmF1bHRfY29uZGl0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNlbGYuc2V0dGluZ3MuY29uZGl0aW9ucy5pbmRleE9mKGRhdGEuY29uZGl0aW9uKSA9PSAtMSkge1xuICAgICAgICAgICAgVXRpbHMuZXJyb3IoIW9wdGlvbnMuYWxsb3dfaW52YWxpZCwgJ1VuZGVmaW5lZENvbmRpdGlvbicsICdJbnZhbGlkIGNvbmRpdGlvbiBcInswfVwiJywgZGF0YS5jb25kaXRpb24pO1xuICAgICAgICAgICAgZGF0YS5jb25kaXRpb24gPSBzZWxmLnNldHRpbmdzLmRlZmF1bHRfY29uZGl0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXAuY29uZGl0aW9uID0gZGF0YS5jb25kaXRpb247XG5cbiAgICAgICAgZGF0YS5ydWxlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIHZhciBtb2RlbDtcblxuICAgICAgICAgICAgaWYgKGl0ZW0ucnVsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnNldHRpbmdzLmFsbG93X2dyb3VwcyAhPT0gLTEgJiYgc2VsZi5zZXR0aW5ncy5hbGxvd19ncm91cHMgPCBncm91cC5sZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICBVdGlscy5lcnJvcighb3B0aW9ucy5hbGxvd19pbnZhbGlkLCAnUnVsZXNQYXJzZScsICdObyBtb3JlIHRoYW4gezB9IGdyb3VwcyBhcmUgYWxsb3dlZCcsIHNlbGYuc2V0dGluZ3MuYWxsb3dfZ3JvdXBzKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXNldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBzZWxmLmFkZEdyb3VwKGdyb3VwLCBmYWxzZSwgaXRlbS5kYXRhLCBzZWxmLnBhcnNlR3JvdXBGbGFncyhpdGVtKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hcHBseUdyb3VwRmxhZ3MobW9kZWwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGFkZChpdGVtLCBtb2RlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCFvcHRpb25zLmFsbG93X2ludmFsaWQsICdSdWxlc1BhcnNlJywgJ01pc3NpbmcgcnVsZSBmaWVsZCBpZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ub3BlcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vcGVyYXRvciA9ICdlcXVhbCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtb2RlbCA9IHNlbGYuYWRkUnVsZShncm91cCwgaXRlbS5kYXRhLCBzZWxmLnBhcnNlUnVsZUZsYWdzKGl0ZW0pKTtcbiAgICAgICAgICAgICAgICBpZiAobW9kZWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghaXRlbS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5maWx0ZXIgPSBzZWxmLmdldEZpbHRlckJ5SWQoaXRlbS5pZCwgIW9wdGlvbnMuYWxsb3dfaW52YWxpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwub3BlcmF0b3IgPSBzZWxmLmdldE9wZXJhdG9yQnlUeXBlKGl0ZW0ub3BlcmF0b3IsICFvcHRpb25zLmFsbG93X2ludmFsaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1vZGVsLm9wZXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwub3BlcmF0b3IgPSBzZWxmLmdldE9wZXJhdG9ycyhtb2RlbC5maWx0ZXIpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwub3BlcmF0b3IgJiYgbW9kZWwub3BlcmF0b3IubmJfaW5wdXRzICE9PSAwICYmIGl0ZW0udmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnZhbHVlID0gaXRlbS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGYuYXBwbHlSdWxlRmxhZ3MobW9kZWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuY2hhbmdlKCdqc29uVG9SdWxlJywgbW9kZWwsIGl0ZW0pICE9IG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdSdWxlc1BhcnNlJywgJ1BsdWdpbiB0cmllZCB0byBjaGFuZ2UgcnVsZSByZWZlcmVuY2UnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZWxmLmNoYW5nZSgnanNvblRvR3JvdXAnLCBncm91cCwgZGF0YSkgIT0gZ3JvdXApIHtcbiAgICAgICAgICAgIFV0aWxzLmVycm9yKCdSdWxlc1BhcnNlJywgJ1BsdWdpbiB0cmllZCB0byBjaGFuZ2UgZ3JvdXAgcmVmZXJlbmNlJyk7XG4gICAgICAgIH1cblxuICAgIH0oZGF0YSwgdGhpcy5tb2RlbC5yb290KSk7XG59O1xuXG5cbi8qKlxuICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBjb3JyZWN0IGZvciBhIGZpbHRlclxuICogQHBhcmFtIHJ1bGUge1J1bGV9XG4gKiBAcGFyYW0gdmFsdWUge3N0cmluZ3xzdHJpbmdbXXx1bmRlZmluZWR9XG4gKiBAcmV0dXJuIHthcnJheXx0cnVlfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnZhbGlkYXRlVmFsdWUgPSBmdW5jdGlvbihydWxlLCB2YWx1ZSkge1xuICAgIHZhciB2YWxpZGF0aW9uID0gcnVsZS5maWx0ZXIudmFsaWRhdGlvbiB8fCB7fTtcbiAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcblxuICAgIGlmICh2YWxpZGF0aW9uLmNhbGxiYWNrKSB7XG4gICAgICAgIHJlc3VsdCA9IHZhbGlkYXRpb24uY2FsbGJhY2suY2FsbCh0aGlzLCB2YWx1ZSwgcnVsZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0aGlzLnZhbGlkYXRlVmFsdWVJbnRlcm5hbChydWxlLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlKCd2YWxpZGF0ZVZhbHVlJywgcmVzdWx0LCB2YWx1ZSwgcnVsZSk7XG59O1xuXG4vKipcbiAqIERlZmF1bHQgdmFsaWRhdGlvbiBmdW5jdGlvblxuICogQHRocm93cyBDb25maWdFcnJvclxuICogQHBhcmFtIHJ1bGUge1J1bGV9XG4gKiBAcGFyYW0gdmFsdWUge3N0cmluZ3xzdHJpbmdbXXx1bmRlZmluZWR9XG4gKiBAcmV0dXJuIHtBcnJheXxib29sZWFufSBlcnJvciBhcnJheSBvciB0cnVlXG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUudmFsaWRhdGVWYWx1ZUludGVybmFsID0gZnVuY3Rpb24ocnVsZSwgdmFsdWUpIHtcbiAgICB2YXIgZmlsdGVyID0gcnVsZS5maWx0ZXI7XG4gICAgdmFyIG9wZXJhdG9yID0gcnVsZS5vcGVyYXRvcjtcbiAgICB2YXIgdmFsaWRhdGlvbiA9IGZpbHRlci52YWxpZGF0aW9uIHx8IHt9O1xuICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgIHZhciB0bXA7XG5cbiAgICBpZiAocnVsZS5vcGVyYXRvci5uYl9pbnB1dHMgPT09IDEpIHtcbiAgICAgICAgdmFsdWUgPSBbdmFsdWVdO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlcmF0b3IubmJfaW5wdXRzOyBpKyspIHtcbiAgICAgICAgc3dpdGNoIChmaWx0ZXIuaW5wdXQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0gPT09IHVuZGVmaW5lZCB8fCB2YWx1ZVtpXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0aW9uLmFsbG93X2VtcHR5X3ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ3JhZGlvX2VtcHR5J107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldID09PSB1bmRlZmluZWQgfHwgdmFsdWVbaV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGlvbi5hbGxvd19lbXB0eV92YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gWydjaGVja2JveF9lbXB0eSddO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghb3BlcmF0b3IubXVsdGlwbGUgJiYgdmFsdWVbaV0ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ29wZXJhdG9yX25vdF9tdWx0aXBsZScsIG9wZXJhdG9yLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldID09PSB1bmRlZmluZWQgfHwgdmFsdWVbaV0ubGVuZ3RoID09PSAwIHx8IChmaWx0ZXIucGxhY2Vob2xkZXIgJiYgdmFsdWVbaV0gPT0gZmlsdGVyLnBsYWNlaG9sZGVyX3ZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRpb24uYWxsb3dfZW1wdHlfdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsnc2VsZWN0X2VtcHR5J107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIubXVsdGlwbGUgJiYgIW9wZXJhdG9yLm11bHRpcGxlICYmIHZhbHVlW2ldLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gWydvcGVyYXRvcl9ub3RfbXVsdGlwbGUnLCBvcGVyYXRvci50eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHN3aXRjaCAoUXVlcnlCdWlsZGVyLnR5cGVzW2ZpbHRlci50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldID09PSB1bmRlZmluZWQgfHwgdmFsdWVbaV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0aW9uLmFsbG93X2VtcHR5X3ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsnc3RyaW5nX2VtcHR5J107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24ubWluICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0ubGVuZ3RoIDwgcGFyc2VJbnQodmFsaWRhdGlvbi5taW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFt0aGlzLmdldFZhbGlkYXRpb25NZXNzYWdlKHZhbGlkYXRpb24sICdtaW4nLCAnc3RyaW5nX2V4Y2VlZF9taW5fbGVuZ3RoJyksIHZhbGlkYXRpb24ubWluXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24ubWF4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbaV0ubGVuZ3RoID4gcGFyc2VJbnQodmFsaWRhdGlvbi5tYXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFt0aGlzLmdldFZhbGlkYXRpb25NZXNzYWdlKHZhbGlkYXRpb24sICdtYXgnLCAnc3RyaW5nX2V4Y2VlZF9tYXhfbGVuZ3RoJyksIHZhbGlkYXRpb24ubWF4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24uZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWxpZGF0aW9uLmZvcm1hdCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uLmZvcm1hdCA9IG5ldyBSZWdFeHAodmFsaWRhdGlvbi5mb3JtYXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRpb24uZm9ybWF0LnRlc3QodmFsdWVbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFt0aGlzLmdldFZhbGlkYXRpb25NZXNzYWdlKHZhbGlkYXRpb24sICdmb3JtYXQnLCAnc3RyaW5nX2ludmFsaWRfZm9ybWF0JyksIHZhbGlkYXRpb24uZm9ybWF0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlW2ldLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGlvbi5hbGxvd19lbXB0eV92YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ251bWJlcl9uYW4nXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4odmFsdWVbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gWydudW1iZXJfbmFuJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLnR5cGUgPT0gJ2ludGVnZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHZhbHVlW2ldKSAhPSB2YWx1ZVtpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ251bWJlcl9ub3RfaW50ZWdlciddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VGbG9hdCh2YWx1ZVtpXSkgIT0gdmFsdWVbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gWydudW1iZXJfbm90X2RvdWJsZSddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5taW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSA8IHBhcnNlRmxvYXQodmFsaWRhdGlvbi5taW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFt0aGlzLmdldFZhbGlkYXRpb25NZXNzYWdlKHZhbGlkYXRpb24sICdtaW4nLCAnbnVtYmVyX2V4Y2VlZF9taW4nKSwgdmFsaWRhdGlvbi5taW5dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5tYXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSA+IHBhcnNlRmxvYXQodmFsaWRhdGlvbi5tYXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFt0aGlzLmdldFZhbGlkYXRpb25NZXNzYWdlKHZhbGlkYXRpb24sICdtYXgnLCAnbnVtYmVyX2V4Y2VlZF9tYXgnKSwgdmFsaWRhdGlvbi5tYXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5zdGVwICE9PSB1bmRlZmluZWQgJiYgdmFsaWRhdGlvbi5zdGVwICE9PSAnYW55Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ID0gKHZhbHVlW2ldIC8gdmFsaWRhdGlvbi5zdGVwKS50b1ByZWNpc2lvbigxNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHYpICE9IHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW3RoaXMuZ2V0VmFsaWRhdGlvbk1lc3NhZ2UodmFsaWRhdGlvbiwgJ3N0ZXAnLCAnbnVtYmVyX3dyb25nX3N0ZXAnKSwgdmFsaWRhdGlvbi5zdGVwXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF0ZXRpbWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlW2ldID09PSB1bmRlZmluZWQgfHwgdmFsdWVbaV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0aW9uLmFsbG93X2VtcHR5X3ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsnZGF0ZXRpbWVfZW1wdHknXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgTW9tZW50SlNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCdtb21lbnQnIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ01pc3NpbmdMaWJyYXJ5JywgJ01vbWVudEpTIGlzIHJlcXVpcmVkIGZvciBEYXRlL1RpbWUgdmFsaWRhdGlvbi4gR2V0IGl0IGhlcmUgaHR0cDovL21vbWVudGpzLmNvbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRldGltZSA9IG1vbWVudCh2YWx1ZVtpXSwgdmFsaWRhdGlvbi5mb3JtYXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0ZXRpbWUuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFt0aGlzLmdldFZhbGlkYXRpb25NZXNzYWdlKHZhbGlkYXRpb24sICdmb3JtYXQnLCAnZGF0ZXRpbWVfaW52YWxpZCcpLCB2YWxpZGF0aW9uLmZvcm1hdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24ubWluKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZXRpbWUgPCBtb21lbnQodmFsaWRhdGlvbi5taW4sIHZhbGlkYXRpb24uZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFt0aGlzLmdldFZhbGlkYXRpb25NZXNzYWdlKHZhbGlkYXRpb24sICdtaW4nLCAnZGF0ZXRpbWVfZXhjZWVkX21pbicpLCB2YWxpZGF0aW9uLm1pbl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24ubWF4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZXRpbWUgPiBtb21lbnQodmFsaWRhdGlvbi5tYXgsIHZhbGlkYXRpb24uZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFt0aGlzLmdldFZhbGlkYXRpb25NZXNzYWdlKHZhbGlkYXRpb24sICdtYXgnLCAnZGF0ZXRpbWVfZXhjZWVkX21heCcpLCB2YWxpZGF0aW9uLm1heF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVtpXSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlW2ldLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGlvbi5hbGxvd19lbXB0eV92YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ2Jvb2xlYW5fbm90X3ZhbGlkJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gKCcnICsgdmFsdWVbaV0pLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcCAhPT0gJ3RydWUnICYmIHRtcCAhPT0gJ2ZhbHNlJyAmJiB0bXAgIT09ICcxJyAmJiB0bXAgIT09ICcwJyAmJiB2YWx1ZVtpXSAhPT0gMSAmJiB2YWx1ZVtpXSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsnYm9vbGVhbl9ub3RfdmFsaWQnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gaW5jcmVtZW50ZWQgZ3JvdXAgSURcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5uZXh0R3JvdXBJZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXR1cy5pZCArICdfZ3JvdXBfJyArICh0aGlzLnN0YXR1cy5ncm91cF9pZCsrKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBpbmNyZW1lbnRlZCBydWxlIElEXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUubmV4dFJ1bGVJZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXR1cy5pZCArICdfcnVsZV8nICsgKHRoaXMuc3RhdHVzLnJ1bGVfaWQrKyk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG9wZXJhdG9ycyBmb3IgYSBmaWx0ZXJcbiAqIEBwYXJhbSBmaWx0ZXIge3N0cmluZ3xvYmplY3R9IChmaWx0ZXIgaWQgbmFtZSBvciBmaWx0ZXIgb2JqZWN0KVxuICogQHJldHVybiB7b2JqZWN0W119XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZ2V0T3BlcmF0b3JzID0gZnVuY3Rpb24oZmlsdGVyKSB7XG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgZmlsdGVyID0gdGhpcy5nZXRGaWx0ZXJCeUlkKGZpbHRlcik7XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLm9wZXJhdG9ycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgLy8gZmlsdGVyIG9wZXJhdG9ycyBjaGVja1xuICAgICAgICBpZiAoZmlsdGVyLm9wZXJhdG9ycykge1xuICAgICAgICAgICAgaWYgKGZpbHRlci5vcGVyYXRvcnMuaW5kZXhPZih0aGlzLm9wZXJhdG9yc1tpXS50eXBlKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHR5cGUgY2hlY2tcbiAgICAgICAgZWxzZSBpZiAodGhpcy5vcGVyYXRvcnNbaV0uYXBwbHlfdG8uaW5kZXhPZihRdWVyeUJ1aWxkZXIudHlwZXNbZmlsdGVyLnR5cGVdKSA9PSAtMSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQucHVzaCh0aGlzLm9wZXJhdG9yc1tpXSk7XG4gICAgfVxuXG4gICAgLy8ga2VlcCBzb3J0IG9yZGVyIGRlZmluZWQgZm9yIHRoZSBmaWx0ZXJcbiAgICBpZiAoZmlsdGVyLm9wZXJhdG9ycykge1xuICAgICAgICByZXN1bHQuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyLm9wZXJhdG9ycy5pbmRleE9mKGEudHlwZSkgLSBmaWx0ZXIub3BlcmF0b3JzLmluZGV4T2YoYi50eXBlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlKCdnZXRPcGVyYXRvcnMnLCByZXN1bHQsIGZpbHRlcik7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBwYXJ0aWN1bGFyIGZpbHRlciBieSBpdHMgaWRcbiAqIEB0aHJvd3MgVW5kZWZpbmVkRmlsdGVyRXJyb3JcbiAqIEBwYXJhbSBpZCB7c3RyaW5nfVxuICogQHBhcmFtIFtkb1Rocm93PXRydWVdIHtib29sZWFufVxuICogQHJldHVybiB7b2JqZWN0fG51bGx9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZ2V0RmlsdGVyQnlJZCA9IGZ1bmN0aW9uKGlkLCBkb1Rocm93KSB7XG4gICAgaWYgKGlkID09ICctMScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmZpbHRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlcnNbaV0uaWQgPT0gaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlcnNbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBVdGlscy5lcnJvcihkb1Rocm93ICE9PSBmYWxzZSwgJ1VuZGVmaW5lZEZpbHRlcicsICdVbmRlZmluZWQgZmlsdGVyIFwiezB9XCInLCBpZCk7XG5cbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbi8qKlxuICogUmV0dXJuIGEgcGFydGljdWxhciBvcGVyYXRvciBieSBpdHMgdHlwZVxuICogQHRocm93cyBVbmRlZmluZWRPcGVyYXRvckVycm9yXG4gKiBAcGFyYW0gdHlwZSB7c3RyaW5nfVxuICogQHBhcmFtIFtkb1Rocm93PXRydWVdIHtib29sZWFufVxuICogQHJldHVybiB7b2JqZWN0fG51bGx9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZ2V0T3BlcmF0b3JCeVR5cGUgPSBmdW5jdGlvbih0eXBlLCBkb1Rocm93KSB7XG4gICAgaWYgKHR5cGUgPT0gJy0xJykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMub3BlcmF0b3JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5vcGVyYXRvcnNbaV0udHlwZSA9PSB0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcGVyYXRvcnNbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBVdGlscy5lcnJvcihkb1Rocm93ICE9PSBmYWxzZSwgJ1VuZGVmaW5lZE9wZXJhdG9yJywgJ1VuZGVmaW5lZCBvcGVyYXRvciBcInswfVwiJywgdHlwZSk7XG5cbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbi8qKlxuICogUmV0dXJucyBydWxlJ3MgaW5wdXQgdmFsdWVcbiAqIEBwYXJhbSBydWxlIHtSdWxlfVxuICogQHJldHVybiB7bWl4ZWR9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZ2V0UnVsZUlucHV0VmFsdWUgPSBmdW5jdGlvbihydWxlKSB7XG4gICAgdmFyIGZpbHRlciA9IHJ1bGUuZmlsdGVyO1xuICAgIHZhciBvcGVyYXRvciA9IHJ1bGUub3BlcmF0b3I7XG4gICAgdmFyIHZhbHVlID0gW107XG5cbiAgICBpZiAoZmlsdGVyLnZhbHVlR2V0dGVyKSB7XG4gICAgICAgIHZhbHVlID0gZmlsdGVyLnZhbHVlR2V0dGVyLmNhbGwodGhpcywgcnVsZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgJHZhbHVlID0gcnVsZS4kZWwuZmluZChTZWxlY3RvcnMudmFsdWVfY29udGFpbmVyKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wZXJhdG9yLm5iX2lucHV0czsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IFV0aWxzLmVzY2FwZUVsZW1lbnRJZChydWxlLmlkICsgJ192YWx1ZV8nICsgaSk7XG4gICAgICAgICAgICB2YXIgdG1wO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGZpbHRlci5pbnB1dCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUucHVzaCgkdmFsdWUuZmluZCgnW25hbWU9JyArIG5hbWUgKyAnXTpjaGVja2VkJykudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gW107XG4gICAgICAgICAgICAgICAgICAgICR2YWx1ZS5maW5kKCdbbmFtZT0nICsgbmFtZSArICddOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wLnB1c2goJCh0aGlzKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKHRtcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAkdmFsdWUuZmluZCgnW25hbWU9JyArIG5hbWUgKyAnXSBvcHRpb246c2VsZWN0ZWQnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wdXNoKCQodGhpcykudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKHRtcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKCR2YWx1ZS5maW5kKCdbbmFtZT0nICsgbmFtZSArICddIG9wdGlvbjpzZWxlY3RlZCcpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2goJHZhbHVlLmZpbmQoJ1tuYW1lPScgKyBuYW1lICsgJ10nKS52YWwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlcmF0b3IubXVsdGlwbGUgJiYgZmlsdGVyLnZhbHVlX3NlcGFyYXRvcikge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbC5zcGxpdChmaWx0ZXIudmFsdWVfc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZXJhdG9yLm5iX2lucHV0cyA9PT0gMSkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZVswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEBkZXByZWNhdGVkXG4gICAgICAgIGlmIChmaWx0ZXIudmFsdWVQYXJzZXIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZmlsdGVyLnZhbHVlUGFyc2VyLmNhbGwodGhpcywgcnVsZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlKCdnZXRSdWxlVmFsdWUnLCB2YWx1ZSwgcnVsZSk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIG9mIGEgcnVsZSdzIGlucHV0LlxuICogQHBhcmFtIHJ1bGUge1J1bGV9XG4gKiBAcGFyYW0gdmFsdWUge21peGVkfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLnNldFJ1bGVJbnB1dFZhbHVlID0gZnVuY3Rpb24ocnVsZSwgdmFsdWUpIHtcbiAgICB2YXIgZmlsdGVyID0gcnVsZS5maWx0ZXI7XG4gICAgdmFyIG9wZXJhdG9yID0gcnVsZS5vcGVyYXRvcjtcblxuICAgIGlmICghZmlsdGVyIHx8ICFvcGVyYXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRpbmdfaW5wdXQgPSB0cnVlO1xuXG4gICAgaWYgKGZpbHRlci52YWx1ZVNldHRlcikge1xuICAgICAgICBmaWx0ZXIudmFsdWVTZXR0ZXIuY2FsbCh0aGlzLCBydWxlLCB2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgJHZhbHVlID0gcnVsZS4kZWwuZmluZChTZWxlY3RvcnMudmFsdWVfY29udGFpbmVyKTtcblxuICAgICAgICBpZiAob3BlcmF0b3IubmJfaW5wdXRzID09IDEpIHtcbiAgICAgICAgICAgIHZhbHVlID0gW3ZhbHVlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlcmF0b3IubmJfaW5wdXRzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gVXRpbHMuZXNjYXBlRWxlbWVudElkKHJ1bGUuaWQgKyAnX3ZhbHVlXycgKyBpKTtcblxuICAgICAgICAgICAgc3dpdGNoIChmaWx0ZXIuaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgICAgICAgICAgICR2YWx1ZS5maW5kKCdbbmFtZT0nICsgbmFtZSArICddW3ZhbHVlPVwiJyArIHZhbHVlW2ldICsgJ1wiXScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgICAgIGlmICghJC5pc0FycmF5KHZhbHVlW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbaV0gPSBbdmFsdWVbaV1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlW2ldLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR2YWx1ZS5maW5kKCdbbmFtZT0nICsgbmFtZSArICddW3ZhbHVlPVwiJyArIHZhbHVlICsgJ1wiXScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZXJhdG9yLm11bHRpcGxlICYmIGZpbHRlci52YWx1ZV9zZXBhcmF0b3IgJiYgJC5pc0FycmF5KHZhbHVlW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbaV0gPSB2YWx1ZVtpXS5qb2luKGZpbHRlci52YWx1ZV9zZXBhcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICR2YWx1ZS5maW5kKCdbbmFtZT0nICsgbmFtZSArICddJykudmFsKHZhbHVlW2ldKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGluZ19pbnB1dCA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiBDbGVhbiBydWxlIGZsYWdzLlxuICogQHBhcmFtIHJ1bGUge29iamVjdH1cbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5wYXJzZVJ1bGVGbGFncyA9IGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICB2YXIgZmxhZ3MgPSAkLmV4dGVuZCh7fSwgdGhpcy5zZXR0aW5ncy5kZWZhdWx0X3J1bGVfZmxhZ3MpO1xuXG4gICAgaWYgKHJ1bGUucmVhZG9ubHkpIHtcbiAgICAgICAgJC5leHRlbmQoZmxhZ3MsIHtcbiAgICAgICAgICAgIGZpbHRlcl9yZWFkb25seTogdHJ1ZSxcbiAgICAgICAgICAgIG9wZXJhdG9yX3JlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgdmFsdWVfcmVhZG9ubHk6IHRydWUsXG4gICAgICAgICAgICBub19kZWxldGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHJ1bGUuZmxhZ3MpIHtcbiAgICAgICAgJC5leHRlbmQoZmxhZ3MsIHJ1bGUuZmxhZ3MpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNoYW5nZSgncGFyc2VSdWxlRmxhZ3MnLCBmbGFncywgcnVsZSk7XG59O1xuXG4vKipcbiAqIEdldCBhIGNvcHkgb2YgZmxhZ3Mgb2YgYSBydWxlLlxuICogQHBhcmFtIHtvYmplY3R9IGZsYWdzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFsbCAtIHRydWUgdG8gcmV0dXJuIGFsbCBmbGFncywgZmFsc2UgdG8gcmV0dXJuIG9ubHkgY2hhbmdlcyBmcm9tIGRlZmF1bHRcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZ2V0UnVsZUZsYWdzID0gZnVuY3Rpb24oZmxhZ3MsIGFsbCkge1xuICAgIGlmIChhbGwpIHtcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCBmbGFncyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgcmV0ID0ge307XG4gICAgICAgICQuZWFjaCh0aGlzLnNldHRpbmdzLmRlZmF1bHRfcnVsZV9mbGFncywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGZsYWdzW2tleV0gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0W2tleV0gPSBmbGFnc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG59O1xuXG4vKipcbiAqIENsZWFuIGdyb3VwIGZsYWdzLlxuICogQHBhcmFtIGdyb3VwIHtvYmplY3R9XG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUucGFyc2VHcm91cEZsYWdzID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICB2YXIgZmxhZ3MgPSAkLmV4dGVuZCh7fSwgdGhpcy5zZXR0aW5ncy5kZWZhdWx0X2dyb3VwX2ZsYWdzKTtcblxuICAgIGlmIChncm91cC5yZWFkb25seSkge1xuICAgICAgICAkLmV4dGVuZChmbGFncywge1xuICAgICAgICAgICAgY29uZGl0aW9uX3JlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgbm9fYWRkX3J1bGU6IHRydWUsXG4gICAgICAgICAgICBub19hZGRfZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBub19kZWxldGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGdyb3VwLmZsYWdzKSB7XG4gICAgICAgICQuZXh0ZW5kKGZsYWdzLCBncm91cC5mbGFncyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlKCdwYXJzZUdyb3VwRmxhZ3MnLCBmbGFncywgZ3JvdXApO1xufTtcblxuLyoqXG4gKiBHZXQgYSBjb3B5IG9mIGZsYWdzIG9mIGEgZ3JvdXAuXG4gKiBAcGFyYW0ge29iamVjdH0gZmxhZ3NcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYWxsIC0gdHJ1ZSB0byByZXR1cm4gYWxsIGZsYWdzLCBmYWxzZSB0byByZXR1cm4gb25seSBjaGFuZ2VzIGZyb20gZGVmYXVsdFxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5nZXRHcm91cEZsYWdzID0gZnVuY3Rpb24oZmxhZ3MsIGFsbCkge1xuICAgIGlmIChhbGwpIHtcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCBmbGFncyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgcmV0ID0ge307XG4gICAgICAgICQuZWFjaCh0aGlzLnNldHRpbmdzLmRlZmF1bHRfZ3JvdXBfZmxhZ3MsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChmbGFnc1trZXldICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldFtrZXldID0gZmxhZ3Nba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUcmFuc2xhdGUgYSBsYWJlbFxuICogQHBhcmFtIGxhYmVsIHtzdHJpbmd8b2JqZWN0fVxuICogQHJldHVybiBzdHJpbmdcbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS50cmFuc2xhdGVMYWJlbCA9IGZ1bmN0aW9uKGxhYmVsKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBsYWJlbCA9PSAnb2JqZWN0JyA/IChsYWJlbFt0aGlzLnNldHRpbmdzLmxhbmdfY29kZV0gfHwgbGFiZWxbJ2VuJ10pIDogbGFiZWw7XG59O1xuXG4vKipcbiAqIFJldHVybiBhIHZhbGlkYXRpb24gbWVzc2FnZVxuICogQHBhcmFtIHtvYmplY3R9IHZhbGlkYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVmXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmdldFZhbGlkYXRpb25NZXNzYWdlID0gZnVuY3Rpb24odmFsaWRhdGlvbiwgdHlwZSwgZGVmKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRpb24ubWVzc2FnZXMgJiYgdmFsaWRhdGlvbi5tZXNzYWdlc1t0eXBlXSB8fCBkZWY7XG59O1xuXG5cblF1ZXJ5QnVpbGRlci50ZW1wbGF0ZXMuZ3JvdXAgPSAnXFxcbjxkbCBpZD1cInt7PSBpdC5ncm91cF9pZCB9fVwiIGNsYXNzPVwicnVsZXMtZ3JvdXAtY29udGFpbmVyXCI+IFxcXG4gIDxkdCBjbGFzcz1cInJ1bGVzLWdyb3VwLWhlYWRlclwiPiBcXFxuICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgcHVsbC1yaWdodCBncm91cC1hY3Rpb25zXCI+IFxcXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLXN1Y2Nlc3NcIiBkYXRhLWFkZD1cInJ1bGVcIj4gXFxcbiAgICAgICAgPGkgY2xhc3M9XCJ7ez0gaXQuaWNvbnMuYWRkX3J1bGUgfX1cIj48L2k+IHt7PSBpdC5sYW5nLmFkZF9ydWxlIH19IFxcXG4gICAgICA8L2J1dHRvbj4gXFxcbiAgICAgIHt7PyBpdC5zZXR0aW5ncy5hbGxvd19ncm91cHM9PT0tMSB8fCBpdC5zZXR0aW5ncy5hbGxvd19ncm91cHM+PWl0LmxldmVsIH19IFxcXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIGRhdGEtYWRkPVwiZ3JvdXBcIj4gXFxcbiAgICAgICAgICA8aSBjbGFzcz1cInt7PSBpdC5pY29ucy5hZGRfZ3JvdXAgfX1cIj48L2k+IHt7PSBpdC5sYW5nLmFkZF9ncm91cCB9fSBcXFxuICAgICAgICA8L2J1dHRvbj4gXFxcbiAgICAgIHt7P319IFxcXG4gICAgICB7ez8gaXQubGV2ZWw+MSB9fSBcXFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLWRhbmdlclwiIGRhdGEtZGVsZXRlPVwiZ3JvdXBcIj4gXFxcbiAgICAgICAgICA8aSBjbGFzcz1cInt7PSBpdC5pY29ucy5yZW1vdmVfZ3JvdXAgfX1cIj48L2k+IHt7PSBpdC5sYW5nLmRlbGV0ZV9ncm91cCB9fSBcXFxuICAgICAgICA8L2J1dHRvbj4gXFxcbiAgICAgIHt7P319IFxcXG4gICAgPC9kaXY+IFxcXG4gICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBncm91cC1jb25kaXRpb25zXCI+IFxcXG4gICAgICB7e34gaXQuY29uZGl0aW9uczogY29uZGl0aW9uIH19IFxcXG4gICAgICAgIDxsYWJlbCBjbGFzcz1cImJ0biBidG4teHMgYnRuLXByaW1hcnlcIj4gXFxcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInt7PSBpdC5ncm91cF9pZCB9fV9jb25kXCIgdmFsdWU9XCJ7ez0gY29uZGl0aW9uIH19XCI+IHt7PSBpdC5sYW5nLmNvbmRpdGlvbnNbY29uZGl0aW9uXSB8fCBjb25kaXRpb24gfX0gXFxcbiAgICAgICAgPC9sYWJlbD4gXFxcbiAgICAgIHt7fn19IFxcXG4gICAgPC9kaXY+IFxcXG4gICAge3s/IGl0LnNldHRpbmdzLmRpc3BsYXlfZXJyb3JzIH19IFxcXG4gICAgICA8ZGl2IGNsYXNzPVwiZXJyb3ItY29udGFpbmVyXCI+PGkgY2xhc3M9XCJ7ez0gaXQuaWNvbnMuZXJyb3IgfX1cIj48L2k+PC9kaXY+IFxcXG4gICAge3s/fX0gXFxcbiAgPC9kdD4gXFxcbiAgPGRkIGNsYXNzPXJ1bGVzLWdyb3VwLWJvZHk+IFxcXG4gICAgPHVsIGNsYXNzPXJ1bGVzLWxpc3Q+PC91bD4gXFxcbiAgPC9kZD4gXFxcbjwvZGw+JztcblxuUXVlcnlCdWlsZGVyLnRlbXBsYXRlcy5ydWxlID0gJ1xcXG48bGkgaWQ9XCJ7ez0gaXQucnVsZV9pZCB9fVwiIGNsYXNzPVwicnVsZS1jb250YWluZXJcIj4gXFxcbiAgPGRpdiBjbGFzcz1cInJ1bGUtaGVhZGVyXCI+IFxcXG4gICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBwdWxsLXJpZ2h0IHJ1bGUtYWN0aW9uc1wiPiBcXFxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1kYW5nZXJcIiBkYXRhLWRlbGV0ZT1cInJ1bGVcIj4gXFxcbiAgICAgICAgPGkgY2xhc3M9XCJ7ez0gaXQuaWNvbnMucmVtb3ZlX3J1bGUgfX1cIj48L2k+IHt7PSBpdC5sYW5nLmRlbGV0ZV9ydWxlIH19IFxcXG4gICAgICA8L2J1dHRvbj4gXFxcbiAgICA8L2Rpdj4gXFxcbiAgPC9kaXY+IFxcXG4gIHt7PyBpdC5zZXR0aW5ncy5kaXNwbGF5X2Vycm9ycyB9fSBcXFxuICAgIDxkaXYgY2xhc3M9XCJlcnJvci1jb250YWluZXJcIj48aSBjbGFzcz1cInt7PSBpdC5pY29ucy5lcnJvciB9fVwiPjwvaT48L2Rpdj4gXFxcbiAge3s/fX0gXFxcbiAgPGRpdiBjbGFzcz1cInJ1bGUtZmlsdGVyLWNvbnRhaW5lclwiPjwvZGl2PiBcXFxuICA8ZGl2IGNsYXNzPVwicnVsZS1vcGVyYXRvci1jb250YWluZXJcIj48L2Rpdj4gXFxcbiAgPGRpdiBjbGFzcz1cInJ1bGUtdmFsdWUtY29udGFpbmVyXCI+PC9kaXY+IFxcXG48L2xpPic7XG5cblF1ZXJ5QnVpbGRlci50ZW1wbGF0ZXMuZmlsdGVyU2VsZWN0ID0gJ1xcXG57eyB2YXIgb3B0Z3JvdXAgPSBudWxsOyB9fSBcXFxuPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJ7ez0gaXQucnVsZS5pZCB9fV9maWx0ZXJcIj4gXFxcbiAge3s/IGl0LnNldHRpbmdzLmRpc3BsYXlfZW1wdHlfZmlsdGVyIH19IFxcXG4gICAgPG9wdGlvbiB2YWx1ZT1cIi0xXCI+e3s9IGl0LnNldHRpbmdzLnNlbGVjdF9wbGFjZWhvbGRlciB9fTwvb3B0aW9uPiBcXFxuICB7ez99fSBcXFxuICB7e34gaXQuZmlsdGVyczogZmlsdGVyIH19IFxcXG4gICAge3s/IG9wdGdyb3VwICE9PSBmaWx0ZXIub3B0Z3JvdXAgfX0gXFxcbiAgICAgIHt7PyBvcHRncm91cCAhPT0gbnVsbCB9fTwvb3B0Z3JvdXA+e3s/fX0gXFxcbiAgICAgIHt7PyAob3B0Z3JvdXAgPSBmaWx0ZXIub3B0Z3JvdXApICE9PSBudWxsIH19IFxcXG4gICAgICAgIDxvcHRncm91cCBsYWJlbD1cInt7PSBpdC50cmFuc2xhdGUoaXQuc2V0dGluZ3Mub3B0Z3JvdXBzW29wdGdyb3VwXSkgfX1cIj4gXFxcbiAgICAgIHt7P319IFxcXG4gICAge3s/fX0gXFxcbiAgICA8b3B0aW9uIHZhbHVlPVwie3s9IGZpbHRlci5pZCB9fVwiPnt7PSBpdC50cmFuc2xhdGUoZmlsdGVyLmxhYmVsKSB9fTwvb3B0aW9uPiBcXFxuICB7e359fSBcXFxuICB7ez8gb3B0Z3JvdXAgIT09IG51bGwgfX08L29wdGdyb3VwPnt7P319IFxcXG48L3NlbGVjdD4nO1xuXG5RdWVyeUJ1aWxkZXIudGVtcGxhdGVzLm9wZXJhdG9yU2VsZWN0ID0gJ1xcXG57ez8gaXQub3BlcmF0b3JzLmxlbmd0aCA9PT0gMSB9fSBcXFxuPHNwYW4+IFxcXG57ez0gaXQubGFuZy5vcGVyYXRvcnNbaXQub3BlcmF0b3JzWzBdLnR5cGVdIHx8IGl0Lm9wZXJhdG9yc1swXS50eXBlIH19IFxcXG48L3NwYW4+IFxcXG57ez99fSBcXFxue3sgdmFyIG9wdGdyb3VwID0gbnVsbDsgfX0gXFxcbjxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2wge3s/IGl0Lm9wZXJhdG9ycy5sZW5ndGggPT09IDEgfX1oaWRle3s/fX1cIiBuYW1lPVwie3s9IGl0LnJ1bGUuaWQgfX1fb3BlcmF0b3JcIj4gXFxcbiAge3t+IGl0Lm9wZXJhdG9yczogb3BlcmF0b3IgfX0gXFxcbiAgICB7ez8gb3B0Z3JvdXAgIT09IG9wZXJhdG9yLm9wdGdyb3VwIH19IFxcXG4gICAgICB7ez8gb3B0Z3JvdXAgIT09IG51bGwgfX08L29wdGdyb3VwPnt7P319IFxcXG4gICAgICB7ez8gKG9wdGdyb3VwID0gb3BlcmF0b3Iub3B0Z3JvdXApICE9PSBudWxsIH19IFxcXG4gICAgICAgIDxvcHRncm91cCBsYWJlbD1cInt7PSBpdC50cmFuc2xhdGUoaXQuc2V0dGluZ3Mub3B0Z3JvdXBzW29wdGdyb3VwXSkgfX1cIj4gXFxcbiAgICAgIHt7P319IFxcXG4gICAge3s/fX0gXFxcbiAgICA8b3B0aW9uIHZhbHVlPVwie3s9IG9wZXJhdG9yLnR5cGUgfX1cIj57ez0gaXQubGFuZy5vcGVyYXRvcnNbb3BlcmF0b3IudHlwZV0gfHwgb3BlcmF0b3IudHlwZSB9fTwvb3B0aW9uPiBcXFxuICB7e359fSBcXFxuICB7ez8gb3B0Z3JvdXAgIT09IG51bGwgfX08L29wdGdyb3VwPnt7P319IFxcXG48L3NlbGVjdD4nO1xuXG4vKipcbiAqIFJldHVybnMgZ3JvdXAgSFRNTFxuICogQHBhcmFtIGdyb3VwX2lkIHtzdHJpbmd9XG4gKiBAcGFyYW0gbGV2ZWwge2ludH1cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5nZXRHcm91cFRlbXBsYXRlID0gZnVuY3Rpb24oZ3JvdXBfaWQsIGxldmVsKSB7XG4gICAgdmFyIGggPSB0aGlzLnRlbXBsYXRlcy5ncm91cCh7XG4gICAgICAgIGJ1aWxkZXI6IHRoaXMsXG4gICAgICAgIGdyb3VwX2lkOiBncm91cF9pZCxcbiAgICAgICAgbGV2ZWw6IGxldmVsLFxuICAgICAgICBjb25kaXRpb25zOiB0aGlzLnNldHRpbmdzLmNvbmRpdGlvbnMsXG4gICAgICAgIGljb25zOiB0aGlzLmljb25zLFxuICAgICAgICBsYW5nOiB0aGlzLmxhbmcsXG4gICAgICAgIHNldHRpbmdzOiB0aGlzLnNldHRpbmdzXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5jaGFuZ2UoJ2dldEdyb3VwVGVtcGxhdGUnLCBoLCBsZXZlbCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgcnVsZSBIVE1MXG4gKiBAcGFyYW0gcnVsZV9pZCB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmdldFJ1bGVUZW1wbGF0ZSA9IGZ1bmN0aW9uKHJ1bGVfaWQpIHtcbiAgICB2YXIgaCA9IHRoaXMudGVtcGxhdGVzLnJ1bGUoe1xuICAgICAgICBidWlsZGVyOiB0aGlzLFxuICAgICAgICBydWxlX2lkOiBydWxlX2lkLFxuICAgICAgICBpY29uczogdGhpcy5pY29ucyxcbiAgICAgICAgbGFuZzogdGhpcy5sYW5nLFxuICAgICAgICBzZXR0aW5nczogdGhpcy5zZXR0aW5nc1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlKCdnZXRSdWxlVGVtcGxhdGUnLCBoKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBydWxlIGZpbHRlciA8c2VsZWN0PiBIVE1MXG4gKiBAcGFyYW0gcnVsZSB7UnVsZX1cbiAqIEBwYXJhbSBmaWx0ZXJzIHthcnJheX1cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5nZXRSdWxlRmlsdGVyU2VsZWN0ID0gZnVuY3Rpb24ocnVsZSwgZmlsdGVycykge1xuICAgIHZhciBoID0gdGhpcy50ZW1wbGF0ZXMuZmlsdGVyU2VsZWN0KHtcbiAgICAgICAgYnVpbGRlcjogdGhpcyxcbiAgICAgICAgcnVsZTogcnVsZSxcbiAgICAgICAgZmlsdGVyczogZmlsdGVycyxcbiAgICAgICAgaWNvbnM6IHRoaXMuaWNvbnMsXG4gICAgICAgIGxhbmc6IHRoaXMubGFuZyxcbiAgICAgICAgc2V0dGluZ3M6IHRoaXMuc2V0dGluZ3MsXG4gICAgICAgIHRyYW5zbGF0ZTogdGhpcy50cmFuc2xhdGVMYWJlbFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlKCdnZXRSdWxlRmlsdGVyU2VsZWN0JywgaCwgcnVsZSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgcnVsZSBvcGVyYXRvciA8c2VsZWN0PiBIVE1MXG4gKiBAcGFyYW0gcnVsZSB7UnVsZX1cbiAqIEBwYXJhbSBvcGVyYXRvcnMge29iamVjdH1cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5nZXRSdWxlT3BlcmF0b3JTZWxlY3QgPSBmdW5jdGlvbihydWxlLCBvcGVyYXRvcnMpIHtcbiAgICB2YXIgaCA9IHRoaXMudGVtcGxhdGVzLm9wZXJhdG9yU2VsZWN0KHtcbiAgICAgICAgYnVpbGRlcjogdGhpcyxcbiAgICAgICAgcnVsZTogcnVsZSxcbiAgICAgICAgb3BlcmF0b3JzOiBvcGVyYXRvcnMsXG4gICAgICAgIGljb25zOiB0aGlzLmljb25zLFxuICAgICAgICBsYW5nOiB0aGlzLmxhbmcsXG4gICAgICAgIHNldHRpbmdzOiB0aGlzLnNldHRpbmdzLFxuICAgICAgICB0cmFuc2xhdGU6IHRoaXMudHJhbnNsYXRlTGFiZWxcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLmNoYW5nZSgnZ2V0UnVsZU9wZXJhdG9yU2VsZWN0JywgaCwgcnVsZSk7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgcnVsZSB2YWx1ZSBIVE1MXG4gKiBAcGFyYW0gcnVsZSB7UnVsZX1cbiAqIEBwYXJhbSBmaWx0ZXIge29iamVjdH1cbiAqIEBwYXJhbSB2YWx1ZV9pZCB7aW50fVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5RdWVyeUJ1aWxkZXIucHJvdG90eXBlLmdldFJ1bGVJbnB1dCA9IGZ1bmN0aW9uKHJ1bGUsIHZhbHVlX2lkKSB7XG4gICAgdmFyIGZpbHRlciA9IHJ1bGUuZmlsdGVyO1xuICAgIHZhciB2YWxpZGF0aW9uID0gcnVsZS5maWx0ZXIudmFsaWRhdGlvbiB8fCB7fTtcbiAgICB2YXIgbmFtZSA9IHJ1bGUuaWQgKyAnX3ZhbHVlXycgKyB2YWx1ZV9pZDtcbiAgICB2YXIgYyA9IGZpbHRlci52ZXJ0aWNhbCA/ICcgY2xhc3M9YmxvY2snIDogJyc7XG4gICAgdmFyIGggPSAnJztcblxuICAgIGlmICh0eXBlb2YgZmlsdGVyLmlucHV0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaCA9IGZpbHRlci5pbnB1dC5jYWxsKHRoaXMsIHJ1bGUsIG5hbWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3dpdGNoIChmaWx0ZXIuaW5wdXQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzogY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgIFV0aWxzLml0ZXJhdGVPcHRpb25zKGZpbHRlci52YWx1ZXMsIGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGgrPSAnPGxhYmVsJyArIGMgKyAnPjxpbnB1dCB0eXBlPVwiJyArIGZpbHRlci5pbnB1dCArICdcIiBuYW1lPVwiJyArIG5hbWUgKyAnXCIgdmFsdWU9XCInICsga2V5ICsgJ1wiPiAnICsgdmFsICsgJzwvbGFiZWw+ICc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgICAgICAgaCs9ICc8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cIicgKyBuYW1lICsgJ1wiJyArIChmaWx0ZXIubXVsdGlwbGUgPyAnIG11bHRpcGxlJyA6ICcnKSArICc+JztcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLnBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGgrPSAnPG9wdGlvbiB2YWx1ZT1cIicgKyBmaWx0ZXIucGxhY2Vob2xkZXJfdmFsdWUgKyAnXCIgZGlzYWJsZWQgc2VsZWN0ZWQ+JyArIGZpbHRlci5wbGFjZWhvbGRlciArICc8L29wdGlvbj4nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBVdGlscy5pdGVyYXRlT3B0aW9ucyhmaWx0ZXIudmFsdWVzLCBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBoKz0gJzxvcHRpb24gdmFsdWU9XCInICsga2V5ICsgJ1wiPicgKyB2YWwgKyAnPC9vcHRpb24+ICc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaCs9ICc8L3NlbGVjdD4nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICAgICAgICAgICAgaCs9ICc8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwiJyArIG5hbWUgKyAnXCInO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIuc2l6ZSkgaCs9ICcgY29scz1cIicgKyBmaWx0ZXIuc2l6ZSArICdcIic7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlci5yb3dzKSBoKz0gJyByb3dzPVwiJyArIGZpbHRlci5yb3dzICsgJ1wiJztcbiAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5taW4gIT09IHVuZGVmaW5lZCkgaCs9ICcgbWlubGVuZ3RoPVwiJyArIHZhbGlkYXRpb24ubWluICsgJ1wiJztcbiAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5tYXggIT09IHVuZGVmaW5lZCkgaCs9ICcgbWF4bGVuZ3RoPVwiJyArIHZhbGlkYXRpb24ubWF4ICsgJ1wiJztcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLnBsYWNlaG9sZGVyKSBoKz0gJyBwbGFjZWhvbGRlcj1cIicgKyBmaWx0ZXIucGxhY2Vob2xkZXIgKyAnXCInO1xuICAgICAgICAgICAgICAgIGgrPSAnPjwvdGV4dGFyZWE+JztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKFF1ZXJ5QnVpbGRlci50eXBlc1tmaWx0ZXIudHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGgrPSAnPGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgdHlwZT1cIm51bWJlclwiIG5hbWU9XCInICsgbmFtZSArICdcIic7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5zdGVwICE9PSB1bmRlZmluZWQpIGgrPSAnIHN0ZXA9XCInICsgdmFsaWRhdGlvbi5zdGVwICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uLm1pbiAhPT0gdW5kZWZpbmVkKSBoKz0gJyBtaW49XCInICsgdmFsaWRhdGlvbi5taW4gKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24ubWF4ICE9PSB1bmRlZmluZWQpIGgrPSAnIG1heD1cIicgKyB2YWxpZGF0aW9uLm1heCArICdcIic7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLnBsYWNlaG9sZGVyKSBoKz0gJyBwbGFjZWhvbGRlcj1cIicgKyBmaWx0ZXIucGxhY2Vob2xkZXIgKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5zaXplKSBoKz0gJyBzaXplPVwiJyArIGZpbHRlci5zaXplICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGgrPSAnPic7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaCs9ICc8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCInICsgbmFtZSArICdcIic7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLnBsYWNlaG9sZGVyKSBoKz0gJyBwbGFjZWhvbGRlcj1cIicgKyBmaWx0ZXIucGxhY2Vob2xkZXIgKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci50eXBlID09PSAnc3RyaW5nJyAmJiB2YWxpZGF0aW9uLm1pbiAhPT0gdW5kZWZpbmVkKSBoKz0gJyBtaW5sZW5ndGg9XCInICsgdmFsaWRhdGlvbi5taW4gKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci50eXBlID09PSAnc3RyaW5nJyAmJiB2YWxpZGF0aW9uLm1heCAhPT0gdW5kZWZpbmVkKSBoKz0gJyBtYXhsZW5ndGg9XCInICsgdmFsaWRhdGlvbi5tYXggKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5zaXplKSBoKz0gJyBzaXplPVwiJyArIGZpbHRlci5zaXplICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGgrPSAnPic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlKCdnZXRSdWxlSW5wdXQnLCBoLCBydWxlLCBuYW1lKTtcbn07XG5cblxuLy8gTW9kZWwgQ0xBU1Ncbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8qKlxuICogTWFpbiBvYmplY3Qgc3RvcmluZyBkYXRhIG1vZGVsIGFuZCBlbWl0dGluZyBldmVudHNcbiAqIC0tLS0tLS0tLVxuICogQWNjZXNzIE5vZGUgb2JqZWN0IHN0b3JlZCBpbiBqUXVlcnkgb2JqZWN0c1xuICogQHBhcmFtIGVsIHtqUXVlcnl8Tm9kZX1cbiAqIEByZXR1cm4ge05vZGV9XG4gKi9cbmZ1bmN0aW9uIE1vZGVsKGVsKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1vZGVsKSkge1xuICAgICAgICByZXR1cm4gTW9kZWwuZ2V0TW9kZWwoZWwpO1xuICAgIH1cblxuICAgIHRoaXMucm9vdCA9IG51bGw7XG4gICAgdGhpcy4kID0gJCh0aGlzKTtcbn1cblxuJC5leHRlbmQoTW9kZWwucHJvdG90eXBlLCB7XG4gICAgdHJpZ2dlcjogZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0aGlzLiQudHJpZ2dlckhhbmRsZXIodHlwZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJC5vbi5hcHBseSh0aGlzLiQsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgb2ZmOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kLm9mZi5hcHBseSh0aGlzLiQsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgb25jZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJC5vbmUuYXBwbHkodGhpcy4kLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQWNjZXNzIE5vZGUgb2JqZWN0IHN0b3JlZCBpbiBqUXVlcnkgb2JqZWN0c1xuICogQHBhcmFtIGVsIHtqUXVlcnl8Tm9kZX1cbiAqIEByZXR1cm4ge05vZGV9XG4gKi9cbk1vZGVsLmdldE1vZGVsID0gZnVuY3Rpb24oZWwpIHtcbiAgICBpZiAoIWVsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbCBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICQoZWwpLmRhdGEoJ3F1ZXJ5QnVpbGRlck1vZGVsJyk7XG4gICAgfVxufTtcblxuLypcbiAqIERlZmluZSBOb2RlIHByb3BlcnRpZXMgd2l0aCBnZXR0ZXIgYW5kIHNldHRlclxuICogVXBkYXRlIGV2ZW50cyBhcmUgZW1pdHRlZCBpbiB0aGUgc2V0dGVyIHRocm91Z2ggcm9vdCBNb2RlbCAoaWYgYW55KVxuICovXG5Nb2RlbC5kZWZpbmVNb2RlbFByb3BlcnRpZXMgPSBmdW5jdGlvbihvYmosIGZpZWxkcykge1xuICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmoucHJvdG90eXBlLCBmaWVsZCwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX19bZmllbGRdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSAodGhpcy5fX1tmaWVsZF0gIT09IG51bGwgJiYgdHlwZW9mIHRoaXMuX19bZmllbGRdID09ICdvYmplY3QnKSA/XG4gICAgICAgICAgICAgICAgICAkLmV4dGVuZCh7fSwgdGhpcy5fX1tmaWVsZF0pIDpcbiAgICAgICAgICAgICAgICAgIHRoaXMuX19bZmllbGRdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fX1tmaWVsZF0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwudHJpZ2dlcigndXBkYXRlJywgdGhpcywgZmllbGQsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cblxuLy8gTm9kZSBhYnN0cmFjdCBDTEFTU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLyoqXG4gKiBAcGFyYW0ge05vZGV9XG4gKiBAcGFyYW0ge2pRdWVyeX1cbiAqL1xudmFyIE5vZGUgPSBmdW5jdGlvbihwYXJlbnQsICRlbCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBOb2RlKSkge1xuICAgICAgICByZXR1cm4gbmV3IE5vZGUoKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ19fJywgeyB2YWx1ZToge30gfSk7XG5cbiAgICAkZWwuZGF0YSgncXVlcnlCdWlsZGVyTW9kZWwnLCB0aGlzKTtcblxuICAgIHRoaXMuX18ubGV2ZWwgPSAxO1xuICAgIHRoaXMuX18uZXJyb3IgPSBudWxsO1xuICAgIHRoaXMuX18uZGF0YSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLiRlbCA9ICRlbDtcbiAgICB0aGlzLmlkID0gJGVsWzBdLmlkO1xuICAgIHRoaXMubW9kZWwgPSBudWxsO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xufTtcblxuTW9kZWwuZGVmaW5lTW9kZWxQcm9wZXJ0aWVzKE5vZGUsIFsnbGV2ZWwnLCAnZXJyb3InLCAnZGF0YScsICdmbGFncyddKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGUucHJvdG90eXBlLCAncGFyZW50Jywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX18ucGFyZW50O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9fLnBhcmVudCA9IHZhbHVlO1xuICAgICAgICB0aGlzLmxldmVsID0gdmFsdWUgPT09IG51bGwgPyAxIDogdmFsdWUubGV2ZWwgKyAxO1xuICAgICAgICB0aGlzLm1vZGVsID0gdmFsdWUgPT09IG51bGwgPyBudWxsIDogdmFsdWUubW9kZWw7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhpcyBOb2RlIGlzIHRoZSByb290XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5Ob2RlLnByb3RvdHlwZS5pc1Jvb3QgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKHRoaXMubGV2ZWwgPT09IDEpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gbm9kZSBwb3NpdGlvbiBpbnNpZGUgcGFyZW50XG4gKiBAcmV0dXJuIHtpbnR9XG4gKi9cbk5vZGUucHJvdG90eXBlLmdldFBvcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmlzUm9vdCgpKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXROb2RlUG9zKHRoaXMpO1xuICAgIH1cbn07XG5cbi8qKlxuICogRGVsZXRlIHNlbGZcbiAqL1xuTm9kZS5wcm90b3R5cGUuZHJvcCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtb2RlbCA9IHRoaXMubW9kZWw7XG5cbiAgICBpZiAoIXRoaXMuaXNSb290KCkpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuX3JlbW92ZU5vZGUodGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKG1vZGVsICE9PSBudWxsKSB7XG4gICAgICAgIG1vZGVsLnRyaWdnZXIoJ2Ryb3AnLCB0aGlzKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIE1vdmUgaXRzZWxmIGFmdGVyIGFub3RoZXIgTm9kZVxuICogQHBhcmFtIHtOb2RlfVxuICogQHJldHVybiB7Tm9kZX0gc2VsZlxuICovXG5Ob2RlLnByb3RvdHlwZS5tb3ZlQWZ0ZXIgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgaWYgKHRoaXMuaXNSb290KCkpIHJldHVybjtcblxuICAgIHRoaXMuX21vdmUobm9kZS5wYXJlbnQsIG5vZGUuZ2V0UG9zKCkgKyAxKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBNb3ZlIGl0c2VsZiBhdCB0aGUgYmVnaW5uaW5nIG9mIHBhcmVudCBvciBhbm90aGVyIEdyb3VwXG4gKiBAcGFyYW0ge0dyb3VwLG9wdGlvbmFsfVxuICogQHJldHVybiB7Tm9kZX0gc2VsZlxuICovXG5Ob2RlLnByb3RvdHlwZS5tb3ZlQXRCZWdpbiA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIGlmICh0aGlzLmlzUm9vdCgpKSByZXR1cm47XG5cbiAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy5wYXJlbnQ7XG4gICAgfVxuXG4gICAgdGhpcy5fbW92ZSh0YXJnZXQsIDApO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIE1vdmUgaXRzZWxmIGF0IHRoZSBlbmQgb2YgcGFyZW50IG9yIGFub3RoZXIgR3JvdXBcbiAqIEBwYXJhbSB7R3JvdXAsb3B0aW9uYWx9XG4gKiBAcmV0dXJuIHtOb2RlfSBzZWxmXG4gKi9cbk5vZGUucHJvdG90eXBlLm1vdmVBdEVuZCA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIGlmICh0aGlzLmlzUm9vdCgpKSByZXR1cm47XG5cbiAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy5wYXJlbnQ7XG4gICAgfVxuXG4gICAgdGhpcy5fbW92ZSh0YXJnZXQsIHRhcmdldC5sZW5ndGgoKSA9PT0gMCA/IDAgOiB0YXJnZXQubGVuZ3RoKCkgLSAxKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBNb3ZlIGl0c2VsZiBhdCBzcGVjaWZpYyBwb3NpdGlvbiBvZiBHcm91cFxuICogQHBhcmFtIHtHcm91cH1cbiAqIEBwYXJhbSB7aW50fVxuICovXG5Ob2RlLnByb3RvdHlwZS5fbW92ZSA9IGZ1bmN0aW9uKGdyb3VwLCBpbmRleCkge1xuICAgIHRoaXMucGFyZW50Ll9yZW1vdmVOb2RlKHRoaXMpO1xuICAgIGdyb3VwLl9hcHBlbmROb2RlKHRoaXMsIGluZGV4LCBmYWxzZSk7XG5cbiAgICBpZiAodGhpcy5tb2RlbCAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLm1vZGVsLnRyaWdnZXIoJ21vdmUnLCB0aGlzLCBncm91cCwgaW5kZXgpO1xuICAgIH1cbn07XG5cblxuLy8gR1JPVVAgQ0xBU1Ncbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8qKlxuICogQHBhcmFtIHtHcm91cH1cbiAqIEBwYXJhbSB7alF1ZXJ5fVxuICovXG52YXIgR3JvdXAgPSBmdW5jdGlvbihwYXJlbnQsICRlbCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBHcm91cCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcm91cChwYXJlbnQsICRlbCk7XG4gICAgfVxuXG4gICAgTm9kZS5jYWxsKHRoaXMsIHBhcmVudCwgJGVsKTtcblxuICAgIHRoaXMucnVsZXMgPSBbXTtcbiAgICB0aGlzLl9fLmNvbmRpdGlvbiA9IG51bGw7XG59O1xuXG5Hcm91cC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE5vZGUucHJvdG90eXBlKTtcbkdyb3VwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdyb3VwO1xuXG5Nb2RlbC5kZWZpbmVNb2RlbFByb3BlcnRpZXMoR3JvdXAsIFsnY29uZGl0aW9uJ10pO1xuXG4vKipcbiAqIEVtcHR5IHRoZSBHcm91cFxuICovXG5Hcm91cC5wcm90b3R5cGUuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVhY2goJ3JldmVyc2UnLCBmdW5jdGlvbihydWxlKSB7XG4gICAgICAgIHJ1bGUuZHJvcCgpO1xuICAgIH0sIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGdyb3VwLmRyb3AoKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogRGVsZXRlIHNlbGZcbiAqL1xuR3JvdXAucHJvdG90eXBlLmRyb3AgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVtcHR5KCk7XG4gICAgTm9kZS5wcm90b3R5cGUuZHJvcC5jYWxsKHRoaXMpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBjaGlsZHJlblxuICogQHJldHVybiB7aW50fVxuICovXG5Hcm91cC5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucnVsZXMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBBZGQgYSBOb2RlIGF0IHNwZWNpZmllZCBpbmRleFxuICogQHBhcmFtIHtOb2RlfVxuICogQHBhcmFtIHtpbnQsb3B0aW9uYWx9XG4gKiBAcGFyYW0ge2Jvb2xlYW4sb3B0aW9uYWx9XG4gKiBAcmV0dXJuIHtOb2RlfSB0aGUgaW5zZXJ0ZWQgbm9kZVxuICovXG5Hcm91cC5wcm90b3R5cGUuX2FwcGVuZE5vZGUgPSBmdW5jdGlvbihub2RlLCBpbmRleCwgdHJpZ2dlcikge1xuICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdGhpcy5sZW5ndGgoKTtcbiAgICB9XG5cbiAgICB0aGlzLnJ1bGVzLnNwbGljZShpbmRleCwgMCwgbm9kZSk7XG4gICAgbm9kZS5wYXJlbnQgPSB0aGlzO1xuXG4gICAgaWYgKHRyaWdnZXIgJiYgdGhpcy5tb2RlbCAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLm1vZGVsLnRyaWdnZXIoJ2FkZCcsIG5vZGUsIGluZGV4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbn07XG5cbi8qKlxuICogQWRkIGEgR3JvdXAgYnkgalF1ZXJ5IGVsZW1lbnQgYXQgc3BlY2lmaWVkIGluZGV4XG4gKiBAcGFyYW0ge2pRdWVyeX1cbiAqIEBwYXJhbSB7aW50LG9wdGlvbmFsfVxuICogQHJldHVybiB7R3JvdXB9IHRoZSBpbnNlcnRlZCBncm91cFxuICovXG5Hcm91cC5wcm90b3R5cGUuYWRkR3JvdXAgPSBmdW5jdGlvbigkZWwsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuX2FwcGVuZE5vZGUobmV3IEdyb3VwKHRoaXMsICRlbCksIGluZGV4LCB0cnVlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgUnVsZSBieSBqUXVlcnkgZWxlbWVudCBhdCBzcGVjaWZpZWQgaW5kZXhcbiAqIEBwYXJhbSB7alF1ZXJ5fVxuICogQHBhcmFtIHtpbnQsb3B0aW9uYWx9XG4gKiBAcmV0dXJuIHtSdWxlfSB0aGUgaW5zZXJ0ZWQgcnVsZVxuICovXG5Hcm91cC5wcm90b3R5cGUuYWRkUnVsZSA9IGZ1bmN0aW9uKCRlbCwgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5fYXBwZW5kTm9kZShuZXcgUnVsZSh0aGlzLCAkZWwpLCBpbmRleCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIERlbGV0ZSBhIHNwZWNpZmljIE5vZGVcbiAqIEBwYXJhbSB7Tm9kZX1cbiAqIEByZXR1cm4ge0dyb3VwfSBzZWxmXG4gKi9cbkdyb3VwLnByb3RvdHlwZS5fcmVtb3ZlTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmdldE5vZGVQb3Mobm9kZSk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBub2RlLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMucnVsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHBvc2l0aW9uIG9mIGEgY2hpbGQgTm9kZVxuICogQHBhcmFtIHtOb2RlfVxuICogQHJldHVybiB7aW50fVxuICovXG5Hcm91cC5wcm90b3R5cGUuZ2V0Tm9kZVBvcyA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICByZXR1cm4gdGhpcy5ydWxlcy5pbmRleE9mKG5vZGUpO1xufTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYWxsIE5vZGVzXG4gKiBAcGFyYW0ge2Jvb2xlYW4sb3B0aW9uYWx9IGl0ZXJhdGUgaW4gcmV2ZXJzZSBvcmRlciwgcmVxdWlyZWQgaWYgeW91IGRlbGV0ZSBub2Rlc1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgZm9yIFJ1bGVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9uLG9wdGlvbmFsfSBjYWxsYmFjayBmb3IgR3JvdXBzXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5Hcm91cC5wcm90b3R5cGUuZWFjaCA9IGZ1bmN0aW9uKHJldmVyc2UsIGNiUnVsZSwgY2JHcm91cCwgY29udGV4dCkge1xuICAgIGlmICh0eXBlb2YgcmV2ZXJzZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnRleHQgPSBjYkdyb3VwO1xuICAgICAgICBjYkdyb3VwID0gY2JSdWxlO1xuICAgICAgICBjYlJ1bGUgPSByZXZlcnNlO1xuICAgICAgICByZXZlcnNlID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnRleHQgPSBjb250ZXh0ID09PSB1bmRlZmluZWQgPyBudWxsIDogY29udGV4dDtcblxuICAgIHZhciBpID0gcmV2ZXJzZSA/IHRoaXMucnVsZXMubGVuZ3RoIC0gMSA6IDA7XG4gICAgdmFyIGwgPSByZXZlcnNlID8gMCA6IHRoaXMucnVsZXMubGVuZ3RoIC0gMTtcbiAgICB2YXIgYyA9IHJldmVyc2UgPyAtMSA6IDE7XG4gICAgdmFyIG5leHQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHJldmVyc2UgPyBpID49IGwgOiBpIDw9IGw7IH07XG4gICAgdmFyIHN0b3AgPSBmYWxzZTtcblxuICAgIGZvciAoOyBuZXh0KCk7IGkrPSBjKSB7XG4gICAgICAgIGlmICh0aGlzLnJ1bGVzW2ldIGluc3RhbmNlb2YgR3JvdXApIHtcbiAgICAgICAgICAgIGlmIChjYkdyb3VwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gY2JHcm91cC5jYWxsKGNvbnRleHQsIHRoaXMucnVsZXNbaV0pID09PSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0b3AgPSBjYlJ1bGUuY2FsbChjb250ZXh0LCB0aGlzLnJ1bGVzW2ldKSA9PT0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RvcCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gIXN0b3A7XG59O1xuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHRoZSBncm91cCBjb250YWlucyBhIHBhcnRpY3VsYXIgTm9kZVxuICogQHBhcmFtIHtOb2RlfVxuICogQHBhcmFtIHtib29sZWFuLG9wdGlvbmFsfSByZWN1cnNpdmUgc2VhcmNoXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5Hcm91cC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihub2RlLCBkZWVwKSB7XG4gICAgaWYgKHRoaXMuZ2V0Tm9kZVBvcyhub2RlKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFkZWVwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHRoZSBsb29wIHdpbGwgcmV0dXJuIHdpdGggZmFsc2UgYXMgc29vbiBhcyB0aGUgTm9kZSBpcyBmb3VuZFxuICAgICAgICByZXR1cm4gIXRoaXMuZWFjaChmdW5jdGlvbihydWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiAhZ3JvdXAuY29udGFpbnMobm9kZSwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cblxuLy8gUlVMRSBDTEFTU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLyoqXG4gKiBAcGFyYW0ge0dyb3VwfVxuICogQHBhcmFtIHtqUXVlcnl9XG4gKi9cbnZhciBSdWxlID0gZnVuY3Rpb24ocGFyZW50LCAkZWwpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUnVsZSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSdWxlKHBhcmVudCwgJGVsKTtcbiAgICB9XG5cbiAgICBOb2RlLmNhbGwodGhpcywgcGFyZW50LCAkZWwpO1xuXG4gICAgdGhpcy5fdXBkYXRpbmdfdmFsdWUgPSBmYWxzZTtcbiAgICB0aGlzLl91cGRhdGluZ19pbnB1dCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fXy5maWx0ZXIgPSBudWxsO1xuICAgIHRoaXMuX18ub3BlcmF0b3IgPSBudWxsO1xuICAgIHRoaXMuX18uZmxhZ3MgPSB7fTtcbiAgICB0aGlzLl9fLnZhbHVlID0gdW5kZWZpbmVkO1xufTtcblxuUnVsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE5vZGUucHJvdG90eXBlKTtcblJ1bGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUnVsZTtcblxuTW9kZWwuZGVmaW5lTW9kZWxQcm9wZXJ0aWVzKFJ1bGUsIFsnZmlsdGVyJywgJ29wZXJhdG9yJywgJ3ZhbHVlJ10pO1xuXG5cbi8vIEVYUE9SVFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuUXVlcnlCdWlsZGVyLkdyb3VwID0gR3JvdXA7XG5RdWVyeUJ1aWxkZXIuUnVsZSA9IFJ1bGU7XG5cblxudmFyIFV0aWxzID0gUXVlcnlCdWlsZGVyLnV0aWxzID0ge307XG5cbi8qKlxuICogVXRpbGl0eSB0byBpdGVyYXRlIG92ZXIgcmFkaW8vY2hlY2tib3gvc2VsZWN0aW9uIG9wdGlvbnMuXG4gKiBpdCBhY2NlcHQgdGhyZWUgZm9ybWF0czogYXJyYXkgb2YgdmFsdWVzLCBtYXAsIGFycmF5IG9mIDEtZWxlbWVudCBtYXBzXG4gKlxuICogQHBhcmFtIG9wdGlvbnMge29iamVjdHxhcnJheX1cbiAqIEBwYXJhbSB0cGwge2NhbGxhYmxlfSAodGFrZXMga2V5IGFuZCB0ZXh0KVxuICovXG5VdGlscy5pdGVyYXRlT3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMsIHRwbCkge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGlmICgkLmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICAgICAgICAgIC8vIGFycmF5IG9mIG9uZS1lbGVtZW50IG1hcHNcbiAgICAgICAgICAgICAgICBpZiAoJC5pc1BsYWluT2JqZWN0KGVudHJ5KSkge1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2goZW50cnksIGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cGwoa2V5LCB2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBicmVhayBhZnRlciBmaXJzdCBlbnRyeVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYXJyYXkgb2YgdmFsdWVzXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRwbChlbnRyeSwgZW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVub3JkZXJlZCBtYXBcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkLmVhY2gob3B0aW9ucywgZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgICAgICAgICAgICAgICB0cGwoa2V5LCB2YWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFJlcGxhY2VzIHswfSwgezF9LCAuLi4gaW4gYSBzdHJpbmdcbiAqIEBwYXJhbSBzdHIge3N0cmluZ31cbiAqIEBwYXJhbSBhcmdzLC4uLiB7QXJyYXl8Kn1cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuVXRpbHMuZm10ID0gZnVuY3Rpb24oc3RyLCBhcmdzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFyZ3MpKSB7XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHIucmVwbGFjZSgveyhbMC05XSspfS9nLCBmdW5jdGlvbihtLCBpKSB7XG4gICAgICAgIHJldHVybiBhcmdzW3BhcnNlSW50KGkpXTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogVGhyb3cgYW4gRXJyb3Igb2JqZWN0IHdpdGggY3VzdG9tIG5hbWUgb3IgbG9ncyBhbiBlcnJvclxuICogQHBhcmFtIFtkb1Rocm93PXRydWVdIHtib29sZWFufVxuICogQHBhcmFtIHR5cGUge3N0cmluZ31cbiAqIEBwYXJhbSBtZXNzYWdlIHtzdHJpbmd9XG4gKiBAcGFyYW0gYXJncywuLi4ge0FycmF5fCp9XG4gKi9cblV0aWxzLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBkb1Rocm93ID0gdHlwZW9mIGFyZ3VtZW50c1tpXSA9PT0gJ2Jvb2xlYW4nID8gYXJndW1lbnRzW2krK10gOiB0cnVlO1xuICAgIHZhciB0eXBlID0gYXJndW1lbnRzW2krK107XG4gICAgdmFyIG1lc3NhZ2UgPSBhcmd1bWVudHNbaSsrXTtcbiAgICB2YXIgYXJncyA9IEFycmF5LmlzQXJyYXkoYXJndW1lbnRzW2ldKSA/IGFyZ3VtZW50c1tpXSA6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgaSk7XG5cbiAgICBpZiAoZG9UaHJvdykge1xuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKFV0aWxzLmZtdChtZXNzYWdlLCBhcmdzKSk7XG4gICAgICAgIGVyci5uYW1lID0gdHlwZSArICdFcnJvcic7XG4gICAgICAgIGVyci5hcmdzID0gYXJncztcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcih0eXBlICsgJ0Vycm9yOiAnICsgVXRpbHMuZm10KG1lc3NhZ2UsIGFyZ3MpKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIENoYW5nZSB0eXBlIG9mIGEgdmFsdWUgdG8gaW50IG9yIGZsb2F0XG4gKiBAcGFyYW0gdmFsdWUge21peGVkfVxuICogQHBhcmFtIHR5cGUge3N0cmluZ30gJ2ludGVnZXInLCAnZG91YmxlJyBvciBhbnl0aGluZyBlbHNlXG4gKiBAcGFyYW0gYm9vbEFzSW50IHtib29sZWFufSByZXR1cm4gMCBvciAxIGZvciBib29sZWFuc1xuICogQHJldHVybiB7bWl4ZWR9XG4gKi9cblV0aWxzLmNoYW5nZVR5cGUgPSBmdW5jdGlvbih2YWx1ZSwgdHlwZSwgYm9vbEFzSW50KSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgLy8gQGZvcm1hdHRlcjpvZmZcbiAgICBjYXNlICdpbnRlZ2VyJzogcmV0dXJuIHBhcnNlSW50KHZhbHVlKTtcbiAgICBjYXNlICdkb3VibGUnOiByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHZhciBib29sID0gdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyB8fCB2YWx1ZS50cmltKCkgPT09ICcxJyB8fCB2YWx1ZSA9PT0gMTtcbiAgICAgICAgcmV0dXJuIGJvb2xBc0ludCA/IChib29sID8gMSA6IDApIDogYm9vbDtcbiAgICBkZWZhdWx0OiByZXR1cm4gdmFsdWU7XG4gICAgLy8gQGZvcm1hdHRlcjpvblxuICAgIH1cbn07XG5cbi8qKlxuICogRXNjYXBlIHN0cmluZyBsaWtlIG15c3FsX3JlYWxfZXNjYXBlX3N0cmluZ1xuICogQHBhcmFtIHZhbHVlIHtzdHJpbmd9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblV0aWxzLmVzY2FwZVN0cmluZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlXG4gICAgICAgIC5yZXBsYWNlKC9bXFwwXFxuXFxyXFxiXFxcXFxcJ1xcXCJdL2csIGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgIHN3aXRjaCAocykge1xuICAgICAgICAgICAgLy8gQGZvcm1hdHRlcjpvZmZcbiAgICAgICAgICAgIGNhc2UgJ1xcMCc6IHJldHVybiAnXFxcXDAnO1xuICAgICAgICAgICAgY2FzZSAnXFxuJzogcmV0dXJuICdcXFxcbic7XG4gICAgICAgICAgICBjYXNlICdcXHInOiByZXR1cm4gJ1xcXFxyJztcbiAgICAgICAgICAgIGNhc2UgJ1xcYic6IHJldHVybiAnXFxcXGInO1xuICAgICAgICAgICAgZGVmYXVsdDogICByZXR1cm4gJ1xcXFwnICsgcztcbiAgICAgICAgICAgIC8vIEBmb3JtYXR0ZXI6b2ZmXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC8vIHVnbGlmeSBjb21wbGlhbnRcbiAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCAnXFxcXHQnKVxuICAgICAgICAucmVwbGFjZSgvXFx4MWEvZywgJ1xcXFxaJyk7XG59O1xuXG4vKipcbiAqIEVzY2FwZSB2YWx1ZSBmb3IgdXNlIGluIHJlZ2V4XG4gKiBAcGFyYW0gdmFsdWUge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuVXRpbHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgJ1xcXFwkJicpO1xufTtcblxuLyoqXG4gKiBFc2NhcGUgSFRNTCBlbGVtZW50IGlkXG4gKiBAcGFyYW0gdmFsdWUge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuVXRpbHMuZXNjYXBlRWxlbWVudElkID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgLy8gUmVnZXggYmFzZWQgb24gdGhhdCBzdWdnZXN0ZWQgYnk6XG4gICAgLy8gaHR0cHM6Ly9sZWFybi5qcXVlcnkuY29tL3VzaW5nLWpxdWVyeS1jb3JlL2ZhcS9ob3ctZG8taS1zZWxlY3QtYW4tZWxlbWVudC1ieS1hbi1pZC10aGF0LWhhcy1jaGFyYWN0ZXJzLXVzZWQtaW4tY3NzLW5vdGF0aW9uL1xuICAgIC8vIC0gZXNjYXBlcyA6IC4gWyBdICxcbiAgICAvLyAtIGF2b2lkcyBlc2NhcGluZyBhbHJlYWR5IGVzY2FwZWQgdmFsdWVzXG4gICAgcmV0dXJuIChzdHIpID8gc3RyLnJlcGxhY2UoLyhcXFxcKT8oWzouXFxbXFxdLF0pL2csXG4gICAgICAgICAgICBmdW5jdGlvbiggJDAsICQxLCAkMiApIHsgcmV0dXJuICQxID8gJDAgOiAnXFxcXCcgKyAkMjsgfSkgOiBzdHI7XG59O1xuXG4vKipcbiAqIFNvcnQgb2JqZWN0cyBieSBncm91cGluZyB0aGVtIGJ5IHtrZXl9LCBwcmVzZXJ2aW5nIGluaXRpYWwgb3JkZXIgd2hlbiBwb3NzaWJsZVxuICogQHBhcmFtIHtvYmplY3RbXX0gaXRlbXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEByZXR1cm5zIHtvYmplY3RbXX1cbiAqL1xuVXRpbHMuZ3JvdXBTb3J0ID0gZnVuY3Rpb24oaXRlbXMsIGtleSkge1xuICAgIHZhciBvcHRncm91cHMgPSBbXTtcbiAgICB2YXIgbmV3SXRlbXMgPSBbXTtcblxuICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICB2YXIgaWR4O1xuXG4gICAgICAgIGlmIChpdGVtW2tleV0pIHtcbiAgICAgICAgICAgIGlkeCA9IG9wdGdyb3Vwcy5sYXN0SW5kZXhPZihpdGVtW2tleV0pO1xuXG4gICAgICAgICAgICBpZiAoaWR4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gb3B0Z3JvdXBzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlkeCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWR4ID0gb3B0Z3JvdXBzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGdyb3Vwcy5zcGxpY2UoaWR4LCAwLCBpdGVtW2tleV0pO1xuICAgICAgICBuZXdJdGVtcy5zcGxpY2UoaWR4LCAwLCBpdGVtKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBuZXdJdGVtcztcbn07XG5cblxuJC5mbi5xdWVyeUJ1aWxkZXIgPSBmdW5jdGlvbihvcHRpb24pIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgVXRpbHMuZXJyb3IoJ0NvbmZpZycsICdObyB0YXJnZXQgZGVmaW5lZCcpO1xuICAgIH1cbiAgICBpZiAodGhpcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIFV0aWxzLmVycm9yKCdDb25maWcnLCAnVW5hYmxlIHRvIGluaXRpYWxpemUgb24gbXVsdGlwbGUgdGFyZ2V0Jyk7XG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGEoJ3F1ZXJ5QnVpbGRlcicpO1xuICAgIHZhciBvcHRpb25zID0gKHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKSB8fCB7fTtcblxuICAgIGlmICghZGF0YSAmJiBvcHRpb24gPT0gJ2Rlc3Ryb3knKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhKCdxdWVyeUJ1aWxkZXInLCBuZXcgUXVlcnlCdWlsZGVyKHRoaXMsIG9wdGlvbnMpKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGRhdGFbb3B0aW9uXS5hcHBseShkYXRhLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbiQuZm4ucXVlcnlCdWlsZGVyLmNvbnN0cnVjdG9yID0gUXVlcnlCdWlsZGVyO1xuJC5mbi5xdWVyeUJ1aWxkZXIuZGVmYXVsdHMgPSBRdWVyeUJ1aWxkZXIuZGVmYXVsdHM7XG4kLmZuLnF1ZXJ5QnVpbGRlci5leHRlbmQgPSBRdWVyeUJ1aWxkZXIuZXh0ZW5kO1xuJC5mbi5xdWVyeUJ1aWxkZXIuZGVmaW5lID0gUXVlcnlCdWlsZGVyLmRlZmluZTtcbiQuZm4ucXVlcnlCdWlsZGVyLnJlZ2lvbmFsID0gUXVlcnlCdWlsZGVyLnJlZ2lvbmFsO1xuXG5cbi8qIVxuICogalF1ZXJ5IFF1ZXJ5QnVpbGRlciBBd2Vzb21lIEJvb3RzdHJhcCBDaGVja2JveFxuICogQXBwbGllcyBBd2Vzb21lIEJvb3RzdHJhcCBDaGVja2JveCBmb3IgY2hlY2tib3ggYW5kIHJhZGlvIGlucHV0cy5cbiAqL1xuXG5RdWVyeUJ1aWxkZXIuZGVmaW5lKCdidC1jaGVja2JveCcsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5mb250ID09ICdnbHlwaGljb25zJykge1xuICAgICAgICB2YXIgaW5qZWN0Q1NTID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgaW5qZWN0Q1NTLmlubmVySFRNTCA9ICdcXFxuLmNoZWNrYm94IGlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQgKyBsYWJlbDphZnRlciB7IFxcXG4gICAgZm9udC1mYW1pbHk6IFwiR2x5cGhpY29ucyBIYWxmbGluZ3NcIjsgXFxcbiAgICBjb250ZW50OiBcIlxcXFxlMDEzXCI7IFxcXG59IFxcXG4uY2hlY2tib3ggbGFiZWw6YWZ0ZXIgeyBcXFxuICAgIHBhZGRpbmctbGVmdDogNHB4OyBcXFxuICAgIHBhZGRpbmctdG9wOiAycHg7IFxcXG4gICAgZm9udC1zaXplOiA5cHg7IFxcXG59JztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbmplY3RDU1MpO1xuICAgIH1cblxuICAgIHRoaXMub24oJ2dldFJ1bGVJbnB1dC5maWx0ZXInLCBmdW5jdGlvbihoLCBydWxlLCBuYW1lKSB7XG4gICAgICAgIHZhciBmaWx0ZXIgPSBydWxlLmZpbHRlcjtcblxuICAgICAgICBpZiAoKGZpbHRlci5pbnB1dCA9PT0gJ3JhZGlvJyB8fCBmaWx0ZXIuaW5wdXQgPT09ICdjaGVja2JveCcpICYmICFmaWx0ZXIucGx1Z2luKSB7XG4gICAgICAgICAgICBoLnZhbHVlID0gJyc7XG5cbiAgICAgICAgICAgIGlmICghZmlsdGVyLmNvbG9ycykge1xuICAgICAgICAgICAgICAgIGZpbHRlci5jb2xvcnMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmaWx0ZXIuY29sb3IpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXIuY29sb3JzLl9kZWZfID0gZmlsdGVyLmNvbG9yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBmaWx0ZXIudmVydGljYWwgPyAnIHN0eWxlPVwiZGlzcGxheTpibG9ja1wiJyA6ICcnO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICBVdGlscy5pdGVyYXRlT3B0aW9ucyhmaWx0ZXIudmFsdWVzLCBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IGZpbHRlci5jb2xvcnNba2V5XSB8fCBmaWx0ZXIuY29sb3JzLl9kZWZfIHx8IG9wdGlvbnMuY29sb3I7XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gbmFtZSArICdfJyArIChpKyspO1xuXG4gICAgICAgICAgICAgICAgaC52YWx1ZSs9ICdcXFxuPGRpdicgKyBzdHlsZSArICcgY2xhc3M9XCInICsgZmlsdGVyLmlucHV0ICsgJyAnICsgZmlsdGVyLmlucHV0ICsgJy0nICsgY29sb3IgKyAnXCI+IFxcXG4gIDxpbnB1dCB0eXBlPVwiJyArIGZpbHRlci5pbnB1dCArICdcIiBuYW1lPVwiJyArIG5hbWUgKyAnXCIgaWQ9XCInICsgaWQgKyAnXCIgdmFsdWU9XCInICsga2V5ICsgJ1wiPiBcXFxuICA8bGFiZWwgZm9yPVwiJyArIGlkICsgJ1wiPicgKyB2YWwgKyAnPC9sYWJlbD4gXFxcbjwvZGl2Pic7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSwge1xuICAgIGZvbnQ6ICdnbHlwaGljb25zJyxcbiAgICBjb2xvcjogJ2RlZmF1bHQnXG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgQm9vdHN0cmFwIFNlbGVjdHBpY2tlclxuICogQXBwbGllcyBCb290c3RyYXAgU2VsZWN0IG9uIGZpbHRlcnMgYW5kIG9wZXJhdG9ycyBjb21iby1ib3hlcy5cbiAqL1xuXG4vKipcbiAqIEB0aHJvd3MgQ29uZmlnRXJyb3JcbiAqL1xuUXVlcnlCdWlsZGVyLmRlZmluZSgnYnQtc2VsZWN0cGlja2VyJywgZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghJC5mbi5zZWxlY3RwaWNrZXIgfHwgISQuZm4uc2VsZWN0cGlja2VyLkNvbnN0cnVjdG9yKSB7XG4gICAgICAgIFV0aWxzLmVycm9yKCdNaXNzaW5nTGlicmFyeScsICdCb290c3RyYXAgU2VsZWN0IGlzIHJlcXVpcmVkIHRvIHVzZSBcImJ0LXNlbGVjdHBpY2tlclwiIHBsdWdpbi4gR2V0IGl0IGhlcmU6IGh0dHA6Ly9zaWx2aW9tb3JldG8uZ2l0aHViLmlvL2Jvb3RzdHJhcC1zZWxlY3QnKTtcbiAgICB9XG5cbiAgICAvLyBpbml0IHNlbGVjdHBpY2tlclxuICAgIHRoaXMub24oJ2FmdGVyQ3JlYXRlUnVsZUZpbHRlcnMnLCBmdW5jdGlvbihlLCBydWxlKSB7XG4gICAgICAgIHJ1bGUuJGVsLmZpbmQoU2VsZWN0b3JzLnJ1bGVfZmlsdGVyKS5yZW1vdmVDbGFzcygnZm9ybS1jb250cm9sJykuc2VsZWN0cGlja2VyKG9wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbignYWZ0ZXJDcmVhdGVSdWxlT3BlcmF0b3JzJywgZnVuY3Rpb24oZSwgcnVsZSkge1xuICAgICAgICBydWxlLiRlbC5maW5kKFNlbGVjdG9ycy5ydWxlX29wZXJhdG9yKS5yZW1vdmVDbGFzcygnZm9ybS1jb250cm9sJykuc2VsZWN0cGlja2VyKG9wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgLy8gdXBkYXRlIHNlbGVjdHBpY2tlciBvbiBjaGFuZ2VcbiAgICB0aGlzLm9uKCdhZnRlclVwZGF0ZVJ1bGVGaWx0ZXInLCBmdW5jdGlvbihlLCBydWxlKSB7XG4gICAgICAgIHJ1bGUuJGVsLmZpbmQoU2VsZWN0b3JzLnJ1bGVfZmlsdGVyKS5zZWxlY3RwaWNrZXIoJ3JlbmRlcicpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbignYWZ0ZXJVcGRhdGVSdWxlT3BlcmF0b3InLCBmdW5jdGlvbihlLCBydWxlKSB7XG4gICAgICAgIHJ1bGUuJGVsLmZpbmQoU2VsZWN0b3JzLnJ1bGVfb3BlcmF0b3IpLnNlbGVjdHBpY2tlcigncmVuZGVyJyk7XG4gICAgfSk7XG59LCB7XG4gICAgY29udGFpbmVyOiAnYm9keScsXG4gICAgc3R5bGU6ICdidG4taW52ZXJzZSBidG4teHMnLFxuICAgIHdpZHRoOiAnYXV0bycsXG4gICAgc2hvd0ljb246IGZhbHNlXG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgQm9vdHN0cmFwIFRvb2x0aXAgZXJyb3JzXG4gKiBBcHBsaWVzIEJvb3RzdHJhcCBUb29sdGlwcyBvbiB2YWxpZGF0aW9uIGVycm9yIG1lc3NhZ2VzLlxuICovXG5cbi8qKlxuICogQHRocm93cyBDb25maWdFcnJvclxuICovXG5RdWVyeUJ1aWxkZXIuZGVmaW5lKCdidC10b29sdGlwLWVycm9ycycsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoISQuZm4udG9vbHRpcCB8fCAhJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yIHx8ICEkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IucHJvdG90eXBlLmZpeFRpdGxlKSB7XG4gICAgICAgIFV0aWxzLmVycm9yKCdNaXNzaW5nTGlicmFyeScsICdCb290c3RyYXAgVG9vbHRpcCBpcyByZXF1aXJlZCB0byB1c2UgXCJidC10b29sdGlwLWVycm9yc1wiIHBsdWdpbi4gR2V0IGl0IGhlcmU6IGh0dHA6Ly9nZXRib290c3RyYXAuY29tJyk7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gYWRkIEJUIFRvb2x0aXAgZGF0YVxuICAgIHRoaXMub24oJ2dldFJ1bGVUZW1wbGF0ZS5maWx0ZXIgZ2V0R3JvdXBUZW1wbGF0ZS5maWx0ZXInLCBmdW5jdGlvbihoKSB7XG4gICAgICAgIHZhciAkaCA9ICQoaC52YWx1ZSk7XG4gICAgICAgICRoLmZpbmQoU2VsZWN0b3JzLmVycm9yX2NvbnRhaW5lcikuYXR0cignZGF0YS10b2dnbGUnLCAndG9vbHRpcCcpO1xuICAgICAgICBoLnZhbHVlID0gJGgucHJvcCgnb3V0ZXJIVE1MJyk7XG4gICAgfSk7XG5cbiAgICAvLyBpbml0L3JlZnJlc2ggdG9vbHRpcCB3aGVuIHRpdGxlIGNoYW5nZXNcbiAgICB0aGlzLm1vZGVsLm9uKCd1cGRhdGUnLCBmdW5jdGlvbihlLCBub2RlLCBmaWVsZCkge1xuICAgICAgICBpZiAoZmllbGQgPT0gJ2Vycm9yJyAmJiBzZWxmLnNldHRpbmdzLmRpc3BsYXlfZXJyb3JzKSB7XG4gICAgICAgICAgICBub2RlLiRlbC5maW5kKFNlbGVjdG9ycy5lcnJvcl9jb250YWluZXIpLmVxKDApXG4gICAgICAgICAgICAgIC50b29sdGlwKG9wdGlvbnMpXG4gICAgICAgICAgICAgIC50b29sdGlwKCdoaWRlJylcbiAgICAgICAgICAgICAgLnRvb2x0aXAoJ2ZpeFRpdGxlJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0sIHtcbiAgICBwbGFjZW1lbnQ6ICdyaWdodCdcbn0pO1xuXG5cbi8qIVxuICogalF1ZXJ5IFF1ZXJ5QnVpbGRlciBDaGFuZ2UgRmlsdGVyc1xuICogQWxsb3dzIHRvIGNoYW5nZSBhdmFpbGFibGUgZmlsdGVycyBhZnRlciBwbHVnaW4gaW5pdGlhbGl6YXRpb24uXG4gKi9cblxuUXVlcnlCdWlsZGVyLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRoZSBmaWx0ZXJzIG9mIHRoZSBidWlsZGVyXG4gICAgICogQHRocm93cyBDaGFuZ2VGaWx0ZXJFcnJvclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbixvcHRpb25hbH0gZGVsZXRlIHJ1bGVzIHVzaW5nIG9sZCBmaWx0ZXJzXG4gICAgICogQHBhcmFtIHtvYmplY3RbXX0gbmV3IGZpbHRlcnNcbiAgICAgKi9cbiAgICBzZXRGaWx0ZXJzOiBmdW5jdGlvbihkZWxldGVfb3JwaGFucywgZmlsdGVycykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGZpbHRlcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZmlsdGVycyA9IGRlbGV0ZV9vcnBoYW5zO1xuICAgICAgICAgICAgZGVsZXRlX29ycGhhbnMgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpbHRlcnMgPSB0aGlzLmNoZWNrRmlsdGVycyhmaWx0ZXJzKTtcbiAgICAgICAgZmlsdGVycyA9IHRoaXMuY2hhbmdlKCdzZXRGaWx0ZXJzJywgZmlsdGVycyk7XG5cbiAgICAgICAgdmFyIGZpbHRlcnNJZHMgPSBmaWx0ZXJzLm1hcChmdW5jdGlvbihmaWx0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXIuaWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNoZWNrIGZvciBvcnBoYW5zXG4gICAgICAgIGlmICghZGVsZXRlX29ycGhhbnMpIHtcbiAgICAgICAgICAgIChmdW5jdGlvbiBjaGVja09ycGhhbnMobm9kZSkge1xuICAgICAgICAgICAgICAgIG5vZGUuZWFjaChcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUuZmlsdGVyICYmIGZpbHRlcnNJZHMuaW5kZXhPZihydWxlLmZpbHRlci5pZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0NoYW5nZUZpbHRlcicsICdBIHJ1bGUgaXMgdXNpbmcgZmlsdGVyIFwiezB9XCInLCBydWxlLmZpbHRlci5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrT3JwaGFuc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KHRoaXMubW9kZWwucm9vdCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVwbGFjZSBmaWx0ZXJzXG4gICAgICAgIHRoaXMuZmlsdGVycyA9IGZpbHRlcnM7XG5cbiAgICAgICAgLy8gYXBwbHkgb24gZXhpc3RpbmcgRE9NXG4gICAgICAgIChmdW5jdGlvbiB1cGRhdGVCdWlsZGVyKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuZWFjaCh0cnVlLFxuICAgICAgICAgICAgICBmdW5jdGlvbihydWxlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAocnVsZS5maWx0ZXIgJiYgZmlsdGVyc0lkcy5pbmRleE9mKHJ1bGUuZmlsdGVyLmlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBydWxlLmRyb3AoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlUnVsZUZpbHRlcnMocnVsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBydWxlLiRlbC5maW5kKFNlbGVjdG9ycy5ydWxlX2ZpbHRlcikudmFsKHJ1bGUuZmlsdGVyID8gcnVsZS5maWx0ZXIuaWQgOiAnLTEnKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRyaWdnZXIoJ2FmdGVyVXBkYXRlUnVsZUZpbHRlcicsIHJ1bGUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB1cGRhdGVCdWlsZGVyXG4gICAgICAgICAgICApO1xuICAgICAgICB9KHRoaXMubW9kZWwucm9vdCkpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBwbHVnaW5zXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnBsdWdpbnNbJ3VuaXF1ZS1maWx0ZXInXSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRGlzYWJsZWRGaWx0ZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5wbHVnaW5zWydidC1zZWxlY3RwaWNrZXInXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoU2VsZWN0b3JzLnJ1bGVfZmlsdGVyKS5zZWxlY3RwaWNrZXIoJ3JlbmRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgdGhlIGRlZmF1bHRfZmlsdGVyIGlmIGRvZXMgbm90IGV4aXN0IGFueW1vcmVcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9maWx0ZXIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRGaWx0ZXJCeUlkKHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9maWx0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRlZmF1bHRfZmlsdGVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJTZXRGaWx0ZXJzJywgZmlsdGVycyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgZmlsdGVyIHRvIHRoZSBidWlsZGVyXG4gICAgICogQHBhcmFtIHtvYmplY3R8b2JqZWN0W119IHRoZSBuZXcgZmlsdGVyXG4gICAgICogQHBhcmFtIHttaXhlZCxvcHRpb25hbH0gbnVtZXJpYyBpbmRleCBvciAnI3N0YXJ0JyBvciAnI2VuZCdcbiAgICAgKi9cbiAgICBhZGRGaWx0ZXI6IGZ1bmN0aW9uKG5ld19maWx0ZXJzLCBwb3NpdGlvbikge1xuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA9PSAnI2VuZCcpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5maWx0ZXJzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwb3NpdGlvbiA9PSAnI3N0YXJ0Jykge1xuICAgICAgICAgICAgcG9zaXRpb24gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEkLmlzQXJyYXkobmV3X2ZpbHRlcnMpKSB7XG4gICAgICAgICAgICBuZXdfZmlsdGVycyA9IFtuZXdfZmlsdGVyc107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZmlsdGVycyA9ICQuZXh0ZW5kKHRydWUsIFtdLCB0aGlzLmZpbHRlcnMpO1xuXG4gICAgICAgIC8vIG51bWVyaWMgcG9zaXRpb25cbiAgICAgICAgaWYgKHBhcnNlSW50KHBvc2l0aW9uKSA9PSBwb3NpdGlvbikge1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShmaWx0ZXJzLCBbcG9zaXRpb24sIDBdLmNvbmNhdChuZXdfZmlsdGVycykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gYWZ0ZXIgZmlsdGVyIGJ5IGl0cyBpZFxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsdGVycy5zb21lKGZ1bmN0aW9uKGZpbHRlciwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLmlkID09IHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoZmlsdGVycywgW3Bvc2l0aW9uLCAwXS5jb25jYXQobmV3X2ZpbHRlcnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRlZmF1bHRzIHRvIGVuZCBvZiBsaXN0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShmaWx0ZXJzLCBuZXdfZmlsdGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldEZpbHRlcnMoZmlsdGVycyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBmaWx0ZXIgZnJvbSB0aGUgYnVpbGRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB0aGUgZmlsdGVyIGlkXG4gICAgICogQHBhcmFtIHtib29sZWFuLG9wdGlvbmFsfSBkZWxldGUgcnVsZXMgdXNpbmcgb2xkIGZpbHRlcnNcbiAgICAgKi9cbiAgICByZW1vdmVGaWx0ZXI6IGZ1bmN0aW9uKGZpbHRlcl9pZHMsIGRlbGV0ZV9vcnBoYW5zKSB7XG4gICAgICAgIHZhciBmaWx0ZXJzID0gJC5leHRlbmQodHJ1ZSwgW10sIHRoaXMuZmlsdGVycyk7XG4gICAgICAgIGlmICh0eXBlb2YgZmlsdGVyX2lkcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGZpbHRlcl9pZHMgPSBbZmlsdGVyX2lkc107XG4gICAgICAgIH1cblxuICAgICAgICBmaWx0ZXJzID0gZmlsdGVycy5maWx0ZXIoZnVuY3Rpb24oZmlsdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyX2lkcy5pbmRleE9mKGZpbHRlci5pZCkgPT09IC0xO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnNldEZpbHRlcnMoZGVsZXRlX29ycGhhbnMsIGZpbHRlcnMpO1xuICAgIH1cbn0pO1xuXG5cbi8qIVxuICogalF1ZXJ5IFF1ZXJ5QnVpbGRlciBGaWx0ZXIgRGVzY3JpcHRpb25cbiAqIFByb3ZpZGVzIHRocmVlIHdheXMgdG8gZGlzcGxheSBhIGRlc2NyaXB0aW9uIGFib3V0IGEgZmlsdGVyOiBpbmxpbmUsIEJvb3RzcmFwIFBvcG92ZXIgb3IgQm9vdGJveC5cbiAqL1xuXG4vKipcbiAqIEB0aHJvd3MgQ29uZmlnRXJyb3JcbiAqL1xuUXVlcnlCdWlsZGVyLmRlZmluZSgnZmlsdGVyLWRlc2NyaXB0aW9uJywgZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIC8qKlxuICAgICAqIElOTElORVxuICAgICAqL1xuICAgIGlmIChvcHRpb25zLm1vZGUgPT09ICdpbmxpbmUnKSB7XG4gICAgICAgIHRoaXMub24oJ2FmdGVyVXBkYXRlUnVsZUZpbHRlcicsIGZ1bmN0aW9uKGUsIHJ1bGUpIHtcbiAgICAgICAgICAgIHZhciAkcCA9IHJ1bGUuJGVsLmZpbmQoJ3AuZmlsdGVyLWRlc2NyaXB0aW9uJyk7XG5cbiAgICAgICAgICAgIGlmICghcnVsZS5maWx0ZXIgfHwgIXJ1bGUuZmlsdGVyLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgJHAuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCRwLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAkcCA9ICQoJzxwIGNsYXNzPVwiZmlsdGVyLWRlc2NyaXB0aW9uXCI+PC9wPicpO1xuICAgICAgICAgICAgICAgICAgICAkcC5hcHBlbmRUbyhydWxlLiRlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkcC5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHAuaHRtbCgnPGkgY2xhc3M9XCInICsgb3B0aW9ucy5pY29uICsgJ1wiPjwvaT4gJyArIHJ1bGUuZmlsdGVyLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBPUE9WRVJcbiAgICAgKi9cbiAgICBlbHNlIGlmIChvcHRpb25zLm1vZGUgPT09ICdwb3BvdmVyJykge1xuICAgICAgICBpZiAoISQuZm4ucG9wb3ZlciB8fCAhJC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yIHx8ICEkLmZuLnBvcG92ZXIuQ29uc3RydWN0b3IucHJvdG90eXBlLmZpeFRpdGxlKSB7XG4gICAgICAgICAgICBVdGlscy5lcnJvcignTWlzc2luZ0xpYnJhcnknLCAnQm9vdHN0cmFwIFBvcG92ZXIgaXMgcmVxdWlyZWQgdG8gdXNlIFwiZmlsdGVyLWRlc2NyaXB0aW9uXCIgcGx1Z2luLiBHZXQgaXQgaGVyZTogaHR0cDovL2dldGJvb3RzdHJhcC5jb20nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub24oJ2FmdGVyVXBkYXRlUnVsZUZpbHRlcicsIGZ1bmN0aW9uKGUsIHJ1bGUpIHtcbiAgICAgICAgICAgIHZhciAkYiA9IHJ1bGUuJGVsLmZpbmQoJ2J1dHRvbi5maWx0ZXItZGVzY3JpcHRpb24nKTtcblxuICAgICAgICAgICAgaWYgKCFydWxlLmZpbHRlciB8fCAhcnVsZS5maWx0ZXIuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAkYi5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJGIuZGF0YSgnYnMucG9wb3ZlcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICRiLnBvcG92ZXIoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoJGIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICRiID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1pbmZvIGZpbHRlci1kZXNjcmlwdGlvblwiIGRhdGEtdG9nZ2xlPVwicG9wb3ZlclwiPjxpIGNsYXNzPVwiJyArIG9wdGlvbnMuaWNvbiArICdcIj48L2k+PC9idXR0b24+Jyk7XG4gICAgICAgICAgICAgICAgICAgICRiLnByZXBlbmRUbyhydWxlLiRlbC5maW5kKFNlbGVjdG9ycy5ydWxlX2FjdGlvbnMpKTtcblxuICAgICAgICAgICAgICAgICAgICAkYi5wb3BvdmVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogJ2xlZnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiAnYm9keScsXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICRiLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGIucG9wb3ZlcignaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRiLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkYi5kYXRhKCdicy5wb3BvdmVyJykub3B0aW9ucy5jb250ZW50ID0gcnVsZS5maWx0ZXIuZGVzY3JpcHRpb247XG5cbiAgICAgICAgICAgICAgICBpZiAoJGIuYXR0cignYXJpYS1kZXNjcmliZWRieScpKSB7XG4gICAgICAgICAgICAgICAgICAgICRiLnBvcG92ZXIoJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCT09UQk9YXG4gICAgICovXG4gICAgZWxzZSBpZiAob3B0aW9ucy5tb2RlID09PSAnYm9vdGJveCcpIHtcbiAgICAgICAgaWYgKCEoJ2Jvb3Rib3gnIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgIFV0aWxzLmVycm9yKCdNaXNzaW5nTGlicmFyeScsICdCb290Ym94IGlzIHJlcXVpcmVkIHRvIHVzZSBcImZpbHRlci1kZXNjcmlwdGlvblwiIHBsdWdpbi4gR2V0IGl0IGhlcmU6IGh0dHA6Ly9ib290Ym94anMuY29tJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uKCdhZnRlclVwZGF0ZVJ1bGVGaWx0ZXInLCBmdW5jdGlvbihlLCBydWxlKSB7XG4gICAgICAgICAgICB2YXIgJGIgPSBydWxlLiRlbC5maW5kKCdidXR0b24uZmlsdGVyLWRlc2NyaXB0aW9uJyk7XG5cbiAgICAgICAgICAgIGlmICghcnVsZS5maWx0ZXIgfHwgIXJ1bGUuZmlsdGVyLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgJGIuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCRiLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAkYiA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4taW5mbyBmaWx0ZXItZGVzY3JpcHRpb25cIiBkYXRhLXRvZ2dsZT1cImJvb3Rib3hcIj48aSBjbGFzcz1cIicgKyBvcHRpb25zLmljb24gKyAnXCI+PC9pPjwvYnV0dG9uPicpO1xuICAgICAgICAgICAgICAgICAgICAkYi5wcmVwZW5kVG8ocnVsZS4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9hY3Rpb25zKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJGIub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib290Ym94LmFsZXJ0KCRiLmRhdGEoJ2Rlc2NyaXB0aW9uJykpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkYi5kYXRhKCdkZXNjcmlwdGlvbicsIHJ1bGUuZmlsdGVyLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSwge1xuICAgIGljb246ICdnbHlwaGljb24gZ2x5cGhpY29uLWluZm8tc2lnbicsXG4gICAgbW9kZTogJ3BvcG92ZXInXG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgSW52ZXJ0XG4gKiBBbGxvd3MgdG8gaW52ZXJ0IGEgcnVsZSBvcGVyYXRvciwgYSBncm91cCBjb25kaXRpb24gb3IgdGhlIGVudGlyZSBidWlsZGVyLlxuICovXG5cblF1ZXJ5QnVpbGRlci5kZWZhdWx0cyh7XG4gICAgb3BlcmF0b3JPcHBvc2l0ZXM6IHtcbiAgICAgICAgJ2VxdWFsJzogICAgICAgICAgICAnbm90X2VxdWFsJyxcbiAgICAgICAgJ25vdF9lcXVhbCc6ICAgICAgICAnZXF1YWwnLFxuICAgICAgICAnaW4nOiAgICAgICAgICAgICAgICdub3RfaW4nLFxuICAgICAgICAnbm90X2luJzogICAgICAgICAgICdpbicsXG4gICAgICAgICdsZXNzJzogICAgICAgICAgICAgJ2dyZWF0ZXJfb3JfZXF1YWwnLFxuICAgICAgICAnbGVzc19vcl9lcXVhbCc6ICAgICdncmVhdGVyJyxcbiAgICAgICAgJ2dyZWF0ZXInOiAgICAgICAgICAnbGVzc19vcl9lcXVhbCcsXG4gICAgICAgICdncmVhdGVyX29yX2VxdWFsJzogJ2xlc3MnLFxuICAgICAgICAnYmV0d2Vlbic6ICAgICAgICAgICdub3RfYmV0d2VlbicsXG4gICAgICAgICdub3RfYmV0d2Vlbic6ICAgICAgJ2JldHdlZW4nLFxuICAgICAgICAnYmVnaW5zX3dpdGgnOiAgICAgICdub3RfYmVnaW5zX3dpdGgnLFxuICAgICAgICAnbm90X2JlZ2luc193aXRoJzogICdiZWdpbnNfd2l0aCcsXG4gICAgICAgICdjb250YWlucyc6ICAgICAgICAgJ25vdF9jb250YWlucycsXG4gICAgICAgICdub3RfY29udGFpbnMnOiAgICAgJ2NvbnRhaW5zJyxcbiAgICAgICAgJ2VuZHNfd2l0aCc6ICAgICAgICAnbm90X2VuZHNfd2l0aCcsXG4gICAgICAgICdub3RfZW5kc193aXRoJzogICAgJ2VuZHNfd2l0aCcsXG4gICAgICAgICdpc19lbXB0eSc6ICAgICAgICAgJ2lzX25vdF9lbXB0eScsXG4gICAgICAgICdpc19ub3RfZW1wdHknOiAgICAgJ2lzX2VtcHR5JyxcbiAgICAgICAgJ2lzX251bGwnOiAgICAgICAgICAnaXNfbm90X251bGwnLFxuICAgICAgICAnaXNfbm90X251bGwnOiAgICAgICdpc19udWxsJ1xuICAgIH0sXG5cbiAgICBjb25kaXRpb25PcHBvc2l0ZXM6IHtcbiAgICAgICAgJ0FORCc6ICdPUicsXG4gICAgICAgICdPUic6ICdBTkQnXG4gICAgfVxufSk7XG5cblF1ZXJ5QnVpbGRlci5kZWZpbmUoJ2ludmVydCcsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIGV2ZW50c1xuICAgICAqL1xuICAgIHRoaXMub24oJ2FmdGVySW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLiRlbC5vbignY2xpY2sucXVlcnlCdWlsZGVyJywgJ1tkYXRhLWludmVydD1ncm91cF0nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkZ3JvdXAgPSAkKHRoaXMpLmNsb3Nlc3QoU2VsZWN0b3JzLmdyb3VwX2NvbnRhaW5lcik7XG4gICAgICAgICAgICBzZWxmLmludmVydChNb2RlbCgkZ3JvdXApLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZGlzcGxheV9ydWxlc19idXR0b24gJiYgb3B0aW9ucy5pbnZlcnRfcnVsZXMpIHtcbiAgICAgICAgICAgIHNlbGYuJGVsLm9uKCdjbGljay5xdWVyeUJ1aWxkZXInLCAnW2RhdGEtaW52ZXJ0PXJ1bGVdJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyICRydWxlID0gJCh0aGlzKS5jbG9zZXN0KFNlbGVjdG9ycy5ydWxlX2NvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgc2VsZi5pbnZlcnQoTW9kZWwoJHJ1bGUpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBNb2RpZnkgdGVtcGxhdGVzXG4gICAgICovXG4gICAgdGhpcy5vbignZ2V0R3JvdXBUZW1wbGF0ZS5maWx0ZXInLCBmdW5jdGlvbihoLCBsZXZlbCkge1xuICAgICAgICB2YXIgJGggPSAkKGgudmFsdWUpO1xuICAgICAgICAkaC5maW5kKFNlbGVjdG9ycy5jb25kaXRpb25fY29udGFpbmVyKS5hZnRlcignPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1kZWZhdWx0XCIgZGF0YS1pbnZlcnQ9XCJncm91cFwiPjxpIGNsYXNzPVwiJyArIG9wdGlvbnMuaWNvbiArICdcIj48L2k+ICcgKyBzZWxmLmxhbmcuaW52ZXJ0ICsgJzwvYnV0dG9uPicpO1xuICAgICAgICBoLnZhbHVlID0gJGgucHJvcCgnb3V0ZXJIVE1MJyk7XG4gICAgfSk7XG5cbiAgICBpZiAob3B0aW9ucy5kaXNwbGF5X3J1bGVzX2J1dHRvbiAmJiBvcHRpb25zLmludmVydF9ydWxlcykge1xuICAgICAgICB0aGlzLm9uKCdnZXRSdWxlVGVtcGxhdGUuZmlsdGVyJywgZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgdmFyICRoID0gJChoLnZhbHVlKTtcbiAgICAgICAgICAgICRoLmZpbmQoU2VsZWN0b3JzLnJ1bGVfYWN0aW9ucykucHJlcGVuZCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1kZWZhdWx0XCIgZGF0YS1pbnZlcnQ9XCJydWxlXCI+PGkgY2xhc3M9XCInICsgb3B0aW9ucy5pY29uICsgJ1wiPjwvaT4gJyArIHNlbGYubGFuZy5pbnZlcnQgKyAnPC9idXR0b24+Jyk7XG4gICAgICAgICAgICBoLnZhbHVlID0gJGgucHJvcCgnb3V0ZXJIVE1MJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIHtcbiAgICBpY29uOiAnZ2x5cGhpY29uIGdseXBoaWNvbi1yYW5kb20nLFxuICAgIHJlY3Vyc2l2ZTogdHJ1ZSxcbiAgICBpbnZlcnRfcnVsZXM6IHRydWUsXG4gICAgZGlzcGxheV9ydWxlc19idXR0b246IGZhbHNlLFxuICAgIHNpbGVudF9mYWlsOiBmYWxzZVxufSk7XG5cblF1ZXJ5QnVpbGRlci5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIEludmVydCBhIEdyb3VwLCBhIFJ1bGUgb3IgdGhlIHdob2xlIGJ1aWxkZXJcbiAgICAgKiBAdGhyb3dzIEludmVydENvbmRpdGlvbkVycm9yLCBJbnZlcnRPcGVyYXRvckVycm9yXG4gICAgICogQHBhcmFtIHtOb2RlLG9wdGlvbmFsfVxuICAgICAqIEBwYXJhbSB7b2JqZWN0LG9wdGlvbmFsfVxuICAgICAqL1xuICAgIGludmVydDogZnVuY3Rpb24obm9kZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTm9kZSkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5tb2RlbC5yb290KSByZXR1cm47XG4gICAgICAgICAgICBvcHRpb25zID0gbm9kZTtcbiAgICAgICAgICAgIG5vZGUgPSB0aGlzLm1vZGVsLnJvb3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT0gJ29iamVjdCcpIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgaWYgKG9wdGlvbnMucmVjdXJzaXZlID09PSB1bmRlZmluZWQpIG9wdGlvbnMucmVjdXJzaXZlID0gdHJ1ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW52ZXJ0X3J1bGVzID09PSB1bmRlZmluZWQpIG9wdGlvbnMuaW52ZXJ0X3J1bGVzID0gdHJ1ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2lsZW50X2ZhaWwgPT09IHVuZGVmaW5lZCkgb3B0aW9ucy5zaWxlbnRfZmFpbCA9IGZhbHNlO1xuICAgICAgICBpZiAob3B0aW9ucy50cmlnZ2VyID09PSB1bmRlZmluZWQpIG9wdGlvbnMudHJpZ2dlciA9IHRydWU7XG5cbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBHcm91cCkge1xuICAgICAgICAgICAgLy8gaW52ZXJ0IGdyb3VwIGNvbmRpdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY29uZGl0aW9uT3Bwb3NpdGVzW25vZGUuY29uZGl0aW9uXSkge1xuICAgICAgICAgICAgICAgIG5vZGUuY29uZGl0aW9uID0gdGhpcy5zZXR0aW5ncy5jb25kaXRpb25PcHBvc2l0ZXNbbm9kZS5jb25kaXRpb25dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIW9wdGlvbnMuc2lsZW50X2ZhaWwpIHtcbiAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignSW52ZXJ0Q29uZGl0aW9uJywgJ1Vua25vd24gaW52ZXJzZSBvZiBjb25kaXRpb24gXCJ7MH1cIicsIG5vZGUuY29uZGl0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJlY3Vyc2l2ZSkge1xuICAgICAgICAgICAgICAgIHZhciB0ZW1wT3B0cyA9ICQuZXh0ZW5kKHt9LCBvcHRpb25zLCB7IHRyaWdnZXI6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIG5vZGUuZWFjaChmdW5jdGlvbihydWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmludmVydF9ydWxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnZlcnQocnVsZSwgdGVtcE9wdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnZlcnQoZ3JvdXAsIHRlbXBPcHRzKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgUnVsZSkge1xuICAgICAgICAgICAgaWYgKG5vZGUub3BlcmF0b3IgJiYgIW5vZGUuZmlsdGVyLm5vX2ludmVydCkge1xuICAgICAgICAgICAgICAgIC8vIGludmVydCBydWxlIG9wZXJhdG9yXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Mub3BlcmF0b3JPcHBvc2l0ZXNbbm9kZS5vcGVyYXRvci50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW52ZXJ0ID0gdGhpcy5zZXR0aW5ncy5vcGVyYXRvck9wcG9zaXRlc1tub2RlLm9wZXJhdG9yLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgaW52ZXJ0IGlzIFwiYXV0aG9yaXplZFwiXG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9kZS5maWx0ZXIub3BlcmF0b3JzIHx8IG5vZGUuZmlsdGVyLm9wZXJhdG9ycy5pbmRleE9mKGludmVydCkgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUub3BlcmF0b3IgPSB0aGlzLmdldE9wZXJhdG9yQnlUeXBlKGludmVydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIW9wdGlvbnMuc2lsZW50X2ZhaWwpIHtcbiAgICAgICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ0ludmVydE9wZXJhdG9yJywgJ1Vua25vd24gaW52ZXJzZSBvZiBvcGVyYXRvciBcInswfVwiJywgbm9kZS5vcGVyYXRvci50eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy50cmlnZ2VyKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2FmdGVySW52ZXJ0Jywgbm9kZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgTW9uZ29EQiBTdXBwb3J0XG4gKiBBbGxvd3MgdG8gZXhwb3J0IHJ1bGVzIGFzIGEgTW9uZ29EQiBmaW5kIG9iamVjdCBhcyB3ZWxsIGFzIHBvcHVsYXRpbmcgdGhlIGJ1aWxkZXIgZnJvbSBhIE1vbmdvREIgb2JqZWN0LlxuICovXG5cbi8vIERFRkFVTFQgQ09ORklHXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5RdWVyeUJ1aWxkZXIuZGVmYXVsdHMoe1xuICAgIG1vbmdvT3BlcmF0b3JzOiB7XG4gICAgICAgIC8vIEBmb3JtYXR0ZXI6b2ZmXG4gICAgICAgIGVxdWFsOiAgICAgICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHZbMF07IH0sXG4gICAgICAgIG5vdF9lcXVhbDogICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRuZSc6IHZbMF0gfTsgfSxcbiAgICAgICAgaW46ICAgICAgICAgICAgICAgZnVuY3Rpb24odikgeyByZXR1cm4geyAnJGluJzogdiB9OyB9LFxuICAgICAgICBub3RfaW46ICAgICAgICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICckbmluJzogdiB9OyB9LFxuICAgICAgICBsZXNzOiAgICAgICAgICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICckbHQnOiB2WzBdIH07IH0sXG4gICAgICAgIGxlc3Nfb3JfZXF1YWw6ICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRsdGUnOiB2WzBdIH07IH0sXG4gICAgICAgIGdyZWF0ZXI6ICAgICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRndCc6IHZbMF0gfTsgfSxcbiAgICAgICAgZ3JlYXRlcl9vcl9lcXVhbDogZnVuY3Rpb24odikgeyByZXR1cm4geyAnJGd0ZSc6IHZbMF0gfTsgfSxcbiAgICAgICAgYmV0d2VlbjogICAgICAgICAgZnVuY3Rpb24odikgeyByZXR1cm4geyAnJGd0ZSc6IHZbMF0sICckbHRlJzogdlsxXSB9OyB9LFxuICAgICAgICBub3RfYmV0d2VlbjogICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICckbHQnOiB2WzBdLCAnJGd0JzogdlsxXSB9OyB9LFxuICAgICAgICBiZWdpbnNfd2l0aDogICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICckcmVnZXgnOiAnXicgKyBVdGlscy5lc2NhcGVSZWdFeHAodlswXSkgfTsgfSxcbiAgICAgICAgbm90X2JlZ2luc193aXRoOiAgZnVuY3Rpb24odikgeyByZXR1cm4geyAnJHJlZ2V4JzogJ14oPyEnICsgVXRpbHMuZXNjYXBlUmVnRXhwKHZbMF0pICsgJyknIH07IH0sXG4gICAgICAgIGNvbnRhaW5zOiAgICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRyZWdleCc6IFV0aWxzLmVzY2FwZVJlZ0V4cCh2WzBdKSB9OyB9LFxuICAgICAgICBub3RfY29udGFpbnM6ICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICckcmVnZXgnOiAnXigoPyEnICsgVXRpbHMuZXNjYXBlUmVnRXhwKHZbMF0pICsgJykuKSokJywgJyRvcHRpb25zJzogJ3MnIH07IH0sXG4gICAgICAgIGVuZHNfd2l0aDogICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJyRyZWdleCc6IFV0aWxzLmVzY2FwZVJlZ0V4cCh2WzBdKSArICckJyB9OyB9LFxuICAgICAgICBub3RfZW5kc193aXRoOiAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICckcmVnZXgnOiAnKD88IScgKyBVdGlscy5lc2NhcGVSZWdFeHAodlswXSkgKyAnKSQnIH07IH0sXG4gICAgICAgIGlzX2VtcHR5OiAgICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuICcnOyB9LFxuICAgICAgICBpc19ub3RfZW1wdHk6ICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICckbmUnOiAnJyB9OyB9LFxuICAgICAgICBpc19udWxsOiAgICAgICAgICBmdW5jdGlvbih2KSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICBpc19ub3RfbnVsbDogICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICckbmUnOiBudWxsIH07IH1cbiAgICAgICAgLy8gQGZvcm1hdHRlcjpvblxuICAgIH0sXG5cbiAgICBtb25nb1J1bGVPcGVyYXRvcnM6IHtcbiAgICAgICAgJG5lOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICB2ID0gdi4kbmU7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICd2YWwnOiB2LFxuICAgICAgICAgICAgICAgICdvcCc6IHYgPT09IG51bGwgPyAnaXNfbm90X251bGwnIDogKHYgPT09ICcnID8gJ2lzX25vdF9lbXB0eScgOiAnbm90X2VxdWFsJylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGVxOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICd2YWwnOiB2LFxuICAgICAgICAgICAgICAgICdvcCc6IHYgPT09IG51bGwgPyAnaXNfbnVsbCcgOiAodiA9PT0gJycgPyAnaXNfZW1wdHknIDogJ2VxdWFsJylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgICRyZWdleDogZnVuY3Rpb24odikge1xuICAgICAgICAgICAgdiA9IHYuJHJlZ2V4O1xuICAgICAgICAgICAgaWYgKHYuc2xpY2UoMCwgNCkgPT0gJ14oPyEnICYmIHYuc2xpY2UoLTEpID09ICcpJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7ICd2YWwnOiB2LnNsaWNlKDQsIC0xKSwgJ29wJzogJ25vdF9iZWdpbnNfd2l0aCcgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHYuc2xpY2UoMCwgNSkgPT0gJ14oKD8hJyAmJiB2LnNsaWNlKC01KSA9PSAnKS4pKiQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgJ3ZhbCc6IHYuc2xpY2UoNSwgLTUpLCAnb3AnOiAnbm90X2NvbnRhaW5zJyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodi5zbGljZSgwLCA0KSA9PSAnKD88IScgJiYgdi5zbGljZSgtMikgPT0gJykkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7ICd2YWwnOiB2LnNsaWNlKDQsIC0yKSwgJ29wJzogJ25vdF9lbmRzX3dpdGgnIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2LnNsaWNlKC0xKSA9PSAnJCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAndmFsJzogdi5zbGljZSgwLCAtMSksICdvcCc6ICdlbmRzX3dpdGgnIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2LnNsaWNlKDAsIDEpID09ICdeJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7ICd2YWwnOiB2LnNsaWNlKDEpLCAnb3AnOiAnYmVnaW5zX3dpdGgnIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAndmFsJzogdiwgJ29wJzogJ2NvbnRhaW5zJyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBiZXR3ZWVuOiAgICAgZnVuY3Rpb24odikgeyByZXR1cm4geyAndmFsJzogW3YuJGd0ZSwgdi4kbHRlXSwgJ29wJzogJ2JldHdlZW4nIH07IH0sXG4gICAgICAgIG5vdF9iZXR3ZWVuOiBmdW5jdGlvbih2KSB7IHJldHVybiB7ICd2YWwnOiBbdi4kbHQsIHYuJGd0XSwgJ29wJzogJ25vdF9iZXR3ZWVuJyB9OyB9LFxuICAgICAgICAkaW46ICBmdW5jdGlvbih2KSB7IHJldHVybiB7ICd2YWwnOiB2LiRpbiwgJ29wJzogJ2luJyB9OyB9LFxuICAgICAgICAkbmluOiBmdW5jdGlvbih2KSB7IHJldHVybiB7ICd2YWwnOiB2LiRuaW4sICdvcCc6ICdub3RfaW4nIH07IH0sXG4gICAgICAgICRsdDogIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgJ3ZhbCc6IHYuJGx0LCAnb3AnOiAnbGVzcycgfTsgfSxcbiAgICAgICAgJGx0ZTogZnVuY3Rpb24odikgeyByZXR1cm4geyAndmFsJzogdi4kbHRlLCAnb3AnOiAnbGVzc19vcl9lcXVhbCcgfTsgfSxcbiAgICAgICAgJGd0OiAgZnVuY3Rpb24odikgeyByZXR1cm4geyAndmFsJzogdi4kZ3QsICdvcCc6ICdncmVhdGVyJyB9OyB9LFxuICAgICAgICAkZ3RlOiBmdW5jdGlvbih2KSB7IHJldHVybiB7ICd2YWwnOiB2LiRndGUsICdvcCc6ICdncmVhdGVyX29yX2VxdWFsJyB9OyB9XG4gICAgfVxufSk7XG5cblxuLy8gUFVCTElDIE1FVEhPRFNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblF1ZXJ5QnVpbGRlci5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIEdldCBydWxlcyBhcyBNb25nb0RCIHF1ZXJ5XG4gICAgICogQHRocm93cyBVbmRlZmluZWRNb25nb0NvbmRpdGlvbkVycm9yLCBVbmRlZmluZWRNb25nb09wZXJhdG9yRXJyb3JcbiAgICAgKiBAcGFyYW0gZGF0YSB7b2JqZWN0fSAob3B0aW9uYWwpIHJ1bGVzXG4gICAgICogQHJldHVybiB7b2JqZWN0fVxuICAgICAqL1xuICAgIGdldE1vbmdvOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGRhdGEgPSAoZGF0YSA9PT0gdW5kZWZpbmVkKSA/IHRoaXMuZ2V0UnVsZXMoKSA6IGRhdGE7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiAoZnVuY3Rpb24gcGFyc2UoZ3JvdXApIHtcbiAgICAgICAgICAgIGlmICghZ3JvdXAuY29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuY29uZGl0aW9uID0gc2VsZi5zZXR0aW5ncy5kZWZhdWx0X2NvbmRpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChbJ0FORCcsICdPUiddLmluZGV4T2YoZ3JvdXAuY29uZGl0aW9uLnRvVXBwZXJDYXNlKCkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdVbmRlZmluZWRNb25nb0NvbmRpdGlvbicsICdVbmFibGUgdG8gYnVpbGQgTW9uZ29EQiBxdWVyeSB3aXRoIGNvbmRpdGlvbiBcInswfVwiJywgZ3JvdXAuY29uZGl0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFncm91cC5ydWxlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBhcnRzID0gW107XG5cbiAgICAgICAgICAgIGdyb3VwLnJ1bGVzLmZvckVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgICAgIGlmIChydWxlLnJ1bGVzICYmIHJ1bGUucnVsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHBhcnNlKHJ1bGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZGIgPSBzZWxmLnNldHRpbmdzLm1vbmdvT3BlcmF0b3JzW3J1bGUub3BlcmF0b3JdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3BlID0gc2VsZi5nZXRPcGVyYXRvckJ5VHlwZShydWxlLm9wZXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChtZGIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ1VuZGVmaW5lZE1vbmdvT3BlcmF0b3InLCAnVW5rbm93biBNb25nb0RCIG9wZXJhdGlvbiBmb3Igb3BlcmF0b3IgXCJ7MH1cIicsIHJ1bGUub3BlcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZS5uYl9pbnB1dHMgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJ1bGUudmFsdWUgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlLnZhbHVlID0gW3J1bGUudmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlLnZhbHVlLmZvckVhY2goZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKFV0aWxzLmNoYW5nZVR5cGUodiwgcnVsZS50eXBlLCBmYWxzZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgcnVsZUV4cHJlc3Npb24gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gc2VsZi5jaGFuZ2UoJ2dldE1vbmdvREJGaWVsZCcsIHJ1bGUuZmllbGQsIHJ1bGUpO1xuICAgICAgICAgICAgICAgICAgICBydWxlRXhwcmVzc2lvbltmaWVsZF0gPSBtZGIuY2FsbChzZWxmLCB2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHNlbGYuY2hhbmdlKCdydWxlVG9Nb25nbycsIHJ1bGVFeHByZXNzaW9uLCBydWxlLCB2YWx1ZXMsIG1kYikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgZ3JvdXBFeHByZXNzaW9uID0ge307XG4gICAgICAgICAgICBncm91cEV4cHJlc3Npb25bJyQnICsgZ3JvdXAuY29uZGl0aW9uLnRvTG93ZXJDYXNlKCldID0gcGFydHM7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jaGFuZ2UoJ2dyb3VwVG9Nb25nbycsIGdyb3VwRXhwcmVzc2lvbiwgZ3JvdXApO1xuICAgICAgICB9KGRhdGEpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBNb25nb0RCIG9iamVjdCB0byBydWxlc1xuICAgICAqIEB0aHJvd3MgTW9uZ29QYXJzZUVycm9yLCBVbmRlZmluZWRNb25nb0NvbmRpdGlvbkVycm9yLCBVbmRlZmluZWRNb25nb09wZXJhdG9yRXJyb3JcbiAgICAgKiBAcGFyYW0gZGF0YSB7b2JqZWN0fSBxdWVyeSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAgICovXG4gICAgZ2V0UnVsZXNGcm9tTW9uZ286IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCB8fCBkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAvLyBhbGxvdyBwbHVnaW5zIHRvIG1hbnVhbGx5IHBhcnNlIG9yIGhhbmRsZSBzcGVjaWFsIGNhc2VzXG4gICAgICAgIGRhdGEgPSBzZWxmLmNoYW5nZSgncGFyc2VNb25nb05vZGUnLCBkYXRhKTtcblxuICAgICAgICAvLyBhIHBsdWdpbiByZXR1cm5lZCBhIGdyb3VwXG4gICAgICAgIGlmICgncnVsZXMnIGluIGRhdGEgJiYgJ2NvbmRpdGlvbicgaW4gZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5ID0gYW5kT3IoZGF0YSk7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICBVdGlscy5lcnJvcignTW9uZ29QYXJzZScsICdJbnZhbGlkIE1vbmdvREIgcXVlcnkgZm9ybWF0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKGZ1bmN0aW9uIHBhcnNlKGRhdGEsIHRvcEtleSkge1xuICAgICAgICAgICAgdmFyIHJ1bGVzID0gZGF0YVt0b3BLZXldO1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gW107XG5cbiAgICAgICAgICAgIHJ1bGVzLmZvckVhY2goZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIGFsbG93IHBsdWdpbnMgdG8gbWFudWFsbHkgcGFyc2Ugb3IgaGFuZGxlIHNwZWNpYWwgY2FzZXNcbiAgICAgICAgICAgICAgICBkYXRhID0gc2VsZi5jaGFuZ2UoJ3BhcnNlTW9uZ29Ob2RlJywgZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAvLyBhIHBsdWdpbiByZXR1cm5lZCBhIGdyb3VwXG4gICAgICAgICAgICAgICAgaWYgKCdydWxlcycgaW4gZGF0YSAmJiAnY29uZGl0aW9uJyBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBhIHBsdWdpbiByZXR1cm5lZCBhIHJ1bGVcbiAgICAgICAgICAgICAgICBpZiAoJ2lkJyBpbiBkYXRhICYmICdvcGVyYXRvcicgaW4gZGF0YSAmJiAndmFsdWUnIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBhbmRPcihkYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2gocGFyc2UoZGF0YSwga2V5KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSBPYmplY3Qua2V5cyhkYXRhKVswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZGF0YVtmaWVsZF07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wZXJhdG9yID0gZGV0ZXJtaW5lTW9uZ29PcGVyYXRvcih2YWx1ZSwgZmllbGQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ01vbmdvUGFyc2UnLCAnSW52YWxpZCBNb25nb0RCIHF1ZXJ5IGZvcm1hdCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1kYnJsID0gc2VsZi5zZXR0aW5ncy5tb25nb1J1bGVPcGVyYXRvcnNbb3BlcmF0b3JdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWRicmwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ1VuZGVmaW5lZE1vbmdvT3BlcmF0b3InLCAnSlNPTiBSdWxlIG9wZXJhdGlvbiB1bmtub3duIGZvciBvcGVyYXRvciBcInswfVwiJywgb3BlcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wVmFsID0gbWRicmwuY2FsbChzZWxmLCB2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ1bGUgPSBzZWxmLmNoYW5nZSgnbW9uZ29Ub1J1bGUnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogc2VsZi5jaGFuZ2UoJ2dldE1vbmdvREJGaWVsZElEJywgZmllbGQsIHZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBvcFZhbC5vcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcFZhbC52YWxcbiAgICAgICAgICAgICAgICAgICAgfSwgZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaChydWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlKCdtb25nb1RvR3JvdXAnLCB7XG4gICAgICAgICAgICAgICAgY29uZGl0aW9uOiB0b3BLZXkucmVwbGFjZSgnJCcsICcnKS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgICAgICAgIHJ1bGVzOiBwYXJ0c1xuICAgICAgICAgICAgfSwgZGF0YSk7XG4gICAgICAgIH0oZGF0YSwga2V5KSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBydWxlcyBmcm9tIE1vbmdvREIgb2JqZWN0XG4gICAgICogQHBhcmFtIGRhdGEge29iamVjdH1cbiAgICAgKi9cbiAgICBzZXRSdWxlc0Zyb21Nb25nbzogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICB0aGlzLnNldFJ1bGVzKHRoaXMuZ2V0UnVsZXNGcm9tTW9uZ28oZGF0YSkpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEZpbmQgd2hpY2ggb3BlcmF0b3IgaXMgdXNlZCBpbiBhIE1vbmdvREIgc3ViLW9iamVjdFxuICogQHBhcmFtIHttaXhlZH0gdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZFxuICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH1cbiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lTW9uZ29PcGVyYXRvcih2YWx1ZSwgZmllbGQpIHtcbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBzdWJrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuXG4gICAgICAgIGlmIChzdWJrZXlzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1YmtleXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodmFsdWUuJGd0ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlLiRsdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnYmV0d2Vlbic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUuJGx0ICE9PSB1bmRlZmluZWQgJiYgdmFsdWUuJGd0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ25vdF9iZXR3ZWVuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLiRyZWdleCAhPT0gdW5kZWZpbmVkKSB7IC8vIG9wdGlvbmFsICRvcHRpb25zXG4gICAgICAgICAgICAgICAgcmV0dXJuICckcmVnZXgnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJ2VxJztcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUga2V5IGNvcnJlc3BvbmRpbmcgdG8gXCIkb3JcIiBvciBcIiRhbmRcIlxuICogQHBhcmFtIHtvYmplY3R9IGRhdGFcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGFuZE9yKGRhdGEpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoa2V5c1tpXS50b0xvd2VyQ2FzZSgpID09ICckb3InIHx8IGtleXNbaV0udG9Mb3dlckNhc2UoKSA9PSAnJGFuZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBrZXlzW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuXG4vKiFcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgTm90XG4gKiBBZGRzIGEgXCJOb3RcIiBjaGVja2JveCBpbiBmcm9udCBvZiBncm91cCBjb25kaXRpb25zLlxuICovXG5cblNlbGVjdG9ycy5ncm91cF9ub3QgPSBTZWxlY3RvcnMuZ3JvdXBfaGVhZGVyICsgJyBbZGF0YS1ub3Q9Z3JvdXBdJztcblxuTW9kZWwuZGVmaW5lTW9kZWxQcm9wZXJ0aWVzKEdyb3VwLCBbJ25vdCddKTtcblxuUXVlcnlCdWlsZGVyLmRlZmluZSgnbm90LWdyb3VwJywgZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIEJpbmQgZXZlbnRzXG4gICAgICovXG4gICAgdGhpcy5vbignYWZ0ZXJJbml0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuJGVsLm9uKCdjbGljay5xdWVyeUJ1aWxkZXInLCAnW2RhdGEtbm90PWdyb3VwXScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICRncm91cCA9ICQodGhpcykuY2xvc2VzdChTZWxlY3RvcnMuZ3JvdXBfY29udGFpbmVyKTtcbiAgICAgICAgICAgIHZhciBncm91cCA9IE1vZGVsKCRncm91cCk7XG4gICAgICAgICAgICBncm91cC5ub3QgPSAhZ3JvdXAubm90O1xuICAgICAgICB9KTtcblxuICAgICAgICBzZWxmLm1vZGVsLm9uKCd1cGRhdGUnLCBmdW5jdGlvbihlLCBub2RlLCBmaWVsZCkge1xuICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBHcm91cCAmJiBmaWVsZCA9PT0gJ25vdCcpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZUdyb3VwTm90KG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEluaXQgXCJub3RcIiBwcm9wZXJ0eVxuICAgICAqL1xuICAgIHRoaXMub24oJ2FmdGVyQWRkR3JvdXAnLCBmdW5jdGlvbihlLCBncm91cCkge1xuICAgICAgICBncm91cC5fXy5ub3QgPSBmYWxzZTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIE1vZGlmeSB0ZW1wbGF0ZXNcbiAgICAgKi9cbiAgICB0aGlzLm9uKCdnZXRHcm91cFRlbXBsYXRlLmZpbHRlcicsIGZ1bmN0aW9uKGgsIGxldmVsKSB7XG4gICAgICAgIHZhciAkaCA9ICQoaC52YWx1ZSk7XG4gICAgICAgICRoLmZpbmQoU2VsZWN0b3JzLmNvbmRpdGlvbl9jb250YWluZXIpLnByZXBlbmQoXG4gICAgICAgICAgICAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1kZWZhdWx0XCIgZGF0YS1ub3Q9XCJncm91cFwiPicgK1xuICAgICAgICAgICAgJzxpIGNsYXNzPVwiJyArIG9wdGlvbnMuaWNvbl91bmNoZWNrZWQgKyAnXCI+PC9pPiAnICsgc2VsZi5sYW5nLk5PVCArXG4gICAgICAgICAgICAnPC9idXR0b24+J1xuICAgICAgICApO1xuICAgICAgICBoLnZhbHVlID0gJGgucHJvcCgnb3V0ZXJIVE1MJyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBFeHBvcnQgXCJub3RcIiB0byBKU09OXG4gICAgICovXG4gICAgdGhpcy5vbignZ3JvdXBUb0pzb24uZmlsdGVyJywgZnVuY3Rpb24oZSwgZ3JvdXApIHtcbiAgICAgICAgZS52YWx1ZS5ub3QgPSBncm91cC5ub3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIFwibm90XCIgZnJvbSBKU09OXG4gICAgICovXG4gICAgdGhpcy5vbignanNvblRvR3JvdXAuZmlsdGVyJywgZnVuY3Rpb24oZSwganNvbikge1xuICAgICAgICBlLnZhbHVlLm5vdCA9ICEhanNvbi5ub3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBFeHBvcnQgXCJub3RcIiB0byBTUUxcbiAgICAgKi9cbiAgICB0aGlzLm9uKCdncm91cFRvU1FMLmZpbHRlcicsIGZ1bmN0aW9uKGUsIGdyb3VwKSB7XG4gICAgICAgIGlmIChncm91cC5ub3QpIHtcbiAgICAgICAgICAgIGUudmFsdWUgPSAnTk9UICggJyArIGUudmFsdWUgKyAnICknO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBcIk5PVFwiIGZ1bmN0aW9uIGZyb20gc3FscGFyc2VyXG4gICAgICovXG4gICAgdGhpcy5vbigncGFyc2VTUUxOb2RlLmZpbHRlcicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUudmFsdWUubmFtZSAmJiBlLnZhbHVlLm5hbWUudG9VcHBlckNhc2UoKSA9PSAnTk9UJykge1xuICAgICAgICAgICAgZS52YWx1ZSA9IGUudmFsdWUuYXJndW1lbnRzLnZhbHVlWzBdO1xuICAgICAgICAgICAgZS52YWx1ZS5ub3QgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIFwibm90XCIgZnJvbSBwYXJzZWQgU1FMXG4gICAgICovXG4gICAgdGhpcy5vbignc3FsVG9Hcm91cC5maWx0ZXInLCBmdW5jdGlvbihlLCBkYXRhKSB7XG4gICAgICAgIGUudmFsdWUubm90ID0gISFkYXRhLm5vdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEV4cG9ydCBcIm5vdFwiIHRvIE1vbmdvXG4gICAgICovXG4gICAgdGhpcy5vbignZ3JvdXBUb01vbmdvLmZpbHRlcicsIGZ1bmN0aW9uKGUsIGdyb3VwKSB7XG4gICAgICAgIHZhciBrZXkgPSAnJCcgKyBncm91cC5jb25kaXRpb24udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGdyb3VwLm5vdCAmJiBlLnZhbHVlW2tleV0pIHtcbiAgICAgICAgICAgIGUudmFsdWUgPSB7ICckbm9yJzogW2UudmFsdWVdIH07XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFBhcnNlIFwiJG5vclwiIG9wZXJhdG9yIGZyb20gTW9uZ29cbiAgICAgKi9cbiAgICB0aGlzLm9uKCdwYXJzZU1vbmdvTm9kZS5maWx0ZXInLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZS52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGtleXNbMF0gPT0gJyRub3InKSB7XG4gICAgICAgICAgICBlLnZhbHVlID0gZS52YWx1ZVtrZXlzWzBdXVswXTtcbiAgICAgICAgICAgIGUudmFsdWUubm90ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVhZCBcIm5vdFwiIGZyb20gcGFyc2VkIE1vbmdvXG4gICAgICovXG4gICAgdGhpcy5vbignbW9uZ29Ub0dyb3VwLmZpbHRlcicsIGZ1bmN0aW9uKGUsIGRhdGEpIHtcbiAgICAgICAgZS52YWx1ZS5ub3QgPSAhIWRhdGEubm90O1xuICAgIH0pO1xufSwge1xuICAgIGljb25fdW5jaGVja2VkOiAnZ2x5cGhpY29uIGdseXBoaWNvbi11bmNoZWNrZWQnLFxuICAgIGljb25fY2hlY2tlZDogJ2dseXBoaWNvbiBnbHlwaGljb24tY2hlY2snXG59KTtcblxuUXVlcnlCdWlsZGVyLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIFwibm90XCIgcHJvcGVydHkgdG8gdGhlIERPTVxuICAgICAqIEBwYXJhbSBncm91cFxuICAgICAqL1xuICAgIHVwZGF0ZUdyb3VwTm90OiBmdW5jdGlvbihncm91cCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMucGx1Z2luc1snbm90LWdyb3VwJ107XG4gICAgICAgIGdyb3VwLiRlbC5maW5kKCc+JyArIFNlbGVjdG9ycy5ncm91cF9ub3QpXG4gICAgICAgICAgICAudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScsIGdyb3VwLm5vdClcbiAgICAgICAgICAgIC5maW5kKCdpJykuYXR0cignY2xhc3MnLCBncm91cC5ub3QgPyBvcHRpb25zLmljb25fY2hlY2tlZCA6IG9wdGlvbnMuaWNvbl91bmNoZWNrZWQpO1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcignYWZ0ZXJVcGRhdGVHcm91cE5vdCcsIGdyb3VwKTtcbiAgICB9XG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgU29ydGFibGVcbiAqIEVuYWJsZXMgZHJhZyAmIGRyb3Agc29ydCBvZiBydWxlcy5cbiAqL1xuXG5TZWxlY3RvcnMucnVsZV9hbmRfZ3JvdXBfY29udGFpbmVycyA9IFNlbGVjdG9ycy5ydWxlX2NvbnRhaW5lciArICcsICcgKyBTZWxlY3RvcnMuZ3JvdXBfY29udGFpbmVyO1xuU2VsZWN0b3JzLmRyYWdfaGFuZGxlID0gJy5kcmFnLWhhbmRsZSc7XG5cblF1ZXJ5QnVpbGRlci5kZWZhdWx0cyh7XG4gICAgZGVmYXVsdF9ydWxlX2ZsYWdzOiB7XG4gICAgICAgIG5vX3NvcnRhYmxlOiBmYWxzZSxcbiAgICAgICAgbm9fZHJvcDogZmFsc2VcbiAgICB9LFxuICAgIGRlZmF1bHRfZ3JvdXBfZmxhZ3M6IHtcbiAgICAgICAgbm9fc29ydGFibGU6IGZhbHNlLFxuICAgICAgICBub19kcm9wOiBmYWxzZVxuICAgIH1cbn0pO1xuXG5RdWVyeUJ1aWxkZXIuZGVmaW5lKCdzb3J0YWJsZScsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoISgnaW50ZXJhY3QnIGluIHdpbmRvdykpIHtcbiAgICAgICAgVXRpbHMuZXJyb3IoJ01pc3NpbmdMaWJyYXJ5JywgJ2ludGVyYWN0LmpzIGlzIHJlcXVpcmVkIHRvIHVzZSBcInNvcnRhYmxlXCIgcGx1Z2luLiBHZXQgaXQgaGVyZTogaHR0cDovL2ludGVyYWN0anMuaW8nKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5kZWZhdWx0X25vX3NvcnRhYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgVXRpbHMuZXJyb3IoZmFsc2UsICdDb25maWcnLCAnU29ydGFibGUgcGx1Z2luIDogXCJkZWZhdWx0X25vX3NvcnRhYmxlXCIgb3B0aW9ucyBpcyBkZXByZWNhdGVkLCB1c2Ugc3RhbmRhcmQgXCJkZWZhdWx0X3J1bGVfZmxhZ3NcIiBhbmQgXCJkZWZhdWx0X2dyb3VwX2ZsYWdzXCIgaW5zdGVhZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmRlZmF1bHRfcnVsZV9mbGFncy5ub19zb3J0YWJsZSA9IHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9ncm91cF9mbGFncy5ub19zb3J0YWJsZSA9IG9wdGlvbnMuZGVmYXVsdF9ub19zb3J0YWJsZTtcbiAgICB9XG5cbiAgICAvLyByZWNvbXB1dGUgZHJvcC16b25lcyBkdXJpbmcgZHJhZyAod2hlbiBhIHJ1bGUgaXMgaGlkZGVuKVxuICAgIGludGVyYWN0LmR5bmFtaWNEcm9wKHRydWUpO1xuXG4gICAgLy8gc2V0IG1vdmUgdGhyZXNob2xkIHRvIDEwcHhcbiAgICBpbnRlcmFjdC5wb2ludGVyTW92ZVRvbGVyYW5jZSgxMCk7XG5cbiAgICB2YXIgcGxhY2Vob2xkZXI7XG4gICAgdmFyIGdob3N0O1xuICAgIHZhciBzcmM7XG5cbiAgICAvKipcbiAgICAgKiBJbml0IGRyYWcgYW5kIGRyb3BcbiAgICAgKi9cbiAgICB0aGlzLm9uKCdhZnRlckFkZFJ1bGUgYWZ0ZXJBZGRHcm91cCcsIGZ1bmN0aW9uKGUsIG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgPT0gcGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxmID0gZS5idWlsZGVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmhlcml0IGZsYWdzXG4gICAgICAgICAqL1xuICAgICAgICBpZiAob3B0aW9ucy5pbmhlcml0X25vX3NvcnRhYmxlICYmIG5vZGUucGFyZW50ICYmIG5vZGUucGFyZW50LmZsYWdzLm5vX3NvcnRhYmxlKSB7XG4gICAgICAgICAgICBub2RlLmZsYWdzLm5vX3NvcnRhYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbmhlcml0X25vX2Ryb3AgJiYgbm9kZS5wYXJlbnQgJiYgbm9kZS5wYXJlbnQuZmxhZ3Mubm9fZHJvcCkge1xuICAgICAgICAgICAgbm9kZS5mbGFncy5ub19kcm9wID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25maWd1cmUgZHJhZ1xuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFub2RlLmZsYWdzLm5vX3NvcnRhYmxlKSB7XG4gICAgICAgICAgICBpbnRlcmFjdChub2RlLiRlbFswXSlcbiAgICAgICAgICAgICAgICAuYWxsb3dGcm9tKFNlbGVjdG9ycy5kcmFnX2hhbmRsZSlcbiAgICAgICAgICAgICAgICAuZHJhZ2dhYmxlKHtcbiAgICAgICAgICAgICAgICAgICAgb25zdGFydDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldCBtb2RlbCBvZiBkcmFnZ2VkIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IE1vZGVsKGV2ZW50LnRhcmdldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBnaG9zdFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3QgPSBzcmMuJGVsLmNsb25lKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oc3JjLiRlbC5wYXJlbnQoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAud2lkdGgoc3JjLiRlbC5vdXRlcldpZHRoKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdkcmFnZ2luZycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgZHJvcCBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBoID0gJCgnPGRpdiBjbGFzcz1cInJ1bGUtcGxhY2Vob2xkZXJcIj4mbmJzcDs8L2Rpdj4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5oZWlnaHQoc3JjLiRlbC5vdXRlckhlaWdodCgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBzcmMucGFyZW50LmFkZFJ1bGUocGgsIHNyYy5nZXRQb3MoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhpZGUgZHJhZ2dlZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBzcmMuJGVsLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25tb3ZlOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSB0aGUgZ2hvc3QgZm9sbG93IHRoZSBjdXJzb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0WzBdLnN0eWxlLnRvcCA9IGV2ZW50LmNsaWVudFkgLSAxNSArICdweCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBnaG9zdFswXS5zdHlsZS5sZWZ0ID0gZXZlbnQuY2xpZW50WCAtIDE1ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25lbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGdob3N0XG4gICAgICAgICAgICAgICAgICAgICAgICBnaG9zdC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyLmRyb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG93IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYy4kZWwuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRyaWdnZXIoJ2FmdGVyTW92ZScsIHNyYyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbm9kZS5mbGFncy5ub19kcm9wKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbmZpZ3VyZSBkcm9wIG9uIGdyb3VwcyBhbmQgcnVsZXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaW50ZXJhY3Qobm9kZS4kZWxbMF0pXG4gICAgICAgICAgICAgICAgLmRyb3B6b25lKHtcbiAgICAgICAgICAgICAgICAgICAgYWNjZXB0OiBTZWxlY3RvcnMucnVsZV9hbmRfZ3JvdXBfY29udGFpbmVycyxcbiAgICAgICAgICAgICAgICAgICAgb25kcmFnZW50ZXI6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlU29ydGFibGVUb1RhcmdldChwbGFjZWhvbGRlciwgJChldmVudC50YXJnZXQpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25kcm9wOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVNvcnRhYmxlVG9UYXJnZXQoc3JjLCAkKGV2ZW50LnRhcmdldCksIHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ29uZmlndXJlIGRyb3Agb24gZ3JvdXAgaGVhZGVyc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJhY3Qobm9kZS4kZWwuZmluZChTZWxlY3RvcnMuZ3JvdXBfaGVhZGVyKVswXSlcbiAgICAgICAgICAgICAgICAgICAgLmRyb3B6b25lKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdDogU2VsZWN0b3JzLnJ1bGVfYW5kX2dyb3VwX2NvbnRhaW5lcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmRyYWdlbnRlcjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlU29ydGFibGVUb1RhcmdldChwbGFjZWhvbGRlciwgJChldmVudC50YXJnZXQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmRyb3A6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVNvcnRhYmxlVG9UYXJnZXQoc3JjLCAkKGV2ZW50LnRhcmdldCksIHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogRGV0YWNoIGludGVyYWN0YWJsZXNcbiAgICAgKi9cbiAgICB0aGlzLm9uKCdiZWZvcmVEZWxldGVSdWxlIGJlZm9yZURlbGV0ZUdyb3VwJywgZnVuY3Rpb24oZSwgbm9kZSkge1xuICAgICAgICBpZiAoIWUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICAgIGludGVyYWN0KG5vZGUuJGVsWzBdKS51bnNldCgpO1xuXG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJhY3Qobm9kZS4kZWwuZmluZChTZWxlY3RvcnMuZ3JvdXBfaGVhZGVyKVswXSkudW5zZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGRyYWcgaGFuZGxlIGZyb20gbm9uLXNvcnRhYmxlIGl0ZW1zXG4gICAgICovXG4gICAgdGhpcy5vbignYWZ0ZXJBcHBseVJ1bGVGbGFncyBhZnRlckFwcGx5R3JvdXBGbGFncycsIGZ1bmN0aW9uKGUsIG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuZmxhZ3Mubm9fc29ydGFibGUpIHtcbiAgICAgICAgICAgIG5vZGUuJGVsLmZpbmQoJy5kcmFnLWhhbmRsZScpLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBNb2RpZnkgdGVtcGxhdGVzXG4gICAgICovXG4gICAgdGhpcy5vbignZ2V0R3JvdXBUZW1wbGF0ZS5maWx0ZXInLCBmdW5jdGlvbihoLCBsZXZlbCkge1xuICAgICAgICBpZiAobGV2ZWwgPiAxKSB7XG4gICAgICAgICAgICB2YXIgJGggPSAkKGgudmFsdWUpO1xuICAgICAgICAgICAgJGguZmluZChTZWxlY3RvcnMuY29uZGl0aW9uX2NvbnRhaW5lcikuYWZ0ZXIoJzxkaXYgY2xhc3M9XCJkcmFnLWhhbmRsZVwiPjxpIGNsYXNzPVwiJyArIG9wdGlvbnMuaWNvbiArICdcIj48L2k+PC9kaXY+Jyk7XG4gICAgICAgICAgICBoLnZhbHVlID0gJGgucHJvcCgnb3V0ZXJIVE1MJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2dldFJ1bGVUZW1wbGF0ZS5maWx0ZXInLCBmdW5jdGlvbihoKSB7XG4gICAgICAgIHZhciAkaCA9ICQoaC52YWx1ZSk7XG4gICAgICAgICRoLmZpbmQoU2VsZWN0b3JzLnJ1bGVfaGVhZGVyKS5hZnRlcignPGRpdiBjbGFzcz1cImRyYWctaGFuZGxlXCI+PGkgY2xhc3M9XCInICsgb3B0aW9ucy5pY29uICsgJ1wiPjwvaT48L2Rpdj4nKTtcbiAgICAgICAgaC52YWx1ZSA9ICRoLnByb3AoJ291dGVySFRNTCcpO1xuICAgIH0pO1xufSwge1xuICAgIGluaGVyaXRfbm9fc29ydGFibGU6IHRydWUsXG4gICAgaW5oZXJpdF9ub19kcm9wOiB0cnVlLFxuICAgIGljb246ICdnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQnXG59KTtcblxuLyoqXG4gKiBNb3ZlIGFuIGVsZW1lbnQgKHBsYWNlaG9sZGVyIG9yIGFjdHVhbCBvYmplY3QpIGRlcGVuZGluZyBvbiBhY3RpdmUgdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEBwYXJhbSB7alF1ZXJ5fSB0YXJnZXRcbiAqIEBwYXJhbSB7UXVlcnlCdWlsZGVyfSBbYnVpbGRlcl1cbiAqL1xuZnVuY3Rpb24gbW92ZVNvcnRhYmxlVG9UYXJnZXQobm9kZSwgdGFyZ2V0LCBidWlsZGVyKSB7XG4gICAgdmFyIHBhcmVudCwgbWV0aG9kO1xuXG4gICAgLy8gb24gcnVsZVxuICAgIHBhcmVudCA9IHRhcmdldC5jbG9zZXN0KFNlbGVjdG9ycy5ydWxlX2NvbnRhaW5lcik7XG4gICAgaWYgKHBhcmVudC5sZW5ndGgpIHtcbiAgICAgICAgbWV0aG9kID0gJ21vdmVBZnRlcic7XG4gICAgfVxuXG4gICAgLy8gb24gZ3JvdXAgaGVhZGVyXG4gICAgaWYgKCFtZXRob2QpIHtcbiAgICAgICAgcGFyZW50ID0gdGFyZ2V0LmNsb3Nlc3QoU2VsZWN0b3JzLmdyb3VwX2hlYWRlcik7XG4gICAgICAgIGlmIChwYXJlbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSB0YXJnZXQuY2xvc2VzdChTZWxlY3RvcnMuZ3JvdXBfY29udGFpbmVyKTtcbiAgICAgICAgICAgIG1ldGhvZCA9ICdtb3ZlQXRCZWdpbic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBvbiBncm91cFxuICAgIGlmICghbWV0aG9kKSB7XG4gICAgICAgIHBhcmVudCA9IHRhcmdldC5jbG9zZXN0KFNlbGVjdG9ycy5ncm91cF9jb250YWluZXIpO1xuICAgICAgICBpZiAocGFyZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgbWV0aG9kID0gJ21vdmVBdEVuZCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWV0aG9kKSB7XG4gICAgICAgIG5vZGVbbWV0aG9kXShNb2RlbChwYXJlbnQpKTtcblxuICAgICAgICAvLyByZWZyZXNoIHJhZGlvIHZhbHVlXG4gICAgICAgIGlmIChidWlsZGVyICYmIG5vZGUgaW5zdGFuY2VvZiBSdWxlKSB7XG4gICAgICAgICAgICBidWlsZGVyLnNldFJ1bGVJbnB1dFZhbHVlKG5vZGUsIG5vZGUudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8qIVxuICogalF1ZXJ5IFF1ZXJ5QnVpbGRlciBTUUwgU3VwcG9ydFxuICogQWxsb3dzIHRvIGV4cG9ydCBydWxlcyBhcyBhIFNRTCBXSEVSRSBzdGF0ZW1lbnQgYXMgd2VsbCBhcyBwb3B1bGF0aW5nIHRoZSBidWlsZGVyIGZyb20gYW4gU1FMIHF1ZXJ5LlxuICovXG5cbi8vIERFRkFVTFQgQ09ORklHXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5RdWVyeUJ1aWxkZXIuZGVmYXVsdHMoe1xuICAgIC8qIG9wZXJhdG9ycyBmb3IgaW50ZXJuYWwgLT4gU1FMIGNvbnZlcnNpb24gKi9cbiAgICBzcWxPcGVyYXRvcnM6IHtcbiAgICAgICAgZXF1YWw6ICAgICAgICAgICAgeyBvcDogJz0gPycgfSxcbiAgICAgICAgbm90X2VxdWFsOiAgICAgICAgeyBvcDogJyE9ID8nIH0sXG4gICAgICAgIGluOiAgICAgICAgICAgICAgIHsgb3A6ICdJTig/KScsICAgICAgICAgIHNlcDogJywgJyB9LFxuICAgICAgICBub3RfaW46ICAgICAgICAgICB7IG9wOiAnTk9UIElOKD8pJywgICAgICBzZXA6ICcsICcgfSxcbiAgICAgICAgbGVzczogICAgICAgICAgICAgeyBvcDogJzwgPycgfSxcbiAgICAgICAgbGVzc19vcl9lcXVhbDogICAgeyBvcDogJzw9ID8nIH0sXG4gICAgICAgIGdyZWF0ZXI6ICAgICAgICAgIHsgb3A6ICc+ID8nIH0sXG4gICAgICAgIGdyZWF0ZXJfb3JfZXF1YWw6IHsgb3A6ICc+PSA/JyB9LFxuICAgICAgICBiZXR3ZWVuOiAgICAgICAgICB7IG9wOiAnQkVUV0VFTiA/JywgICAgICBzZXA6ICcgQU5EICcgfSxcbiAgICAgICAgbm90X2JldHdlZW46ICAgICAgeyBvcDogJ05PVCBCRVRXRUVOID8nLCAgc2VwOiAnIEFORCAnIH0sXG4gICAgICAgIGJlZ2luc193aXRoOiAgICAgIHsgb3A6ICdMSUtFKD8pJywgICAgICAgIG1vZDogJ3swfSUnIH0sXG4gICAgICAgIG5vdF9iZWdpbnNfd2l0aDogIHsgb3A6ICdOT1QgTElLRSg/KScsICAgIG1vZDogJ3swfSUnIH0sXG4gICAgICAgIGNvbnRhaW5zOiAgICAgICAgIHsgb3A6ICdMSUtFKD8pJywgICAgICAgIG1vZDogJyV7MH0lJyB9LFxuICAgICAgICBub3RfY29udGFpbnM6ICAgICB7IG9wOiAnTk9UIExJS0UoPyknLCAgICBtb2Q6ICclezB9JScgfSxcbiAgICAgICAgZW5kc193aXRoOiAgICAgICAgeyBvcDogJ0xJS0UoPyknLCAgICAgICAgbW9kOiAnJXswfScgfSxcbiAgICAgICAgbm90X2VuZHNfd2l0aDogICAgeyBvcDogJ05PVCBMSUtFKD8pJywgICAgbW9kOiAnJXswfScgfSxcbiAgICAgICAgaXNfZW1wdHk6ICAgICAgICAgeyBvcDogJz0gXFwnXFwnJyB9LFxuICAgICAgICBpc19ub3RfZW1wdHk6ICAgICB7IG9wOiAnIT0gXFwnXFwnJyB9LFxuICAgICAgICBpc19udWxsOiAgICAgICAgICB7IG9wOiAnSVMgTlVMTCcgfSxcbiAgICAgICAgaXNfbm90X251bGw6ICAgICAgeyBvcDogJ0lTIE5PVCBOVUxMJyB9XG4gICAgfSxcblxuICAgIC8qIG9wZXJhdG9ycyBmb3IgU1FMIC0+IGludGVybmFsIGNvbnZlcnNpb24gKi9cbiAgICBzcWxSdWxlT3BlcmF0b3I6IHtcbiAgICAgICAgJz0nOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbDogdixcbiAgICAgICAgICAgICAgICBvcDogdiA9PT0gJycgPyAnaXNfZW1wdHknIDogJ2VxdWFsJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgJyE9JzogZnVuY3Rpb24odikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWw6IHYsXG4gICAgICAgICAgICAgICAgb3A6IHYgPT09ICcnID8gJ2lzX25vdF9lbXB0eScgOiAnbm90X2VxdWFsJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgJ0xJS0UnOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICBpZiAodi5zbGljZSgwLCAxKSA9PSAnJScgJiYgdi5zbGljZSgtMSkgPT0gJyUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsOiB2LnNsaWNlKDEsIC0xKSxcbiAgICAgICAgICAgICAgICAgICAgb3A6ICdjb250YWlucydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodi5zbGljZSgwLCAxKSA9PSAnJScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWw6IHYuc2xpY2UoMSksXG4gICAgICAgICAgICAgICAgICAgIG9wOiAnZW5kc193aXRoJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2LnNsaWNlKC0xKSA9PSAnJScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWw6IHYuc2xpY2UoMCwgLTEpLFxuICAgICAgICAgICAgICAgICAgICBvcDogJ2JlZ2luc193aXRoJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignU1FMUGFyc2UnLCAnSW52YWxpZCB2YWx1ZSBmb3IgTElLRSBvcGVyYXRvciBcInswfVwiJywgdik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdOT1QgTElLRSc6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIGlmICh2LnNsaWNlKDAsIDEpID09ICclJyAmJiB2LnNsaWNlKC0xKSA9PSAnJScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWw6IHYuc2xpY2UoMSwgLTEpLFxuICAgICAgICAgICAgICAgICAgICBvcDogJ25vdF9jb250YWlucydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodi5zbGljZSgwLCAxKSA9PSAnJScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWw6IHYuc2xpY2UoMSksXG4gICAgICAgICAgICAgICAgICAgIG9wOiAnbm90X2VuZHNfd2l0aCdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodi5zbGljZSgtMSkgPT0gJyUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsOiB2LnNsaWNlKDAsIC0xKSxcbiAgICAgICAgICAgICAgICAgICAgb3A6ICdub3RfYmVnaW5zX3dpdGgnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdTUUxQYXJzZScsICdJbnZhbGlkIHZhbHVlIGZvciBOT1QgTElLRSBvcGVyYXRvciBcInswfVwiJywgdik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdJTic6ICAgICAgICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7IHZhbDogdiwgb3A6ICdpbicgfTsgfSxcbiAgICAgICAgJ05PVCBJTic6ICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgdmFsOiB2LCBvcDogJ25vdF9pbicgfTsgfSxcbiAgICAgICAgJzwnOiAgICAgICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgdmFsOiB2LCBvcDogJ2xlc3MnIH07IH0sXG4gICAgICAgICc8PSc6ICAgICAgICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7IHZhbDogdiwgb3A6ICdsZXNzX29yX2VxdWFsJyB9OyB9LFxuICAgICAgICAnPic6ICAgICAgICAgICAgZnVuY3Rpb24odikgeyByZXR1cm4geyB2YWw6IHYsIG9wOiAnZ3JlYXRlcicgfTsgfSxcbiAgICAgICAgJz49JzogICAgICAgICAgIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHsgdmFsOiB2LCBvcDogJ2dyZWF0ZXJfb3JfZXF1YWwnIH07IH0sXG4gICAgICAgICdCRVRXRUVOJzogICAgICBmdW5jdGlvbih2KSB7IHJldHVybiB7IHZhbDogdiwgb3A6ICdiZXR3ZWVuJyB9OyB9LFxuICAgICAgICAnTk9UIEJFVFdFRU4nOiAgZnVuY3Rpb24odikgeyByZXR1cm4geyB2YWw6IHYsIG9wOiAnbm90X2JldHdlZW4nIH07IH0sXG4gICAgICAgICdJUyc6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIGlmICh2ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ1NRTFBhcnNlJywgJ0ludmFsaWQgdmFsdWUgZm9yIElTIG9wZXJhdG9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyB2YWw6IG51bGwsIG9wOiAnaXNfbnVsbCcgfTtcbiAgICAgICAgfSxcbiAgICAgICAgJ0lTIE5PVCc6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIGlmICh2ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ1NRTFBhcnNlJywgJ0ludmFsaWQgdmFsdWUgZm9yIElTIG9wZXJhdG9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyB2YWw6IG51bGwsIG9wOiAnaXNfbm90X251bGwnIH07XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyogc3RhdGVtZW50cyBmb3IgaW50ZXJuYWwgLT4gU1FMIGNvbnZlcnNpb24gKi9cbiAgICBzcWxTdGF0ZW1lbnRzOiB7XG4gICAgICAgICdxdWVzdGlvbl9tYXJrJzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0gW107XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFkZDogZnVuY3Rpb24ocnVsZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJz8nO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcnVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgICdudW1iZXJlZCc6IGZ1bmN0aW9uKGNoYXIpIHtcbiAgICAgICAgICAgIGlmICghY2hhciB8fCBjaGFyLmxlbmd0aCA+IDEpIGNoYXIgPSAnJCc7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKHJ1bGUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXIgKyBpbmRleDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICAnbmFtZWQnOiBmdW5jdGlvbihjaGFyKSB7XG4gICAgICAgICAgICBpZiAoIWNoYXIgfHwgY2hhci5sZW5ndGggPiAxKSBjaGFyID0gJzonO1xuICAgICAgICAgICAgdmFyIGluZGV4ZXMgPSB7fTtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWRkOiBmdW5jdGlvbihydWxlLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZGV4ZXNbcnVsZS5maWVsZF0pIGluZGV4ZXNbcnVsZS5maWVsZF0gPSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gcnVsZS5maWVsZCArICdfJyArIChpbmRleGVzW3J1bGUuZmllbGRdKyspO1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhciArIGtleTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiBzdGF0ZW1lbnRzIGZvciBTUUwgLT4gaW50ZXJuYWwgY29udmVyc2lvbiAqL1xuICAgIHNxbFJ1bGVTdGF0ZW1lbnQ6IHtcbiAgICAgICAgJ3F1ZXN0aW9uX21hcmsnOiBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2ID09ICc/JyA/IHZhbHVlc1tpbmRleCsrXSA6IHY7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlc2M6IGZ1bmN0aW9uKHNxbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3FsLnJlcGxhY2UoL1xcPy9nLCAnXFwnP1xcJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ251bWJlcmVkJzogZnVuY3Rpb24odmFsdWVzLCBjaGFyKSB7XG4gICAgICAgICAgICBpZiAoIWNoYXIgfHwgY2hhci5sZW5ndGggPiAxKSBjaGFyID0gJyQnO1xuICAgICAgICAgICAgdmFyIHJlZ2V4MSA9IG5ldyBSZWdFeHAoJ15cXFxcJyArIGNoYXIgKyAnWzAtOV0rJCcpO1xuICAgICAgICAgICAgdmFyIHJlZ2V4MiA9IG5ldyBSZWdFeHAoJ1xcXFwnICsgY2hhciArICcoWzAtOV0rKScsICdnJyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdleDEudGVzdCh2KSA/IHZhbHVlc1t2LnNsaWNlKDEpIC0gMV0gOiB2O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXNjOiBmdW5jdGlvbihzcWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNxbC5yZXBsYWNlKHJlZ2V4MiwgJ1xcJycgKyAoY2hhciA9PSAnJCcgPyAnJCQnIDogY2hhcikgKyAnJDFcXCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgICduYW1lZCc6IGZ1bmN0aW9uKHZhbHVlcywgY2hhcikge1xuICAgICAgICAgICAgaWYgKCFjaGFyIHx8IGNoYXIubGVuZ3RoID4gMSkgY2hhciA9ICc6JztcbiAgICAgICAgICAgIHZhciByZWdleDEgPSBuZXcgUmVnRXhwKCdeXFxcXCcgKyBjaGFyKTtcbiAgICAgICAgICAgIHZhciByZWdleDIgPSBuZXcgUmVnRXhwKCdcXFxcJyArIGNoYXIgKyAnKCcgKyBPYmplY3Qua2V5cyh2YWx1ZXMpLmpvaW4oJ3wnKSArICcpJywgJ2cnKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2V4MS50ZXN0KHYpID8gdmFsdWVzW3Yuc2xpY2UoMSldIDogdjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVzYzogZnVuY3Rpb24oc3FsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzcWwucmVwbGFjZShyZWdleDIsICdcXCcnICsgKGNoYXIgPT0gJyQnID8gJyQkJyA6IGNoYXIpICsgJyQxXFwnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cbi8vIFBVQkxJQyBNRVRIT0RTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5RdWVyeUJ1aWxkZXIuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBHZXQgcnVsZXMgYXMgU1FMIHF1ZXJ5XG4gICAgICogQHRocm93cyBVbmRlZmluZWRTUUxDb25kaXRpb25FcnJvciwgVW5kZWZpbmVkU1FMT3BlcmF0b3JFcnJvclxuICAgICAqIEBwYXJhbSBzdG10IHtib29sZWFufHN0cmluZ30gdXNlIHByZXBhcmVkIHN0YXRlbWVudHMgLSBmYWxzZSwgJ3F1ZXN0aW9uX21hcmsnLCAnbnVtYmVyZWQnLCAnbnVtYmVyZWQoQCknLCAnbmFtZWQnLCAnbmFtZWQoQCknXG4gICAgICogQHBhcmFtIG5sIHtib29sfSBvdXRwdXQgd2l0aCBuZXcgbGluZXNcbiAgICAgKiBAcGFyYW0gZGF0YSB7b2JqZWN0fSAob3B0aW9uYWwpIHJ1bGVzXG4gICAgICogQHJldHVybiB7b2JqZWN0fVxuICAgICAqL1xuICAgIGdldFNRTDogZnVuY3Rpb24oc3RtdCwgbmwsIGRhdGEpIHtcbiAgICAgICAgZGF0YSA9IChkYXRhID09PSB1bmRlZmluZWQpID8gdGhpcy5nZXRSdWxlcygpIDogZGF0YTtcbiAgICAgICAgbmwgPSAobmwgPT09IHRydWUpID8gJ1xcbicgOiAnICc7XG5cbiAgICAgICAgaWYgKHN0bXQgPT09IHRydWUpIHN0bXQgPSAncXVlc3Rpb25fbWFyayc7XG4gICAgICAgIGlmICh0eXBlb2Ygc3RtdCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIGNvbmZpZyA9IGdldFN0bXRDb25maWcoc3RtdCk7XG4gICAgICAgICAgICBzdG10ID0gdGhpcy5zZXR0aW5ncy5zcWxTdGF0ZW1lbnRzW2NvbmZpZ1sxXV0oY29uZmlnWzJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICB2YXIgc3FsID0gKGZ1bmN0aW9uIHBhcnNlKGdyb3VwKSB7XG4gICAgICAgICAgICBpZiAoIWdyb3VwLmNvbmRpdGlvbikge1xuICAgICAgICAgICAgICAgIGdyb3VwLmNvbmRpdGlvbiA9IHNlbGYuc2V0dGluZ3MuZGVmYXVsdF9jb25kaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoWydBTkQnLCAnT1InXS5pbmRleE9mKGdyb3VwLmNvbmRpdGlvbi50b1VwcGVyQ2FzZSgpKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignVW5kZWZpbmVkU1FMQ29uZGl0aW9uJywgJ1VuYWJsZSB0byBidWlsZCBTUUwgcXVlcnkgd2l0aCBjb25kaXRpb24gXCJ7MH1cIicsIGdyb3VwLmNvbmRpdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZ3JvdXAucnVsZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgICAgICAgICBncm91cC5ydWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocnVsZS5ydWxlcyAmJiBydWxlLnJ1bGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCgnKCcgKyBubCArIHBhcnNlKHJ1bGUpICsgbmwgKyAnKScgKyBubCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3FsID0gc2VsZi5zZXR0aW5ncy5zcWxPcGVyYXRvcnNbcnVsZS5vcGVyYXRvcl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcGUgPSBzZWxmLmdldE9wZXJhdG9yQnlUeXBlKHJ1bGUub3BlcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAnJztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3FsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdVbmRlZmluZWRTUUxPcGVyYXRvcicsICdVbmtub3duIFNRTCBvcGVyYXRpb24gZm9yIG9wZXJhdG9yIFwiezB9XCInLCBydWxlLm9wZXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcGUubmJfaW5wdXRzICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShydWxlLnZhbHVlIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS52YWx1ZSA9IFtydWxlLnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHYsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUrPSBzcWwuc2VwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlLnR5cGUgPT0gJ2ludGVnZXInIHx8IHJ1bGUudHlwZSA9PSAnZG91YmxlJyB8fCBydWxlLnR5cGUgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBVdGlscy5jaGFuZ2VUeXBlKHYsIHJ1bGUudHlwZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzdG10KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBVdGlscy5lc2NhcGVTdHJpbmcodik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbC5tb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9IFV0aWxzLmZtdChzcWwubW9kLCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RtdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSs9IHN0bXQuYWRkKHJ1bGUsIHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2ID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ID0gJ1xcJycgKyB2ICsgJ1xcJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSs9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgc3FsRm4gPSBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3FsLm9wLnJlcGxhY2UoL1xcPy8sIHYpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBydWxlRXhwcmVzc2lvbiA9IHNlbGYuY2hhbmdlKCdnZXRTUUxGaWVsZCcsIHJ1bGUuZmllbGQsIHJ1bGUpICsgJyAnICsgc3FsRm4odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHNlbGYuY2hhbmdlKCdydWxlVG9TUUwnLCBydWxlRXhwcmVzc2lvbiwgcnVsZSwgdmFsdWUsIHNxbEZuKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBncm91cEV4cHJlc3Npb24gPSBwYXJ0cy5qb2luKCcgJyArIGdyb3VwLmNvbmRpdGlvbiArIG5sKTtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNoYW5nZSgnZ3JvdXBUb1NRTCcsIGdyb3VwRXhwcmVzc2lvbiwgZ3JvdXApO1xuICAgICAgICB9KGRhdGEpKTtcblxuICAgICAgICBpZiAoc3RtdCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzcWw6IHNxbCxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHN0bXQucnVuKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNxbDogc3FsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgU1FMIHRvIHJ1bGVzXG4gICAgICogQHRocm93cyBDb25maWdFcnJvciwgU1FMUGFyc2VFcnJvciwgVW5kZWZpbmVkU1FMT3BlcmF0b3JFcnJvclxuICAgICAqIEBwYXJhbSBkYXRhIHtvYmplY3R9IHF1ZXJ5IG9iamVjdFxuICAgICAqIEBwYXJhbSBzdG10IHtib29sZWFufHN0cmluZ30gdXNlIHByZXBhcmVkIHN0YXRlbWVudHMgLSBmYWxzZSwgJ3F1ZXN0aW9uX21hcmsnLCAnbnVtYmVyZWQnLCAnbnVtYmVyZWQoQCknLCAnbmFtZWQnLCAnbmFtZWQoQCknXG4gICAgICogQHJldHVybiB7b2JqZWN0fVxuICAgICAqL1xuICAgIGdldFJ1bGVzRnJvbVNRTDogZnVuY3Rpb24oZGF0YSwgc3RtdCkge1xuICAgICAgICBpZiAoISgnU1FMUGFyc2VyJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICBVdGlscy5lcnJvcignTWlzc2luZ0xpYnJhcnknLCAnU1FMUGFyc2VyIGlzIHJlcXVpcmVkIHRvIHBhcnNlIFNRTCBxdWVyaWVzLiBHZXQgaXQgaGVyZSBodHRwczovL2dpdGh1Yi5jb20vbWlzdGljMTAwL3NxbC1wYXJzZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGRhdGEgPSB7IHNxbDogZGF0YSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0bXQgPT09IHRydWUpIHN0bXQgPSAncXVlc3Rpb25fbWFyayc7XG4gICAgICAgIGlmICh0eXBlb2Ygc3RtdCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIGNvbmZpZyA9IGdldFN0bXRDb25maWcoc3RtdCk7XG4gICAgICAgICAgICBzdG10ID0gdGhpcy5zZXR0aW5ncy5zcWxSdWxlU3RhdGVtZW50W2NvbmZpZ1sxXV0oZGF0YS5wYXJhbXMsIGNvbmZpZ1syXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RtdCkge1xuICAgICAgICAgICAgZGF0YS5zcWwgPSBzdG10LmVzYyhkYXRhLnNxbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5zcWwudG9VcHBlckNhc2UoKS5pbmRleE9mKCdTRUxFQ1QnKSAhPT0gMCkge1xuICAgICAgICAgICAgZGF0YS5zcWwgPSAnU0VMRUNUICogRlJPTSB0YWJsZSBXSEVSRSAnICsgZGF0YS5zcWw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFyc2VkID0gU1FMUGFyc2VyLnBhcnNlKGRhdGEuc3FsKTtcblxuICAgICAgICBpZiAoIXBhcnNlZC53aGVyZSkge1xuICAgICAgICAgICAgVXRpbHMuZXJyb3IoJ1NRTFBhcnNlJywgJ05vIFdIRVJFIGNsYXVzZSBmb3VuZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWxsb3cgcGx1Z2lucyB0byBtYW51YWxseSBwYXJzZSBvciBoYW5kbGUgc3BlY2lhbCBjYXNlc1xuICAgICAgICBkYXRhID0gc2VsZi5jaGFuZ2UoJ3BhcnNlU1FMTm9kZScsIHBhcnNlZC53aGVyZS5jb25kaXRpb25zKTtcblxuICAgICAgICAvLyBhIHBsdWdpbiByZXR1cm5lZCBhIGdyb3VwXG4gICAgICAgIGlmICgncnVsZXMnIGluIGRhdGEgJiYgJ2NvbmRpdGlvbicgaW4gZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmVhdGUgcm9vdCBncm91cFxuICAgICAgICB2YXIgb3V0ID0gc2VsZi5jaGFuZ2UoJ3NxbFRvR3JvdXAnLCB7XG4gICAgICAgICAgICBjb25kaXRpb246IHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9jb25kaXRpb24sXG4gICAgICAgICAgICBydWxlczogW11cbiAgICAgICAgfSwgZGF0YSk7XG5cbiAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBjdXJyZW50IGdyb3VwXG4gICAgICAgIHZhciBjdXJyID0gb3V0O1xuXG4gICAgICAgIChmdW5jdGlvbiBmbGF0dGVuKGRhdGEsIGkpIHtcbiAgICAgICAgICAgIC8vIGFsbG93IHBsdWdpbnMgdG8gbWFudWFsbHkgcGFyc2Ugb3IgaGFuZGxlIHNwZWNpYWwgY2FzZXNcbiAgICAgICAgICAgIGRhdGEgPSBzZWxmLmNoYW5nZSgncGFyc2VTUUxOb2RlJywgZGF0YSk7XG5cbiAgICAgICAgICAgIC8vIGEgcGx1Z2luIHJldHVybmVkIGEgZ3JvdXBcbiAgICAgICAgICAgIGlmICgncnVsZXMnIGluIGRhdGEgJiYgJ2NvbmRpdGlvbicgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIGN1cnIucnVsZXMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGEgcGx1Z2luIHJldHVybmVkIGEgcnVsZVxuICAgICAgICAgICAgaWYgKCdpZCcgaW4gZGF0YSAmJiAnb3BlcmF0b3InIGluIGRhdGEgJiYgJ3ZhbHVlJyBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgY3Vyci5ydWxlcy5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZGF0YSBtdXN0IGJlIGEgU1FMIHBhcnNlciBub2RlXG4gICAgICAgICAgICBpZiAoISgnbGVmdCcgaW4gZGF0YSkgfHwgISgncmlnaHQnIGluIGRhdGEpIHx8ICEoJ29wZXJhdGlvbicgaW4gZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignU1FMUGFyc2UnLCAnVW5hYmxlIHRvIHBhcnNlIFdIRVJFIGNsYXVzZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpdCdzIGEgbm9kZVxuICAgICAgICAgICAgaWYgKFsnQU5EJywgJ09SJ10uaW5kZXhPZihkYXRhLm9wZXJhdGlvbi50b1VwcGVyQ2FzZSgpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYSBzdWItZ3JvdXAgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgdGhlIHNhbWUgYW5kIGl0J3Mgbm90IHRoZSBmaXJzdCBsZXZlbFxuICAgICAgICAgICAgICAgIGlmIChpID4gMCAmJiBjdXJyLmNvbmRpdGlvbiAhPSBkYXRhLm9wZXJhdGlvbi50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBncm91cCA9IHNlbGYuY2hhbmdlKCdzcWxUb0dyb3VwJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiBzZWxmLnNldHRpbmdzLmRlZmF1bHRfY29uZGl0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM6IFtdXG4gICAgICAgICAgICAgICAgICAgIH0sIGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnIucnVsZXMucHVzaChncm91cCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnIgPSBncm91cDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdXJyLmNvbmRpdGlvbiA9IGRhdGEub3BlcmF0aW9uLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaSsrO1xuXG4gICAgICAgICAgICAgICAgLy8gc29tZSBtYWdpYyAhXG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBjdXJyO1xuICAgICAgICAgICAgICAgIGZsYXR0ZW4oZGF0YS5sZWZ0LCBpKTtcblxuICAgICAgICAgICAgICAgIGN1cnIgPSBuZXh0O1xuICAgICAgICAgICAgICAgIGZsYXR0ZW4oZGF0YS5yaWdodCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpdCdzIGEgbGVhZlxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCQuaXNQbGFpbk9iamVjdChkYXRhLnJpZ2h0LnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBVdGlscy5lcnJvcignU1FMUGFyc2UnLCAnVmFsdWUgZm9ybWF0IG5vdCBzdXBwb3J0ZWQgZm9yIHswfS4nLCBkYXRhLmxlZnQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgYXJyYXlcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCQuaXNBcnJheShkYXRhLnJpZ2h0LnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGRhdGEucmlnaHQudmFsdWUubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZGF0YS5yaWdodC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBnZXQgYWN0dWFsIHZhbHVlc1xuICAgICAgICAgICAgICAgIGlmIChzdG10KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLm1hcChzdG10LnBhcnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gc3RtdC5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IG9wZXJhdG9yXG4gICAgICAgICAgICAgICAgdmFyIG9wZXJhdG9yID0gZGF0YS5vcGVyYXRpb24udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT0gJzw+Jykge1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvciA9ICchPSc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHNxbHJsID0gc2VsZi5zZXR0aW5ncy5zcWxSdWxlT3BlcmF0b3Jbb3BlcmF0b3JdO1xuICAgICAgICAgICAgICAgIGlmIChzcWxybCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdVbmRlZmluZWRTUUxPcGVyYXRvcicsICdJbnZhbGlkIFNRTCBvcGVyYXRpb24gXCJ7MH1cIi4nLCBkYXRhLm9wZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIG9wVmFsID0gc3FscmwuY2FsbCh0aGlzLCB2YWx1ZSwgZGF0YS5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IGRhdGEubGVmdC52YWx1ZXMuam9pbignLicpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJ1bGUgPSBzZWxmLmNoYW5nZSgnc3FsVG9SdWxlJywge1xuICAgICAgICAgICAgICAgICAgICBpZDogc2VsZi5jaGFuZ2UoJ2dldFNRTEZpZWxkSUQnLCBmaWVsZCwgdmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogZmllbGQsXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBvcFZhbC5vcCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9wVmFsLnZhbFxuICAgICAgICAgICAgICAgIH0sIGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgY3Vyci5ydWxlcy5wdXNoKHJ1bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KGRhdGEsIDApKTtcblxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgcnVsZXMgZnJvbSBTUUxcbiAgICAgKiBAcGFyYW0gZGF0YSB7b2JqZWN0fVxuICAgICAqIEBwYXJhbSBzdG10IHtib29sZWFufHN0cmluZ31cbiAgICAgKi9cbiAgICBzZXRSdWxlc0Zyb21TUUw6IGZ1bmN0aW9uKGRhdGEsIHN0bXQpIHtcbiAgICAgICAgdGhpcy5zZXRSdWxlcyh0aGlzLmdldFJ1bGVzRnJvbVNRTChkYXRhLCBzdG10KSk7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIGdldFN0bXRDb25maWcoc3RtdCkge1xuICAgIHZhciBjb25maWcgPSBzdG10Lm1hdGNoKC8ocXVlc3Rpb25fbWFya3xudW1iZXJlZHxuYW1lZCkoPzpcXCgoLilcXCkpPy8pO1xuICAgIGlmICghY29uZmlnKSBjb25maWcgPSBbbnVsbCwgJ3F1ZXN0aW9uX21hcmsnLCB1bmRlZmluZWRdO1xuICAgIHJldHVybiBjb25maWc7XG59XG5cblxuLyohXG4gKiBqUXVlcnkgUXVlcnlCdWlsZGVyIFVuaXF1ZSBGaWx0ZXJcbiAqIEFsbG93cyB0byBkZWZpbmUgc29tZSBmaWx0ZXJzIGFzIFwidW5pcXVlXCI6IGllIHdoaWNoIGNhbiBiZSB1c2VkIGZvciBvbmx5IG9uZSBydWxlLCBnbG9iYWxseSBvciBpbiB0aGUgc2FtZSBncm91cC5cbiAqL1xuXG5RdWVyeUJ1aWxkZXIuZGVmaW5lKCd1bmlxdWUtZmlsdGVyJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdGF0dXMudXNlZF9maWx0ZXJzID0ge307XG5cbiAgICB0aGlzLm9uKCdhZnRlclVwZGF0ZVJ1bGVGaWx0ZXInLCB0aGlzLnVwZGF0ZURpc2FibGVkRmlsdGVycyk7XG4gICAgdGhpcy5vbignYWZ0ZXJEZWxldGVSdWxlJywgdGhpcy51cGRhdGVEaXNhYmxlZEZpbHRlcnMpO1xuICAgIHRoaXMub24oJ2FmdGVyQ3JlYXRlUnVsZUZpbHRlcnMnLCB0aGlzLmFwcGx5RGlzYWJsZWRGaWx0ZXJzKTtcbiAgICB0aGlzLm9uKCdhZnRlclJlc2V0JywgdGhpcy5jbGVhckRpc2FibGVkRmlsdGVycyk7XG4gICAgdGhpcy5vbignYWZ0ZXJDbGVhcicsIHRoaXMuY2xlYXJEaXNhYmxlZEZpbHRlcnMpO1xuXG4gICAgLyoqXG4gICAgICogRW5zdXJlIHRoYXQgdGhlIGRlZmF1bHQgZmlsdGVyIGlzIG5vdCBhbHJlYWR5IHVzZWQgaWYgdW5pcXVlXG4gICAgICogQHRocm93cyBVbmlxdWVGaWx0ZXJFcnJvclxuICAgICAqL1xuICAgIHRoaXMub24oJ2dldERlZmF1bHRGaWx0ZXIuZmlsdGVyJywgZnVuY3Rpb24oZSwgbW9kZWwpIHtcbiAgICAgICAgdmFyIHNlbGYgPSBlLmJ1aWxkZXI7XG5cbiAgICAgICAgc2VsZi51cGRhdGVEaXNhYmxlZEZpbHRlcnMoKTtcblxuICAgICAgICBpZiAoZS52YWx1ZS5pZCBpbiBzZWxmLnN0YXR1cy51c2VkX2ZpbHRlcnMpIHtcbiAgICAgICAgICAgIHZhciBmb3VuZCA9IHNlbGYuZmlsdGVycy5zb21lKGZ1bmN0aW9uKGZpbHRlcikge1xuICAgICAgICAgICAgICAgIGlmICghKGZpbHRlci5pZCBpbiBzZWxmLnN0YXR1cy51c2VkX2ZpbHRlcnMpIHx8IHNlbGYuc3RhdHVzLnVzZWRfZmlsdGVyc1tmaWx0ZXIuaWRdLmxlbmd0aCA+IDAgJiYgc2VsZi5zdGF0dXMudXNlZF9maWx0ZXJzW2ZpbHRlci5pZF0uaW5kZXhPZihtb2RlbC5wYXJlbnQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBlLnZhbHVlID0gZmlsdGVyO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgIFV0aWxzLmVycm9yKCdVbmlxdWVGaWx0ZXInLCAnTm8gbW9yZSBub24tdW5pcXVlIGZpbHRlcnMgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICAgICAgZS52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cblF1ZXJ5QnVpbGRlci5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgbGlzdCBvZiB1c2VkIGZpbHRlcnNcbiAgICAgKiBAcGFyYW0gW2VdXG4gICAgICovXG4gICAgdXBkYXRlRGlzYWJsZWRGaWx0ZXJzOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBzZWxmID0gZSA/IGUuYnVpbGRlciA6IHRoaXM7XG5cbiAgICAgICAgc2VsZi5zdGF0dXMudXNlZF9maWx0ZXJzID0ge307XG5cbiAgICAgICAgaWYgKCFzZWxmLm1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgdXNlZCBmaWx0ZXJzXG4gICAgICAgIChmdW5jdGlvbiB3YWxrKGdyb3VwKSB7XG4gICAgICAgICAgICBncm91cC5lYWNoKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocnVsZS5maWx0ZXIgJiYgcnVsZS5maWx0ZXIudW5pcXVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5zdGF0dXMudXNlZF9maWx0ZXJzW3J1bGUuZmlsdGVyLmlkXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGF0dXMudXNlZF9maWx0ZXJzW3J1bGUuZmlsdGVyLmlkXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChydWxlLmZpbHRlci51bmlxdWUgPT0gJ2dyb3VwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGF0dXMudXNlZF9maWx0ZXJzW3J1bGUuZmlsdGVyLmlkXS5wdXNoKHJ1bGUucGFyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgd2Fsayhncm91cCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfShzZWxmLm1vZGVsLnJvb3QpKTtcblxuICAgICAgICBzZWxmLmFwcGx5RGlzYWJsZWRGaWx0ZXJzKGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgbGlzdCBvZiB1c2VkIGZpbHRlcnNcbiAgICAgKiBAcGFyYW0gW2VdXG4gICAgICovXG4gICAgY2xlYXJEaXNhYmxlZEZpbHRlcnM6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHNlbGYgPSBlID8gZS5idWlsZGVyIDogdGhpcztcblxuICAgICAgICBzZWxmLnN0YXR1cy51c2VkX2ZpbHRlcnMgPSB7fTtcblxuICAgICAgICBzZWxmLmFwcGx5RGlzYWJsZWRGaWx0ZXJzKGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlZCBmaWx0ZXJzIGRlcGVuZGluZyBvbiB0aGUgbGlzdCBvZiB1c2VkIG9uZXNcbiAgICAgKiBAcGFyYW0gW2VdXG4gICAgICovXG4gICAgYXBwbHlEaXNhYmxlZEZpbHRlcnM6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHNlbGYgPSBlID8gZS5idWlsZGVyIDogdGhpcztcblxuICAgICAgICAvLyByZS1lbmFibGUgZXZlcnl0aGluZ1xuICAgICAgICBzZWxmLiRlbC5maW5kKFNlbGVjdG9ycy5maWx0ZXJfY29udGFpbmVyICsgJyBvcHRpb24nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblxuICAgICAgICAvLyBkaXNhYmxlIHNvbWVcbiAgICAgICAgJC5lYWNoKHNlbGYuc3RhdHVzLnVzZWRfZmlsdGVycywgZnVuY3Rpb24oZmlsdGVySWQsIGdyb3Vwcykge1xuICAgICAgICAgICAgaWYgKGdyb3Vwcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBzZWxmLiRlbC5maW5kKFNlbGVjdG9ycy5maWx0ZXJfY29udGFpbmVyICsgJyBvcHRpb25bdmFsdWU9XCInICsgZmlsdGVySWQgKyAnXCJdOm5vdCg6c2VsZWN0ZWQpJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLmVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS4kZWwuZmluZChTZWxlY3RvcnMuZmlsdGVyX2NvbnRhaW5lciArICcgb3B0aW9uW3ZhbHVlPVwiJyArIGZpbHRlcklkICsgJ1wiXTpub3QoOnNlbGVjdGVkKScpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyB1cGRhdGUgU2VsZWN0cGlja2VyXG4gICAgICAgIGlmIChzZWxmLnNldHRpbmdzLnBsdWdpbnMgJiYgc2VsZi5zZXR0aW5ncy5wbHVnaW5zWydidC1zZWxlY3RwaWNrZXInXSkge1xuICAgICAgICAgICAgc2VsZi4kZWwuZmluZChTZWxlY3RvcnMucnVsZV9maWx0ZXIpLnNlbGVjdHBpY2tlcigncmVuZGVyJyk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBRdWVyeUJ1aWxkZXIgMi40LjFcbiAqIExvY2FsZTogRW5nbGlzaCAoZW4pXG4gKiBBdXRob3I6IERhbWllbiBcIk1pc3RpY1wiIFNvcmVsLCBodHRwOi8vd3d3LnN0cmFuZ2VwbGFuZXQuZnJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVClcbiAqL1xuXG5RdWVyeUJ1aWxkZXIucmVnaW9uYWxbJ2VuJ10gPSB7XG4gIFwiX19sb2NhbGVcIjogXCJFbmdsaXNoIChlbilcIixcbiAgXCJfX2F1dGhvclwiOiBcIkRhbWllbiBcXFwiTWlzdGljXFxcIiBTb3JlbCwgaHR0cDovL3d3dy5zdHJhbmdlcGxhbmV0LmZyXCIsXG4gIFwiYWRkX3J1bGVcIjogXCJBZGQgcnVsZVwiLFxuICBcImFkZF9ncm91cFwiOiBcIkFkZCBncm91cFwiLFxuICBcImRlbGV0ZV9ydWxlXCI6IFwiRGVsZXRlXCIsXG4gIFwiZGVsZXRlX2dyb3VwXCI6IFwiRGVsZXRlXCIsXG4gIFwiY29uZGl0aW9uc1wiOiB7XG4gICAgXCJBTkRcIjogXCJBTkRcIixcbiAgICBcIk9SXCI6IFwiT1JcIlxuICB9LFxuICBcIm9wZXJhdG9yc1wiOiB7XG4gICAgXCJlcXVhbFwiOiBcImVxdWFsXCIsXG4gICAgXCJub3RfZXF1YWxcIjogXCJub3QgZXF1YWxcIixcbiAgICBcImluXCI6IFwiaW5cIixcbiAgICBcIm5vdF9pblwiOiBcIm5vdCBpblwiLFxuICAgIFwibGVzc1wiOiBcImxlc3NcIixcbiAgICBcImxlc3Nfb3JfZXF1YWxcIjogXCJsZXNzIG9yIGVxdWFsXCIsXG4gICAgXCJncmVhdGVyXCI6IFwiZ3JlYXRlclwiLFxuICAgIFwiZ3JlYXRlcl9vcl9lcXVhbFwiOiBcImdyZWF0ZXIgb3IgZXF1YWxcIixcbiAgICBcImJldHdlZW5cIjogXCJiZXR3ZWVuXCIsXG4gICAgXCJub3RfYmV0d2VlblwiOiBcIm5vdCBiZXR3ZWVuXCIsXG4gICAgXCJiZWdpbnNfd2l0aFwiOiBcImJlZ2lucyB3aXRoXCIsXG4gICAgXCJub3RfYmVnaW5zX3dpdGhcIjogXCJkb2Vzbid0IGJlZ2luIHdpdGhcIixcbiAgICBcImNvbnRhaW5zXCI6IFwiY29udGFpbnNcIixcbiAgICBcIm5vdF9jb250YWluc1wiOiBcImRvZXNuJ3QgY29udGFpblwiLFxuICAgIFwiZW5kc193aXRoXCI6IFwiZW5kcyB3aXRoXCIsXG4gICAgXCJub3RfZW5kc193aXRoXCI6IFwiZG9lc24ndCBlbmQgd2l0aFwiLFxuICAgIFwiaXNfZW1wdHlcIjogXCJpcyBlbXB0eVwiLFxuICAgIFwiaXNfbm90X2VtcHR5XCI6IFwiaXMgbm90IGVtcHR5XCIsXG4gICAgXCJpc19udWxsXCI6IFwiaXMgbnVsbFwiLFxuICAgIFwiaXNfbm90X251bGxcIjogXCJpcyBub3QgbnVsbFwiXG4gIH0sXG4gIFwiZXJyb3JzXCI6IHtcbiAgICBcIm5vX2ZpbHRlclwiOiBcIk5vIGZpbHRlciBzZWxlY3RlZFwiLFxuICAgIFwiZW1wdHlfZ3JvdXBcIjogXCJUaGUgZ3JvdXAgaXMgZW1wdHlcIixcbiAgICBcInJhZGlvX2VtcHR5XCI6IFwiTm8gdmFsdWUgc2VsZWN0ZWRcIixcbiAgICBcImNoZWNrYm94X2VtcHR5XCI6IFwiTm8gdmFsdWUgc2VsZWN0ZWRcIixcbiAgICBcInNlbGVjdF9lbXB0eVwiOiBcIk5vIHZhbHVlIHNlbGVjdGVkXCIsXG4gICAgXCJzdHJpbmdfZW1wdHlcIjogXCJFbXB0eSB2YWx1ZVwiLFxuICAgIFwic3RyaW5nX2V4Y2VlZF9taW5fbGVuZ3RoXCI6IFwiTXVzdCBjb250YWluIGF0IGxlYXN0IHswfSBjaGFyYWN0ZXJzXCIsXG4gICAgXCJzdHJpbmdfZXhjZWVkX21heF9sZW5ndGhcIjogXCJNdXN0IG5vdCBjb250YWluIG1vcmUgdGhhbiB7MH0gY2hhcmFjdGVyc1wiLFxuICAgIFwic3RyaW5nX2ludmFsaWRfZm9ybWF0XCI6IFwiSW52YWxpZCBmb3JtYXQgKHswfSlcIixcbiAgICBcIm51bWJlcl9uYW5cIjogXCJOb3QgYSBudW1iZXJcIixcbiAgICBcIm51bWJlcl9ub3RfaW50ZWdlclwiOiBcIk5vdCBhbiBpbnRlZ2VyXCIsXG4gICAgXCJudW1iZXJfbm90X2RvdWJsZVwiOiBcIk5vdCBhIHJlYWwgbnVtYmVyXCIsXG4gICAgXCJudW1iZXJfZXhjZWVkX21pblwiOiBcIk11c3QgYmUgZ3JlYXRlciB0aGFuIHswfVwiLFxuICAgIFwibnVtYmVyX2V4Y2VlZF9tYXhcIjogXCJNdXN0IGJlIGxvd2VyIHRoYW4gezB9XCIsXG4gICAgXCJudW1iZXJfd3Jvbmdfc3RlcFwiOiBcIk11c3QgYmUgYSBtdWx0aXBsZSBvZiB7MH1cIixcbiAgICBcImRhdGV0aW1lX2VtcHR5XCI6IFwiRW1wdHkgdmFsdWVcIixcbiAgICBcImRhdGV0aW1lX2ludmFsaWRcIjogXCJJbnZhbGlkIGRhdGUgZm9ybWF0ICh7MH0pXCIsXG4gICAgXCJkYXRldGltZV9leGNlZWRfbWluXCI6IFwiTXVzdCBiZSBhZnRlciB7MH1cIixcbiAgICBcImRhdGV0aW1lX2V4Y2VlZF9tYXhcIjogXCJNdXN0IGJlIGJlZm9yZSB7MH1cIixcbiAgICBcImJvb2xlYW5fbm90X3ZhbGlkXCI6IFwiTm90IGEgYm9vbGVhblwiLFxuICAgIFwib3BlcmF0b3Jfbm90X211bHRpcGxlXCI6IFwiT3BlcmF0b3IgezB9IGNhbm5vdCBhY2NlcHQgbXVsdGlwbGUgdmFsdWVzXCJcbiAgfSxcbiAgXCJpbnZlcnRcIjogXCJJbnZlcnRcIixcbiAgXCJOT1RcIjogXCJOT1RcIlxufTtcblxuUXVlcnlCdWlsZGVyLmRlZmF1bHRzKHsgbGFuZ19jb2RlOiAnZW4nIH0pO1xufSkpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi92ZW5pY2UtanMvbGliL3F1ZXJ5LWJ1aWxkZXIuMi40LmpzXG4vLyBtb2R1bGUgaWQgPSA1MTZcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 517:
/***/ function(module, exports, __webpack_require__) {

	eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(518);\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(520)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../css-loader/index.js!./query-builder.css\", function() {\n\t\t\tvar newContent = require(\"!!../../css-loader/index.js!./query-builder.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi92ZW5pY2UtanMvbGliL3F1ZXJ5LWJ1aWxkZXIuY3NzP2UzNDciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9xdWVyeS1idWlsZGVyLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9xdWVyeS1idWlsZGVyLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL3F1ZXJ5LWJ1aWxkZXIuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdmVuaWNlLWpzL2xpYi9xdWVyeS1idWlsZGVyLmNzc1xuLy8gbW9kdWxlIGlkID0gNTE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 518:
/***/ function(module, exports, __webpack_require__) {

	eval("exports = module.exports = __webpack_require__(519)();\n// imports\n\n\n// module\nexports.push([module.id, \"/*!\\n * jQuery QueryBuilder 2.3.3\\n * Copyright 2014-2016 Damien \\\"Mistic\\\" Sorel (http://www.strangeplanet.fr)\\n * Licensed under MIT (http://opensource.org/licenses/MIT)\\n */\\n\\n.query-builder .rule-container,.query-builder .rule-placeholder,.query-builder .rules-group-container{\\n    position:relative;\\n    margin:4px 0;\\n    border-radius:5px;\\n    padding:5px;\\n    border:1px solid #EEE;\\n    background:rgba(255,255,255,.9)\\n}\\n.query-builder .drag-handle,.query-builder .error-container,.query-builder .rule-container .rule-filter-container,.query-builder .rule-container .rule-operator-container,.query-builder .rule-container .rule-value-container{\\n    display:inline-block;\\n    margin:0 5px 0 0;\\n    vertical-align:middle\\n}\\n.query-builder .rules-group-container{\\n     padding:10px 10px 6px;\\n    border:1px solid #DCC896;\\n    background:rgba(250,240,210,.5)\\n}\\n.query-builder .rules-group-header{\\n    margin-bottom:10px\\n}\\n.query-builder .rules-group-header .group-conditions .btn.readonly:not(.active),.query-builder .rules-group-header .group-conditions input[name$=_cond]{\\n    display:none\\n}\\n.query-builder .rules-group-header .group-conditions .btn.readonly{\\n    border-radius:3px\\n}\\n.query-builder .rules-list{\\n    list-style:none;\\n    padding:0 0 0 15px;\\n    margin:0\\n}\\n.query-builder .rule-value-container{\\n    border-left:1px solid #DDD;\\n    padding-left:5px\\n}\\n.query-builder .rule-value-container label{\\n    margin-bottom:0;\\n    font-weight:400\\n}\\n.query-builder .rule-value-container label.block{\\n    display:block\\n}\\n.query-builder .rule-value-container input[type=number],.query-builder .rule-value-container input[type=text],.query-builder .rule-value-container select{\\n    padding:1px\\n}\\n.query-builder .error-container{\\n    display:none;\\n    cursor:help;\\n    color:red\\n}\\n.query-builder .has-error{\\n    background-color:#FDD;\\n    border-color:#F99\\n}\\n.query-builder .has-error .error-container{\\n    display:inline-block!important\\n}\\n.query-builder .rules-list>::after,.query-builder .rules-list>::before{\\n    content:'';\\n    position:absolute;\\n    left:-10px;\\n    width:10px;\\n    height:calc(50% + 4px);\\n    border-color:#CCC;\\n    border-style:solid\\n}\\n.query-builder .rules-list>::before{\\n    top:-4px;\\n    border-width:0 0 2px 2px\\n}\\n.query-builder .rules-list>::after{\\n    top:50%;\\n    border-width:0 0 0 2px\\n}\\n.query-builder .rules-list>:first-child::before{\\n    top:-12px;\\n    height:calc(50% + 14px)\\n}\\n.query-builder .rules-list>:last-child::before{\\n    border-radius:0 0 0 4px\\n}\\n.query-builder .rules-list>:last-child::after{\\n    display:none\\n}\\n.query-builder .error-container+.tooltip .tooltip-inner{\\n    color:#F99!important\\n}\\n.query-builder p.filter-description{\\n    margin:5px 0 0;\\n    background:#D9EDF7;\\n    border:1px solid #BCE8F1;\\n    color:#31708F;\\n    border-radius:5px;\\n    padding:2.5px 5px;\\n    font-size:.8em\\n}\\n.query-builder .rules-group-header [data-invert]{\\n    margin-left:5px\\n}\\n.query-builder .drag-handle{\\n    cursor:move;\\n    vertical-align:middle;\\n    margin-left:5px\\n}\\n.query-builder .dragged{\\n    opacity:.5\\n}\\n.query-builder .rule-placeholder{\\n    border:1px dashed #BBB;\\n    opacity:.7\\n}\", \"\"]);\n\n// exports\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi92ZW5pY2UtanMvbGliL3F1ZXJ5LWJ1aWxkZXIuY3NzP2E5NmUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiFcXG4gKiBqUXVlcnkgUXVlcnlCdWlsZGVyIDIuMy4zXFxuICogQ29weXJpZ2h0IDIwMTQtMjAxNiBEYW1pZW4gXFxcIk1pc3RpY1xcXCIgU29yZWwgKGh0dHA6Ly93d3cuc3RyYW5nZXBsYW5ldC5mcilcXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQpXFxuICovXFxuXFxuLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGUtY29udGFpbmVyLC5xdWVyeS1idWlsZGVyIC5ydWxlLXBsYWNlaG9sZGVyLC5xdWVyeS1idWlsZGVyIC5ydWxlcy1ncm91cC1jb250YWluZXJ7XFxuICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xcbiAgICBtYXJnaW46NHB4IDA7XFxuICAgIGJvcmRlci1yYWRpdXM6NXB4O1xcbiAgICBwYWRkaW5nOjVweDtcXG4gICAgYm9yZGVyOjFweCBzb2xpZCAjRUVFO1xcbiAgICBiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsLjkpXFxufVxcbi5xdWVyeS1idWlsZGVyIC5kcmFnLWhhbmRsZSwucXVlcnktYnVpbGRlciAuZXJyb3ItY29udGFpbmVyLC5xdWVyeS1idWlsZGVyIC5ydWxlLWNvbnRhaW5lciAucnVsZS1maWx0ZXItY29udGFpbmVyLC5xdWVyeS1idWlsZGVyIC5ydWxlLWNvbnRhaW5lciAucnVsZS1vcGVyYXRvci1jb250YWluZXIsLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGUtY29udGFpbmVyIC5ydWxlLXZhbHVlLWNvbnRhaW5lcntcXG4gICAgZGlzcGxheTppbmxpbmUtYmxvY2s7XFxuICAgIG1hcmdpbjowIDVweCAwIDA7XFxuICAgIHZlcnRpY2FsLWFsaWduOm1pZGRsZVxcbn1cXG4ucXVlcnktYnVpbGRlciAucnVsZXMtZ3JvdXAtY29udGFpbmVye1xcbiAgICAgcGFkZGluZzoxMHB4IDEwcHggNnB4O1xcbiAgICBib3JkZXI6MXB4IHNvbGlkICNEQ0M4OTY7XFxuICAgIGJhY2tncm91bmQ6cmdiYSgyNTAsMjQwLDIxMCwuNSlcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGVzLWdyb3VwLWhlYWRlcntcXG4gICAgbWFyZ2luLWJvdHRvbToxMHB4XFxufVxcbi5xdWVyeS1idWlsZGVyIC5ydWxlcy1ncm91cC1oZWFkZXIgLmdyb3VwLWNvbmRpdGlvbnMgLmJ0bi5yZWFkb25seTpub3QoLmFjdGl2ZSksLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGVzLWdyb3VwLWhlYWRlciAuZ3JvdXAtY29uZGl0aW9ucyBpbnB1dFtuYW1lJD1fY29uZF17XFxuICAgIGRpc3BsYXk6bm9uZVxcbn1cXG4ucXVlcnktYnVpbGRlciAucnVsZXMtZ3JvdXAtaGVhZGVyIC5ncm91cC1jb25kaXRpb25zIC5idG4ucmVhZG9ubHl7XFxuICAgIGJvcmRlci1yYWRpdXM6M3B4XFxufVxcbi5xdWVyeS1idWlsZGVyIC5ydWxlcy1saXN0e1xcbiAgICBsaXN0LXN0eWxlOm5vbmU7XFxuICAgIHBhZGRpbmc6MCAwIDAgMTVweDtcXG4gICAgbWFyZ2luOjBcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGUtdmFsdWUtY29udGFpbmVye1xcbiAgICBib3JkZXItbGVmdDoxcHggc29saWQgI0RERDtcXG4gICAgcGFkZGluZy1sZWZ0OjVweFxcbn1cXG4ucXVlcnktYnVpbGRlciAucnVsZS12YWx1ZS1jb250YWluZXIgbGFiZWx7XFxuICAgIG1hcmdpbi1ib3R0b206MDtcXG4gICAgZm9udC13ZWlnaHQ6NDAwXFxufVxcbi5xdWVyeS1idWlsZGVyIC5ydWxlLXZhbHVlLWNvbnRhaW5lciBsYWJlbC5ibG9ja3tcXG4gICAgZGlzcGxheTpibG9ja1xcbn1cXG4ucXVlcnktYnVpbGRlciAucnVsZS12YWx1ZS1jb250YWluZXIgaW5wdXRbdHlwZT1udW1iZXJdLC5xdWVyeS1idWlsZGVyIC5ydWxlLXZhbHVlLWNvbnRhaW5lciBpbnB1dFt0eXBlPXRleHRdLC5xdWVyeS1idWlsZGVyIC5ydWxlLXZhbHVlLWNvbnRhaW5lciBzZWxlY3R7XFxuICAgIHBhZGRpbmc6MXB4XFxufVxcbi5xdWVyeS1idWlsZGVyIC5lcnJvci1jb250YWluZXJ7XFxuICAgIGRpc3BsYXk6bm9uZTtcXG4gICAgY3Vyc29yOmhlbHA7XFxuICAgIGNvbG9yOnJlZFxcbn1cXG4ucXVlcnktYnVpbGRlciAuaGFzLWVycm9ye1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiNGREQ7XFxuICAgIGJvcmRlci1jb2xvcjojRjk5XFxufVxcbi5xdWVyeS1idWlsZGVyIC5oYXMtZXJyb3IgLmVycm9yLWNvbnRhaW5lcntcXG4gICAgZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50XFxufVxcbi5xdWVyeS1idWlsZGVyIC5ydWxlcy1saXN0Pjo6YWZ0ZXIsLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGVzLWxpc3Q+OjpiZWZvcmV7XFxuICAgIGNvbnRlbnQ6Jyc7XFxuICAgIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgICBsZWZ0Oi0xMHB4O1xcbiAgICB3aWR0aDoxMHB4O1xcbiAgICBoZWlnaHQ6Y2FsYyg1MCUgKyA0cHgpO1xcbiAgICBib3JkZXItY29sb3I6I0NDQztcXG4gICAgYm9yZGVyLXN0eWxlOnNvbGlkXFxufVxcbi5xdWVyeS1idWlsZGVyIC5ydWxlcy1saXN0Pjo6YmVmb3Jle1xcbiAgICB0b3A6LTRweDtcXG4gICAgYm9yZGVyLXdpZHRoOjAgMCAycHggMnB4XFxufVxcbi5xdWVyeS1idWlsZGVyIC5ydWxlcy1saXN0Pjo6YWZ0ZXJ7XFxuICAgIHRvcDo1MCU7XFxuICAgIGJvcmRlci13aWR0aDowIDAgMCAycHhcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGVzLWxpc3Q+OmZpcnN0LWNoaWxkOjpiZWZvcmV7XFxuICAgIHRvcDotMTJweDtcXG4gICAgaGVpZ2h0OmNhbGMoNTAlICsgMTRweClcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGVzLWxpc3Q+Omxhc3QtY2hpbGQ6OmJlZm9yZXtcXG4gICAgYm9yZGVyLXJhZGl1czowIDAgMCA0cHhcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLnJ1bGVzLWxpc3Q+Omxhc3QtY2hpbGQ6OmFmdGVye1xcbiAgICBkaXNwbGF5Om5vbmVcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgLmVycm9yLWNvbnRhaW5lcisudG9vbHRpcCAudG9vbHRpcC1pbm5lcntcXG4gICAgY29sb3I6I0Y5OSFpbXBvcnRhbnRcXG59XFxuLnF1ZXJ5LWJ1aWxkZXIgcC5maWx0ZXItZGVzY3JpcHRpb257XFxuICAgIG1hcmdpbjo1cHggMCAwO1xcbiAgICBiYWNrZ3JvdW5kOiNEOUVERjc7XFxuICAgIGJvcmRlcjoxcHggc29saWQgI0JDRThGMTtcXG4gICAgY29sb3I6IzMxNzA4RjtcXG4gICAgYm9yZGVyLXJhZGl1czo1cHg7XFxuICAgIHBhZGRpbmc6Mi41cHggNXB4O1xcbiAgICBmb250LXNpemU6LjhlbVxcbn1cXG4ucXVlcnktYnVpbGRlciAucnVsZXMtZ3JvdXAtaGVhZGVyIFtkYXRhLWludmVydF17XFxuICAgIG1hcmdpbi1sZWZ0OjVweFxcbn1cXG4ucXVlcnktYnVpbGRlciAuZHJhZy1oYW5kbGV7XFxuICAgIGN1cnNvcjptb3ZlO1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7XFxuICAgIG1hcmdpbi1sZWZ0OjVweFxcbn1cXG4ucXVlcnktYnVpbGRlciAuZHJhZ2dlZHtcXG4gICAgb3BhY2l0eTouNVxcbn1cXG4ucXVlcnktYnVpbGRlciAucnVsZS1wbGFjZWhvbGRlcntcXG4gICAgYm9yZGVyOjFweCBkYXNoZWQgI0JCQjtcXG4gICAgb3BhY2l0eTouN1xcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlciEuL34vdmVuaWNlLWpzL2xpYi9xdWVyeS1idWlsZGVyLmNzc1xuLy8gbW9kdWxlIGlkID0gNTE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 519:
/***/ function(module, exports) {

	eval("/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcz9kYTA0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0dmFyIGxpc3QgPSBbXTtcclxuXHJcblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdH07XHJcblxyXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdHJldHVybiBsaXN0O1xyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcbi8vIG1vZHVsZSBpZCA9IDUxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 520:
/***/ function(module, exports, __webpack_require__) {

	eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(false) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\tlinkElement.rel = \"stylesheet\";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzP2I5ODAiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbnZhciBzdHlsZXNJbkRvbSA9IHt9LFxuXHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcblx0XHR2YXIgbWVtbztcblx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRcdHJldHVybiBtZW1vO1xuXHRcdH07XG5cdH0sXG5cdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdChzZWxmLm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG5cdH0pLFxuXHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcblx0fSksXG5cdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxuXHRzaW5nbGV0b25Db3VudGVyID0gMCxcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZVxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcblx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG5cdFx0fVxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG5cdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xuXHRyZXR1cm4gc3R5bGVFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XG5cdHZhciBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcblx0cmV0dXJuIGxpbmtFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xuXHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuXHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcblx0XHRpZihuZXdPYmopIHtcblx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcblx0XHR9XG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0aWYoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcblxuXHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpXG5cdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcbi8vIG1vZHVsZSBpZCA9IDUyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 521:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BaseGridContainer = function (_React$Component) {\n    _inherits(BaseGridContainer, _React$Component);\n\n    function BaseGridContainer(props) {\n        _classCallCheck(this, BaseGridContainer);\n\n        var _this = _possibleConstructorReturn(this, (BaseGridContainer.__proto__ || Object.getPrototypeOf(BaseGridContainer)).call(this, props));\n\n        _this.store = props.store;\n        _this.dispatch = props.store.dispatch.bind(props.store);\n\n        _this.state = _extends({}, _this.store.getState(), {\n            isEditMode: false,\n            showDetailId: null,\n            showQueryBuilder: _this.__showQueryBuilder && !!props.filter\n        });\n        return _this;\n    }\n\n    /**\n     * After mount (initial render) react callback\n     */\n\n\n    _createClass(BaseGridContainer, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            // Attach main listener\n            this.store.addListener(this.onStateChange.bind(this));\n            // Initial call\n            this.onStateChange();\n        }\n\n        /**\n         * Update view start point\n         */\n\n    }, {\n        key: 'onStateChange',\n        value: function onStateChange() {\n            this.setState(this.store.getState());\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return 'Not implemented';\n        }\n    }]);\n\n    return BaseGridContainer;\n}(_react2.default.Component);\n\nexports.default = BaseGridContainer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvY29tcG9uZW50cy9CYXNlR3JpZENvbnRhaW5lci5qc3g/NTI0MiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VHcmlkQ29udGFpbmVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlO1xuICAgICAgICB0aGlzLmRpc3BhdGNoID0gcHJvcHMuc3RvcmUuZGlzcGF0Y2guYmluZChwcm9wcy5zdG9yZSk7XG5cblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgLi4udGhpcy5zdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICAgICAgaXNFZGl0TW9kZTogZmFsc2UsXG4gICAgICAgICAgICBzaG93RGV0YWlsSWQ6IG51bGwsXG4gICAgICAgICAgICBzaG93UXVlcnlCdWlsZGVyOiB0aGlzLl9fc2hvd1F1ZXJ5QnVpbGRlciAmJiAhIXByb3BzLmZpbHRlclxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFmdGVyIG1vdW50IChpbml0aWFsIHJlbmRlcikgcmVhY3QgY2FsbGJhY2tcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudCgpe1xuICAgICAgICAvLyBBdHRhY2ggbWFpbiBsaXN0ZW5lclxuICAgICAgICB0aGlzLnN0b3JlLmFkZExpc3RlbmVyKHRoaXMub25TdGF0ZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy8gSW5pdGlhbCBjYWxsXG4gICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB2aWV3IHN0YXJ0IHBvaW50XG4gICAgICovXG4gICAgb25TdGF0ZUNoYW5nZSgpe1xuICAgICAgICB0aGlzLnNldFN0YXRlKHRoaXMuc3RvcmUuZ2V0U3RhdGUoKSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCl7XG4gICAgICAgIHJldHVybiAnTm90IGltcGxlbWVudGVkJztcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9jb21wb25lbnRzL0Jhc2VHcmlkQ29udGFpbmVyLmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7Ozs7O0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBSkE7QUFOQTtBQVlBO0FBQ0E7QUFDQTs7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7O0FBbENBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 522:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ErrorView = function ErrorView(_ref) {\n    var reloadCallback = _ref.reloadCallback;\n\n    return _react2.default.createElement(\n        'div',\n        { className: 'info-empty-form' },\n        _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement('i', { className: 'trinity-warning', style: {\n                    fontSize: '140px'\n                } })\n        ),\n        _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n                'h2',\n                { className: 'warning' },\n                'ERROR'\n            ),\n            _react2.default.createElement(\n                'p',\n                { className: 'padding-top-10' },\n                'Something went wrong. Please try again later'\n            )\n        ),\n        _react2.default.createElement(\n            'button',\n            { className: 'button button-info', onClick: reloadCallback },\n            _react2.default.createElement('i', { className: 'padding-right-5 tiecons tiecons-loading' }),\n            'Refresh'\n        )\n    );\n};\n\nexports.default = ErrorView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvRXJyb3JWaWV3LmpzeD80YzhhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuXG5jb25zdCBFcnJvclZpZXcgPSAoeyByZWxvYWRDYWxsYmFjayB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWVtcHR5LWZvcm1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwidHJpbml0eS13YXJuaW5nXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNDBweCdcbiAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cIndhcm5pbmdcIj5FUlJPUjwvaDI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwicGFkZGluZy10b3AtMTBcIj5Tb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlcjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b24gYnV0dG9uLWluZm9cIiBvbkNsaWNrPXtyZWxvYWRDYWxsYmFja30+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwicGFkZGluZy1yaWdodC01IHRpZWNvbnMgdGllY29ucy1sb2FkaW5nXCIvPlxuICAgICAgICAgICAgICAgIFJlZnJlc2hcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgIEVycm9yVmlldztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL3ZlbmljZS1qcy9MaWJyYXJpZXMvR3JpZC9FcnJvclZpZXcuanN4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7Ozs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFLQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBVkE7QUFnQkE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 523:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ErrorView = function ErrorView() /*{ message }*/{\n    return _react2.default.createElement(\n        'div',\n        { className: 'info-empty-form' },\n        _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement('i', { className: 'trinity-info' })\n        ),\n        _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n                'h2',\n                { className: 'warning' },\n                'NO DATA'\n            )\n        )\n    );\n};\n\nexports.default = ErrorView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvRW1wdHlWaWV3LmpzeD8wNzFlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY29uc3QgRXJyb3JWaWV3ID0gKC8qeyBtZXNzYWdlIH0qLykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1lbXB0eS1mb3JtXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPjxpIGNsYXNzTmFtZT1cInRyaW5pdHktaW5mb1wiLz48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+PGgyIGNsYXNzTmFtZT1cIndhcm5pbmdcIj5OTyBEQVRBPC9oMj48L2Rpdj5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyA8ZGl2IGNsYXNzTmFtZT1cInJvdyBzcGFuLW5vbmUteGxhcmdlLTEwXCI+XG4gICAgICAgICAgICAgICAgLy8gICAgIDxwPlRoaXMgbG9nIGRvZXMgbm90IGNvbnRhaW4gYW55IGRhdGEgeWV0LjwvcD5cbiAgICAgICAgICAgICAgICAvLyA8L2Rpdj5cbiAgICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0ICBFcnJvclZpZXc7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvRW1wdHlWaWV3LmpzeCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUZBO0FBVUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 524:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InitialFetchingView = function InitialFetchingView() {\n    return _react2.default.createElement(\n        'div',\n        { className: 'info-empty-form' },\n        _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement('i', { className: 'tiecons tiecons-loading-rotate tiecons-rotate font-50' })\n        ),\n        _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n                'h2',\n                { className: 'warning' },\n                'Loading data...'\n            )\n        )\n    );\n};\n\nexports.default = InitialFetchingView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0dyaWQvRmV0Y2hpbmdWaWV3LmpzeD81NGFhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY29uc3QgSW5pdGlhbEZldGNoaW5nVmlldyA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tZW1wdHktZm9ybVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJ0aWVjb25zIHRpZWNvbnMtbG9hZGluZy1yb3RhdGUgdGllY29ucy1yb3RhdGUgZm9udC01MFwiLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwid2FybmluZ1wiPlxuICAgICAgICAgICAgICAgICAgICBMb2FkaW5nIGRhdGEuLi5cbiAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJbml0aWFsRmV0Y2hpbmdWaWV3O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvdmVuaWNlLWpzL0xpYnJhcmllcy9HcmlkL0ZldGNoaW5nVmlldy5qc3giXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFKQTtBQVdBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 525:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Events = __webpack_require__(483);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nvar _Controller2 = __webpack_require__(475);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _TrinityTab = __webpack_require__(489);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _Collection = __webpack_require__(526);\n\nvar _Collection2 = _interopRequireDefault(_Collection);\n\nvar _VeniceForm = __webpack_require__(476);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _GlobalLib = __webpack_require__(493);\n\nvar _FormChanger = __webpack_require__(528);\n\nvar _FormChanger2 = _interopRequireDefault(_FormChanger);\n\nvar _VeniceGridBuilder = __webpack_require__(497);\n\nvar _VeniceGridBuilder2 = _interopRequireDefault(_VeniceGridBuilder);\n\nvar _FroalaLib = __webpack_require__(496);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by Jakub on 21.12.15.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar ContetntController = function (_Controller) {\n    _inherits(ContetntController, _Controller);\n\n    function ContetntController() {\n        _classCallCheck(this, ContetntController);\n\n        return _possibleConstructorReturn(this, (ContetntController.__proto__ || Object.getPrototypeOf(ContetntController)).apply(this, arguments));\n    }\n\n    _createClass(ContetntController, [{\n        key: 'indexAction',\n        value: function indexAction($scope) {\n            $scope.productGrid = _VeniceGridBuilder2.default.build(_jquery2.default.id('content-grid'), this.request.query);\n        }\n    }, {\n        key: 'newAction',\n        value: function newAction($scope) {\n            var selectEl = (0, _jquery2.default)('#entity_type_select')[0],\n                $jqFormDiv = (0, _jquery2.default)('#javascript-inserted-form'),\n                url = $jqFormDiv.attr('data-changer'),\n                unlisteners = [];\n            var app = this.getApp();\n            var handleFormChange = function handleFormChange() {\n                _lodash2.default.each(unlisteners, function (fn) {\n                    return fn();\n                });\n\n                var type = selectEl.options[selectEl.selectedIndex].value;\n                _FormChanger2.default.refreshForm($jqFormDiv[0], url.replace('contentType', type), function () {\n\n                    $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"' + type + '_content\"]')[0]);\n                    if (type === 'html' || type === 'iframe') {\n                        // let froalaContainer = $(`#${type}_content_html`)[0];\n                        // startFroala(froalaContainer);\n                        var formScope = app.parseScope();\n                        (0, _FroalaLib.startFroala)(formScope.froalaInput);\n                    }\n                    unlisteners.push(ContetntController._handleHandleGeneration());\n                });\n            };\n            // Initial\n            handleFormChange();\n            //render new form after change\n            _Events2.default.listen(selectEl, 'change', handleFormChange);\n        }\n    }, {\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            var _this2 = this;\n\n            $scope.trinityTab = new _TrinityTab2.default();\n            var unlisteners = [];\n            //On tabs load\n            var app = this.getApp();\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n                //Edit tab\n                if (e.id === 'tab2') {\n                    // Collection\n                    $scope.collection = _lodash2.default.map((0, _jquery2.default)('[data-prototype]', e.element), function (node) {\n                        return new _Collection2.default(node, {\n                            addFirst: false,\n                            label: true,\n                            onAdd: function onAdd(el) {\n                                _lodash2.default.each((0, _jquery2.default)(el).find(':input'), function (input) {\n                                    return $scope.veniceForms[e.id].addInput(input);\n                                });\n                            },\n                            onDelete: function onDelete() {\n                                $scope.veniceForms[e.id].detach();\n                                $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                            }\n                        });\n                    });\n                    var formName = form.getAttribute('name'),\n                        contentType = formName.substr(0, formName.indexOf('_'));\n\n                    if (contentType === 'html' || contentType === 'iframe') {\n                        $scope[e.id] = app.parseScope();\n                        (0, _FroalaLib.startFroala)($scope[e.id].froalaInput);\n                    }\n\n                    $scope.veniceForms['tab2'].success(function () {\n                        return $scope.trinityTab.reload('tab1');\n                    });\n\n                    unlisteners.push(ContetntController._handleHandleGeneration());\n                } else if (e.id === 'tab3') {\n                    var container = _jquery2.default.id('product-grid');\n                    if (container) {\n                        $scope.productGrid = _VeniceGridBuilder2.default.build(container, _this2.request.query);\n                    }\n                }\n            });\n\n            $scope.trinityTab.addListener('tab-unload', function (e) {\n                switch (e.id) {\n                    // Edit\n                    case 'tab2':\n                        {\n                            _lodash2.default.each(unlisteners, function (fn) {\n                                return fn();\n                            });\n                        }break;\n                    default:\n                        break;\n                }\n\n                // All\n                if ($scope.veniceForms[e.id]) {\n                    $scope.veniceForms[e.id].detach();\n                }\n            });\n        }\n\n        /**\n         * New standard product action\n         * @param $scope\n         */\n\n    }, {\n        key: 'newContentProductAction',\n        value: function newContentProductAction($scope) {\n            //Attach VeniceForm\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"content_product_type_with_hidden_content\"]')[0]);\n        }\n    }, {\n        key: 'contentProductTabsAction',\n        value: function contentProductTabsAction($scope) {\n            $scope.trinityTab = new _TrinityTab2.default();\n            //On tabs load\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n\n                if (e.id === 'tab2') {\n                    $scope.veniceForms['tab2'].success(function () {\n                        $scope.trinityTab.reload('tab1');\n                    });\n                }\n            });\n        }\n    }], [{\n        key: '_handleHandleGeneration',\n        value: function _handleHandleGeneration() {\n            return (0, _GlobalLib.handleHandleGeneration)((0, _jquery2.default)('#javascript-inserted-form').attr('data-slugify'), _jquery2.default.id('group_content_name'), _jquery2.default.id('group_content_handle'));\n        }\n    }]);\n\n    return ContetntController;\n}(_Controller3.default);\n\nexports.default = ContetntController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvQ29udGVudENvbnRyb2xsZXIuanM/ZjI0OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgSmFrdWIgb24gMjEuMTIuMTUuXG4gKi9cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IEV2ZW50cyBmcm9tICd0cmluaXR5L3V0aWxzL0V2ZW50cyc7XG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICd0cmluaXR5L0NvbnRyb2xsZXInO1xuaW1wb3J0IFRyaW5pdHlUYWIgZnJvbSAndHJpbml0eS9jb21wb25lbnRzL1RyaW5pdHlUYWInO1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAndHJpbml0eS9Db2xsZWN0aW9uJztcbmltcG9ydCBWZW5pY2VGb3JtIGZyb20gJy4uL0xpYnJhcmllcy9WZW5pY2VGb3JtJztcbmltcG9ydCB7aGFuZGxlSGFuZGxlR2VuZXJhdGlvbn0gZnJvbSAnLi4vTGlicmFyaWVzL0dsb2JhbExpYic7XG5pbXBvcnQgRm9ybUNoYW5nZXIgZnJvbSAnLi4vTGlicmFyaWVzL0Zvcm1DaGFuZ2VyJztcbmltcG9ydCBHcmlkQnVpbGRlciBmcm9tICcuLi9MaWJyYXJpZXMvVmVuaWNlR3JpZEJ1aWxkZXInO1xuaW1wb3J0IHtzdGFydEZyb2FsYX0gZnJvbSAndHJpbml0eS91dGlscy9Gcm9hbGFMaWInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250ZXRudENvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcblxuICAgIGluZGV4QWN0aW9uKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUucHJvZHVjdEdyaWQgPSBHcmlkQnVpbGRlci5idWlsZCgkLmlkKCdjb250ZW50LWdyaWQnKSwgdGhpcy5yZXF1ZXN0LnF1ZXJ5KTtcbiAgICB9XG5cbiAgICBuZXdBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIGxldCBzZWxlY3RFbCA9ICQoJyNlbnRpdHlfdHlwZV9zZWxlY3QnKVswXSxcbiAgICAgICAgICAgICRqcUZvcm1EaXYgPSAkKCcjamF2YXNjcmlwdC1pbnNlcnRlZC1mb3JtJyksXG4gICAgICAgICAgICB1cmwgPSAkanFGb3JtRGl2LmF0dHIoJ2RhdGEtY2hhbmdlcicpLFxuICAgICAgICAgICAgdW5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgbGV0IGFwcCA9IHRoaXMuZ2V0QXBwKCk7XG4gICAgICAgIGxldCBoYW5kbGVGb3JtQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgXy5lYWNoKHVubGlzdGVuZXJzLCBmbiA9PiBmbigpKTtcblxuICAgICAgICAgICAgbGV0IHR5cGUgPSBzZWxlY3RFbC5vcHRpb25zW3NlbGVjdEVsLnNlbGVjdGVkSW5kZXhdLnZhbHVlO1xuICAgICAgICAgICAgRm9ybUNoYW5nZXIucmVmcmVzaEZvcm0oJGpxRm9ybURpdlswXSwgdXJsLnJlcGxhY2UoJ2NvbnRlbnRUeXBlJywgdHlwZSksICgpID0+IHtcblxuICAgICAgICAgICAgICAgICRzY29wZS5mb3JtID0gbmV3IFZlbmljZUZvcm0oJChgZm9ybVtuYW1lPVwiJHt0eXBlfV9jb250ZW50XCJdYClbMF0pO1xuICAgICAgICAgICAgICAgIGlmKHR5cGUgPT09ICdodG1sJyB8fCB0eXBlID09PSAnaWZyYW1lJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBsZXQgZnJvYWxhQ29udGFpbmVyID0gJChgIyR7dHlwZX1fY29udGVudF9odG1sYClbMF07XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0RnJvYWxhKGZyb2FsYUNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3JtU2NvcGUgPSBhcHAucGFyc2VTY29wZSgpO1xuICAgICAgICAgICAgICAgICAgICBzdGFydEZyb2FsYShmb3JtU2NvcGUuZnJvYWxhSW5wdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1bmxpc3RlbmVycy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBDb250ZXRudENvbnRyb2xsZXIuX2hhbmRsZUhhbmRsZUdlbmVyYXRpb24oKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSW5pdGlhbFxuICAgICAgICBoYW5kbGVGb3JtQ2hhbmdlKCk7XG4gICAgICAgIC8vcmVuZGVyIG5ldyBmb3JtIGFmdGVyIGNoYW5nZVxuICAgICAgICBFdmVudHMubGlzdGVuKHNlbGVjdEVsLCAnY2hhbmdlJywgaGFuZGxlRm9ybUNoYW5nZSk7XG4gICAgfVxuXG4gICAgdGFic0FjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIgPSBuZXcgVHJpbml0eVRhYigpO1xuICAgICAgICBsZXQgdW5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgLy9PbiB0YWJzIGxvYWRcbiAgICAgICAgbGV0IGFwcCA9IHRoaXMuZ2V0QXBwKCk7XG4gICAgICAgICRzY29wZS50cmluaXR5VGFiLmFkZExpc3RlbmVyKCd0YWItbG9hZCcsIChlKSA9PiB7XG4gICAgICAgICAgICBsZXQgZm9ybSA9ICQoJ2Zvcm0nLCBlLmVsZW1lbnQpWzBdO1xuICAgICAgICAgICAgaWYoZm9ybSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zID0gJHNjb3BlLnZlbmljZUZvcm1zIHx8IHt9O1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXSA9IG5ldyBWZW5pY2VGb3JtKGZvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9FZGl0IHRhYlxuICAgICAgICAgICAgaWYgKGUuaWQgPT09ICd0YWIyJykge1xuICAgICAgICAgICAgICAgIC8vIENvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICAkc2NvcGUuY29sbGVjdGlvbiA9IF8ubWFwKCQoJ1tkYXRhLXByb3RvdHlwZV0nLCBlLmVsZW1lbnQpLCAobm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbGxlY3Rpb24obm9kZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRmlyc3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkFkZDogZWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uZWFjaCgkKGVsKS5maW5kKCc6aW5wdXQnKSwgaW5wdXQgPT4gICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXS5hZGRJbnB1dChpbnB1dCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zW2UuaWRdLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXSA9IG5ldyBWZW5pY2VGb3JtKGZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZXQgZm9ybU5hbWUgPSBmb3JtLmdldEF0dHJpYnV0ZSgnbmFtZScpLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZSA9IGZvcm1OYW1lLnN1YnN0cigwLCBmb3JtTmFtZS5pbmRleE9mKCdfJykpO1xuXG4gICAgICAgICAgICAgICAgaWYoY29udGVudFR5cGUgPT09ICdodG1sJyB8fCBjb250ZW50VHlwZSA9PT0gJ2lmcmFtZScpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlW2UuaWRdID0gYXBwLnBhcnNlU2NvcGUoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRGcm9hbGEoJHNjb3BlW2UuaWRdLmZyb2FsYUlucHV0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXNbJ3RhYjInXS5zdWNjZXNzKCgpID0+ICRzY29wZS50cmluaXR5VGFiLnJlbG9hZCgndGFiMScpKTtcblxuICAgICAgICAgICAgICAgIHVubGlzdGVuZXJzLnB1c2goQ29udGV0bnRDb250cm9sbGVyLl9oYW5kbGVIYW5kbGVHZW5lcmF0aW9uKCkpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYoZS5pZCA9PT0gJ3RhYjMnKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9ICQuaWQoJ3Byb2R1Y3QtZ3JpZCcpO1xuICAgICAgICAgICAgICAgIGlmKGNvbnRhaW5lcil7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9kdWN0R3JpZCA9IEdyaWRCdWlsZGVyLmJ1aWxkKGNvbnRhaW5lciwgdGhpcy5yZXF1ZXN0LnF1ZXJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS50cmluaXR5VGFiLmFkZExpc3RlbmVyKCd0YWItdW5sb2FkJywgKGUpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaChlLmlkKXtcbiAgICAgICAgICAgICAgICAvLyBFZGl0XG4gICAgICAgICAgICAgICAgY2FzZSAndGFiMic6IHtcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKHVubGlzdGVuZXJzLCBmbiA9PiBmbigpKTtcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQgOiBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWxsXG4gICAgICAgICAgICBpZigkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0pe1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXS5kZXRhY2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmV3IHN0YW5kYXJkIHByb2R1Y3QgYWN0aW9uXG4gICAgICogQHBhcmFtICRzY29wZVxuICAgICAqL1xuICAgIG5ld0NvbnRlbnRQcm9kdWN0QWN0aW9uKCRzY29wZSkge1xuICAgICAgICAvL0F0dGFjaCBWZW5pY2VGb3JtXG4gICAgICAgICRzY29wZS5mb3JtID0gbmV3IFZlbmljZUZvcm0oJCgnZm9ybVtuYW1lPVwiY29udGVudF9wcm9kdWN0X3R5cGVfd2l0aF9oaWRkZW5fY29udGVudFwiXScpWzBdKTtcbiAgICB9XG5cbiAgICBjb250ZW50UHJvZHVjdFRhYnNBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS50cmluaXR5VGFiID0gbmV3IFRyaW5pdHlUYWIoKTtcbiAgICAgICAgLy9PbiB0YWJzIGxvYWRcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIuYWRkTGlzdGVuZXIoJ3RhYi1sb2FkJywgIGUgPT4ge1xuICAgICAgICAgICAgbGV0IGZvcm0gPSAkKCdmb3JtJywgZS5lbGVtZW50KVswXTtcbiAgICAgICAgICAgIGlmKGZvcm0pe1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3JtcyA9ICRzY29wZS52ZW5pY2VGb3JtcyB8fCB7fTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0gPSBuZXcgVmVuaWNlRm9ybShmb3JtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoZS5pZCA9PT0gJ3RhYjInKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zWyd0YWIyJ10uc3VjY2VzcygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50cmluaXR5VGFiLnJlbG9hZCgndGFiMScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2hhbmRsZUhhbmRsZUdlbmVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVIYW5kbGVHZW5lcmF0aW9uKFxuICAgICAgICAgICAgJCgnI2phdmFzY3JpcHQtaW5zZXJ0ZWQtZm9ybScpLmF0dHIoJ2RhdGEtc2x1Z2lmeScpLFxuICAgICAgICAgICAgJC5pZCgnZ3JvdXBfY29udGVudF9uYW1lJyksXG4gICAgICAgICAgICAkLmlkKCdncm91cF9jb250ZW50X2hhbmRsZScpXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvdmVuaWNlLWpzL0NvbnRyb2xsZXJzL0NvbnRlbnRDb250cm9sbGVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7O0FBZEE7Ozs7O0FBZUE7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFMQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBS0E7Ozs7OztBQXBJQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 526:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 8/20/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Dom = __webpack_require__(486);\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nvar _Events = __webpack_require__(483);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nvar _Store = __webpack_require__(527);\n\nvar _Store2 = _interopRequireDefault(_Store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Default settings of Collection Object\n * @type {{addButton: string, deleteButton: string, onAdd: null, onDelete: null, name: string}}\n */\nvar defaultSettings = {\n    addButton: '       <div class=\"collection-add display-inline-block\">\\n                <div class=\"span-medium-8 span-large-6 span-xlarge-10\"></div>\\n                <div class=\"display-inline-block\">\\n                    <a href=\"#\" id=\"addButton\" class=\"add-collection-item\">\\n                        <i class=\"tiecons tiecons-plus-radius-large\"></i>\\n                    </a>\\n                </div>\\n            </div>',\n    deleteButton: '       <a title=\"Remove item\" href=\"#\" id=\"deleteButton\" class=\"delete-collection-item\">\\n                <span class=\"trinity trinity-trash circle\"></span>\\n            </a>',\n    onAdd: null,\n    onDelete: null,\n    label: false,\n    addFirst: true,\n    name: '[Element Name]'\n};\n\n/**\n * Collection class, handles one layer of Collection form\n * @param element {HTMLElement}\n * @param [globalOptions] {Object}\n * @param [prototypeData] {PrototypeData}\n * @param [layer] {number}\n * @constructor\n */\n\nvar Collection = function () {\n    function Collection(element) {\n        var globalOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var prototypeData = arguments[2];\n        var layer = arguments[3];\n\n        _classCallCheck(this, Collection);\n\n        this.collectionHolder = element;\n        this.prototype = null;\n        this.protoChildren = [];\n        this.children = [];\n        this.globalOptions = globalOptions;\n        this.layer = layer || 0;\n        // Listeners\n        this.unlistenAddButton = null;\n\n        if (!prototypeData) {\n            prototypeData = __parsePrototypeData(element);\n            _Store2.default.setValue(element, 'collection', this);\n        }\n        this.settings = _lodash2.default.defaultsDeep({}, globalOptions, prototypeData.options, defaultSettings);\n        //this.settings = _.extend(_.clone(defaultSettings), (globalOptions ? _.extend(prototypeData.options, globalOptions) : prototypeData.options));\n        this.settings.addButton = _Dom2.default.htmlToDocumentFragment(this.settings.addButton.trim());\n        this.settings.deleteButton = _Dom2.default.htmlToDocumentFragment(this.settings.deleteButton.trim());\n\n        /** Make it live **/\n        __initialize.call(this, prototypeData);\n    }\n\n    /**\n     * Adds new child to collection\n     */\n\n\n    _createClass(Collection, [{\n        key: 'add',\n        value: function add() {\n            var settings = this.settings,\n                addButton = settings.addButton,\n                prototype = this.prototype,\n                prototypeChildren = this.protoChildren,\n\n            // children count?\n            childrenCount = _lodash2.default.filter(this.collectionHolder.children, function (node) {\n                return _Dom2.default.classlist.contains(node, 'collection-child');\n            }),\n\n            // Placeholders\n            newChildStr = __fillPlaceholders(settings['prototype_name'], settings.name, childrenCount.length, prototype);\n\n            var newChildNode = _Dom2.default.htmlToDocumentFragment(newChildStr.trim()),\n                child = new CollectionChild(newChildNode, childrenCount.length, this, prototypeChildren);\n\n            this.children.push(child);\n            __addRemoveBtn.call(this, child);\n\n            //Insert new Child\n            addButton.parentNode.insertBefore(newChildNode, addButton);\n\n            if (_lodash2.default.isFunction(settings.onAdd)) {\n                settings.onAdd(newChildNode);\n            }\n        }\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            _lodash2.default.each(this.children, function (child) {\n                child.detach();\n                child.remove();\n            });\n        }\n    }, {\n        key: 'detach',\n        value: function detach() {\n            _lodash2.default.each(this.children, function (child) {\n                return child.detach();\n            });\n            this.unlistenAddButton();\n        }\n    }]);\n\n    return Collection;\n}();\n\n/**\n * Initialize Collection object\n * @param data {PrototypeData}\n * @private\n */\n\n\nexports.default = Collection;\nfunction __initialize(data) {\n    var _this = this;\n\n    // init\n    var prototypeDom = _Dom2.default.htmlToDocumentFragment(data.prototype),\n        children = prototypeDom.querySelectorAll('[data-prototype]'),\n        protoChildren = _lodash2.default.map(children, function (node) {\n        return __parsePrototypeData(node);\n    });\n\n    this.prototype = __getHtmlString(prototypeDom);\n    this.protoChildren = protoChildren;\n    __addCreateBtn.call(this);\n\n    // Add class and delete button to children\n    this.children = (0, _lodash2.default)(this.collectionHolder.children).filter(function (node) {\n        return _Dom2.default.classlist.contains(node, 'row');\n    }).map(function (child, index) {\n        var newChild = new CollectionChild(child, index, _this);\n        __addRemoveBtn.call(_this, newChild);\n        return newChild;\n    }).value();\n\n    //Add first?\n    if (this.children.length === 0 && this.settings.addFirst) {\n        this.add();\n    }\n}\n\n/**\n * Parse prototype data from element and remove [data-prototype] and [data-options] values\n * [data-prototype] value is set to \"prototype_name\" of parsed element, found in options\n * @param element\n * @returns {PrototypeData}\n * @private\n */\nfunction __parsePrototypeData(element) {\n    var data = new PrototypeData(element.getAttribute('data-prototype'), JSON.parse(element.getAttribute('data-options')));\n    //clean up\n    element.removeAttribute('data-options');\n    element.setAttribute('data-prototype', data.options['prototype_name']);\n    return data;\n}\n\n/**\n * Add remove button to element\n * @param child {CollectionChild}\n * @private\n */\nfunction __addRemoveBtn(child) {\n    var _this2 = this;\n\n    var settings = this.settings,\n        removeButton = settings.deleteButton.cloneNode(true);\n\n    // right ID to delete button\n    removeButton.setAttribute('id', [removeButton.getAttribute('id'), child.node.getAttribute('id')].join('_'));\n\n    child.unlistenRemoveButton = _Events2.default.listenOnce(removeButton, 'click', function (e) {\n        // prevent the link from creating a \"#\" on the URL\n        e.preventDefault();\n\n        if (_lodash2.default.isFunction(settings.onDelete)) {\n            settings.onDelete(child.node);\n        }\n        var id = child.id;\n        // remove collection child\n        child.remove();\n        child.unlistenRemoveButton = null;\n        // Update all other children\n        _this2.children = _lodash2.default.filter(_this2.children, function (item) {\n            if (item.id > id) {\n                item.setID(item.id - 1);\n                return true;\n            }\n            return !(item.id === id);\n        });\n    });\n\n    //Append child to right\n    child.node.querySelector('.form-right').appendChild(removeButton);\n}\n\n/**\n * Add Add button to collection\n * @private\n */\nfunction __addCreateBtn() {\n    var _this3 = this;\n\n    var sett = this.settings;\n    this.unlistenAddButton = _Events2.default.listen(sett.addButton, 'click', function (e) {\n        e.preventDefault();\n        // add a new tag form (see next code block)\n        _this3.add();\n    });\n    //append add button\n    this.collectionHolder.appendChild(sett.addButton);\n}\n\n/**\n * Fills placeholders in prototype string\n * @param key {string}\n * @param name {string}\n * @param number {Number}\n * @param prototype {string}\n * @returns {XML|string}\n * @private\n */\nfunction __fillPlaceholders(key, name, number, prototype) {\n    var labelRegx = new RegExp(key + 'label__', 'g'),\n        nameRegx = new RegExp(key, 'g');\n    return prototype.replace(labelRegx, name + number).replace(nameRegx, '' + number);\n}\n\n/**\n * Return HTML string representation of HTML Element object\n * @param element {HTMLElement}\n * @returns {string}\n * @private\n */\nfunction __getHtmlString(element) {\n    var wrap = document.createElement('div');\n    wrap.appendChild(element);\n    return wrap.innerHTML;\n}\n\n/**\n * Remove label of node\n * @param node {HTMLElement}\n * @private\n */\nfunction _removeLabel(node) {\n    _Dom2.default.removeNode(node.querySelector('.form-left'));\n    var formRight = node.querySelector('.form-right');\n    _Dom2.default.classlist.removeAll(formRight, ['span-none-padding-medium-16', 'span-none-padding-large-18', 'span-none-padding-xlarge-14']);\n    _Dom2.default.classlist.addAll(formRight, ['span-none-padding-medium-24', 'span-none-padding-large-24', 'span-none-padding-xlarge-24']);\n}\n\n/**\n * Simple class which keeps basic prototype data\n * @class PrototypeData\n * @param proto {string}\n * @param options {Object}\n * @constructor\n */\n\nvar PrototypeData = function PrototypeData(proto, options) {\n    _classCallCheck(this, PrototypeData);\n\n    this.prototype = proto;\n    this.options = options;\n};\n\nvar SELECT_MAP = {\n    id: '[id]',\n    name: '[name]',\n    'for': 'label[for]'\n};\n\n/**\n * Class representing child of collection\n * @class CollectionChild\n * @param node {HTMLElement}\n * @param id {string}\n * @param parent {Collection}\n * @param [prototypeData] {Array}\n * @constructor\n */\n\nvar CollectionChild = function () {\n    function CollectionChild(node, id, parent, prototypeData) {\n        _classCallCheck(this, CollectionChild);\n\n        this.id = id;\n        this.node = node;\n        this.parent = parent;\n        this.unlistenRemoveButton = null;\n\n        _Dom2.default.classlist.add(node, 'collection-child');\n        //Label?\n        if (parent.settings.label === false) {\n            _removeLabel(node);\n        }\n\n        var prototypeElements = node.querySelectorAll('[data-prototype]');\n        if (prototypeElements.length > 0) {\n            this.collections = __initializeCollections.call(this, prototypeElements, prototypeData);\n        }\n    }\n\n    /**\n     * Safety remove of child\n     */\n\n\n    _createClass(CollectionChild, [{\n        key: 'remove',\n        value: function remove() {\n            _Dom2.default.removeNode(this.node);\n        }\n\n        /**\n         * Set ID of child and update all elements descendant\n         * @param id\n         */\n\n    }, {\n        key: 'setID',\n        value: function setID(id) {\n            var _this4 = this;\n\n            var layer = this.parent.layer;\n            this.id = id;\n            _lodash2.default.each(SELECT_MAP, function (selector, key) {\n                _lodash2.default.each(_this4.node.querySelectorAll(selector), function (el) {\n                    return __updateAttribute(el, id, layer, key);\n                });\n            });\n            // change to self\n            __updateAttribute(this.node, id, layer, 'id');\n        }\n    }, {\n        key: 'detach',\n        value: function detach() {\n            _lodash2.default.each(this.collections, function (coll) {\n                return coll.detach();\n            });\n            this.unlistenRemoveButton();\n        }\n    }]);\n\n    return CollectionChild;\n}();\n\n/**\n * Initialize new collections of child\n * @param prototypeElements {HTMLCollection | Array}\n * @param prototypeDataSource {Array}\n * @returns {*|Array}\n * @private\n */\n\n\nfunction __initializeCollections(prototypeElements, prototypeDataSource) {\n    var _this5 = this;\n\n    if (!prototypeDataSource) {\n        return _lodash2.default.map(prototypeElements, function (el) {\n            return _Store2.default.getValue(el, 'collection');\n        });\n    }\n    // Init next level\n    return _lodash2.default.map(prototypeElements, function (el) {\n        var prototypeName = el.getAttribute('data-prototype'),\n            prototypeData = _lodash2.default.cloneDeep(_lodash2.default.find(prototypeDataSource, function (data) {\n            return data.options['prototype_name'] === prototypeName;\n        }));\n        prototypeData.prototype = __fillPlaceholders(_this5.parent.settings['prototype_name'], _this5.parent.settings.name, _this5.id, prototypeData.prototype);\n        return new Collection(el, _this5.parent.globalOptions, prototypeData, _this5.parent.layer + 1);\n    });\n}\n\n/**\n * Change identifier on particular level of selected attribute\n * @param node {HTMLElement}\n * @param id {string}\n * @param layer {Number}\n * @param attribute {string}\n * @private\n */\nfunction __updateAttribute(node, id, layer, attribute) {\n    var isName = attribute === 'name',\n        regex = isName ? /\\[\\d]/g : /_\\d_|_\\d$/g,\n        parameterStr = node.getAttribute(attribute),\n        resultStr = '';\n\n    var i = 0,\n        rgxResult = null,\n        next = true;\n\n    while (next) {\n        rgxResult = regex.exec(parameterStr);\n        if (i === layer) {\n            resultStr += parameterStr.substring(0, rgxResult.index + 1);\n            resultStr += id;\n\n            if (!isName && parameterStr.length === rgxResult.index + rgxResult[0].length) {\n                break;\n            }\n            // Add trailing\n            resultStr += isName ? ']' : '_';\n            //Add end of string\n            resultStr += parameterStr.substring(rgxResult.index + rgxResult[0].length);\n            next = false;\n            break;\n        }\n        i++;\n    }\n    //Set new ID\n    node.setAttribute(attribute, resultStr);\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L0NvbGxlY3Rpb24uanM/OWYzYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgZmlzYSBvbiA4LzIwLzE1LlxuICovXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9sb2Rhc2ggPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxudmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblxudmFyIF9Eb20gPSByZXF1aXJlKCcuL3V0aWxzL0RvbScpO1xuXG52YXIgX0RvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Eb20pO1xuXG52YXIgX0V2ZW50cyA9IHJlcXVpcmUoJy4vdXRpbHMvRXZlbnRzJyk7XG5cbnZhciBfRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50cyk7XG5cbnZhciBfU3RvcmUgPSByZXF1aXJlKCcuL1N0b3JlJyk7XG5cbnZhciBfU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3RvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIERlZmF1bHQgc2V0dGluZ3Mgb2YgQ29sbGVjdGlvbiBPYmplY3RcbiAqIEB0eXBlIHt7YWRkQnV0dG9uOiBzdHJpbmcsIGRlbGV0ZUJ1dHRvbjogc3RyaW5nLCBvbkFkZDogbnVsbCwgb25EZWxldGU6IG51bGwsIG5hbWU6IHN0cmluZ319XG4gKi9cbnZhciBkZWZhdWx0U2V0dGluZ3MgPSB7XG4gICAgYWRkQnV0dG9uOiAnICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsZWN0aW9uLWFkZCBkaXNwbGF5LWlubGluZS1ibG9ja1wiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3Bhbi1tZWRpdW0tOCBzcGFuLWxhcmdlLTYgc3Bhbi14bGFyZ2UtMTBcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpc3BsYXktaW5saW5lLWJsb2NrXCI+XFxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGlkPVwiYWRkQnV0dG9uXCIgY2xhc3M9XCJhZGQtY29sbGVjdGlvbi1pdGVtXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJ0aWVjb25zIHRpZWNvbnMtcGx1cy1yYWRpdXMtbGFyZ2VcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PicsXG4gICAgZGVsZXRlQnV0dG9uOiAnICAgICAgIDxhIHRpdGxlPVwiUmVtb3ZlIGl0ZW1cIiBocmVmPVwiI1wiIGlkPVwiZGVsZXRlQnV0dG9uXCIgY2xhc3M9XCJkZWxldGUtY29sbGVjdGlvbi1pdGVtXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidHJpbml0eSB0cmluaXR5LXRyYXNoIGNpcmNsZVwiPjwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+JyxcbiAgICBvbkFkZDogbnVsbCxcbiAgICBvbkRlbGV0ZTogbnVsbCxcbiAgICBsYWJlbDogZmFsc2UsXG4gICAgYWRkRmlyc3Q6IHRydWUsXG4gICAgbmFtZTogJ1tFbGVtZW50IE5hbWVdJ1xufTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIGNsYXNzLCBoYW5kbGVzIG9uZSBsYXllciBvZiBDb2xsZWN0aW9uIGZvcm1cbiAqIEBwYXJhbSBlbGVtZW50IHtIVE1MRWxlbWVudH1cbiAqIEBwYXJhbSBbZ2xvYmFsT3B0aW9uc10ge09iamVjdH1cbiAqIEBwYXJhbSBbcHJvdG90eXBlRGF0YV0ge1Byb3RvdHlwZURhdGF9XG4gKiBAcGFyYW0gW2xheWVyXSB7bnVtYmVyfVxuICogQGNvbnN0cnVjdG9yXG4gKi9cblxudmFyIENvbGxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29sbGVjdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciBnbG9iYWxPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgdmFyIHByb3RvdHlwZURhdGEgPSBhcmd1bWVudHNbMl07XG4gICAgICAgIHZhciBsYXllciA9IGFyZ3VtZW50c1szXTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sbGVjdGlvbik7XG5cbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uSG9sZGVyID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5wcm90b3R5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLnByb3RvQ2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmdsb2JhbE9wdGlvbnMgPSBnbG9iYWxPcHRpb25zO1xuICAgICAgICB0aGlzLmxheWVyID0gbGF5ZXIgfHwgMDtcbiAgICAgICAgLy8gTGlzdGVuZXJzXG4gICAgICAgIHRoaXMudW5saXN0ZW5BZGRCdXR0b24gPSBudWxsO1xuXG4gICAgICAgIGlmICghcHJvdG90eXBlRGF0YSkge1xuICAgICAgICAgICAgcHJvdG90eXBlRGF0YSA9IF9fcGFyc2VQcm90b3R5cGVEYXRhKGVsZW1lbnQpO1xuICAgICAgICAgICAgX1N0b3JlMi5kZWZhdWx0LnNldFZhbHVlKGVsZW1lbnQsICdjb2xsZWN0aW9uJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IF9sb2Rhc2gyLmRlZmF1bHQuZGVmYXVsdHNEZWVwKHt9LCBnbG9iYWxPcHRpb25zLCBwcm90b3R5cGVEYXRhLm9wdGlvbnMsIGRlZmF1bHRTZXR0aW5ncyk7XG4gICAgICAgIC8vdGhpcy5zZXR0aW5ncyA9IF8uZXh0ZW5kKF8uY2xvbmUoZGVmYXVsdFNldHRpbmdzKSwgKGdsb2JhbE9wdGlvbnMgPyBfLmV4dGVuZChwcm90b3R5cGVEYXRhLm9wdGlvbnMsIGdsb2JhbE9wdGlvbnMpIDogcHJvdG90eXBlRGF0YS5vcHRpb25zKSk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuYWRkQnV0dG9uID0gX0RvbTIuZGVmYXVsdC5odG1sVG9Eb2N1bWVudEZyYWdtZW50KHRoaXMuc2V0dGluZ3MuYWRkQnV0dG9uLnRyaW0oKSk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZGVsZXRlQnV0dG9uID0gX0RvbTIuZGVmYXVsdC5odG1sVG9Eb2N1bWVudEZyYWdtZW50KHRoaXMuc2V0dGluZ3MuZGVsZXRlQnV0dG9uLnRyaW0oKSk7XG5cbiAgICAgICAgLyoqIE1ha2UgaXQgbGl2ZSAqKi9cbiAgICAgICAgX19pbml0aWFsaXplLmNhbGwodGhpcywgcHJvdG90eXBlRGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBuZXcgY2hpbGQgdG8gY29sbGVjdGlvblxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQ29sbGVjdGlvbiwgW3tcbiAgICAgICAga2V5OiAnYWRkJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZCgpIHtcbiAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgYWRkQnV0dG9uID0gc2V0dGluZ3MuYWRkQnV0dG9uLFxuICAgICAgICAgICAgICAgIHByb3RvdHlwZSA9IHRoaXMucHJvdG90eXBlLFxuICAgICAgICAgICAgICAgIHByb3RvdHlwZUNoaWxkcmVuID0gdGhpcy5wcm90b0NoaWxkcmVuLFxuXG4gICAgICAgICAgICAvLyBjaGlsZHJlbiBjb3VudD9cbiAgICAgICAgICAgIGNoaWxkcmVuQ291bnQgPSBfbG9kYXNoMi5kZWZhdWx0LmZpbHRlcih0aGlzLmNvbGxlY3Rpb25Ib2xkZXIuY2hpbGRyZW4sIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LmNvbnRhaW5zKG5vZGUsICdjb2xsZWN0aW9uLWNoaWxkJyk7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgLy8gUGxhY2Vob2xkZXJzXG4gICAgICAgICAgICBuZXdDaGlsZFN0ciA9IF9fZmlsbFBsYWNlaG9sZGVycyhzZXR0aW5nc1sncHJvdG90eXBlX25hbWUnXSwgc2V0dGluZ3MubmFtZSwgY2hpbGRyZW5Db3VudC5sZW5ndGgsIHByb3RvdHlwZSk7XG5cbiAgICAgICAgICAgIHZhciBuZXdDaGlsZE5vZGUgPSBfRG9tMi5kZWZhdWx0Lmh0bWxUb0RvY3VtZW50RnJhZ21lbnQobmV3Q2hpbGRTdHIudHJpbSgpKSxcbiAgICAgICAgICAgICAgICBjaGlsZCA9IG5ldyBDb2xsZWN0aW9uQ2hpbGQobmV3Q2hpbGROb2RlLCBjaGlsZHJlbkNvdW50Lmxlbmd0aCwgdGhpcywgcHJvdG90eXBlQ2hpbGRyZW4pO1xuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgX19hZGRSZW1vdmVCdG4uY2FsbCh0aGlzLCBjaGlsZCk7XG5cbiAgICAgICAgICAgIC8vSW5zZXJ0IG5ldyBDaGlsZFxuICAgICAgICAgICAgYWRkQnV0dG9uLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld0NoaWxkTm9kZSwgYWRkQnV0dG9uKTtcblxuICAgICAgICAgICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNGdW5jdGlvbihzZXR0aW5ncy5vbkFkZCkpIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5vbkFkZChuZXdDaGlsZE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW1vdmVBbGwnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQWxsKCkge1xuICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHRoaXMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgIGNoaWxkLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2RldGFjaCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2godGhpcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmRldGFjaCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuQWRkQnV0dG9uKCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29sbGVjdGlvbjtcbn0oKTtcblxuLyoqXG4gKiBJbml0aWFsaXplIENvbGxlY3Rpb24gb2JqZWN0XG4gKiBAcGFyYW0gZGF0YSB7UHJvdG90eXBlRGF0YX1cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBDb2xsZWN0aW9uO1xuZnVuY3Rpb24gX19pbml0aWFsaXplKGRhdGEpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy8gaW5pdFxuICAgIHZhciBwcm90b3R5cGVEb20gPSBfRG9tMi5kZWZhdWx0Lmh0bWxUb0RvY3VtZW50RnJhZ21lbnQoZGF0YS5wcm90b3R5cGUpLFxuICAgICAgICBjaGlsZHJlbiA9IHByb3RvdHlwZURvbS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm90b3R5cGVdJyksXG4gICAgICAgIHByb3RvQ2hpbGRyZW4gPSBfbG9kYXNoMi5kZWZhdWx0Lm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIF9fcGFyc2VQcm90b3R5cGVEYXRhKG5vZGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wcm90b3R5cGUgPSBfX2dldEh0bWxTdHJpbmcocHJvdG90eXBlRG9tKTtcbiAgICB0aGlzLnByb3RvQ2hpbGRyZW4gPSBwcm90b0NoaWxkcmVuO1xuICAgIF9fYWRkQ3JlYXRlQnRuLmNhbGwodGhpcyk7XG5cbiAgICAvLyBBZGQgY2xhc3MgYW5kIGRlbGV0ZSBidXR0b24gdG8gY2hpbGRyZW5cbiAgICB0aGlzLmNoaWxkcmVuID0gKDAsIF9sb2Rhc2gyLmRlZmF1bHQpKHRoaXMuY29sbGVjdGlvbkhvbGRlci5jaGlsZHJlbikuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJldHVybiBfRG9tMi5kZWZhdWx0LmNsYXNzbGlzdC5jb250YWlucyhub2RlLCAncm93Jyk7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIG5ld0NoaWxkID0gbmV3IENvbGxlY3Rpb25DaGlsZChjaGlsZCwgaW5kZXgsIF90aGlzKTtcbiAgICAgICAgX19hZGRSZW1vdmVCdG4uY2FsbChfdGhpcywgbmV3Q2hpbGQpO1xuICAgICAgICByZXR1cm4gbmV3Q2hpbGQ7XG4gICAgfSkudmFsdWUoKTtcblxuICAgIC8vQWRkIGZpcnN0P1xuICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCAmJiB0aGlzLnNldHRpbmdzLmFkZEZpcnN0KSB7XG4gICAgICAgIHRoaXMuYWRkKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFBhcnNlIHByb3RvdHlwZSBkYXRhIGZyb20gZWxlbWVudCBhbmQgcmVtb3ZlIFtkYXRhLXByb3RvdHlwZV0gYW5kIFtkYXRhLW9wdGlvbnNdIHZhbHVlc1xuICogW2RhdGEtcHJvdG90eXBlXSB2YWx1ZSBpcyBzZXQgdG8gXCJwcm90b3R5cGVfbmFtZVwiIG9mIHBhcnNlZCBlbGVtZW50LCBmb3VuZCBpbiBvcHRpb25zXG4gKiBAcGFyYW0gZWxlbWVudFxuICogQHJldHVybnMge1Byb3RvdHlwZURhdGF9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfX3BhcnNlUHJvdG90eXBlRGF0YShlbGVtZW50KSB7XG4gICAgdmFyIGRhdGEgPSBuZXcgUHJvdG90eXBlRGF0YShlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wcm90b3R5cGUnKSwgSlNPTi5wYXJzZShlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb25zJykpKTtcbiAgICAvL2NsZWFuIHVwXG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9ucycpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXByb3RvdHlwZScsIGRhdGEub3B0aW9uc1sncHJvdG90eXBlX25hbWUnXSk7XG4gICAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQWRkIHJlbW92ZSBidXR0b24gdG8gZWxlbWVudFxuICogQHBhcmFtIGNoaWxkIHtDb2xsZWN0aW9uQ2hpbGR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfX2FkZFJlbW92ZUJ0bihjaGlsZCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncyxcbiAgICAgICAgcmVtb3ZlQnV0dG9uID0gc2V0dGluZ3MuZGVsZXRlQnV0dG9uLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIC8vIHJpZ2h0IElEIHRvIGRlbGV0ZSBidXR0b25cbiAgICByZW1vdmVCdXR0b24uc2V0QXR0cmlidXRlKCdpZCcsIFtyZW1vdmVCdXR0b24uZ2V0QXR0cmlidXRlKCdpZCcpLCBjaGlsZC5ub2RlLmdldEF0dHJpYnV0ZSgnaWQnKV0uam9pbignXycpKTtcblxuICAgIGNoaWxkLnVubGlzdGVuUmVtb3ZlQnV0dG9uID0gX0V2ZW50czIuZGVmYXVsdC5saXN0ZW5PbmNlKHJlbW92ZUJ1dHRvbiwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gcHJldmVudCB0aGUgbGluayBmcm9tIGNyZWF0aW5nIGEgXCIjXCIgb24gdGhlIFVSTFxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNGdW5jdGlvbihzZXR0aW5ncy5vbkRlbGV0ZSkpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLm9uRGVsZXRlKGNoaWxkLm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZCA9IGNoaWxkLmlkO1xuICAgICAgICAvLyByZW1vdmUgY29sbGVjdGlvbiBjaGlsZFxuICAgICAgICBjaGlsZC5yZW1vdmUoKTtcbiAgICAgICAgY2hpbGQudW5saXN0ZW5SZW1vdmVCdXR0b24gPSBudWxsO1xuICAgICAgICAvLyBVcGRhdGUgYWxsIG90aGVyIGNoaWxkcmVuXG4gICAgICAgIF90aGlzMi5jaGlsZHJlbiA9IF9sb2Rhc2gyLmRlZmF1bHQuZmlsdGVyKF90aGlzMi5jaGlsZHJlbiwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmlkID4gaWQpIHtcbiAgICAgICAgICAgICAgICBpdGVtLnNldElEKGl0ZW0uaWQgLSAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAhKGl0ZW0uaWQgPT09IGlkKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvL0FwcGVuZCBjaGlsZCB0byByaWdodFxuICAgIGNoaWxkLm5vZGUucXVlcnlTZWxlY3RvcignLmZvcm0tcmlnaHQnKS5hcHBlbmRDaGlsZChyZW1vdmVCdXR0b24pO1xufVxuXG4vKipcbiAqIEFkZCBBZGQgYnV0dG9uIHRvIGNvbGxlY3Rpb25cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9fYWRkQ3JlYXRlQnRuKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIHNldHQgPSB0aGlzLnNldHRpbmdzO1xuICAgIHRoaXMudW5saXN0ZW5BZGRCdXR0b24gPSBfRXZlbnRzMi5kZWZhdWx0Lmxpc3RlbihzZXR0LmFkZEJ1dHRvbiwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvLyBhZGQgYSBuZXcgdGFnIGZvcm0gKHNlZSBuZXh0IGNvZGUgYmxvY2spXG4gICAgICAgIF90aGlzMy5hZGQoKTtcbiAgICB9KTtcbiAgICAvL2FwcGVuZCBhZGQgYnV0dG9uXG4gICAgdGhpcy5jb2xsZWN0aW9uSG9sZGVyLmFwcGVuZENoaWxkKHNldHQuYWRkQnV0dG9uKTtcbn1cblxuLyoqXG4gKiBGaWxscyBwbGFjZWhvbGRlcnMgaW4gcHJvdG90eXBlIHN0cmluZ1xuICogQHBhcmFtIGtleSB7c3RyaW5nfVxuICogQHBhcmFtIG5hbWUge3N0cmluZ31cbiAqIEBwYXJhbSBudW1iZXIge051bWJlcn1cbiAqIEBwYXJhbSBwcm90b3R5cGUge3N0cmluZ31cbiAqIEByZXR1cm5zIHtYTUx8c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19maWxsUGxhY2Vob2xkZXJzKGtleSwgbmFtZSwgbnVtYmVyLCBwcm90b3R5cGUpIHtcbiAgICB2YXIgbGFiZWxSZWd4ID0gbmV3IFJlZ0V4cChrZXkgKyAnbGFiZWxfXycsICdnJyksXG4gICAgICAgIG5hbWVSZWd4ID0gbmV3IFJlZ0V4cChrZXksICdnJyk7XG4gICAgcmV0dXJuIHByb3RvdHlwZS5yZXBsYWNlKGxhYmVsUmVneCwgbmFtZSArIG51bWJlcikucmVwbGFjZShuYW1lUmVneCwgJycgKyBudW1iZXIpO1xufVxuXG4vKipcbiAqIFJldHVybiBIVE1MIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBIVE1MIEVsZW1lbnQgb2JqZWN0XG4gKiBAcGFyYW0gZWxlbWVudCB7SFRNTEVsZW1lbnR9XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19nZXRIdG1sU3RyaW5nKGVsZW1lbnQpIHtcbiAgICB2YXIgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHdyYXAuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgcmV0dXJuIHdyYXAuaW5uZXJIVE1MO1xufVxuXG4vKipcbiAqIFJlbW92ZSBsYWJlbCBvZiBub2RlXG4gKiBAcGFyYW0gbm9kZSB7SFRNTEVsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfcmVtb3ZlTGFiZWwobm9kZSkge1xuICAgIF9Eb20yLmRlZmF1bHQucmVtb3ZlTm9kZShub2RlLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWxlZnQnKSk7XG4gICAgdmFyIGZvcm1SaWdodCA9IG5vZGUucXVlcnlTZWxlY3RvcignLmZvcm0tcmlnaHQnKTtcbiAgICBfRG9tMi5kZWZhdWx0LmNsYXNzbGlzdC5yZW1vdmVBbGwoZm9ybVJpZ2h0LCBbJ3NwYW4tbm9uZS1wYWRkaW5nLW1lZGl1bS0xNicsICdzcGFuLW5vbmUtcGFkZGluZy1sYXJnZS0xOCcsICdzcGFuLW5vbmUtcGFkZGluZy14bGFyZ2UtMTQnXSk7XG4gICAgX0RvbTIuZGVmYXVsdC5jbGFzc2xpc3QuYWRkQWxsKGZvcm1SaWdodCwgWydzcGFuLW5vbmUtcGFkZGluZy1tZWRpdW0tMjQnLCAnc3Bhbi1ub25lLXBhZGRpbmctbGFyZ2UtMjQnLCAnc3Bhbi1ub25lLXBhZGRpbmcteGxhcmdlLTI0J10pO1xufVxuXG4vKipcbiAqIFNpbXBsZSBjbGFzcyB3aGljaCBrZWVwcyBiYXNpYyBwcm90b3R5cGUgZGF0YVxuICogQGNsYXNzIFByb3RvdHlwZURhdGFcbiAqIEBwYXJhbSBwcm90byB7c3RyaW5nfVxuICogQHBhcmFtIG9wdGlvbnMge09iamVjdH1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5cbnZhciBQcm90b3R5cGVEYXRhID0gZnVuY3Rpb24gUHJvdG90eXBlRGF0YShwcm90bywgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm90b3R5cGVEYXRhKTtcblxuICAgIHRoaXMucHJvdG90eXBlID0gcHJvdG87XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbn07XG5cbnZhciBTRUxFQ1RfTUFQID0ge1xuICAgIGlkOiAnW2lkXScsXG4gICAgbmFtZTogJ1tuYW1lXScsXG4gICAgJ2Zvcic6ICdsYWJlbFtmb3JdJ1xufTtcblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgY2hpbGQgb2YgY29sbGVjdGlvblxuICogQGNsYXNzIENvbGxlY3Rpb25DaGlsZFxuICogQHBhcmFtIG5vZGUge0hUTUxFbGVtZW50fVxuICogQHBhcmFtIGlkIHtzdHJpbmd9XG4gKiBAcGFyYW0gcGFyZW50IHtDb2xsZWN0aW9ufVxuICogQHBhcmFtIFtwcm90b3R5cGVEYXRhXSB7QXJyYXl9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuXG52YXIgQ29sbGVjdGlvbkNoaWxkID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbGxlY3Rpb25DaGlsZChub2RlLCBpZCwgcGFyZW50LCBwcm90b3R5cGVEYXRhKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xsZWN0aW9uQ2hpbGQpO1xuXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMudW5saXN0ZW5SZW1vdmVCdXR0b24gPSBudWxsO1xuXG4gICAgICAgIF9Eb20yLmRlZmF1bHQuY2xhc3NsaXN0LmFkZChub2RlLCAnY29sbGVjdGlvbi1jaGlsZCcpO1xuICAgICAgICAvL0xhYmVsP1xuICAgICAgICBpZiAocGFyZW50LnNldHRpbmdzLmxhYmVsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgX3JlbW92ZUxhYmVsKG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb3RvdHlwZUVsZW1lbnRzID0gbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm90b3R5cGVdJyk7XG4gICAgICAgIGlmIChwcm90b3R5cGVFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb25zID0gX19pbml0aWFsaXplQ29sbGVjdGlvbnMuY2FsbCh0aGlzLCBwcm90b3R5cGVFbGVtZW50cywgcHJvdG90eXBlRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYWZldHkgcmVtb3ZlIG9mIGNoaWxkXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhDb2xsZWN0aW9uQ2hpbGQsIFt7XG4gICAgICAgIGtleTogJ3JlbW92ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgICAgICBfRG9tMi5kZWZhdWx0LnJlbW92ZU5vZGUodGhpcy5ub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgSUQgb2YgY2hpbGQgYW5kIHVwZGF0ZSBhbGwgZWxlbWVudHMgZGVzY2VuZGFudFxuICAgICAgICAgKiBAcGFyYW0gaWRcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldElEJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldElEKGlkKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIGxheWVyID0gdGhpcy5wYXJlbnQubGF5ZXI7XG4gICAgICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goU0VMRUNUX01BUCwgZnVuY3Rpb24gKHNlbGVjdG9yLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goX3RoaXM0Lm5vZGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX191cGRhdGVBdHRyaWJ1dGUoZWwsIGlkLCBsYXllciwga2V5KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gY2hhbmdlIHRvIHNlbGZcbiAgICAgICAgICAgIF9fdXBkYXRlQXR0cmlidXRlKHRoaXMubm9kZSwgaWQsIGxheWVyLCAnaWQnKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZGV0YWNoJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZWFjaCh0aGlzLmNvbGxlY3Rpb25zLCBmdW5jdGlvbiAoY29sbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsLmRldGFjaCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuUmVtb3ZlQnV0dG9uKCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29sbGVjdGlvbkNoaWxkO1xufSgpO1xuXG4vKipcbiAqIEluaXRpYWxpemUgbmV3IGNvbGxlY3Rpb25zIG9mIGNoaWxkXG4gKiBAcGFyYW0gcHJvdG90eXBlRWxlbWVudHMge0hUTUxDb2xsZWN0aW9uIHwgQXJyYXl9XG4gKiBAcGFyYW0gcHJvdG90eXBlRGF0YVNvdXJjZSB7QXJyYXl9XG4gKiBAcmV0dXJucyB7KnxBcnJheX1cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBfX2luaXRpYWxpemVDb2xsZWN0aW9ucyhwcm90b3R5cGVFbGVtZW50cywgcHJvdG90eXBlRGF0YVNvdXJjZSkge1xuICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgaWYgKCFwcm90b3R5cGVEYXRhU291cmNlKSB7XG4gICAgICAgIHJldHVybiBfbG9kYXNoMi5kZWZhdWx0Lm1hcChwcm90b3R5cGVFbGVtZW50cywgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gX1N0b3JlMi5kZWZhdWx0LmdldFZhbHVlKGVsLCAnY29sbGVjdGlvbicpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gSW5pdCBuZXh0IGxldmVsXG4gICAgcmV0dXJuIF9sb2Rhc2gyLmRlZmF1bHQubWFwKHByb3RvdHlwZUVsZW1lbnRzLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgdmFyIHByb3RvdHlwZU5hbWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvdG90eXBlJyksXG4gICAgICAgICAgICBwcm90b3R5cGVEYXRhID0gX2xvZGFzaDIuZGVmYXVsdC5jbG9uZURlZXAoX2xvZGFzaDIuZGVmYXVsdC5maW5kKHByb3RvdHlwZURhdGFTb3VyY2UsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5vcHRpb25zWydwcm90b3R5cGVfbmFtZSddID09PSBwcm90b3R5cGVOYW1lO1xuICAgICAgICB9KSk7XG4gICAgICAgIHByb3RvdHlwZURhdGEucHJvdG90eXBlID0gX19maWxsUGxhY2Vob2xkZXJzKF90aGlzNS5wYXJlbnQuc2V0dGluZ3NbJ3Byb3RvdHlwZV9uYW1lJ10sIF90aGlzNS5wYXJlbnQuc2V0dGluZ3MubmFtZSwgX3RoaXM1LmlkLCBwcm90b3R5cGVEYXRhLnByb3RvdHlwZSk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGVjdGlvbihlbCwgX3RoaXM1LnBhcmVudC5nbG9iYWxPcHRpb25zLCBwcm90b3R5cGVEYXRhLCBfdGhpczUucGFyZW50LmxheWVyICsgMSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQ2hhbmdlIGlkZW50aWZpZXIgb24gcGFydGljdWxhciBsZXZlbCBvZiBzZWxlY3RlZCBhdHRyaWJ1dGVcbiAqIEBwYXJhbSBub2RlIHtIVE1MRWxlbWVudH1cbiAqIEBwYXJhbSBpZCB7c3RyaW5nfVxuICogQHBhcmFtIGxheWVyIHtOdW1iZXJ9XG4gKiBAcGFyYW0gYXR0cmlidXRlIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfX3VwZGF0ZUF0dHJpYnV0ZShub2RlLCBpZCwgbGF5ZXIsIGF0dHJpYnV0ZSkge1xuICAgIHZhciBpc05hbWUgPSBhdHRyaWJ1dGUgPT09ICduYW1lJyxcbiAgICAgICAgcmVnZXggPSBpc05hbWUgPyAvXFxbXFxkXS9nIDogL19cXGRffF9cXGQkL2csXG4gICAgICAgIHBhcmFtZXRlclN0ciA9IG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSksXG4gICAgICAgIHJlc3VsdFN0ciA9ICcnO1xuXG4gICAgdmFyIGkgPSAwLFxuICAgICAgICByZ3hSZXN1bHQgPSBudWxsLFxuICAgICAgICBuZXh0ID0gdHJ1ZTtcblxuICAgIHdoaWxlIChuZXh0KSB7XG4gICAgICAgIHJneFJlc3VsdCA9IHJlZ2V4LmV4ZWMocGFyYW1ldGVyU3RyKTtcbiAgICAgICAgaWYgKGkgPT09IGxheWVyKSB7XG4gICAgICAgICAgICByZXN1bHRTdHIgKz0gcGFyYW1ldGVyU3RyLnN1YnN0cmluZygwLCByZ3hSZXN1bHQuaW5kZXggKyAxKTtcbiAgICAgICAgICAgIHJlc3VsdFN0ciArPSBpZDtcblxuICAgICAgICAgICAgaWYgKCFpc05hbWUgJiYgcGFyYW1ldGVyU3RyLmxlbmd0aCA9PT0gcmd4UmVzdWx0LmluZGV4ICsgcmd4UmVzdWx0WzBdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRkIHRyYWlsaW5nXG4gICAgICAgICAgICByZXN1bHRTdHIgKz0gaXNOYW1lID8gJ10nIDogJ18nO1xuICAgICAgICAgICAgLy9BZGQgZW5kIG9mIHN0cmluZ1xuICAgICAgICAgICAgcmVzdWx0U3RyICs9IHBhcmFtZXRlclN0ci5zdWJzdHJpbmcocmd4UmVzdWx0LmluZGV4ICsgcmd4UmVzdWx0WzBdLmxlbmd0aCk7XG4gICAgICAgICAgICBuZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIC8vU2V0IG5ldyBJRFxuICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgcmVzdWx0U3RyKTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHJpbml0eS9Db2xsZWN0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSA1MjZcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 527:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 8/20/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Private cache data storage\n * @type {Array}\n */\nvar _Data = [];\n\n/**\n * Stores values according to specified key and owner\n * Whole class is static\n */\nvar Store = {\n    /**\n     * Public function which returns Value or Null\n     * @param owner\n     * @param key\n     * @returns {*} | null\n     */\n    getValue: function getValue(owner, key) {\n        var item = __get(owner, key);\n        return item ? item.value : null;\n    },\n\n\n    /**\n     * Adds new or update existing data, If update returns old Item\n     * @param key\n     * @param value\n     * @param owner\n     * @returns {*}\n     */\n    setValue: function setValue(owner, key, value) {\n        var item = __get(owner, key),\n            old = null;\n\n        if (_lodash2.default.isNull(item)) {\n            old = new Item(owner, key, value);\n            _Data.push(old);\n        } else {\n            old = new Item(item.owner, item.key, item.value);\n            item.value = value;\n        }\n        return old.value;\n    },\n\n\n    /**\n     * Finds all data stored by this owner\n     * @param owner\n     * @returns {Array.<Item>} | null\n     */\n    getAll: function getAll(owner) {\n        var data = _Data.filter(function (item) {\n            return owner === item.owner;\n        });\n        return data.length === 0 ? null : data;\n    },\n\n\n    /**\n     * Remove stored value from Storage if owner and key exists\n     * @param owner\n     * @param key\n     * @returns {*} | null\n     */\n    remove: function remove(owner, key) {\n        var index = _lodash2.default.findIndex(_Data, function (item) {\n            return item.key === key && item.owner === owner;\n        });\n        return index ? _lodash2.default.pullAt(_Data, index).value : null;\n    }\n};\n\n/**\n * Wrapper for data stored in collection\n * @param key\n * @param value\n * @param owner\n */\n\nvar Item = function Item(owner, key, value) {\n    _classCallCheck(this, Item);\n\n    this.key = key;\n    this.value = value;\n    this.owner = owner;\n};\n\n/**\n * Export class representing data stored in Store\n * @type {Item}\n */\n\n\nStore.Item = Item;\n\n/**\n * Export private data property for texting purposes\n * @type {Array}\n * @private\n */\nStore._data = _Data;\n\n/**\n * Look for specified data by owner and key\n * @param key\n * @param owner\n * @returns {Item} | null\n * @private\n */\nfunction __get(owner, key) {\n    var length = _Data.length;\n    for (var i = 0; i < length; i++) {\n        if (owner === _Data[i].owner && key === _Data[i].key) {\n            return _Data[i];\n        }\n    }\n    return null;\n}\n\nexports.default = Store;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L1N0b3JlLmpzPzBiZGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGZpc2Egb24gOC8yMC8xNS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfbG9kYXNoID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbnZhciBfbG9kYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogUHJpdmF0ZSBjYWNoZSBkYXRhIHN0b3JhZ2VcbiAqIEB0eXBlIHtBcnJheX1cbiAqL1xudmFyIF9EYXRhID0gW107XG5cbi8qKlxuICogU3RvcmVzIHZhbHVlcyBhY2NvcmRpbmcgdG8gc3BlY2lmaWVkIGtleSBhbmQgb3duZXJcbiAqIFdob2xlIGNsYXNzIGlzIHN0YXRpY1xuICovXG52YXIgU3RvcmUgPSB7XG4gICAgLyoqXG4gICAgICogUHVibGljIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgVmFsdWUgb3IgTnVsbFxuICAgICAqIEBwYXJhbSBvd25lclxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKiBAcmV0dXJucyB7Kn0gfCBudWxsXG4gICAgICovXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKG93bmVyLCBrZXkpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBfX2dldChvd25lciwga2V5KTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLnZhbHVlIDogbnVsbDtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG5ldyBvciB1cGRhdGUgZXhpc3RpbmcgZGF0YSwgSWYgdXBkYXRlIHJldHVybnMgb2xkIEl0ZW1cbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICogQHBhcmFtIG93bmVyXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKG93bmVyLCBrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBpdGVtID0gX19nZXQob3duZXIsIGtleSksXG4gICAgICAgICAgICBvbGQgPSBudWxsO1xuXG4gICAgICAgIGlmIChfbG9kYXNoMi5kZWZhdWx0LmlzTnVsbChpdGVtKSkge1xuICAgICAgICAgICAgb2xkID0gbmV3IEl0ZW0ob3duZXIsIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgX0RhdGEucHVzaChvbGQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2xkID0gbmV3IEl0ZW0oaXRlbS5vd25lciwgaXRlbS5rZXksIGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgaXRlbS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvbGQudmFsdWU7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogRmluZHMgYWxsIGRhdGEgc3RvcmVkIGJ5IHRoaXMgb3duZXJcbiAgICAgKiBAcGFyYW0gb3duZXJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkuPEl0ZW0+fSB8IG51bGxcbiAgICAgKi9cbiAgICBnZXRBbGw6IGZ1bmN0aW9uIGdldEFsbChvd25lcikge1xuICAgICAgICB2YXIgZGF0YSA9IF9EYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIG93bmVyID09PSBpdGVtLm93bmVyO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRhdGEubGVuZ3RoID09PSAwID8gbnVsbCA6IGRhdGE7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHN0b3JlZCB2YWx1ZSBmcm9tIFN0b3JhZ2UgaWYgb3duZXIgYW5kIGtleSBleGlzdHNcbiAgICAgKiBAcGFyYW0gb3duZXJcbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICogQHJldHVybnMgeyp9IHwgbnVsbFxuICAgICAqL1xuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG93bmVyLCBrZXkpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gX2xvZGFzaDIuZGVmYXVsdC5maW5kSW5kZXgoX0RhdGEsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5rZXkgPT09IGtleSAmJiBpdGVtLm93bmVyID09PSBvd25lcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpbmRleCA/IF9sb2Rhc2gyLmRlZmF1bHQucHVsbEF0KF9EYXRhLCBpbmRleCkudmFsdWUgOiBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogV3JhcHBlciBmb3IgZGF0YSBzdG9yZWQgaW4gY29sbGVjdGlvblxuICogQHBhcmFtIGtleVxuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gb3duZXJcbiAqL1xuXG52YXIgSXRlbSA9IGZ1bmN0aW9uIEl0ZW0ob3duZXIsIGtleSwgdmFsdWUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSXRlbSk7XG5cbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5vd25lciA9IG93bmVyO1xufTtcblxuLyoqXG4gKiBFeHBvcnQgY2xhc3MgcmVwcmVzZW50aW5nIGRhdGEgc3RvcmVkIGluIFN0b3JlXG4gKiBAdHlwZSB7SXRlbX1cbiAqL1xuXG5cblN0b3JlLkl0ZW0gPSBJdGVtO1xuXG4vKipcbiAqIEV4cG9ydCBwcml2YXRlIGRhdGEgcHJvcGVydHkgZm9yIHRleHRpbmcgcHVycG9zZXNcbiAqIEB0eXBlIHtBcnJheX1cbiAqIEBwcml2YXRlXG4gKi9cblN0b3JlLl9kYXRhID0gX0RhdGE7XG5cbi8qKlxuICogTG9vayBmb3Igc3BlY2lmaWVkIGRhdGEgYnkgb3duZXIgYW5kIGtleVxuICogQHBhcmFtIGtleVxuICogQHBhcmFtIG93bmVyXG4gKiBAcmV0dXJucyB7SXRlbX0gfCBudWxsXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfX2dldChvd25lciwga2V5KSB7XG4gICAgdmFyIGxlbmd0aCA9IF9EYXRhLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChvd25lciA9PT0gX0RhdGFbaV0ub3duZXIgJiYga2V5ID09PSBfRGF0YVtpXS5rZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBfRGF0YVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gU3RvcmU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3RyaW5pdHkvU3RvcmUuanNcbi8vIG1vZHVsZSBpZCA9IDUyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 528:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Created by Jakub on 09.02.16.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _Gateway = __webpack_require__(491);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Used for switching similar forms and copying it's data from form to form\nvar FormChanger = function () {\n    function FormChanger() {\n        _classCallCheck(this, FormChanger);\n    }\n\n    _createClass(FormChanger, null, [{\n        key: \"refreshForm\",\n\n        /**\n         * Call the \"url\" to get a form which will be inserted into \"parentElement\".\n         * After inserting the form the data from old form are copied to the new form.\n         * The \"afterFormChange\" callback is called after the process.\n         *\n         * @param {Element}  parentElement    Element which will contain the form which will ge get from url\n         * @param {string}   url              Url which will be used to get the form\n         * @param {function} afterFormChange  Function which is called after the refreshing is done\n         */\n        value: function refreshForm(parentElement, url, afterFormChange) {\n            //call api and get form\n            _Gateway2.default.get(url, {}, function (response) {\n                //save data from old form\n                var oldHtml = parentElement.innerHTML;\n\n                // If the element already contains a form\n                // Change the form to the new form and copy the data\n                if (oldHtml.includes(\"<form\")) {\n                    var oldForm = parentElement.getElementsByTagName(\"form\")[0];\n\n                    parentElement.innerHTML = response.text;\n                    var newForm = parentElement.getElementsByTagName(\"form\")[0];\n\n                    //copy data to new form\n                    FormChanger.copyFormData(oldForm, newForm);\n                } else {\n                    parentElement.innerHTML = response.text;\n                }\n                if (typeof afterFormChange === 'function') {\n                    afterFormChange();\n                }\n            });\n        }\n    }, {\n        key: \"copyFormData\",\n        value: function copyFormData(oldForm, newForm) {\n            var oldInputs = FormChanger.getFormInputs(oldForm);\n            var newInputs = FormChanger.getFormInputs(newForm);\n\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = newInputs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var newFormInput = _step.value;\n\n                    var newInputName = FormChanger.getShortInputName(newFormInput);\n\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = oldInputs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var oldInput = _step2.value;\n\n                            //if the input names are the same\n                            if (newInputName !== \"[_token]\" && newInputName === FormChanger.getShortInputName(oldInput)) {\n                                if ('checkbox' === newFormInput.getAttribute('type')) {\n                                    newFormInput.checked = oldInput.checked;\n                                } else {\n                                    newFormInput.value = oldInput.value;\n                                }\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n    }, {\n        key: \"getShortInputName\",\n        value: function getShortInputName(formInput) {\n            // e.g. free_product[name]\n            var formInputFullName = formInput.getAttribute('name');\n\n            var leftSquareBracketIndex = formInputFullName.indexOf('[');\n            var rightSquareBracketIndex = formInputFullName.indexOf(']');\n\n            // e.g name\n            return formInputFullName.substr(leftSquareBracketIndex, rightSquareBracketIndex);\n        }\n    }, {\n        key: \"getFormInputs\",\n        value: function getFormInputs(form) {\n            var inputs = Array.prototype.slice.call(form.getElementsByTagName(\"input\"));\n            var textAreas = Array.prototype.slice.call(form.getElementsByTagName(\"textarea\"));\n            var formName = form.getAttribute('name');\n            var formTextAreas = [];\n            var formInputs = [];\n\n            inputs.forEach(function (input) {\n                //check if the input contains id of the form\n                if (input.getAttribute(\"id\") && -1 !== input.getAttribute(\"id\").indexOf(formName)) {\n                    formInputs.push(input);\n                }\n            });\n\n            textAreas.forEach(function (input) {\n                //check if the input contains id of the form\n                if (input.getAttribute(\"id\") && -1 !== input.getAttribute(\"id\").indexOf(formName)) {\n                    formTextAreas.push(input);\n                }\n            });\n\n            //convert node list of textareas and push it to the end of inputs\n            return formInputs.concat(formTextAreas);\n        }\n    }]);\n\n    return FormChanger;\n}();\n\nexports.default = FormChanger;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0Zvcm1DaGFuZ2VyLmpzPzM5N2EiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IEpha3ViIG9uIDA5LjAyLjE2LlxuICovXG5cbmltcG9ydCBHYXRld2F5IGZyb20gJ3RyaW5pdHkvR2F0ZXdheSc7XG5cbi8vIFVzZWQgZm9yIHN3aXRjaGluZyBzaW1pbGFyIGZvcm1zIGFuZCBjb3B5aW5nIGl0J3MgZGF0YSBmcm9tIGZvcm0gdG8gZm9ybVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybUNoYW5nZXIge1xuICAgIC8qKlxuICAgICAqIENhbGwgdGhlIFwidXJsXCIgdG8gZ2V0IGEgZm9ybSB3aGljaCB3aWxsIGJlIGluc2VydGVkIGludG8gXCJwYXJlbnRFbGVtZW50XCIuXG4gICAgICogQWZ0ZXIgaW5zZXJ0aW5nIHRoZSBmb3JtIHRoZSBkYXRhIGZyb20gb2xkIGZvcm0gYXJlIGNvcGllZCB0byB0aGUgbmV3IGZvcm0uXG4gICAgICogVGhlIFwiYWZ0ZXJGb3JtQ2hhbmdlXCIgY2FsbGJhY2sgaXMgY2FsbGVkIGFmdGVyIHRoZSBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSAgcGFyZW50RWxlbWVudCAgICBFbGVtZW50IHdoaWNoIHdpbGwgY29udGFpbiB0aGUgZm9ybSB3aGljaCB3aWxsIGdlIGdldCBmcm9tIHVybFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgIHVybCAgICAgICAgICAgICAgVXJsIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBnZXQgdGhlIGZvcm1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBhZnRlckZvcm1DaGFuZ2UgIEZ1bmN0aW9uIHdoaWNoIGlzIGNhbGxlZCBhZnRlciB0aGUgcmVmcmVzaGluZyBpcyBkb25lXG4gICAgICovXG4gICAgc3RhdGljIHJlZnJlc2hGb3JtKHBhcmVudEVsZW1lbnQsIHVybCwgYWZ0ZXJGb3JtQ2hhbmdlKSB7XG4gICAgICAgIC8vY2FsbCBhcGkgYW5kIGdldCBmb3JtXG4gICAgICAgIEdhdGV3YXkuZ2V0KHVybCwge30sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgLy9zYXZlIGRhdGEgZnJvbSBvbGQgZm9ybVxuICAgICAgICAgICAgbGV0IG9sZEh0bWwgPSBwYXJlbnRFbGVtZW50LmlubmVySFRNTDtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgYWxyZWFkeSBjb250YWlucyBhIGZvcm1cbiAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgZm9ybSB0byB0aGUgbmV3IGZvcm0gYW5kIGNvcHkgdGhlIGRhdGFcbiAgICAgICAgICAgIGlmIChvbGRIdG1sLmluY2x1ZGVzKFwiPGZvcm1cIikpIHtcbiAgICAgICAgICAgICAgICBsZXQgb2xkRm9ybSA9IHBhcmVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJmb3JtXCIpWzBdO1xuXG4gICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudC5pbm5lckhUTUwgPSByZXNwb25zZS50ZXh0O1xuICAgICAgICAgICAgICAgIGxldCBuZXdGb3JtID0gcGFyZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImZvcm1cIilbMF07XG5cbiAgICAgICAgICAgICAgICAvL2NvcHkgZGF0YSB0byBuZXcgZm9ybVxuICAgICAgICAgICAgICAgIEZvcm1DaGFuZ2VyLmNvcHlGb3JtRGF0YShvbGRGb3JtLCBuZXdGb3JtKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50LmlubmVySFRNTCA9IHJlc3BvbnNlLnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFmdGVyRm9ybUNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGFmdGVyRm9ybUNoYW5nZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY29weUZvcm1EYXRhKG9sZEZvcm0sIG5ld0Zvcm0pIHtcbiAgICAgICAgbGV0IG9sZElucHV0cyA9IEZvcm1DaGFuZ2VyLmdldEZvcm1JbnB1dHMob2xkRm9ybSk7XG4gICAgICAgIGxldCBuZXdJbnB1dHMgPSBGb3JtQ2hhbmdlci5nZXRGb3JtSW5wdXRzKG5ld0Zvcm0pO1xuXG4gICAgICAgIGZvciAobGV0IG5ld0Zvcm1JbnB1dCBvZiBuZXdJbnB1dHMpIHtcbiAgICAgICAgICAgIGxldCBuZXdJbnB1dE5hbWUgPSBGb3JtQ2hhbmdlci5nZXRTaG9ydElucHV0TmFtZShuZXdGb3JtSW5wdXQpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBvbGRJbnB1dCBvZiBvbGRJbnB1dHMpIHtcbiAgICAgICAgICAgICAgICAvL2lmIHRoZSBpbnB1dCBuYW1lcyBhcmUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICBpZiAobmV3SW5wdXROYW1lICE9PSBcIltfdG9rZW5dXCIgJiYgbmV3SW5wdXROYW1lID09PSBGb3JtQ2hhbmdlci5nZXRTaG9ydElucHV0TmFtZShvbGRJbnB1dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoJ2NoZWNrYm94JyA9PT0gbmV3Rm9ybUlucHV0LmdldEF0dHJpYnV0ZSgndHlwZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdGb3JtSW5wdXQuY2hlY2tlZCA9IG9sZElucHV0LmNoZWNrZWQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdGb3JtSW5wdXQudmFsdWUgPSBvbGRJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRTaG9ydElucHV0TmFtZShmb3JtSW5wdXQpIHtcbiAgICAgICAgLy8gZS5nLiBmcmVlX3Byb2R1Y3RbbmFtZV1cbiAgICAgICAgbGV0IGZvcm1JbnB1dEZ1bGxOYW1lID0gZm9ybUlucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuXG4gICAgICAgIGxldCBsZWZ0U3F1YXJlQnJhY2tldEluZGV4ID0gZm9ybUlucHV0RnVsbE5hbWUuaW5kZXhPZignWycpO1xuICAgICAgICBsZXQgcmlnaHRTcXVhcmVCcmFja2V0SW5kZXggPSBmb3JtSW5wdXRGdWxsTmFtZS5pbmRleE9mKCddJyk7XG5cbiAgICAgICAgLy8gZS5nIG5hbWVcbiAgICAgICAgcmV0dXJuIGZvcm1JbnB1dEZ1bGxOYW1lLnN1YnN0cihsZWZ0U3F1YXJlQnJhY2tldEluZGV4LCByaWdodFNxdWFyZUJyYWNrZXRJbmRleCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEZvcm1JbnB1dHMoZm9ybSkge1xuICAgICAgICBsZXQgaW5wdXRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZm9ybS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpKTtcbiAgICAgICAgbGV0IHRleHRBcmVhcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0ZXh0YXJlYVwiKSk7XG4gICAgICAgIGxldCBmb3JtTmFtZSA9IGZvcm0uZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICAgIGxldCBmb3JtVGV4dEFyZWFzID0gW107XG4gICAgICAgIGxldCBmb3JtSW5wdXRzID0gW107XG5cbiAgICAgICAgaW5wdXRzLmZvckVhY2goZnVuY3Rpb24oaW5wdXQpe1xuICAgICAgICAgICAgLy9jaGVjayBpZiB0aGUgaW5wdXQgY29udGFpbnMgaWQgb2YgdGhlIGZvcm1cbiAgICAgICAgICAgIGlmKGlucHV0LmdldEF0dHJpYnV0ZShcImlkXCIpICYmIC0xICE9PSBpbnB1dC5nZXRBdHRyaWJ1dGUoXCJpZFwiKS5pbmRleE9mKGZvcm1OYW1lKSkge1xuICAgICAgICAgICAgICAgIGZvcm1JbnB1dHMucHVzaChpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRleHRBcmVhcy5mb3JFYWNoKGZ1bmN0aW9uKGlucHV0KXtcbiAgICAgICAgICAgIC8vY2hlY2sgaWYgdGhlIGlucHV0IGNvbnRhaW5zIGlkIG9mIHRoZSBmb3JtXG4gICAgICAgICAgICBpZihpbnB1dC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSAmJiAtMSAhPT0gaW5wdXQuZ2V0QXR0cmlidXRlKFwiaWRcIikuaW5kZXhPZihmb3JtTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBmb3JtVGV4dEFyZWFzLnB1c2goaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvL2NvbnZlcnQgbm9kZSBsaXN0IG9mIHRleHRhcmVhcyBhbmQgcHVzaCBpdCB0byB0aGUgZW5kIG9mIGlucHV0c1xuICAgICAgICByZXR1cm4gZm9ybUlucHV0cy5jb25jYXQoZm9ybVRleHRBcmVhcyk7XG4gICAgfVxufVxuXG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0Zvcm1DaGFuZ2VyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUlBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBOzs7Ozs7OztBQUNBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWFBO0FBakJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFrQkE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQTFGQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 529:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Controller2 = __webpack_require__(475);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _TrinityTab = __webpack_require__(489);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _VeniceForm = __webpack_require__(476);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by Jakub Fajkus on 10.12.15.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ProductAccessController = function (_Controller) {\n    _inherits(ProductAccessController, _Controller);\n\n    function ProductAccessController() {\n        _classCallCheck(this, ProductAccessController);\n\n        return _possibleConstructorReturn(this, (ProductAccessController.__proto__ || Object.getPrototypeOf(ProductAccessController)).apply(this, arguments));\n    }\n\n    _createClass(ProductAccessController, [{\n        key: 'newAction',\n\n\n        /**\n         * New billing plan action\n         * @param $scope\n         */\n        value: function newAction($scope) {\n            //Attach VeniceForm\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"product_access\"]')[0]);\n        }\n    }, {\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            $scope.trinityTab = new _TrinityTab2.default();\n\n            //On tabs load\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n            });\n        }\n    }]);\n\n    return ProductAccessController;\n}(_Controller3.default);\n\nexports.default = ProductAccessController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvUHJvZHVjdEFjY2Vzc0NvbnRyb2xsZXIuanM/YTk3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgSmFrdWIgRmFqa3VzIG9uIDEwLjEyLjE1LlxuICovXG5cbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICd0cmluaXR5L0NvbnRyb2xsZXInO1xuaW1wb3J0IFRyaW5pdHlUYWIgZnJvbSAndHJpbml0eS9jb21wb25lbnRzL1RyaW5pdHlUYWInO1xuaW1wb3J0IFZlbmljZUZvcm0gZnJvbSAnLi4vTGlicmFyaWVzL1ZlbmljZUZvcm0nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9kdWN0QWNjZXNzQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge1xuXG4gICAgLyoqXG4gICAgICogTmV3IGJpbGxpbmcgcGxhbiBhY3Rpb25cbiAgICAgKiBAcGFyYW0gJHNjb3BlXG4gICAgICovXG4gICAgbmV3QWN0aW9uKCRzY29wZSkge1xuICAgICAgICAvL0F0dGFjaCBWZW5pY2VGb3JtXG4gICAgICAgICRzY29wZS5mb3JtID0gbmV3IFZlbmljZUZvcm0oJCgnZm9ybVtuYW1lPVwicHJvZHVjdF9hY2Nlc3NcIl0nKVswXSk7XG4gICAgfVxuXG4gICAgdGFic0FjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIgPSBuZXcgVHJpbml0eVRhYigpO1xuXG4gICAgICAgIC8vT24gdGFicyBsb2FkXG4gICAgICAgICRzY29wZS50cmluaXR5VGFiLmFkZExpc3RlbmVyKCd0YWItbG9hZCcsIChlKSA9PiB7XG4gICAgICAgICAgICBsZXQgZm9ybSA9ICQoJ2Zvcm0nLCBlLmVsZW1lbnQpWzBdO1xuICAgICAgICAgICAgaWYoZm9ybSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zID0gJHNjb3BlLnZlbmljZUZvcm1zIHx8IHt9O1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXSA9IG5ldyBWZW5pY2VGb3JtKGZvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvUHJvZHVjdEFjY2Vzc0NvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBSUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBUkE7Ozs7QUFTQTs7Ozs7Ozs7Ozs7OztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBdEJBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 530:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _VeniceForm = __webpack_require__(476);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _TrinityTab = __webpack_require__(489);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _GlobalLib = __webpack_require__(493);\n\nvar _BillingPlanGrid = __webpack_require__(531);\n\nvar _BillingPlanGrid2 = _interopRequireDefault(_BillingPlanGrid);\n\nvar _Controller2 = __webpack_require__(475);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _VeniceGridBuilder = __webpack_require__(497);\n\nvar _VeniceGridBuilder2 = _interopRequireDefault(_VeniceGridBuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by Jakub Fajkus on 10.12.15.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ProductController = function (_Controller) {\n    _inherits(ProductController, _Controller);\n\n    function ProductController() {\n        _classCallCheck(this, ProductController);\n\n        return _possibleConstructorReturn(this, (ProductController.__proto__ || Object.getPrototypeOf(ProductController)).apply(this, arguments));\n    }\n\n    _createClass(ProductController, [{\n        key: 'indexAction',\n        value: function indexAction($scope) {\n            $scope.productGrid = _VeniceGridBuilder2.default.build(_jquery2.default.id('product-grid'), this.request.query);\n        }\n    }, {\n        key: 'newAction',\n        value: function newAction($scope) {\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"free_product\"]')[0]);\n            ProductController._handleHandleGeneration();\n        }\n    }, {\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            var _this2 = this;\n\n            $scope.trinityTab = new _TrinityTab2.default();\n            var unlisteners = [];\n            //On tabs load\n            $scope.trinityTab.addListener('tab-load', function (e) {\n\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n\n                switch (e.id) {\n                    // Edit\n                    case 'tab2':\n                        {\n                            unlisteners.push(ProductController._handleHandleGeneration());\n\n                            $scope.veniceForms['tab2'].success(function () {\n                                $scope.trinityTab.reload('tab1');\n                            });\n                        }break;\n                    case 'tab3':\n                        {\n                            var container = _jquery2.default.id('content-grid');\n                            if (container) {\n                                $scope.contentGrid = _VeniceGridBuilder2.default.build(container, _this2.request.query);\n                            }\n                        }break;\n                    case 'tab4':\n                        {\n                            var _container = _jquery2.default.id('billing-plan-grid');\n                            if (_container) {\n                                $scope.bilingPlanGrid = _VeniceGridBuilder2.default.buildCustom(_container, _this2.request.query, _BillingPlanGrid2.default);\n                            }\n                        }break;\n                    case 'tab5':\n                        {\n                            $scope.articleGrid = _VeniceGridBuilder2.default.build(_jquery2.default.id('blog-article-grid'), _this2.request.query);\n                        }break;\n                    default:\n                        break;\n                }\n            });\n\n            $scope.trinityTab.addListener('tab-unload', function (e) {\n                switch (e.id) {\n                    // Edit\n                    case 'tab2':\n                        {\n                            _lodash2.default.each(unlisteners, function (fn) {\n                                return fn();\n                            });\n                        }break;\n                    default:\n                        break;\n                }\n                // All\n                if ($scope.veniceForms[e.id]) {\n                    $scope.veniceForms[e.id].detach();\n                }\n            });\n        }\n\n        /**\n         * TODO: @RichardBures\n         * @param $scope\n         */\n\n    }, {\n        key: 'newContentProductAction',\n        value: function newContentProductAction($scope) {\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"content_product_type_with_hidden_product\"]')[0]);\n        }\n    }], [{\n        key: '_handleHandleGeneration',\n        value: function _handleHandleGeneration() {\n            return (0, _GlobalLib.handleHandleGeneration)((0, _jquery2.default)('#product_form').attr('data-slugify'), _jquery2.default.id('free_product_name'), _jquery2.default.id('free_product_handle'));\n        }\n    }]);\n\n    return ProductController;\n}(_Controller3.default);\n\nexports.default = ProductController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvUHJvZHVjdENvbnRyb2xsZXIuanM/ODAwMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgSmFrdWIgRmFqa3VzIG9uIDEwLjEyLjE1LlxuICovXG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IFZlbmljZUZvcm0gZnJvbSAnLi4vTGlicmFyaWVzL1ZlbmljZUZvcm0nO1xuaW1wb3J0IFRyaW5pdHlUYWIgZnJvbSAndHJpbml0eS9jb21wb25lbnRzL1RyaW5pdHlUYWInO1xuaW1wb3J0IHtoYW5kbGVIYW5kbGVHZW5lcmF0aW9ufSBmcm9tICcuLi9MaWJyYXJpZXMvR2xvYmFsTGliJztcbmltcG9ydCBCaWxsaW5nUGxhbkdyaWQgZnJvbSAnLi4vQ3VzdG9tR3JpZHMvQmlsbGluZ1BsYW5HcmlkLmpzeCc7XG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICd0cmluaXR5L0NvbnRyb2xsZXInO1xuaW1wb3J0IEdyaWRCdWlsZGVyIGZyb20gJy4uL0xpYnJhcmllcy9WZW5pY2VHcmlkQnVpbGRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2R1Y3RDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG5cbiAgICBpbmRleEFjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnByb2R1Y3RHcmlkID0gR3JpZEJ1aWxkZXIuYnVpbGQoJC5pZCgncHJvZHVjdC1ncmlkJyksIHRoaXMucmVxdWVzdC5xdWVyeSk7XG4gICAgfVxuXG5cbiAgICBuZXdBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5mb3JtID0gbmV3IFZlbmljZUZvcm0oJCgnZm9ybVtuYW1lPVwiZnJlZV9wcm9kdWN0XCJdJylbMF0pO1xuICAgICAgICBQcm9kdWN0Q29udHJvbGxlci5faGFuZGxlSGFuZGxlR2VuZXJhdGlvbigpO1xuICAgIH1cblxuICAgIHRhYnNBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS50cmluaXR5VGFiID0gbmV3IFRyaW5pdHlUYWIoKTtcbiAgICAgICAgbGV0IHVubGlzdGVuZXJzID0gW107XG4gICAgICAgIC8vT24gdGFicyBsb2FkXG4gICAgICAgICRzY29wZS50cmluaXR5VGFiLmFkZExpc3RlbmVyKCd0YWItbG9hZCcsIChlKSA9PiB7XG5cbiAgICAgICAgICAgIGxldCBmb3JtID0gJCgnZm9ybScsIGUuZWxlbWVudClbMF07XG4gICAgICAgICAgICBpZihmb3JtKXtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXMgPSAkc2NvcGUudmVuaWNlRm9ybXMgfHwge307XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zW2UuaWRdID0gbmV3IFZlbmljZUZvcm0oZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHN3aXRjaChlLmlkKXtcbiAgICAgICAgICAgICAgICAvLyBFZGl0XG4gICAgICAgICAgICAgICAgY2FzZSAndGFiMic6IHtcbiAgICAgICAgICAgICAgICAgICAgdW5saXN0ZW5lcnMucHVzaChQcm9kdWN0Q29udHJvbGxlci5faGFuZGxlSGFuZGxlR2VuZXJhdGlvbigpKTtcblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXNbJ3RhYjInXS5zdWNjZXNzKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50cmluaXR5VGFiLnJlbG9hZCgndGFiMScpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RhYjMnOiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb250YWluZXIgPSAkLmlkKCdjb250ZW50LWdyaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoY29udGFpbmVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb250ZW50R3JpZCA9IEdyaWRCdWlsZGVyLmJ1aWxkKGNvbnRhaW5lciwgdGhpcy5yZXF1ZXN0LnF1ZXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndGFiNCc6e1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29udGFpbmVyID0gJC5pZCgnYmlsbGluZy1wbGFuLWdyaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoY29udGFpbmVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5iaWxpbmdQbGFuR3JpZCA9IEdyaWRCdWlsZGVyLmJ1aWxkQ3VzdG9tKGNvbnRhaW5lciwgdGhpcy5yZXF1ZXN0LnF1ZXJ5LCBCaWxsaW5nUGxhbkdyaWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0YWI1Jzp7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hcnRpY2xlR3JpZCA9IEdyaWRCdWlsZGVyLmJ1aWxkKCQuaWQoJ2Jsb2ctYXJ0aWNsZS1ncmlkJyksIHRoaXMucmVxdWVzdC5xdWVyeSk7XG4gICAgICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIuYWRkTGlzdGVuZXIoJ3RhYi11bmxvYWQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoKGUuaWQpe1xuICAgICAgICAgICAgICAgIC8vIEVkaXRcbiAgICAgICAgICAgICAgICBjYXNlICd0YWIyJzoge1xuICAgICAgICAgICAgICAgICAgICBfLmVhY2godW5saXN0ZW5lcnMsIGZuID0+IGZuKCkpO1xuICAgICAgICAgICAgICAgIH0gYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdCA6IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWxsXG4gICAgICAgICAgICBpZigkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0pe1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXS5kZXRhY2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVE9ETzogQFJpY2hhcmRCdXJlc1xuICAgICAqIEBwYXJhbSAkc2NvcGVcbiAgICAgKi9cbiAgICBuZXdDb250ZW50UHJvZHVjdEFjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLmZvcm0gPSBuZXcgVmVuaWNlRm9ybSgkKCdmb3JtW25hbWU9XCJjb250ZW50X3Byb2R1Y3RfdHlwZV93aXRoX2hpZGRlbl9wcm9kdWN0XCJdJylbMF0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBfaGFuZGxlSGFuZGxlR2VuZXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUhhbmRsZUdlbmVyYXRpb24oXG4gICAgICAgICAgICAkKCcjcHJvZHVjdF9mb3JtJykuYXR0cignZGF0YS1zbHVnaWZ5JyksXG4gICAgICAgICAgICAkLmlkKCdmcmVlX3Byb2R1Y3RfbmFtZScpLFxuICAgICAgICAgICAgJC5pZCgnZnJlZV9wcm9kdWN0X2hhbmRsZScpKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvUHJvZHVjdENvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBSUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7OztBQVpBOzs7O0FBYUE7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQXhCQTtBQTBCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUlBOzs7Ozs7QUFoRkEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 531:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(191);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _DefaultGrid2 = __webpack_require__(504);\n\nvar _DefaultGrid3 = _interopRequireDefault(_DefaultGrid2);\n\nvar _Services = __webpack_require__(488);\n\nvar _Gateway = __webpack_require__(491);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar iconSetting = {\n    \"set\": { \"iClass\": \"trinity trinity-pin\" },\n    \"is\": { \"iClass\": \"trinity trinity-yes\" },\n    \"unset\": { \"iClass\": \"trinity trinity-close\" },\n    \"loading\": { \"iClass\": \"tiecons tiecons-loading tiecons-rotate\" }\n},\n    isState = 'is',\n    unsetState = 'unset',\n    setState = 'set',\n    loadState = 'loading',\n    stateAttr = 'data-state';\n\nvar BillingPlanGrid = function (_DefaultGrid) {\n    _inherits(BillingPlanGrid, _DefaultGrid);\n\n    function BillingPlanGrid(props) {\n        _classCallCheck(this, BillingPlanGrid);\n\n        var _this = _possibleConstructorReturn(this, (BillingPlanGrid.__proto__ || Object.getPrototypeOf(BillingPlanGrid)).call(this, props));\n\n        _this.defOnVenice = [];\n        return _this;\n    }\n\n    _createClass(BillingPlanGrid, [{\n        key: 'changeOtherIconts',\n        value: function changeOtherIconts(icon) {\n            console.log('called on', icon);\n            _lodash2.default.each(this.defOnVenice, function (ci) {\n                if (ci !== icon) {\n                    (0, _jquery2.default)(ci).attr(stateAttr, setState);\n                    ci.className = iconSetting[(0, _jquery2.default)(ci).attr(stateAttr)].iClass;\n                }\n            });\n        }\n    }, {\n        key: 'renderRows',\n        value: function renderRows() {\n            var _this2 = this;\n\n            this.useDetail = false;\n\n            return _lodash2.default.map(this.state.data, function (el, i) {\n                var dataColumns = _lodash2.default.map(_this2.columns, function (col, i) {\n                    var colProps = {\n                        key: i,\n                        style: col.hidden ? { 'display': 'none' } : {},\n                        className: col.className\n                    };\n                    if (col.name === 'veniceDefault') {\n                        // todo someday make class from all of this\n                        var elem = (0, _jquery2.default)(el[col.name]),\n                            divState = elem.attr(stateAttr),\n                            url = elem.attr('data-href'),\n                            icon = void 0,\n                            onClick = function onClick() {\n                            if ((0, _jquery2.default)(icon).attr(stateAttr) === setState) {\n                                (0, _jquery2.default)(icon).attr(stateAttr, loadState);\n                                icon.className = iconSetting[(0, _jquery2.default)(icon).attr(stateAttr)].iClass;\n                                _Gateway2.default.post(url, null, function () {\n                                    (0, _jquery2.default)(icon).attr(stateAttr, isState);\n                                    icon.className = iconSetting[(0, _jquery2.default)(icon).attr(stateAttr)].iClass;\n                                    _this2.changeOtherIconts(icon);\n                                }, function (err) {\n                                    console.log(err);\n                                });\n                            } else if ((0, _jquery2.default)(icon).attr(stateAttr) === unsetState) {\n                                (0, _jquery2.default)(icon).attr(stateAttr, loadState);\n                                icon.className = iconSetting[(0, _jquery2.default)(icon).attr(stateAttr)].iClass;\n                                _Gateway2.default.post(url, { unset: true }, function () {\n                                    (0, _jquery2.default)(icon).attr(stateAttr, setState);\n                                    icon.className = iconSetting[(0, _jquery2.default)(icon).attr(stateAttr)].iClass;\n                                }, function (err) {\n                                    console.log(err);\n                                });\n                            }\n                        },\n                            toggle = function toggle(enter) {\n                            if ((0, _jquery2.default)(icon).attr(stateAttr) === isState || (0, _jquery2.default)(icon).attr(stateAttr) === unsetState) {\n                                if (enter) {\n                                    (0, _jquery2.default)(icon).attr(stateAttr, unsetState);\n                                    icon.className = iconSetting[(0, _jquery2.default)(icon).attr(stateAttr)].iClass;\n                                } else {\n                                    (0, _jquery2.default)(icon).attr(stateAttr, isState);\n                                    icon.className = iconSetting[(0, _jquery2.default)(icon).attr(stateAttr)].iClass;\n                                }\n                            }\n                        };\n                        return _react2.default.createElement(\n                            'td',\n                            colProps,\n                            _react2.default.createElement(\n                                'div',\n                                null,\n                                _react2.default.createElement('i', {\n                                    onClick: onClick,\n                                    onMouseEnter: toggle.bind(_this2, true),\n                                    onMouseLeave: toggle.bind(_this2, false),\n                                    ref: function ref(input) {\n                                        icon = input;\n                                        (0, _jquery2.default)(icon).attr(stateAttr, divState);\n                                        _this2.defOnVenice.push(icon);\n                                    },\n                                    style: { cursor: 'pointer' },\n                                    className: iconSetting[elem.attr(stateAttr)].iClass\n                                })\n                            )\n                        );\n                    }\n                    colProps.dangerouslySetInnerHTML = { __html: el[col.name] };\n                    return _react2.default.createElement('td', colProps);\n                });\n                return _react2.default.createElement(\n                    'tr',\n                    { key: '' + i + el._id },\n                    dataColumns\n                );\n            });\n        }\n    }]);\n\n    return BillingPlanGrid;\n}(_DefaultGrid3.default);\n\nexports.default = BillingPlanGrid;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ3VzdG9tR3JpZHMvQmlsbGluZ1BsYW5HcmlkLmpzeD8xNTE1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERlZmF1bHRHcmlkIGZyb20gJy4uL0xpYnJhcmllcy9HcmlkL0RlZmF1bHRHcmlkLmpzeCc7XG5pbXBvcnQge21lc3NhZ2VTZXJ2aWNlfSBmcm9tICd0cmluaXR5L1NlcnZpY2VzJztcbmltcG9ydCBHYXRld2F5IGZyb20gJ3RyaW5pdHkvR2F0ZXdheSc7XG5cbmNvbnN0IGljb25TZXR0aW5nID0ge1xuICAgICAgICBcInNldFwiOiB7XCJpQ2xhc3NcIjogXCJ0cmluaXR5IHRyaW5pdHktcGluXCJ9LFxuICAgICAgICBcImlzXCI6IHtcImlDbGFzc1wiOiBcInRyaW5pdHkgdHJpbml0eS15ZXNcIn0sXG4gICAgICAgIFwidW5zZXRcIjoge1wiaUNsYXNzXCI6IFwidHJpbml0eSB0cmluaXR5LWNsb3NlXCJ9LFxuICAgICAgICBcImxvYWRpbmdcIjoge1wiaUNsYXNzXCI6IFwidGllY29ucyB0aWVjb25zLWxvYWRpbmcgdGllY29ucy1yb3RhdGVcIn1cbiAgICB9LFxuICAgIGlzU3RhdGUgPSAnaXMnLFxuICAgIHVuc2V0U3RhdGUgPSAndW5zZXQnLFxuICAgIHNldFN0YXRlID0gJ3NldCcsXG4gICAgbG9hZFN0YXRlID0gJ2xvYWRpbmcnLFxuICAgIHN0YXRlQXR0ciA9ICdkYXRhLXN0YXRlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmlsbGluZ1BsYW5HcmlkIGV4dGVuZHMgRGVmYXVsdEdyaWQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5kZWZPblZlbmljZSA9IFtdO1xuICAgIH1cblxuICAgIGNoYW5nZU90aGVySWNvbnRzKGljb24pe1xuICAgICAgICBjb25zb2xlLmxvZygnY2FsbGVkIG9uJywgaWNvbik7XG4gICAgICAgIF8uZWFjaCh0aGlzLmRlZk9uVmVuaWNlLCBjaSA9PiB7XG4gICAgICAgICAgICBpZihjaSAhPT0gaWNvbil7XG4gICAgICAgICAgICAgICAgJChjaSkuYXR0cihzdGF0ZUF0dHIsIHNldFN0YXRlKTtcbiAgICAgICAgICAgICAgICBjaS5jbGFzc05hbWUgPSBpY29uU2V0dGluZ1skKGNpKS5hdHRyKHN0YXRlQXR0cildLmlDbGFzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyUm93cygpIHtcbiAgICAgICAgdGhpcy51c2VEZXRhaWwgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gXy5tYXAodGhpcy5zdGF0ZS5kYXRhLCAoZWwsIGkpID0+IHtcbiAgICAgICAgICAgIGxldCBkYXRhQ29sdW1ucyA9IF8ubWFwKHRoaXMuY29sdW1ucywgKGNvbCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjb2xQcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBpLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogY29sLmhpZGRlbiA/IHsnZGlzcGxheSc6ICdub25lJ30gOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjb2wuY2xhc3NOYW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoY29sLm5hbWUgPT09ICd2ZW5pY2VEZWZhdWx0JykgeyAgLy8gdG9kbyBzb21lZGF5IG1ha2UgY2xhc3MgZnJvbSBhbGwgb2YgdGhpc1xuICAgICAgICAgICAgICAgICAgICBsZXQgZWxlbSA9ICQoZWxbY29sLm5hbWVdKSwgZGl2U3RhdGUgPSBlbGVtLmF0dHIoc3RhdGVBdHRyKSAsdXJsID0gZWxlbS5hdHRyKCdkYXRhLWhyZWYnKSwgaWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoaWNvbikuYXR0cihzdGF0ZUF0dHIpID09PSBzZXRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGljb24pLmF0dHIoc3RhdGVBdHRyLCBsb2FkU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uLmNsYXNzTmFtZSA9IGljb25TZXR0aW5nWyQoaWNvbikuYXR0cihzdGF0ZUF0dHIpXS5pQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhdGV3YXkucG9zdCh1cmwsIG51bGwsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaWNvbikuYXR0cihzdGF0ZUF0dHIsIGlzU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbi5jbGFzc05hbWUgPSBpY29uU2V0dGluZ1skKGljb24pLmF0dHIoc3RhdGVBdHRyKV0uaUNsYXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VPdGhlckljb250cyhpY29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJChpY29uKS5hdHRyKHN0YXRlQXR0cikgPT09IHVuc2V0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpY29uKS5hdHRyKHN0YXRlQXR0ciwgbG9hZFN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbi5jbGFzc05hbWUgPSBpY29uU2V0dGluZ1skKGljb24pLmF0dHIoc3RhdGVBdHRyKV0uaUNsYXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYXRld2F5LnBvc3QodXJsLCB7dW5zZXQ6IHRydWV9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGljb24pLmF0dHIoc3RhdGVBdHRyLCBzZXRTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uLmNsYXNzTmFtZSA9IGljb25TZXR0aW5nWyQoaWNvbikuYXR0cihzdGF0ZUF0dHIpXS5pQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlID0gKGVudGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoaWNvbikuYXR0cihzdGF0ZUF0dHIpID09PSBpc1N0YXRlIHx8ICQoaWNvbikuYXR0cihzdGF0ZUF0dHIpID09PSB1bnNldFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVudGVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaWNvbikuYXR0cihzdGF0ZUF0dHIsIHVuc2V0U3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbi5jbGFzc05hbWUgPSBpY29uU2V0dGluZ1skKGljb24pLmF0dHIoc3RhdGVBdHRyKV0uaUNsYXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpY29uKS5hdHRyKHN0YXRlQXR0ciwgaXNTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uLmNsYXNzTmFtZSA9IGljb25TZXR0aW5nWyQoaWNvbikuYXR0cihzdGF0ZUF0dHIpXS5pQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHsuLi5jb2xQcm9wc30gPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXt0b2dnbGUuYmluZCh0aGlzLHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXt0b2dnbGUuYmluZCh0aGlzLGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17aW5wdXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb24gPSBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGljb24pLmF0dHIoc3RhdGVBdHRyLGRpdlN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZk9uVmVuaWNlLnB1c2goaWNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tjdXJzb3I6ICdwb2ludGVyJ319XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2ljb25TZXR0aW5nW2VsZW0uYXR0cihzdGF0ZUF0dHIpXS5pQ2xhc3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb2xQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9IHtfX2h0bWw6IGVsW2NvbC5uYW1lXX07XG4gICAgICAgICAgICAgICAgcmV0dXJuIDx0ZCB7Li4uY29sUHJvcHN9IC8+O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDx0ciBrZXk9eycnICsgaSArIGVsLl9pZH0+XG4gICAgICAgICAgICAgICAgICAgIHtkYXRhQ29sdW1uc31cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvdmVuaWNlLWpzL0N1c3RvbUdyaWRzL0JpbGxpbmdQbGFuR3JpZC5qc3giXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFXQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRkE7QUFHQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdEJBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBREE7QUFEQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFJQTtBQUNBOzs7Ozs7QUF6RkEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 532:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Controller2 = __webpack_require__(475);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _TrinityTab = __webpack_require__(489);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _VeniceForm = __webpack_require__(476);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _VeniceGridBuilder = __webpack_require__(497);\n\nvar _VeniceGridBuilder2 = _interopRequireDefault(_VeniceGridBuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by Jakub Fajkus on 28.12.15.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ContetntController = function (_Controller) {\n    _inherits(ContetntController, _Controller);\n\n    function ContetntController() {\n        _classCallCheck(this, ContetntController);\n\n        return _possibleConstructorReturn(this, (ContetntController.__proto__ || Object.getPrototypeOf(ContetntController)).apply(this, arguments));\n    }\n\n    _createClass(ContetntController, [{\n        key: 'indexAction',\n        value: function indexAction($scope) {\n            $scope.productGrid = _VeniceGridBuilder2.default.build(_jquery2.default.id('user-grid'), this.request.query);\n        }\n\n        /**\n         * @param $scope\n         */\n\n    }, {\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            var _this2 = this;\n\n            //Tell trinity there is tab to be loaded\n            $scope.trinityTab = new _TrinityTab2.default();\n\n            //On tabs load\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n                if (e.id === 'tab2') {\n                    $scope.veniceForms['tab2'].success(function () {\n                        $scope.trinityTab.reload('tab1');\n                    });\n                } else if (e.id === 'tab3') {\n                    var gridConf = _jquery2.default.id('product-access-grid');\n                    if (gridConf) {\n                        $scope.userGrid = _VeniceGridBuilder2.default.build(gridConf, _this2.request.query);\n                    }\n                }\n            });\n        }\n    }]);\n\n    return ContetntController;\n}(_Controller3.default);\n\nexports.default = ContetntController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXIuanM/Y2IxNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgSmFrdWIgRmFqa3VzIG9uIDI4LjEyLjE1LlxuICovXG5cbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICd0cmluaXR5L0NvbnRyb2xsZXInO1xuaW1wb3J0IFRyaW5pdHlUYWIgZnJvbSAndHJpbml0eS9jb21wb25lbnRzL1RyaW5pdHlUYWInO1xuaW1wb3J0IFZlbmljZUZvcm0gZnJvbSAnLi4vTGlicmFyaWVzL1ZlbmljZUZvcm0nO1xuaW1wb3J0IEdyaWRCdWlsZGVyIGZyb20gJy4uL0xpYnJhcmllcy9WZW5pY2VHcmlkQnVpbGRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRldG50Q29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge1xuXG4gICAgaW5kZXhBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5wcm9kdWN0R3JpZCA9IEdyaWRCdWlsZGVyLmJ1aWxkKCQuaWQoJ3VzZXItZ3JpZCcpLCB0aGlzLnJlcXVlc3QucXVlcnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSAkc2NvcGVcbiAgICAgKi9cbiAgICB0YWJzQWN0aW9uKCRzY29wZSkge1xuICAgICAgICAvL1RlbGwgdHJpbml0eSB0aGVyZSBpcyB0YWIgdG8gYmUgbG9hZGVkXG4gICAgICAgICRzY29wZS50cmluaXR5VGFiID0gbmV3IFRyaW5pdHlUYWIoKTtcblxuICAgICAgICAvL09uIHRhYnMgbG9hZFxuICAgICAgICAkc2NvcGUudHJpbml0eVRhYi5hZGRMaXN0ZW5lcigndGFiLWxvYWQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgbGV0IGZvcm0gPSAkKCdmb3JtJywgZS5lbGVtZW50KVswXTtcbiAgICAgICAgICAgIGlmKGZvcm0pe1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3JtcyA9ICRzY29wZS52ZW5pY2VGb3JtcyB8fCB7fTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0gPSBuZXcgVmVuaWNlRm9ybShmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGUuaWQgPT09ICd0YWIyJykge1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1sndGFiMiddLnN1Y2Nlc3MoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudHJpbml0eVRhYi5yZWxvYWQoJ3RhYjEnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5pZCA9PT0gJ3RhYjMnKSB7XG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb25mID0gJC5pZCgncHJvZHVjdC1hY2Nlc3MtZ3JpZCcpO1xuICAgICAgICAgICAgICAgIGlmKGdyaWRDb25mKXtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJHcmlkID0gR3JpZEJ1aWxkZXIuYnVpbGQoZ3JpZENvbmYsIHRoaXMucmVxdWVzdC5xdWVyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBSUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBVEE7Ozs7QUFVQTs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBL0JBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 533:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 11/3/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Controller2 = __webpack_require__(475);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _VeniceForm = __webpack_require__(476);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _TrinityTab = __webpack_require__(489);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _VeniceGridBuilder = __webpack_require__(497);\n\nvar _VeniceGridBuilder2 = _interopRequireDefault(_VeniceGridBuilder);\n\nvar _GlobalLib = __webpack_require__(493);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * tab id to element query map\n * @type {{}}\n */\nvar IDMAP = {\n    '1': 'exception-grid',\n    '2': 'notification-grid',\n    '3': 'ipn-grid',\n    '4': 'entity-action-grid',\n    '5': 'access-log-grid',\n    '6': 'payment-error-grid',\n    '7': 'ban-log-grid',\n    '8': 'message-log-grid'\n};\n\nvar LoggerController = function (_Controller) {\n    _inherits(LoggerController, _Controller);\n\n    function LoggerController() {\n        _classCallCheck(this, LoggerController);\n\n        return _possibleConstructorReturn(this, (LoggerController.__proto__ || Object.getPrototypeOf(LoggerController)).apply(this, arguments));\n    }\n\n    _createClass(LoggerController, [{\n        key: 'tabAction',\n\n\n        /**\n         * Tab action\n         * @param $scope\n         */\n        value: function tabAction($scope) {\n            var query = _lodash2.default.clone(this.request.query);\n\n            $scope.trinityTab = new _TrinityTab2.default();\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n                // Little trick to omit both switch and if statements\n                // replaces bellow code\n                var gridID = IDMAP[e.id.substring(3)];\n                var gridContainer = _jquery2.default.id(gridID);\n                if (gridContainer) {\n                    $scope[gridID] = _VeniceGridBuilder2.default.build(gridContainer, query);\n                } else {\n                    console.warn('Missing grid container!');\n                }\n            });\n\n            // connect Sidebar navigation\n            (0, _GlobalLib.connectTrinityTabMenu)($scope['logger-menu'], $scope.trinityTab);\n        }\n    }]);\n\n    return LoggerController;\n}(_Controller3.default);\n\nexports.default = LoggerController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvTG9nZ2VyQ29udHJvbGxlci5qcz9kMmY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBmaXNhIG9uIDExLzMvMTUuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICd0cmluaXR5L0NvbnRyb2xsZXInO1xuaW1wb3J0IFZlbmljZUZvcm0gZnJvbSAnLi4vTGlicmFyaWVzL1ZlbmljZUZvcm0nO1xuaW1wb3J0IFRyaW5pdHlUYWIgZnJvbSAndHJpbml0eS9jb21wb25lbnRzL1RyaW5pdHlUYWInO1xuaW1wb3J0IEdyaWRCdWlsZGVyIGZyb20gJy4uL0xpYnJhcmllcy9WZW5pY2VHcmlkQnVpbGRlcic7XG5pbXBvcnQge2Nvbm5lY3RUcmluaXR5VGFiTWVudX0gZnJvbSAnLi4vTGlicmFyaWVzL0dsb2JhbExpYic7XG5cbi8qKlxuICogdGFiIGlkIHRvIGVsZW1lbnQgcXVlcnkgbWFwXG4gKiBAdHlwZSB7e319XG4gKi9cbmNvbnN0IElETUFQID0ge1xuICAgICcxJzonZXhjZXB0aW9uLWdyaWQnLFxuICAgICcyJzonbm90aWZpY2F0aW9uLWdyaWQnLFxuICAgICczJzonaXBuLWdyaWQnLFxuICAgICc0JzonZW50aXR5LWFjdGlvbi1ncmlkJyxcbiAgICAnNSc6J2FjY2Vzcy1sb2ctZ3JpZCcsXG4gICAgJzYnOidwYXltZW50LWVycm9yLWdyaWQnLFxuICAgICc3JzonYmFuLWxvZy1ncmlkJyxcbiAgICAnOCc6J21lc3NhZ2UtbG9nLWdyaWQnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dnZXJDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlcntcblxuICAgIC8qKlxuICAgICAqIFRhYiBhY3Rpb25cbiAgICAgKiBAcGFyYW0gJHNjb3BlXG4gICAgICovXG4gICAgdGFiQWN0aW9uKCRzY29wZSl7XG4gICAgICAgIGxldCBxdWVyeSA9IF8uY2xvbmUodGhpcy5yZXF1ZXN0LnF1ZXJ5KTtcblxuICAgICAgICAkc2NvcGUudHJpbml0eVRhYiA9IG5ldyBUcmluaXR5VGFiKCk7XG4gICAgICAgICRzY29wZS50cmluaXR5VGFiLmFkZExpc3RlbmVyKCd0YWItbG9hZCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgbGV0IGZvcm0gPSAkKCdmb3JtJywgZS5lbGVtZW50KVswXTtcbiAgICAgICAgICAgIGlmIChmb3JtKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zID0gJHNjb3BlLnZlbmljZUZvcm1zIHx8IHt9O1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3Jtc1tlLmlkXSA9IG5ldyBWZW5pY2VGb3JtKGZvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTGl0dGxlIHRyaWNrIHRvIG9taXQgYm90aCBzd2l0Y2ggYW5kIGlmIHN0YXRlbWVudHNcbiAgICAgICAgICAgIC8vIHJlcGxhY2VzIGJlbGxvdyBjb2RlXG4gICAgICAgICAgICBsZXQgZ3JpZElEID0gSURNQVBbZS5pZC5zdWJzdHJpbmcoMyldO1xuICAgICAgICAgICAgbGV0IGdyaWRDb250YWluZXIgPSAkLmlkKGdyaWRJRCk7XG4gICAgICAgICAgICBpZihncmlkQ29udGFpbmVyKXtcbiAgICAgICAgICAgICAgICAkc2NvcGVbZ3JpZElEXSA9IEdyaWRCdWlsZGVyLmJ1aWxkKGdyaWRDb250YWluZXIsIHF1ZXJ5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdNaXNzaW5nIGdyaWQgY29udGFpbmVyIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjb25uZWN0IFNpZGViYXIgbmF2aWdhdGlvblxuICAgICAgICBjb25uZWN0VHJpbml0eVRhYk1lbnUoJHNjb3BlWydsb2dnZXItbWVudSddLCAkc2NvcGUudHJpbml0eVRhYik7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvdmVuaWNlLWpzL0NvbnRyb2xsZXJzL0xvZ2dlckNvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBOzs7QUFHQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQUNBO0FBVUE7Ozs7Ozs7Ozs7Ozs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBN0JBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 534:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Controller2 = __webpack_require__(475);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _TrinityTab = __webpack_require__(489);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _VeniceGridBuilder = __webpack_require__(497);\n\nvar _VeniceGridBuilder2 = _interopRequireDefault(_VeniceGridBuilder);\n\nvar _GlobalLib = __webpack_require__(493);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * tab id to element query map\n * @type {{}}\n */\nvar IDMAP = {\n    '1': 'blog-article-grid',\n    '2': 'category-grid',\n    '3': 'tag-grid'\n};\n\nvar BlogController = function (_Controller) {\n    _inherits(BlogController, _Controller);\n\n    function BlogController() {\n        _classCallCheck(this, BlogController);\n\n        return _possibleConstructorReturn(this, (BlogController.__proto__ || Object.getPrototypeOf(BlogController)).apply(this, arguments));\n    }\n\n    _createClass(BlogController, [{\n        key: 'tabsAction',\n\n\n        /**\n         * Tab action\n         * @param $scope\n         */\n        value: function tabsAction($scope) {\n            var query = _lodash2.default.clone(this.request.query);\n\n            $scope.trinityTab = new _TrinityTab2.default();\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var gridID = IDMAP[e.id.substring(3)];\n                var gridContainer = _jquery2.default.id(gridID);\n                if (gridContainer) {\n                    $scope[gridID] = _VeniceGridBuilder2.default.build(gridContainer, query);\n                } else {\n                    console.warn('Missing grid container!');\n                }\n            });\n\n            // connect Sidebar navigation\n            (0, _GlobalLib.connectTrinityTabMenu)($scope['blog-menu'], $scope.trinityTab);\n        }\n    }]);\n\n    return BlogController;\n}(_Controller3.default);\n\nexports.default = BlogController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTM0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvQmxvZ0NvbnRyb2xsZXIuanM/NmY4OCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAndHJpbml0eS9Db250cm9sbGVyJztcbmltcG9ydCBUcmluaXR5VGFiIGZyb20gJ3RyaW5pdHkvY29tcG9uZW50cy9UcmluaXR5VGFiJztcbmltcG9ydCBHcmlkQnVpbGRlciBmcm9tICcuLi9MaWJyYXJpZXMvVmVuaWNlR3JpZEJ1aWxkZXInO1xuaW1wb3J0IHtjb25uZWN0VHJpbml0eVRhYk1lbnV9IGZyb20gJy4uL0xpYnJhcmllcy9HbG9iYWxMaWInO1xuXG4vKipcbiAqIHRhYiBpZCB0byBlbGVtZW50IHF1ZXJ5IG1hcFxuICogQHR5cGUge3t9fVxuICovXG5jb25zdCBJRE1BUCA9IHtcbiAgICAnMSc6J2Jsb2ctYXJ0aWNsZS1ncmlkJyxcbiAgICAnMic6J2NhdGVnb3J5LWdyaWQnLFxuICAgICczJzondGFnLWdyaWQnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbG9nQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXJ7XG5cbiAgICAvKipcbiAgICAgKiBUYWIgYWN0aW9uXG4gICAgICogQHBhcmFtICRzY29wZVxuICAgICAqL1xuICAgIHRhYnNBY3Rpb24oJHNjb3BlKXtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gXy5jbG9uZSh0aGlzLnJlcXVlc3QucXVlcnkpO1xuXG4gICAgICAgICRzY29wZS50cmluaXR5VGFiID0gbmV3IFRyaW5pdHlUYWIoKTtcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIuYWRkTGlzdGVuZXIoJ3RhYi1sb2FkJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBsZXQgZ3JpZElEID0gSURNQVBbZS5pZC5zdWJzdHJpbmcoMyldO1xuICAgICAgICAgICAgbGV0IGdyaWRDb250YWluZXIgPSAkLmlkKGdyaWRJRCk7XG4gICAgICAgICAgICBpZihncmlkQ29udGFpbmVyKXtcbiAgICAgICAgICAgICAgICAkc2NvcGVbZ3JpZElEXSA9IEdyaWRCdWlsZGVyLmJ1aWxkKGdyaWRDb250YWluZXIsIHF1ZXJ5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdNaXNzaW5nIGdyaWQgY29udGFpbmVyIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjb25uZWN0IFNpZGViYXIgbmF2aWdhdGlvblxuICAgICAgICBjb25uZWN0VHJpbml0eVRhYk1lbnUoJHNjb3BlWydibG9nLW1lbnUnXSwgJHNjb3BlLnRyaW5pdHlUYWIpO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL3ZlbmljZS1qcy9Db250cm9sbGVycy9CbG9nQ29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7OztBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7Ozs7Ozs7Ozs7Ozs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQXRCQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 535:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Controller2 = __webpack_require__(475);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _VeniceForm = __webpack_require__(476);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _TrinityTab = __webpack_require__(489);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _GlobalLib = __webpack_require__(493);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CategoryController = function (_Controller) {\n    _inherits(CategoryController, _Controller);\n\n    function CategoryController() {\n        _classCallCheck(this, CategoryController);\n\n        return _possibleConstructorReturn(this, (CategoryController.__proto__ || Object.getPrototypeOf(CategoryController)).apply(this, arguments));\n    }\n\n    _createClass(CategoryController, [{\n        key: 'tabsAction',\n\n\n        /**\n         * Tab action\n         * @param $scope\n         */\n        value: function tabsAction($scope) {\n            var app = this.getApp();\n            $scope.trinityTab = new _TrinityTab2.default();\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n\n                if (e.id === 'tab2') {\n                    $scope[e.id] = app.parseScope();\n\n                    CategoryController._handleHandleGeneration();\n                }\n            });\n        }\n\n        /**\n         * New category action\n         *\n         * @param $scope\n         */\n\n    }, {\n        key: 'newAction',\n        value: function newAction($scope) {\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"category\"]')[0]);\n\n            CategoryController._handleHandleGeneration();\n        }\n\n        /**\n         * Shortcut\n         * @returns {*}\n         * @private\n         */\n\n    }], [{\n        key: '_handleHandleGeneration',\n        value: function _handleHandleGeneration() {\n            return (0, _GlobalLib.handleHandleGeneration)((0, _jquery2.default)('#category-form').attr('data-slugify'), _jquery2.default.id('category_name'), _jquery2.default.id('category_handle'));\n        }\n    }]);\n\n    return CategoryController;\n}(_Controller3.default);\n\nexports.default = CategoryController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTM1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvQ2F0ZWdvcnlDb250cm9sbGVyLmpzP2E5M2QiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAndHJpbml0eS9Db250cm9sbGVyJztcbmltcG9ydCBWZW5pY2VGb3JtIGZyb20gJy4uL0xpYnJhcmllcy9WZW5pY2VGb3JtJztcbmltcG9ydCBUcmluaXR5VGFiIGZyb20gJ3RyaW5pdHkvY29tcG9uZW50cy9UcmluaXR5VGFiJztcbmltcG9ydCB7aGFuZGxlSGFuZGxlR2VuZXJhdGlvbn0gZnJvbSAnLi4vTGlicmFyaWVzL0dsb2JhbExpYic7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2F0ZWdvcnlDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlcntcblxuICAgIC8qKlxuICAgICAqIFRhYiBhY3Rpb25cbiAgICAgKiBAcGFyYW0gJHNjb3BlXG4gICAgICovXG4gICAgdGFic0FjdGlvbigkc2NvcGUpe1xuICAgICAgICBsZXQgYXBwID0gdGhpcy5nZXRBcHAoKTtcbiAgICAgICAgJHNjb3BlLnRyaW5pdHlUYWIgPSBuZXcgVHJpbml0eVRhYigpO1xuICAgICAgICAkc2NvcGUudHJpbml0eVRhYi5hZGRMaXN0ZW5lcigndGFiLWxvYWQnLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGxldCBmb3JtID0gJCgnZm9ybScsIGUuZWxlbWVudClbMF07XG4gICAgICAgICAgICBpZihmb3JtKXtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXMgPSAkc2NvcGUudmVuaWNlRm9ybXMgfHwge307XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlbmljZUZvcm1zW2UuaWRdID0gbmV3IFZlbmljZUZvcm0oZm9ybSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGUuaWQgPT09ICd0YWIyJykge1xuICAgICAgICAgICAgICAgICRzY29wZVtlLmlkXSA9IGFwcC5wYXJzZVNjb3BlKCk7XG5cbiAgICAgICAgICAgICAgICBDYXRlZ29yeUNvbnRyb2xsZXIuX2hhbmRsZUhhbmRsZUdlbmVyYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmV3IGNhdGVnb3J5IGFjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtICRzY29wZVxuICAgICAqL1xuICAgIG5ld0FjdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLmZvcm0gPSBuZXcgVmVuaWNlRm9ybSgkKCdmb3JtW25hbWU9XCJjYXRlZ29yeVwiXScpWzBdKTtcblxuICAgICAgICBDYXRlZ29yeUNvbnRyb2xsZXIuX2hhbmRsZUhhbmRsZUdlbmVyYXRpb24oKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNob3J0Y3V0XG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzdGF0aWMgX2hhbmRsZUhhbmRsZUdlbmVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVIYW5kbGVHZW5lcmF0aW9uKFxuICAgICAgICAgICAgJCgnI2NhdGVnb3J5LWZvcm0nKS5hdHRyKCdkYXRhLXNsdWdpZnknKSxcbiAgICAgICAgICAgICQuaWQoJ2NhdGVnb3J5X25hbWUnKSxcbiAgICAgICAgICAgICQuaWQoJ2NhdGVnb3J5X2hhbmRsZScpXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvdmVuaWNlLWpzL0NvbnRyb2xsZXJzL0NhdGVnb3J5Q29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBS0E7Ozs7OztBQS9DQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 536:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Controller2 = __webpack_require__(475);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nvar _VeniceForm = __webpack_require__(476);\n\nvar _VeniceForm2 = _interopRequireDefault(_VeniceForm);\n\nvar _TrinityTab = __webpack_require__(489);\n\nvar _TrinityTab2 = _interopRequireDefault(_TrinityTab);\n\nvar _GlobalLib = __webpack_require__(493);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TagController = function (_Controller) {\n    _inherits(TagController, _Controller);\n\n    function TagController() {\n        _classCallCheck(this, TagController);\n\n        return _possibleConstructorReturn(this, (TagController.__proto__ || Object.getPrototypeOf(TagController)).apply(this, arguments));\n    }\n\n    _createClass(TagController, [{\n        key: 'tabsAction',\n\n\n        /**\n         * Tab action\n         * @param $scope\n         */\n        value: function tabsAction($scope) {\n            var app = this.getApp();\n            $scope.trinityTab = new _TrinityTab2.default();\n            $scope.trinityTab.addListener('tab-load', function (e) {\n                var form = (0, _jquery2.default)('form', e.element)[0];\n                if (form) {\n                    $scope.veniceForms = $scope.veniceForms || {};\n                    $scope.veniceForms[e.id] = new _VeniceForm2.default(form);\n                }\n\n                if (e.id === 'tab2') {\n                    $scope[e.id] = app.parseScope();\n\n                    TagController._handleHandleGeneration();\n                }\n            });\n        }\n\n        /**\n         * New tag action\n         *\n         * @param $scope\n         */\n\n    }, {\n        key: 'newAction',\n        value: function newAction($scope) {\n            $scope.form = new _VeniceForm2.default((0, _jquery2.default)('form[name=\"tag\"]')[0]);\n\n            TagController._handleHandleGeneration();\n        }\n\n        /**\n         * Shortcut\n         * @returns {*}\n         * @private\n         */\n\n    }], [{\n        key: '_handleHandleGeneration',\n        value: function _handleHandleGeneration() {\n            return (0, _GlobalLib.handleHandleGeneration)((0, _jquery2.default)('#tag-form').attr('data-slugify'), _jquery2.default.id('tag_name'), _jquery2.default.id('tag_handle'));\n        }\n    }]);\n\n    return TagController;\n}(_Controller3.default);\n\nexports.default = TagController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvQ29udHJvbGxlcnMvVGFnQ29udHJvbGxlci5qcz8yNzdmIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBDb250cm9sbGVyIGZyb20gJ3RyaW5pdHkvQ29udHJvbGxlcic7XG5pbXBvcnQgVmVuaWNlRm9ybSBmcm9tICcuLi9MaWJyYXJpZXMvVmVuaWNlRm9ybSc7XG5pbXBvcnQgVHJpbml0eVRhYiBmcm9tICd0cmluaXR5L2NvbXBvbmVudHMvVHJpbml0eVRhYic7XG5pbXBvcnQge2hhbmRsZUhhbmRsZUdlbmVyYXRpb259IGZyb20gJy4uL0xpYnJhcmllcy9HbG9iYWxMaWInO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhZ0NvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVye1xuXG4gICAgLyoqXG4gICAgICogVGFiIGFjdGlvblxuICAgICAqIEBwYXJhbSAkc2NvcGVcbiAgICAgKi9cbiAgICB0YWJzQWN0aW9uKCRzY29wZSl7XG4gICAgICAgIGxldCBhcHAgPSB0aGlzLmdldEFwcCgpO1xuICAgICAgICAkc2NvcGUudHJpbml0eVRhYiA9IG5ldyBUcmluaXR5VGFiKCk7XG4gICAgICAgICRzY29wZS50cmluaXR5VGFiLmFkZExpc3RlbmVyKCd0YWItbG9hZCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgbGV0IGZvcm0gPSAkKCdmb3JtJywgZS5lbGVtZW50KVswXTtcbiAgICAgICAgICAgIGlmKGZvcm0pe1xuICAgICAgICAgICAgICAgICRzY29wZS52ZW5pY2VGb3JtcyA9ICRzY29wZS52ZW5pY2VGb3JtcyB8fCB7fTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVuaWNlRm9ybXNbZS5pZF0gPSBuZXcgVmVuaWNlRm9ybShmb3JtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoZS5pZCA9PT0gJ3RhYjInKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlW2UuaWRdID0gYXBwLnBhcnNlU2NvcGUoKTtcblxuICAgICAgICAgICAgICAgIFRhZ0NvbnRyb2xsZXIuX2hhbmRsZUhhbmRsZUdlbmVyYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmV3IHRhZyBhY3Rpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSAkc2NvcGVcbiAgICAgKi9cbiAgICBuZXdBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5mb3JtID0gbmV3IFZlbmljZUZvcm0oJCgnZm9ybVtuYW1lPVwidGFnXCJdJylbMF0pO1xuXG4gICAgICAgIFRhZ0NvbnRyb2xsZXIuX2hhbmRsZUhhbmRsZUdlbmVyYXRpb24oKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNob3J0Y3V0XG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzdGF0aWMgX2hhbmRsZUhhbmRsZUdlbmVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVIYW5kbGVHZW5lcmF0aW9uKFxuICAgICAgICAgICAgJCgnI3RhZy1mb3JtJykuYXR0cignZGF0YS1zbHVnaWZ5JyksXG4gICAgICAgICAgICAkLmlkKCd0YWdfbmFtZScpLFxuICAgICAgICAgICAgJC5pZCgndGFnX2hhbmRsZScpXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvdmVuaWNlLWpzL0NvbnRyb2xsZXJzL1RhZ0NvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFFQTs7Ozs7Ozs7Ozs7OztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBS0E7QUFDQTtBQUtBOzs7Ozs7QUEvQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 537:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Controller2 = __webpack_require__(475);\n\nvar _Controller3 = _interopRequireDefault(_Controller2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by Richard on 27.06.16.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ExampleController = function (_Controller) {\n    _inherits(ExampleController, _Controller);\n\n    function ExampleController() {\n        _classCallCheck(this, ExampleController);\n\n        return _possibleConstructorReturn(this, (ExampleController.__proto__ || Object.getPrototypeOf(ExampleController)).apply(this, arguments));\n    }\n\n    _createClass(ExampleController, [{\n        key: 'newAction',\n        value: function newAction($scope) {\n            // your JS\n        }\n    }, {\n        key: 'tabsAction',\n        value: function tabsAction($scope) {\n            // your JS\n        }\n    }]);\n\n    return ExampleController;\n}(_Controller3.default);\n\nexports.default = ExampleController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTM3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2FwcC9Db250cm9sbGVycy9FeGFtcGxlQ29udHJvbGxlci5qcz9mNGJkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBSaWNoYXJkIG9uIDI3LjA2LjE2LlxuICovXG5cbmltcG9ydCBDb250cm9sbGVyIGZyb20gJ3RyaW5pdHkvQ29udHJvbGxlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4YW1wbGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG5cbiAgICBuZXdBY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIC8vIHlvdXIgSlNcbiAgICB9XG5cbiAgICB0YWJzQWN0aW9uKCRzY29wZSkge1xuICAgICAgICAvLyB5b3VyIEpTXG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvQ29udHJvbGxlcnMvRXhhbXBsZUNvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBSUE7QUFDQTs7Ozs7Ozs7O0FBTEE7Ozs7QUFNQTs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7Ozs7O0FBUkEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 538:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {/**\n * Created by fisa on 11/1/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Router = __webpack_require__(539);\n\nvar _Router2 = _interopRequireDefault(_Router);\n\nvar _Controller = __webpack_require__(475);\n\nvar _Controller2 = _interopRequireDefault(_Controller);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultSettings = {\n    attributeName: 'data-ng-scope'\n};\n\n/**\n * Represents application, provides main control over running js\n */\n\nvar App = function () {\n    function App(routes, controllers, settings) {\n        _classCallCheck(this, App);\n\n        //Settings FIRST !\n        this.settings = _lodash2.default.defaultsDeep(settings || {}, defaultSettings);\n\n        this.routes = routes;\n        this.controllers = controllers;\n        this.router = new _Router2.default(routes);\n        // this.global = null;\n        this.activeController = null;\n        this.preBootScripts = [];\n\n        // This way $scope property cannot be reassigned\n        Object.defineProperty(this, '$scope', {\n            value: {}\n        });\n\n        /** Try to find initial scope **/\n        _lodash2.default.extend(this.$scope, this.parseScope());\n    }\n\n    /**\n     * Kick up application\n     * @param [successCallback] {Function} optional success callback\n     * @param [errorCallback] {Function} optional error callback\n     * @returns {boolean}\n     */\n\n\n    _createClass(App, [{\n        key: 'start',\n        value: function start(successCallback, errorCallback) {\n            var _this = this;\n\n            //super cool feature\n            _lodash2.default.find(this.preBootScripts, function (script) {\n                return script(_this.$scope);\n            });\n\n            /**\n             * Active controller\n             */\n            var controllerInfo = this.router.findController();\n            if (_lodash2.default.isNull(controllerInfo)) {\n                return this.finishCallback(false, successCallback);\n            }\n\n            var _controllerInfo$actio = controllerInfo.action.split('.'),\n                _controllerInfo$actio2 = _slicedToArray(_controllerInfo$actio, 2),\n                name = _controllerInfo$actio2[0],\n                action = _controllerInfo$actio2[1];\n\n            if (!name) {\n                var err = new Error('No Controller defined! did you forget to define controller in routes?');\n                if (errorCallback) {\n                    return errorCallback(err);\n                }\n                throw err;\n            }\n\n            // Load controller\n            name += 'Controller';\n            action = (action || 'index') + 'Action';\n\n            // Create new active controller instance\n            if (!this.controllers.hasOwnProperty(name)) {\n                throw new Error('Controller ' + name + ' does not exist, did you forget to run \"buildControllers.js\" script?' + ' or did you write correct routes?');\n            }\n\n            /** Create and Set up controller instance **/\n            var instance = new this.controllers[name](name);\n            if (!(instance instanceof _Controller2.default)) {\n                throw new Error(name + ' does not inherit from \"Controller\" class!');\n            }\n\n            instance._scope = this.$scope;\n            instance._app = this;\n            instance.request = controllerInfo.request;\n            this.activeController = instance;\n\n            /** Run **/\n            if (instance[action]) {\n                instance.beforeAction(this.$scope);\n                instance[action](this.$scope);\n                instance.afterAction(this.$scope);\n            } else {\n                var _err = new Error('Action \"' + action + '\" doesn\\'t exists');\n                if (errorCallback) {\n                    return errorCallback(_err);\n                }\n                throw _err;\n            }\n            return this.finishCallback(true, successCallback);\n        }\n\n        /**\n         * add script befor launching of app\n         * @param func {function} if true is returned => lounch app (skip other pre-scripts)\n         */\n\n    }, {\n        key: 'addPreBOOTScript',\n        value: function addPreBOOTScript(func) {\n            this.preBootScripts.push(func);\n        }\n\n        /**\n         * Finishing success callback\n         * @param isController {boolean}\n         * @param callback {function}\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'finishCallback',\n        value: function finishCallback(isController, callback) {\n            var message = isController ? this.activeController.name + ' loaded.' : 'Route does\\'t have any controller.';\n\n            if (process.env.NODE_ENV !== 'production') {\n                console.log(message);\n            }\n            if (callback) {\n                callback(this.activeController || false);\n            }\n            return isController;\n        }\n\n        /**\n         * Search in \"root\" element for every element with attribute defined in settings\n         * @param root\n         * @returns {{}} - bag with {attName.value:element}\n         */\n\n    }, {\n        key: 'parseScope',\n        value: function parseScope(root) {\n            root = root || window.document;\n            var attName = defaultSettings.attributeName,\n                elements = root.querySelectorAll('[' + attName + ']');\n\n            var bag = {};\n            _lodash2.default.each(elements, function (el, i) {\n                var name = el.getAttribute(attName) || '' + el.name + i;\n                if (_lodash2.default.isUndefined(bag[name])) {\n                    bag[name] = el;\n                } else {\n                    if (_lodash2.default.isArray(bag[name])) {\n                        bag[name].push(el);\n                    } else {\n                        // crate new array\n                        bag[name] = [bag[name], el];\n                    }\n                }\n            });\n            return bag;\n        }\n    }]);\n\n    return App;\n}();\n\nexports.default = App;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(34)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTM4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L0FwcC5qcz84YmJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBmaXNhIG9uIDExLzEvMTUuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbG9kYXNoID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbnZhciBfbG9kYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaCk7XG5cbnZhciBfUm91dGVyID0gcmVxdWlyZSgnLi9Sb3V0ZXInKTtcblxudmFyIF9Sb3V0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGVyKTtcblxudmFyIF9Db250cm9sbGVyID0gcmVxdWlyZSgnLi9Db250cm9sbGVyLmpzJyk7XG5cbnZhciBfQ29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250cm9sbGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIGRlZmF1bHRTZXR0aW5ncyA9IHtcbiAgICBhdHRyaWJ1dGVOYW1lOiAnZGF0YS1uZy1zY29wZSdcbn07XG5cbi8qKlxuICogUmVwcmVzZW50cyBhcHBsaWNhdGlvbiwgcHJvdmlkZXMgbWFpbiBjb250cm9sIG92ZXIgcnVubmluZyBqc1xuICovXG5cbnZhciBBcHAgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBwKHJvdXRlcywgY29udHJvbGxlcnMsIHNldHRpbmdzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHApO1xuXG4gICAgICAgIC8vU2V0dGluZ3MgRklSU1QgIVxuICAgICAgICB0aGlzLnNldHRpbmdzID0gX2xvZGFzaDIuZGVmYXVsdC5kZWZhdWx0c0RlZXAoc2V0dGluZ3MgfHwge30sIGRlZmF1bHRTZXR0aW5ncyk7XG5cbiAgICAgICAgdGhpcy5yb3V0ZXMgPSByb3V0ZXM7XG4gICAgICAgIHRoaXMuY29udHJvbGxlcnMgPSBjb250cm9sbGVycztcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSBuZXcgX1JvdXRlcjIuZGVmYXVsdChyb3V0ZXMpO1xuICAgICAgICAvLyB0aGlzLmdsb2JhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuYWN0aXZlQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHRoaXMucHJlQm9vdFNjcmlwdHMgPSBbXTtcblxuICAgICAgICAvLyBUaGlzIHdheSAkc2NvcGUgcHJvcGVydHkgY2Fubm90IGJlIHJlYXNzaWduZWRcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICckc2NvcGUnLCB7XG4gICAgICAgICAgICB2YWx1ZToge31cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqIFRyeSB0byBmaW5kIGluaXRpYWwgc2NvcGUgKiovXG4gICAgICAgIF9sb2Rhc2gyLmRlZmF1bHQuZXh0ZW5kKHRoaXMuJHNjb3BlLCB0aGlzLnBhcnNlU2NvcGUoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogS2ljayB1cCBhcHBsaWNhdGlvblxuICAgICAqIEBwYXJhbSBbc3VjY2Vzc0NhbGxiYWNrXSB7RnVuY3Rpb259IG9wdGlvbmFsIHN1Y2Nlc3MgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gW2Vycm9yQ2FsbGJhY2tdIHtGdW5jdGlvbn0gb3B0aW9uYWwgZXJyb3IgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEFwcCwgW3tcbiAgICAgICAga2V5OiAnc3RhcnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAvL3N1cGVyIGNvb2wgZmVhdHVyZVxuICAgICAgICAgICAgX2xvZGFzaDIuZGVmYXVsdC5maW5kKHRoaXMucHJlQm9vdFNjcmlwdHMsIGZ1bmN0aW9uIChzY3JpcHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0KF90aGlzLiRzY29wZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBY3RpdmUgY29udHJvbGxlclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgY29udHJvbGxlckluZm8gPSB0aGlzLnJvdXRlci5maW5kQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNOdWxsKGNvbnRyb2xsZXJJbmZvKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmlzaENhbGxiYWNrKGZhbHNlLCBzdWNjZXNzQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgX2NvbnRyb2xsZXJJbmZvJGFjdGlvID0gY29udHJvbGxlckluZm8uYWN0aW9uLnNwbGl0KCcuJyksXG4gICAgICAgICAgICAgICAgX2NvbnRyb2xsZXJJbmZvJGFjdGlvMiA9IF9zbGljZWRUb0FycmF5KF9jb250cm9sbGVySW5mbyRhY3RpbywgMiksXG4gICAgICAgICAgICAgICAgbmFtZSA9IF9jb250cm9sbGVySW5mbyRhY3RpbzJbMF0sXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gX2NvbnRyb2xsZXJJbmZvJGFjdGlvMlsxXTtcblxuICAgICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignTm8gQ29udHJvbGxlciBkZWZpbmVkISBkaWQgeW91IGZvcmdldCB0byBkZWZpbmUgY29udHJvbGxlciBpbiByb3V0ZXM/Jyk7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yQ2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMb2FkIGNvbnRyb2xsZXJcbiAgICAgICAgICAgIG5hbWUgKz0gJ0NvbnRyb2xsZXInO1xuICAgICAgICAgICAgYWN0aW9uID0gKGFjdGlvbiB8fCAnaW5kZXgnKSArICdBY3Rpb24nO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGFjdGl2ZSBjb250cm9sbGVyIGluc3RhbmNlXG4gICAgICAgICAgICBpZiAoIXRoaXMuY29udHJvbGxlcnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRyb2xsZXIgJyArIG5hbWUgKyAnIGRvZXMgbm90IGV4aXN0LCBkaWQgeW91IGZvcmdldCB0byBydW4gXCJidWlsZENvbnRyb2xsZXJzLmpzXCIgc2NyaXB0PycgKyAnIG9yIGRpZCB5b3Ugd3JpdGUgY29ycmVjdCByb3V0ZXM/Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKiBDcmVhdGUgYW5kIFNldCB1cCBjb250cm9sbGVyIGluc3RhbmNlICoqL1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IHRoaXMuY29udHJvbGxlcnNbbmFtZV0obmFtZSk7XG4gICAgICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIF9Db250cm9sbGVyMi5kZWZhdWx0KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihuYW1lICsgJyBkb2VzIG5vdCBpbmhlcml0IGZyb20gXCJDb250cm9sbGVyXCIgY2xhc3MhJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluc3RhbmNlLl9zY29wZSA9IHRoaXMuJHNjb3BlO1xuICAgICAgICAgICAgaW5zdGFuY2UuX2FwcCA9IHRoaXM7XG4gICAgICAgICAgICBpbnN0YW5jZS5yZXF1ZXN0ID0gY29udHJvbGxlckluZm8ucmVxdWVzdDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQ29udHJvbGxlciA9IGluc3RhbmNlO1xuXG4gICAgICAgICAgICAvKiogUnVuICoqL1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlW2FjdGlvbl0pIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5iZWZvcmVBY3Rpb24odGhpcy4kc2NvcGUpO1xuICAgICAgICAgICAgICAgIGluc3RhbmNlW2FjdGlvbl0odGhpcy4kc2NvcGUpO1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLmFmdGVyQWN0aW9uKHRoaXMuJHNjb3BlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9lcnIgPSBuZXcgRXJyb3IoJ0FjdGlvbiBcIicgKyBhY3Rpb24gKyAnXCIgZG9lc25cXCd0IGV4aXN0cycpO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvckNhbGxiYWNrKF9lcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBfZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluaXNoQ2FsbGJhY2sodHJ1ZSwgc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhZGQgc2NyaXB0IGJlZm9yIGxhdW5jaGluZyBvZiBhcHBcbiAgICAgICAgICogQHBhcmFtIGZ1bmMge2Z1bmN0aW9ufSBpZiB0cnVlIGlzIHJldHVybmVkID0+IGxvdW5jaCBhcHAgKHNraXAgb3RoZXIgcHJlLXNjcmlwdHMpXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhZGRQcmVCT09UU2NyaXB0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFByZUJPT1RTY3JpcHQoZnVuYykge1xuICAgICAgICAgICAgdGhpcy5wcmVCb290U2NyaXB0cy5wdXNoKGZ1bmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbmlzaGluZyBzdWNjZXNzIGNhbGxiYWNrXG4gICAgICAgICAqIEBwYXJhbSBpc0NvbnRyb2xsZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayB7ZnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZmluaXNoQ2FsbGJhY2snLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmluaXNoQ2FsbGJhY2soaXNDb250cm9sbGVyLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBpc0NvbnRyb2xsZXIgPyB0aGlzLmFjdGl2ZUNvbnRyb2xsZXIubmFtZSArICcgbG9hZGVkLicgOiAnUm91dGUgZG9lc1xcJ3QgaGF2ZSBhbnkgY29udHJvbGxlci4nO1xuXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5hY3RpdmVDb250cm9sbGVyIHx8IGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpc0NvbnRyb2xsZXI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2VhcmNoIGluIFwicm9vdFwiIGVsZW1lbnQgZm9yIGV2ZXJ5IGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGUgZGVmaW5lZCBpbiBzZXR0aW5nc1xuICAgICAgICAgKiBAcGFyYW0gcm9vdFxuICAgICAgICAgKiBAcmV0dXJucyB7e319IC0gYmFnIHdpdGgge2F0dE5hbWUudmFsdWU6ZWxlbWVudH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3BhcnNlU2NvcGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VTY29wZShyb290KSB7XG4gICAgICAgICAgICByb290ID0gcm9vdCB8fCB3aW5kb3cuZG9jdW1lbnQ7XG4gICAgICAgICAgICB2YXIgYXR0TmFtZSA9IGRlZmF1bHRTZXR0aW5ncy5hdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgICAgIGVsZW1lbnRzID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdbJyArIGF0dE5hbWUgKyAnXScpO1xuXG4gICAgICAgICAgICB2YXIgYmFnID0ge307XG4gICAgICAgICAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2goZWxlbWVudHMsIGZ1bmN0aW9uIChlbCwgaSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKGF0dE5hbWUpIHx8ICcnICsgZWwubmFtZSArIGk7XG4gICAgICAgICAgICAgICAgaWYgKF9sb2Rhc2gyLmRlZmF1bHQuaXNVbmRlZmluZWQoYmFnW25hbWVdKSkge1xuICAgICAgICAgICAgICAgICAgICBiYWdbbmFtZV0gPSBlbDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2xvZGFzaDIuZGVmYXVsdC5pc0FycmF5KGJhZ1tuYW1lXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhZ1tuYW1lXS5wdXNoKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyYXRlIG5ldyBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgYmFnW25hbWVdID0gW2JhZ1tuYW1lXSwgZWxdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYmFnO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFwcDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQXBwO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90cmluaXR5L0FwcC5qc1xuLy8gbW9kdWxlIGlkID0gNTM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 539:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(process) {/**\n * Created by fisa on 7/23/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Private help RegExpressions\n * @type {RegExp}\n */\nvar optionalParam = /\\((.*?)\\)/g,\n    namedParam = /(\\(\\?)?:\\w+/g,\n    splatParam = /\\*\\w+/g,\n    escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g,\n    paramsRegExp = /:\\w+/g;\n\n/**\n * Takes routes and create regular expression for each\n * @param routes\n * @constructor\n */\nfunction Router(routes) {\n    this.routes = routes.map(function (route) {\n        route.regx = _routeToRegExp(route.path);\n        return route;\n    }, this);\n\n    /** Adds prefix to regular expressions **/\n    if (process.env.NODE_ENV !== 'production') {\n        this.routes = this.routes.map(function (route) {\n            var path = route['path'];\n            if (path.indexOf('/') > 1) {\n                console.warn('Route should start with \"/\" char. Or should be index page \"(/)\". It can cause unexpected behaviour!', route);\n            }\n            route.regx = __modifyRouteRegx(route.regx);\n            return route;\n        }, this);\n    }\n}\n\n/**\n * Regular expression template to modify regular expressions of routes\n * @type {string}\n */\nvar prefixRegExp = '(?:\\/\\w+)*';\n\n/**\n * Adds prefix to regular expression that any path can have any route prefix\n * Note: used only for debug purposes\n * @param regx\n * @returns {RegExp}\n * @private\n */\nfunction __modifyRouteRegx(regx) {\n    var source = regx.source;\n    var start = source.indexOf('^') !== 0 ? 0 : 1;\n    return new RegExp(prefixRegExp + source.substring(start));\n}\n\n/**\n * Finds controller for route parameter\n * @param route {string}\n * @returns {Object| null}\n */\nRouter.prototype.findController = function findController(route) {\n    route = route || window.location.pathname;\n    var data = null,\n        cache = void 0,\n        controllerInfo = void 0;\n\n    controllerInfo = _lodash2.default.find(this.routes, function (el) {\n        cache = el.regx.exec(route);\n        if (cache) {\n            data = cache;\n            return true;\n        }\n        return false;\n    }) || null;\n\n    // If we found any controller -> create request and return it\n    if (controllerInfo) {\n        /** Create request Info object */\n        var search = window.location.search;\n        controllerInfo.request = new this.Request(controllerInfo.path, data.length > 2 ? __getParams(controllerInfo.path, data) : null, search.length > 0 ? _getQueryObj(search) : null);\n        //And return all inside one package\n        return controllerInfo;\n    }\n    return null;\n};\n\n/**\n * Represents request object\n * @param path\n * @param params\n * @param query\n * @constructor\n */\nRouter.prototype.Request = function Request(path, params, query) {\n    this.path = path;\n    this.query = query;\n    this.params = params;\n};\n\n/**\n * Returns object with params like key:value\n * @param path {string}\n * @param regxResult\n * @returns {Object}\n * @private\n */\nfunction __getParams(path, regxResult) {\n    var keys = path.match(paramsRegExp),\n        values = regxResult.slice(1, regxResult.length - 1),\n        params = {};\n\n    // create pairs\n    _lodash2.default.each(values, function (val, i) {\n        params[keys[i].substring(1)] = val;\n    });\n\n    return params;\n}\n\n/**\n * Creates object with key:value pairs from query string (e.g. location.search)\n * @param str\n * @returns {Object}\n * @private\n */\nfunction _getQueryObj(str) {\n    var pairs = str.substr(1).split('&'),\n        query = {};\n\n    _lodash2.default.each(pairs, function (p) {\n        var ind = p.indexOf('=');\n        query[p.substr(0, ind)] = p.substr(ind + 1);\n    });\n    return query;\n}\n\n/**\n * Create regular expression from route - from backbone framework\n * // TODO: check if there is new version\n * @param route\n * @returns {RegExp}\n * @private\n */\nfunction _routeToRegExp(route) {\n    route = route.replace(escapeRegExp, '\\\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function (match, optional) {\n        return optional ? match : '([^/?]+)';\n    }).replace(splatParam, '([^?]*?)');\n    return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n}\n\nexports.default = Router;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(34)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTM5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi90cmluaXR5L1JvdXRlci5qcz9mYTg2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBmaXNhIG9uIDcvMjMvMTUuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFByaXZhdGUgaGVscCBSZWdFeHByZXNzaW9uc1xuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xudmFyIG9wdGlvbmFsUGFyYW0gPSAvXFwoKC4qPylcXCkvZyxcbiAgICBuYW1lZFBhcmFtID0gLyhcXChcXD8pPzpcXHcrL2csXG4gICAgc3BsYXRQYXJhbSA9IC9cXCpcXHcrL2csXG4gICAgZXNjYXBlUmVnRXhwID0gL1tcXC17fVxcW1xcXSs/LixcXFxcXFxeJHwjXFxzXS9nLFxuICAgIHBhcmFtc1JlZ0V4cCA9IC86XFx3Ky9nO1xuXG4vKipcbiAqIFRha2VzIHJvdXRlcyBhbmQgY3JlYXRlIHJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgZWFjaFxuICogQHBhcmFtIHJvdXRlc1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFJvdXRlcihyb3V0ZXMpIHtcbiAgICB0aGlzLnJvdXRlcyA9IHJvdXRlcy5tYXAoZnVuY3Rpb24gKHJvdXRlKSB7XG4gICAgICAgIHJvdXRlLnJlZ3ggPSBfcm91dGVUb1JlZ0V4cChyb3V0ZS5wYXRoKTtcbiAgICAgICAgcmV0dXJuIHJvdXRlO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgLyoqIEFkZHMgcHJlZml4IHRvIHJlZ3VsYXIgZXhwcmVzc2lvbnMgKiovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdGhpcy5yb3V0ZXMgPSB0aGlzLnJvdXRlcy5tYXAoZnVuY3Rpb24gKHJvdXRlKSB7XG4gICAgICAgICAgICB2YXIgcGF0aCA9IHJvdXRlWydwYXRoJ107XG4gICAgICAgICAgICBpZiAocGF0aC5pbmRleE9mKCcvJykgPiAxKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdSb3V0ZSBzaG91bGQgc3RhcnQgd2l0aCBcIi9cIiBjaGFyLiBPciBzaG91bGQgYmUgaW5kZXggcGFnZSBcIigvKVwiLiBJdCBjYW4gY2F1c2UgdW5leHBlY3RlZCBiZWhhdmlvdXIhJywgcm91dGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm91dGUucmVneCA9IF9fbW9kaWZ5Um91dGVSZWd4KHJvdXRlLnJlZ3gpO1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHRlbXBsYXRlIHRvIG1vZGlmeSByZWd1bGFyIGV4cHJlc3Npb25zIG9mIHJvdXRlc1xuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIHByZWZpeFJlZ0V4cCA9ICcoPzpcXC9cXHcrKSonO1xuXG4vKipcbiAqIEFkZHMgcHJlZml4IHRvIHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGFueSBwYXRoIGNhbiBoYXZlIGFueSByb3V0ZSBwcmVmaXhcbiAqIE5vdGU6IHVzZWQgb25seSBmb3IgZGVidWcgcHVycG9zZXNcbiAqIEBwYXJhbSByZWd4XG4gKiBAcmV0dXJucyB7UmVnRXhwfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX19tb2RpZnlSb3V0ZVJlZ3gocmVneCkge1xuICAgIHZhciBzb3VyY2UgPSByZWd4LnNvdXJjZTtcbiAgICB2YXIgc3RhcnQgPSBzb3VyY2UuaW5kZXhPZignXicpICE9PSAwID8gMCA6IDE7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAocHJlZml4UmVnRXhwICsgc291cmNlLnN1YnN0cmluZyhzdGFydCkpO1xufVxuXG4vKipcbiAqIEZpbmRzIGNvbnRyb2xsZXIgZm9yIHJvdXRlIHBhcmFtZXRlclxuICogQHBhcmFtIHJvdXRlIHtzdHJpbmd9XG4gKiBAcmV0dXJucyB7T2JqZWN0fCBudWxsfVxuICovXG5Sb3V0ZXIucHJvdG90eXBlLmZpbmRDb250cm9sbGVyID0gZnVuY3Rpb24gZmluZENvbnRyb2xsZXIocm91dGUpIHtcbiAgICByb3V0ZSA9IHJvdXRlIHx8IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcbiAgICB2YXIgZGF0YSA9IG51bGwsXG4gICAgICAgIGNhY2hlID0gdm9pZCAwLFxuICAgICAgICBjb250cm9sbGVySW5mbyA9IHZvaWQgMDtcblxuICAgIGNvbnRyb2xsZXJJbmZvID0gX2xvZGFzaDIuZGVmYXVsdC5maW5kKHRoaXMucm91dGVzLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgY2FjaGUgPSBlbC5yZWd4LmV4ZWMocm91dGUpO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGRhdGEgPSBjYWNoZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KSB8fCBudWxsO1xuXG4gICAgLy8gSWYgd2UgZm91bmQgYW55IGNvbnRyb2xsZXIgLT4gY3JlYXRlIHJlcXVlc3QgYW5kIHJldHVybiBpdFxuICAgIGlmIChjb250cm9sbGVySW5mbykge1xuICAgICAgICAvKiogQ3JlYXRlIHJlcXVlc3QgSW5mbyBvYmplY3QgKi9cbiAgICAgICAgdmFyIHNlYXJjaCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICAgIGNvbnRyb2xsZXJJbmZvLnJlcXVlc3QgPSBuZXcgdGhpcy5SZXF1ZXN0KGNvbnRyb2xsZXJJbmZvLnBhdGgsIGRhdGEubGVuZ3RoID4gMiA/IF9fZ2V0UGFyYW1zKGNvbnRyb2xsZXJJbmZvLnBhdGgsIGRhdGEpIDogbnVsbCwgc2VhcmNoLmxlbmd0aCA+IDAgPyBfZ2V0UXVlcnlPYmooc2VhcmNoKSA6IG51bGwpO1xuICAgICAgICAvL0FuZCByZXR1cm4gYWxsIGluc2lkZSBvbmUgcGFja2FnZVxuICAgICAgICByZXR1cm4gY29udHJvbGxlckluZm87XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0gcGF0aFxuICogQHBhcmFtIHBhcmFtc1xuICogQHBhcmFtIHF1ZXJ5XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuUm91dGVyLnByb3RvdHlwZS5SZXF1ZXN0ID0gZnVuY3Rpb24gUmVxdWVzdChwYXRoLCBwYXJhbXMsIHF1ZXJ5KSB7XG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB0aGlzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG59O1xuXG4vKipcbiAqIFJldHVybnMgb2JqZWN0IHdpdGggcGFyYW1zIGxpa2Uga2V5OnZhbHVlXG4gKiBAcGFyYW0gcGF0aCB7c3RyaW5nfVxuICogQHBhcmFtIHJlZ3hSZXN1bHRcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfX2dldFBhcmFtcyhwYXRoLCByZWd4UmVzdWx0KSB7XG4gICAgdmFyIGtleXMgPSBwYXRoLm1hdGNoKHBhcmFtc1JlZ0V4cCksXG4gICAgICAgIHZhbHVlcyA9IHJlZ3hSZXN1bHQuc2xpY2UoMSwgcmVneFJlc3VsdC5sZW5ndGggLSAxKSxcbiAgICAgICAgcGFyYW1zID0ge307XG5cbiAgICAvLyBjcmVhdGUgcGFpcnNcbiAgICBfbG9kYXNoMi5kZWZhdWx0LmVhY2godmFsdWVzLCBmdW5jdGlvbiAodmFsLCBpKSB7XG4gICAgICAgIHBhcmFtc1trZXlzW2ldLnN1YnN0cmluZygxKV0gPSB2YWw7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcGFyYW1zO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgb2JqZWN0IHdpdGgga2V5OnZhbHVlIHBhaXJzIGZyb20gcXVlcnkgc3RyaW5nIChlLmcuIGxvY2F0aW9uLnNlYXJjaClcbiAqIEBwYXJhbSBzdHJcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZ2V0UXVlcnlPYmooc3RyKSB7XG4gICAgdmFyIHBhaXJzID0gc3RyLnN1YnN0cigxKS5zcGxpdCgnJicpLFxuICAgICAgICBxdWVyeSA9IHt9O1xuXG4gICAgX2xvZGFzaDIuZGVmYXVsdC5lYWNoKHBhaXJzLCBmdW5jdGlvbiAocCkge1xuICAgICAgICB2YXIgaW5kID0gcC5pbmRleE9mKCc9Jyk7XG4gICAgICAgIHF1ZXJ5W3Auc3Vic3RyKDAsIGluZCldID0gcC5zdWJzdHIoaW5kICsgMSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHF1ZXJ5O1xufVxuXG4vKipcbiAqIENyZWF0ZSByZWd1bGFyIGV4cHJlc3Npb24gZnJvbSByb3V0ZSAtIGZyb20gYmFja2JvbmUgZnJhbWV3b3JrXG4gKiAvLyBUT0RPOiBjaGVjayBpZiB0aGVyZSBpcyBuZXcgdmVyc2lvblxuICogQHBhcmFtIHJvdXRlXG4gKiBAcmV0dXJucyB7UmVnRXhwfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3JvdXRlVG9SZWdFeHAocm91dGUpIHtcbiAgICByb3V0ZSA9IHJvdXRlLnJlcGxhY2UoZXNjYXBlUmVnRXhwLCAnXFxcXCQmJykucmVwbGFjZShvcHRpb25hbFBhcmFtLCAnKD86JDEpPycpLnJlcGxhY2UobmFtZWRQYXJhbSwgZnVuY3Rpb24gKG1hdGNoLCBvcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gb3B0aW9uYWwgPyBtYXRjaCA6ICcoW14vP10rKSc7XG4gICAgfSkucmVwbGFjZShzcGxhdFBhcmFtLCAnKFteP10qPyknKTtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyByb3V0ZSArICcoPzpcXFxcPyhbXFxcXHNcXFxcU10qKSk/JCcpO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3RyaW5pdHkvUm91dGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA1Mzlcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 540:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by fisa on 11/6/15.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = globalFunction;\n\nvar _LayoutLib = __webpack_require__(541);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction globalFunction() {\n    console.log('Global function');\n    //setting active class to menu tab\n\n    //It has to be there...! Question @RichardBures!\n    _LayoutLib.LayoutMenu.setCurrent((0, _jquery2.default)('#sidebar'));\n    _LayoutLib.LayoutMenu.unCheckRadio((0, _jquery2.default)('.navbar-item-input'));\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2FwcC9MaWJyYXJpZXMvR2xvYmFsU2NyaXB0LmpzPzA0ZTYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGZpc2Egb24gMTEvNi8xNS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHtMYXlvdXRNZW51fSBmcm9tICd2ZW5pY2UtanMvTGlicmFyaWVzL0xheW91dExpYic7XG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnbG9iYWxGdW5jdGlvbigpe1xuICAgIGNvbnNvbGUubG9nKCdHbG9iYWwgZnVuY3Rpb24nKTtcbiAgICAvL3NldHRpbmcgYWN0aXZlIGNsYXNzIHRvIG1lbnUgdGFiXG5cbiAgICAvL0l0IGhhcyB0byBiZSB0aGVyZS4uLiEgUXVlc3Rpb24gQFJpY2hhcmRCdXJlcyFcbiAgICBMYXlvdXRNZW51LnNldEN1cnJlbnQoJCgnI3NpZGViYXInKSk7XG4gICAgTGF5b3V0TWVudS51bkNoZWNrUmFkaW8oJCgnLm5hdmJhci1pdGVtLWlucHV0JykpO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvTGlicmFyaWVzL0dsb2JhbFNjcmlwdC5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7OztBQUdBO0FBQ0E7Ozs7QUFHQTtBQUNBO0FBSkE7QUFDQTtBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 541:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Created by rockuo on 24.1.17.\n */\n/**\n * Created by bures on 29.3.16.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.LoaderManager = exports.BarMsg = exports.LayoutMenu = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = __webpack_require__(24);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Events = __webpack_require__(483);\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nvar _Gateway = __webpack_require__(491);\n\nvar _Gateway2 = _interopRequireDefault(_Gateway);\n\nvar _Dom = __webpack_require__(486);\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LayoutMenu = {\n\n    /**\n     * Set current layout menu\n     * @param menu\n     */\n    setCurrent: function setCurrent(menu) {\n        var url = window.location.href,\n            $directBars = (0, _jquery2.default)('.js-direct-item', menu),\n            $dropBars = (0, _jquery2.default)('.drop-down', menu),\n            found = false;\n\n        _lodash2.default.each($directBars, function (val, i) {\n            if (i > 0 && ~url.indexOf((0, _jquery2.default)('a', val)[0].href)) {\n                _Dom2.default.classlist.add(val, 'active');\n                found = true;\n                return false; // break\n            }\n        });\n\n        if (found) return; //stop function\n\n        _lodash2.default.each($dropBars, function (val) {\n            _lodash2.default.each((0, _jquery2.default)('li', val), function (inVal) {\n                var inHref = (0, _jquery2.default)('a', inVal)[0].href;\n                if (~inHref.lastIndexOf('#')) {\n                    inHref = inHref.substring(0, inHref.lastIndexOf('#'));\n                }\n\n                if (~url.indexOf(inHref)) {\n                    _Dom2.default.classlist.add(val, 'active');\n                    (0, _jquery2.default)(':checkbox', val)[0].checked = true;\n                    //   TODO: @DavidCzernin  if you want add class to item inside drobdown menu then do \"Dom.classlist.add(inVal,'someClass');\"\n\n                    found = true;\n                    return false; // break\n                }\n            });\n            if (found) return false; // break\n        });\n    },\n\n\n    /**\n     * Make all radio buttons in array uncheckable\n     * @param radios {NodeList}\n     */\n    unCheckRadio: function unCheckRadio(radios) {\n        var checkedRadioButton = void 0;\n        _lodash2.default.each(radios, function (radio) {\n            _Events2.default.listen(radio, 'click', function () {\n                if (checkedRadioButton === radio) {\n                    radio.checked = false;\n                    checkedRadioButton = null;\n                } else {\n                    checkedRadioButton = radio;\n                }\n            });\n        });\n    },\n\n\n    /**\n     * Moves inner html\n     * @param from {HTMLElement}\n     * @param to {HTMLElement}\n     */\n    moveInvisibleInnerHtml: function moveInvisibleInnerHtml(from, to) {\n        var st = (0, _jquery2.default)(window).scrollTop(),\n            // Scroll Top\n        y = (0, _jquery2.default)(from).offset().top,\n            multi = 2.5;\n\n        if (y <= st * multi) {\n            if (to.innerHTML !== from.innerHTML) {\n                to.innerHTML = from.innerHTML;\n            }\n            if (!_Dom2.default.classlist.contains(to, 'slideInUp')) {\n                _Dom2.default.classlist.remove(to, 'slideOutDown');\n                _Dom2.default.classlist.add(to, 'slideInUp');\n            }\n        } else {\n            if (!_Dom2.default.classlist.contains(to, 'slideOutDown')) {\n                _Dom2.default.classlist.remove(to, 'slideInUp');\n                _Dom2.default.classlist.add(to, 'slideOutDown');\n            }\n        }\n    }\n};\n\nvar BarMsg = {\n\n    /**\n     * Adds sidebar message listeners\n     */\n    addBarMsgListeners: function addBarMsgListeners() {\n        //array of notification messages\n        var messageList = _jquery2.default.id('redis-list'),\n            messageCount = messageList.children.length;\n\n        // Removes Notification counter icon\n        _Events2.default.listen((0, _jquery2.default)('#notifications-label')[0], 'click', function () {\n            var children = (0, _jquery2.default)(this).children();\n            if (children.length === 2) {\n                this.removeChild(children[1]);\n            }\n        });\n\n        // Attach remove actions to notification messages\n\n        var _loop = function _loop(i) {\n            var btn_id = 'sidebar_remove_btn_' + i,\n                btn = _jquery2.default.id(btn_id);\n            if (!btn) {\n                //skip if no btn was rendered\n                return 'continue';\n            }\n            btn.onclick = function () {\n                return BarMsg.removeMsg(btn_id, messageList);\n            };\n        };\n\n        for (var i = 0; i < messageCount; i++) {\n            var _ret = _loop(i);\n\n            if (_ret === 'continue') continue;\n        }\n    },\n\n\n    /**\n     * function calling api for msg removing\n     * @param btn_id {string}\n     * @param list\n     */\n    removeMsg: function removeMsg(btn_id, list) {\n        var child = _jquery2.default.id(btn_id),\n            redisAPIInput = _jquery2.default.id('api-remove-redis-msg');\n\n        if (!redisAPIInput) {\n            console.warn('Could not send request for removing');\n            return;\n        }\n\n        var url = redisAPIInput.value,\n            data = {\n            redisKey: child.children[0].value\n        };\n\n        _Gateway2.default.deleteJSON(url, data, function () {\n            list.removeChild(child.parentElement);\n\n            if (list.children.length === 0) {\n                list.innerHTML = '<li class=\\'info noaction\\'>\\n                        <i class=\\'tiecons tiecons-info-circle\\'>\\n                        </i> \\n                        <div class=\\'message-group\\'>\\n                            <span>You don\\'t have any new notification.</span>\\n                        </div>\\n                    </li>';\n            }\n        }, function (error) {\n            console.error(error);\n            console.log(error.response);\n        });\n    }\n};\n\nvar LoaderManager = function () {\n    function LoaderManager() {\n        _classCallCheck(this, LoaderManager);\n\n        this.loaderCounter = 1; //one is there by render\n        this.$headerLoader = (0, _jquery2.default)('.header-loader');\n        this.$bars = this.$headerLoader.find('.bar');\n        this.errorCounter = 0;\n        this.timeoutID = null;\n        this.timeoutDelay = 5000;\n    }\n\n    /**\n     * add loader\n     * return current count of loaders\n     * @returns {number}\n     */\n\n\n    _createClass(LoaderManager, [{\n        key: 'add',\n        value: function add() {\n            this._add();\n            this.loaderCounter++;\n            return this.loaderCounter;\n        }\n\n        /**\n         * remove loader\n         * return current count of loaders\n         * @returns {number}\n         */\n\n    }, {\n        key: 'remove',\n        value: function remove() {\n            if (this.loaderCounter) {\n                this.loaderCounter--;\n                this._remove();\n            }\n            return this.loaderCounter;\n        }\n\n        /**\n         * remove all loaders and errors\n         */\n\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            this.loaderCounter = 0;\n            this.errorCounter = 0;\n            this._remove(true);\n        }\n\n        /**\n         * add error\n         * return current count of errors\n         * @returns {number}\n         */\n\n    }, {\n        key: 'addError',\n        value: function addError() {\n            this._add(true);\n            this.errorCounter++;\n            return this.errorCounter;\n        }\n\n        /**\n         * remove error\n         * return current count of errors\n         * @returns {number}\n         */\n\n    }, {\n        key: 'removeError',\n        value: function removeError() {\n            if (this.errorCounter) {\n                this.errorCounter--;\n                this._remove(true);\n            }\n            return this.errorCounter;\n        }\n\n        /**\n         *\n         * @param timeout\n         * @returns {number}\n         */\n\n    }, {\n        key: 'timeout',\n        value: function timeout(_timeout) {\n            return _timeout ? this.timeoutDelay = _timeout : this.timeoutDelay;\n        }\n\n        //TODO: fix loader\n        /**\n         * show loader or error (error has precedence) also add only what is needed (reason of that much of if's)\n         * @param error\n         * @private\n         */\n\n    }, {\n        key: '_add',\n        value: function _add() {\n            var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            if (this.timeoutID) {\n                clearTimeout(this.timeoutID);\n            }\n            if (!this.errorCounter && !this.loaderCounter) {\n                // add only when neither error or loader are set\n                this.$headerLoader.css('display', 'block');\n                this.$bars.removeClass('bar-end');\n            }\n            if (error && !this.errorCounter) {\n                //add error color (only for the first time)\n                this.$bars[1].style.backgroundColor = '#f00';\n            }\n        }\n\n        /**\n         * remove loader or error\n         * @param error\n         * @private\n         */\n\n    }, {\n        key: '_remove',\n        value: function _remove() {\n            var _this = this;\n\n            var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            if (!this.loaderCounter && !this.errorCounter) {\n                this.$bars.addClass('bar-end');\n                this.timeoutID = setTimeout(function () {\n                    return _this.$headerLoader.css('display', 'none');\n                }, this.timeoutDelay);\n            }\n            if (error && !this.errorCounter) {\n                this.$bars[1].style.backgroundColor = '#40ADC2';\n            }\n        }\n    }]);\n\n    return LoaderManager;\n}();\n\nvar NEW_LOADER_MANAGER = new LoaderManager();\n\nexports.LayoutMenu = LayoutMenu;\nexports.BarMsg = BarMsg;\nexports.LoaderManager = NEW_LOADER_MANAGER;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy92ZW5pY2UtanMvTGlicmFyaWVzL0xheW91dExpYi5qcz9mYmNhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSByb2NrdW8gb24gMjQuMS4xNy5cbiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IGJ1cmVzIG9uIDI5LjMuMTYuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgRXZlbnRzIGZyb20gJ3RyaW5pdHkvdXRpbHMvRXZlbnRzJztcbmltcG9ydCBHYXRld2F5IGZyb20gJ3RyaW5pdHkvR2F0ZXdheSc7XG5pbXBvcnQgRG9tIGZyb20gJ3RyaW5pdHkvdXRpbHMvRG9tJztcblxubGV0IExheW91dE1lbnUgPSB7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY3VycmVudCBsYXlvdXQgbWVudVxuICAgICAqIEBwYXJhbSBtZW51XG4gICAgICovXG4gICAgc2V0Q3VycmVudChtZW51KSB7XG4gICAgICAgIGxldCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgICAgICRkaXJlY3RCYXJzID0gJCgnLmpzLWRpcmVjdC1pdGVtJywgbWVudSksXG4gICAgICAgICAgICAkZHJvcEJhcnMgPSAkKCcuZHJvcC1kb3duJywgbWVudSksXG4gICAgICAgICAgICBmb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgIF8uZWFjaCgkZGlyZWN0QmFycywgKHZhbCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGkgPiAwICYmIH51cmwuaW5kZXhPZigkKCdhJywgdmFsKVswXS5ocmVmKSkge1xuICAgICAgICAgICAgICAgIERvbS5jbGFzc2xpc3QuYWRkKHZhbCwgJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChmb3VuZCkgcmV0dXJuOyAvL3N0b3AgZnVuY3Rpb25cblxuICAgICAgICBfLmVhY2goJGRyb3BCYXJzLCB2YWwgPT4ge1xuICAgICAgICAgICAgXy5lYWNoKCQoJ2xpJywgdmFsKSwgaW5WYWwgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBpbkhyZWYgPSAkKCdhJywgaW5WYWwpWzBdLmhyZWY7XG4gICAgICAgICAgICAgICAgaWYgKH5pbkhyZWYubGFzdEluZGV4T2YoJyMnKSkge1xuICAgICAgICAgICAgICAgICAgICBpbkhyZWYgPSBpbkhyZWYuc3Vic3RyaW5nKDAsIGluSHJlZi5sYXN0SW5kZXhPZignIycpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAofnVybC5pbmRleE9mKGluSHJlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgRG9tLmNsYXNzbGlzdC5hZGQodmFsLCAnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJzpjaGVja2JveCcsIHZhbClbMF0uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgVE9ETzogQERhdmlkQ3plcm5pbiAgaWYgeW91IHdhbnQgYWRkIGNsYXNzIHRvIGl0ZW0gaW5zaWRlIGRyb2Jkb3duIG1lbnUgdGhlbiBkbyBcIkRvbS5jbGFzc2xpc3QuYWRkKGluVmFsLCdzb21lQ2xhc3MnKTtcIlxuXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGZvdW5kKSByZXR1cm4gZmFsc2U7IC8vIGJyZWFrXG4gICAgICAgIH0pO1xuXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ha2UgYWxsIHJhZGlvIGJ1dHRvbnMgaW4gYXJyYXkgdW5jaGVja2FibGVcbiAgICAgKiBAcGFyYW0gcmFkaW9zIHtOb2RlTGlzdH1cbiAgICAgKi9cbiAgICB1bkNoZWNrUmFkaW8ocmFkaW9zKXtcbiAgICAgICAgbGV0IGNoZWNrZWRSYWRpb0J1dHRvbjtcbiAgICAgICAgXy5lYWNoKHJhZGlvcywgKHJhZGlvKSA9PiB7XG4gICAgICAgICAgICBFdmVudHMubGlzdGVuKHJhZGlvLCAnY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWRSYWRpb0J1dHRvbiA9PT0gcmFkaW8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmFkaW8uY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjaGVja2VkUmFkaW9CdXR0b24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWRSYWRpb0J1dHRvbiA9IHJhZGlvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgaW5uZXIgaHRtbFxuICAgICAqIEBwYXJhbSBmcm9tIHtIVE1MRWxlbWVudH1cbiAgICAgKiBAcGFyYW0gdG8ge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIG1vdmVJbnZpc2libGVJbm5lckh0bWwoZnJvbSwgdG8pIHtcbiAgICAgICAgbGV0IHN0ID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLCAvLyBTY3JvbGwgVG9wXG4gICAgICAgICAgICB5ID0gJChmcm9tKS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICBtdWx0aSA9IDIuNTtcblxuXG4gICAgICAgIGlmICh5IDw9IChzdCAqIG11bHRpKSkge1xuICAgICAgICAgICAgaWYgKHRvLmlubmVySFRNTCAhPT0gZnJvbS5pbm5lckhUTUwpIHtcbiAgICAgICAgICAgICAgICB0by5pbm5lckhUTUwgPSBmcm9tLmlubmVySFRNTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghRG9tLmNsYXNzbGlzdC5jb250YWlucyh0bywgJ3NsaWRlSW5VcCcpKSB7XG4gICAgICAgICAgICAgICAgRG9tLmNsYXNzbGlzdC5yZW1vdmUodG8sICdzbGlkZU91dERvd24nKTtcbiAgICAgICAgICAgICAgICBEb20uY2xhc3NsaXN0LmFkZCh0bywgJ3NsaWRlSW5VcCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFEb20uY2xhc3NsaXN0LmNvbnRhaW5zKHRvLCAnc2xpZGVPdXREb3duJykpIHtcbiAgICAgICAgICAgICAgICBEb20uY2xhc3NsaXN0LnJlbW92ZSh0bywgJ3NsaWRlSW5VcCcpO1xuICAgICAgICAgICAgICAgIERvbS5jbGFzc2xpc3QuYWRkKHRvLCAnc2xpZGVPdXREb3duJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5sZXQgQmFyTXNnID0ge1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBzaWRlYmFyIG1lc3NhZ2UgbGlzdGVuZXJzXG4gICAgICovXG4gICAgYWRkQmFyTXNnTGlzdGVuZXJzKCkge1xuICAgICAgICAvL2FycmF5IG9mIG5vdGlmaWNhdGlvbiBtZXNzYWdlc1xuICAgICAgICBsZXQgbWVzc2FnZUxpc3QgPSAkLmlkKCdyZWRpcy1saXN0JyksXG4gICAgICAgICAgICBtZXNzYWdlQ291bnQgPSBtZXNzYWdlTGlzdC5jaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgICAgLy8gUmVtb3ZlcyBOb3RpZmljYXRpb24gY291bnRlciBpY29uXG4gICAgICAgIEV2ZW50cy5saXN0ZW4oJCgnI25vdGlmaWNhdGlvbnMtbGFiZWwnKVswXSwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGRyZW4gPSAkKHRoaXMpLmNoaWxkcmVuKCk7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChjaGlsZHJlblsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEF0dGFjaCByZW1vdmUgYWN0aW9ucyB0byBub3RpZmljYXRpb24gbWVzc2FnZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGJ0bl9pZCA9ICdzaWRlYmFyX3JlbW92ZV9idG5fJyArIGksXG4gICAgICAgICAgICAgICAgYnRuID0gJC5pZChidG5faWQpO1xuICAgICAgICAgICAgaWYgKCFidG4pIHtcbiAgICAgICAgICAgICAgICAvL3NraXAgaWYgbm8gYnRuIHdhcyByZW5kZXJlZFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnRuLm9uY2xpY2sgPSAoKSA9PiBCYXJNc2cucmVtb3ZlTXNnKGJ0bl9pZCwgbWVzc2FnZUxpc3QpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIGNhbGxpbmcgYXBpIGZvciBtc2cgcmVtb3ZpbmdcbiAgICAgKiBAcGFyYW0gYnRuX2lkIHtzdHJpbmd9XG4gICAgICogQHBhcmFtIGxpc3RcbiAgICAgKi9cbiAgICByZW1vdmVNc2coYnRuX2lkLCBsaXN0KXtcbiAgICAgICAgbGV0IGNoaWxkID0gJC5pZChidG5faWQpLFxuICAgICAgICAgICAgcmVkaXNBUElJbnB1dCA9ICQuaWQoJ2FwaS1yZW1vdmUtcmVkaXMtbXNnJyk7XG5cbiAgICAgICAgaWYgKCFyZWRpc0FQSUlucHV0KSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBzZW5kIHJlcXVlc3QgZm9yIHJlbW92aW5nJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdXJsID0gcmVkaXNBUElJbnB1dC52YWx1ZSxcbiAgICAgICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgcmVkaXNLZXk6IGNoaWxkLmNoaWxkcmVuWzBdLnZhbHVlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIEdhdGV3YXkuZGVsZXRlSlNPTih1cmwsIGRhdGEsICgpID0+IHtcbiAgICAgICAgICAgIGxpc3QucmVtb3ZlQ2hpbGQoY2hpbGQucGFyZW50RWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmIChsaXN0LmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxpc3QuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICAgICAgICAgYDxsaSBjbGFzcz0naW5mbyBub2FjdGlvbic+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0ndGllY29ucyB0aWVjb25zLWluZm8tY2lyY2xlJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaT4gXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdtZXNzYWdlLWdyb3VwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Zb3UgZG9uXFwndCBoYXZlIGFueSBuZXcgbm90aWZpY2F0aW9uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2xpPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cblxuY2xhc3MgTG9hZGVyTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubG9hZGVyQ291bnRlciA9IDE7IC8vb25lIGlzIHRoZXJlIGJ5IHJlbmRlclxuICAgICAgICB0aGlzLiRoZWFkZXJMb2FkZXIgPSAkKCcuaGVhZGVyLWxvYWRlcicpO1xuICAgICAgICB0aGlzLiRiYXJzID0gdGhpcy4kaGVhZGVyTG9hZGVyLmZpbmQoJy5iYXInKTtcbiAgICAgICAgdGhpcy5lcnJvckNvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLnRpbWVvdXRJRCA9IG51bGw7XG4gICAgICAgIHRoaXMudGltZW91dERlbGF5ID0gNTAwMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBhZGQgbG9hZGVyXG4gICAgICogcmV0dXJuIGN1cnJlbnQgY291bnQgb2YgbG9hZGVyc1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgYWRkKCkge1xuICAgICAgICB0aGlzLl9hZGQoKTtcbiAgICAgICAgdGhpcy5sb2FkZXJDb3VudGVyKys7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlckNvdW50ZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIGxvYWRlclxuICAgICAqIHJldHVybiBjdXJyZW50IGNvdW50IG9mIGxvYWRlcnNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVyQ291bnRlcikge1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJDb3VudGVyLS07XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sb2FkZXJDb3VudGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBhbGwgbG9hZGVycyBhbmQgZXJyb3JzXG4gICAgICovXG4gICAgcmVtb3ZlQWxsKCkge1xuICAgICAgICB0aGlzLmxvYWRlckNvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLmVycm9yQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuX3JlbW92ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBhZGQgZXJyb3JcbiAgICAgKiByZXR1cm4gY3VycmVudCBjb3VudCBvZiBlcnJvcnNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGFkZEVycm9yKCkge1xuICAgICAgICB0aGlzLl9hZGQodHJ1ZSk7XG4gICAgICAgIHRoaXMuZXJyb3JDb3VudGVyKys7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yQ291bnRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgZXJyb3JcbiAgICAgKiByZXR1cm4gY3VycmVudCBjb3VudCBvZiBlcnJvcnNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHJlbW92ZUVycm9yKCkge1xuICAgICAgICBpZiAodGhpcy5lcnJvckNvdW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JDb3VudGVyLS07XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3VudGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHRpbWVvdXRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRpbWVvdXQodGltZW91dCkge1xuICAgICAgICByZXR1cm4gdGltZW91dCA/IHRoaXMudGltZW91dERlbGF5ID0gdGltZW91dCA6IHRoaXMudGltZW91dERlbGF5O1xuICAgIH1cblxuICAgIC8vVE9ETzogZml4IGxvYWRlclxuICAgIC8qKlxuICAgICAqIHNob3cgbG9hZGVyIG9yIGVycm9yIChlcnJvciBoYXMgcHJlY2VkZW5jZSkgYWxzbyBhZGQgb25seSB3aGF0IGlzIG5lZWRlZCAocmVhc29uIG9mIHRoYXQgbXVjaCBvZiBpZidzKVxuICAgICAqIEBwYXJhbSBlcnJvclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2FkZChlcnJvciA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXRJRCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZXJyb3JDb3VudGVyICYmICF0aGlzLmxvYWRlckNvdW50ZXIpIHsgLy8gYWRkIG9ubHkgd2hlbiBuZWl0aGVyIGVycm9yIG9yIGxvYWRlciBhcmUgc2V0XG4gICAgICAgICAgICB0aGlzLiRoZWFkZXJMb2FkZXIuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICAgICAgICB0aGlzLiRiYXJzLnJlbW92ZUNsYXNzKCdiYXItZW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yICYmICF0aGlzLmVycm9yQ291bnRlcikgeyAvL2FkZCBlcnJvciBjb2xvciAob25seSBmb3IgdGhlIGZpcnN0IHRpbWUpXG4gICAgICAgICAgICB0aGlzLiRiYXJzWzFdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZjAwJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBsb2FkZXIgb3IgZXJyb3JcbiAgICAgKiBAcGFyYW0gZXJyb3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW1vdmUoZXJyb3IgPSBmYWxzZSkge1xuICAgICAgICBpZiAoIXRoaXMubG9hZGVyQ291bnRlciAmJiAhdGhpcy5lcnJvckNvdW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuJGJhcnMuYWRkQ2xhc3MoJ2Jhci1lbmQnKTtcbiAgICAgICAgICAgIHRoaXMudGltZW91dElEID0gc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLiRoZWFkZXJMb2FkZXIuY3NzKCdkaXNwbGF5JywgJ25vbmUnKSxcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXREZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yICYmICF0aGlzLmVycm9yQ291bnRlcikge1xuICAgICAgICAgICAgdGhpcy4kYmFyc1sxXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzQwQURDMic7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuY29uc3QgTkVXX0xPQURFUl9NQU5BR0VSID0gbmV3IExvYWRlck1hbmFnZXIoKTtcblxuZXhwb3J0IHtMYXlvdXRNZW51LCBCYXJNc2csIE5FV19MT0FERVJfTUFOQUdFUiBhcyBMb2FkZXJNYW5hZ2VyfTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL3ZlbmljZS1qcy9MaWJyYXJpZXMvTGF5b3V0TGliLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0FBR0E7OztBQUdBO0FBQ0E7Ozs7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7Ozs7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0RkE7QUFDQTtBQXdGQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWRBO0FBZUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBckJBO0FBQ0E7QUFhQTtBQUFBO0FBQ0E7QUFEQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7O0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsRUE7QUFDQTtBQXFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }

});